<?xml version="1.0"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Huon on the internet</title>
        <link>https://huonw.github.io/blog/</link>
        <atom:link href="https://huonw.github.io/blog/rss.xml" rel="self" type="application/rss+xml" />
        <description>Huon Wilson's writings</description>
        <language>en-us</language>
        <pubDate>Wed, 21 Aug 2024 07:37:51 +0000</pubDate>
        <lastBuildDate>Wed, 21 Aug 2024 07:37:51 +0000</lastBuildDate>
        
        
        <item>
            <title>Async hazard: mmap is secretly blocking IO</title>
            <link>https://huonw.github.io/blog/2024/08/async-hazard-mmap/</link>
            <pubDate>Wed, 21 Aug 2024 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2024/08/async-hazard-mmap</guid>
            <description>&lt;p&gt;Memory mapping a file for reading sounds nice: turn inconvenient read calls and manual buffering into just simple indexing of a memory… but it does blocking IO under the hood, turn a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;[u8]&lt;/code&gt; byte arrays into an async hazard and making “concurrent” async code actually run sequentially!&lt;/p&gt;

&lt;p&gt;Code affected likely runs slower, underutilises machine resources, and has undesirable latency spikes.&lt;/p&gt;

&lt;p&gt;I’ve done some experiments in Rust that show exactly what this means, but I think this applies to any system that doesn’t have special handling of memory-mapped IO (including Python, and manual non-blocking IO in C).&lt;/p&gt;

&lt;h2 id=&quot;i-want-numbers&quot;&gt;I want numbers&lt;/h2&gt;

&lt;p&gt;I set up &lt;a href=&quot;https://github.com/huonw/async-mmap-experiments&quot;&gt;some benchmarks&lt;/a&gt; that scan through 8 files, each 256 MiB, summing the value of every 512th byte. This is an uninteresting task, but it is designed to maximise IO usage and minimise everything else. This is thus a worst case, the impact on real code is unlikely to be quite this severe!&lt;/p&gt;

&lt;figure class=&quot;image plotly-plot has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    &lt;div style=&quot;width: 100%; height: 300px&quot; class=&quot;lazily-filled&quot; data-plotly-data=&quot;eJztXVlvm8cV/SsCiyIpQBuzL3pz0wTNQ1GgaZ+CPNAyLTOlSIGiU6mG/3vu3HNG37B1txToAkyAgOJwzsxdzl2+gJf5sHqzOW9W199+WG32u9vD3fZwvj0d39+vrle/P73frtar18fH++PucH6Qpc1+Lytvd/v9zXF/PMnK6fb15nMX47r/a34hO94df9iejgf5nFAunbd39/vNeSsf/PzD4/XL8LF9tN/ebg9v+rVfHA8/iBS742Gzv/r6t+3z3UEQH1Z/786P69Xd5vTH7Wnc+LMvv4rR/1KOON5vbnbnp9W1eRnXq4fdn+XAIpjD5m77yTuPb98+bM9/W6bjaScLm7Ykn7+TFdX0/ihmMnLDu+OfoNbq+ix2XK8excjmZfLWreXFFZH6Zbap6rta9EXXjM9r3agvLifdWL0uNmVlMdj2Um3ETj3EOyxGCxx36snFeCxip9Ujs0riTdKXXPRyfcGO5BJODNiBM7wNEEg/89yZvaJrwGIcNKgxjTsjFDdx0U4uguaUCNc6VTk7D3iEOWJVuKMsNGZWuGm3V4f7HO/BjgT9nepfjV1gcg/MkSB0cINg1alCjrJ7HIk1WMolNQf3VZyoBsshwBrUUd/UlAejw8DZJNwJLmRYbbS2gKFhGj1hq9PFAk9c+L0LnnmK3uNcXrgnZ/q1FWrQsPCZ0yOtpXdIg4TL6UDsNxDd0QP4jPCcB7Y5PzLLwcdgsBAGa2Ewm6EdHHQEGIaFEz0u8WV0Aw3kuAUvBTbH8d5gJ5hXUxiJ0R0Bc9FO+tL97U1e7ssm1sU0yWkEZgPCk/4ugr9cBBloKIZUFz6DgVDZ+7wYRbxLE+EeJIMhPuiPZyl5De42hUoi7GkOhl7FIv1Y6sCsHqTABeQXWDObgDhhYEF0w6gZ2d1p7V0cuUHykQYIulrdIJILjPELG6WLCAiDgxiPJY/6eMpMffT8yneBDIYnESnecqcuWuZZckt3lEjm0ru6j0fxYIsTQTRPO1Mb5JxuYMe70xhnAU4zY+iSmT3T+8HMhVFK20fk5U4+HMkUnAYa0LmGBYL8inBZz9X4DEasjjUB9zjQgBGpAVfg1Brs6Eac6C+u6blg8ErP3vRDGHJUtkzldSF1KvmCQWS6J39JeHgxYDGUxXHPybakRVaJKLvE3DMr4dVeIC3EjKMtKmzBlFiHjJS7dtSf0UwXFOysAwl6mMBqDEfmseAGYgRygAUKbqijMSwbAhaZzOo4ODpdWJJ1sLBI2As/wGFsRnrOYJXAGm5hLPJdz2+IO6LToOizc0xejuwM8m6ktCmjmCp5heR9nx3yAG3WSx587xlhOKn4QQ0Wi16KKvMnOclUzPgEq2hyOr2w5DF3Yz+u6fkczrZQm0HLom3IST+yt5C9aTBQ92LPCgO5pMSEhaGySKK6kUIgXmXXRr2gbIEsybG+O9goDe/Iysu+CekKTnqmNEnUC1taeA5WDTlE+OeXjwsLaz8nLl5MpYvNEMkgKmPQLryWNJtH9iZ2bHpP7Omc0QSbs2VD1SAXy6JRiT1RMAmi3bNpdFjF3chPnlFVWYIhOV6QgpjMyThezTaXDVuvyiyy7EJZgHEWAai1nQJMT4YNxZgqHFnlh8jx6t7cE2wY8lhGe6mPFfalZA8kSrb27LE1TWXXlYSwYNqFPOR+WIRjmyMq+oXeslFPqoUqXjwrMbWgi/FsJ3ow+iUChPp+kAfioB56dn0ZYRf5OOQW+/QWeSgEz5YwdWBhZXyxgUSw1sSwHnODwaX9bqYWUpoVjq18L6DDmu0t/EiFmsixMITAXyRPPjja0b5MyImVik5yA1ElmsXbvjeAF1FLmnfxgEU+5sbek4Oo3MJ+Nl1UwF7E2YtQ8qHjE6qRLvQOHmSpcbmQyLLh8otW2Yxs7G0qI49O9gz6OuzEU7S0qXW54HlnuMhqvfOgd/mstB56q64ruHHxnAWP0Sv9kQqOsPa79erRrK5XVyv5Y/O4a//p5VH+flpdf7t69fB0uFlf3RwPN+9Pp+3hLB98o0vl6vzutN28eXhesVyRhQmbsAmbsAmbsAmbsAmbsAmbsAmbsAmbsAmbsAmbsAmbsAmbsAmbsAmbsAmbsAmbsAmbsAmbsAmbsAmbsAmbsP8g7Lv16ql/JfaJX4l9kr/PT/dtgPf1sX0/9vvd+dwmgO3H9f/OPPNvtnfH09OLu839/fbNvzvQnHz68qtXq3840PyJSy8nmj+14aeMNLv2lXn9RntKee3a1IvXF/2udAm+yLtSkm0vVYcPitEtpbq49i9N1e+rF2tKe5eiflbwhe2SkyzanNspGXMfOepam99oLxgIzrWh2lfmZV/R77znFEN7Z/WlYDKlWL07t8ESWYxVv38eIXlIutFjo9WzYvNIVye3l3ZkbZJbfle8zTUIzuonCcMstcmTQjuiz5iVqDuqilox1pyzq+2kZNpn1WOeoph2Z6xVbRcxKFEMrlbrWp1gyjUEfVf0Bd+bL20kV85KYguxJ2bBRPB2ZJtukI0ZszJFr/ZJ9cwYOoKjsoqaIrHdsVm9hmmM6p0qHZtUtXqiVRyYM2Cgon3V3WH0pcmocxjN821jpc1gilD1amzELI7IqPoGn9QiOr4gRmtrJkECzDnw7mB4TVzckGMNSi1MIKSmtslOjcsZ6qrnp5x00WF2rCQ1axvCUfIloNUKFlphMKk40K9N/jSzYeqoGL3VRRAOw81Zzyxtvq8RFdNSNYItavXCMfOa6FvVEnNicEGNqkLFSHlHt1nJRi9cLhc1gxVVKHtMteJvtWgsOk9SjPoqB5i0R7JtelRr1Y+c9ssBzNMQSwkCZSVlbJMnKiSuye1dZD6wEUGiUpY2zeLagA+s4VXHpCRKGQNlLZyCZIAaICesoToicUjQQvGiYVLUFarCQlZvwRHM9oublf0aywUzVsIYEI3Gp0TgrlM6YGAsV+WU6KoGthb3FBiOmjMolMIlKqB6WDOqryM8Iprnte2ZKnr1bgQxq+aRmGA8i5yq2KDkjhnjLnoxhOIEGomREPoxYSaszb3Lu0bH5nd4jF4xyI0cbKkJAa75rzCjGoW5APbTkJEJBHlW5dbM3S7QGJIQAlWZCwwcV5YUVp3qKdkZ2lilUHTUh2GSIKUDhegH5ALNdsLHMMS9UX9LrtQC4zSxCKGUiJzior+NWiUFTB5Vgy0Vehkwo8LcRuuTwXyyIKAesjjrQYZvkWbA1AB9Il4wNF+U9uIJHOyQqFFajO6UHUiXnhQi4dXCDlnfIXgCArLAcEU1kJiFlA5ZA4THkLYoiUQGpmOMLYfkF3isHkXYa0hFD9olwuEF8D8xSlFlDBNzYpQioaMgcqNvdSi7TNXJDhDVw/XuuYTHqIWZvyQieVmlQ3qSypDUbqhRRbOUOAkU1rCIUekaM7hVE9JTheAQR91oi5qSEVUzqyrMDEcm7Kzq95jxgxUlwOEJVnNLppZ2gyUWzFD7iLEQ05g5zR7K6ZGYvmYiSaBXn6isKHsRjsOEshR2lBdNr2Iuv4RuCMx6tJpWHmuQ7lDZq1IiIQdSIKGQRTCoBob5TuuQMAM1saCa6Q3Vs3IzK6NsRM1ZfS63aCxJkoa0TJfoppyaI0fcbtSDJSgFk2HlIjXQyhm2IJC6MANgEBZsKxFxXREVEeEdmR4TLqpMJ+AgrFSQArXdiJmdhdeQD8pZg8HwrCgwBIOsUtmVUVaPLT3GNQdn50h+NKvKwISim9vPeNjmEQRi0cBP1CbBCtowS0lEkMKWJeF2nXqUlgie1OzW6yvyrdgrITm65XZpXdApJdBV9ZH+FuGMFIEKmVoyboqn50XfQ6tw4jZmhh2aXgifNLVE8AFNdTEgr9eumiOxGelGf8iiRYAqmdCYFMR6RgQkdDPI9Z4FksFtGQdc1APVvgFVKqGiq4IpIfsX5BXHTgCNVzEo4ohV/EgAy3BCkPYQVxNIu+2WeJSOA90Isj/70KpZOZFxFT9Lkwx6mcKsAZvpu4JkGWtl86O6pYqXwOYdHT1uz9pWlDZd23pBxFBFkdLaEdhxI40VbZMT7i4ZA98ZTwwWFQGtDwoXe4hkI2s70pLBZ2BQTLSXUgC/7sAcWow6s3RPeGVQhER8aslok4NnV+5gDTQkSR/u+HM+mZVHCZ+DgeLwayzIrJogGJH68zdsmnV0H0kHbUBBLTU+PxMm4he0JJur0IbPUfj1kOrBcDVqwqB5v8cE9jrMJDBjRqPFh6bCUGifsHChbaoGZBozRG0/P9WMyacZj2dcDTIRhJVUd+ag9VSfvyqrR4v3FrfobNlxVi0U/PmW0kjbnjRTi3BBoxqqt4Q8oUf/c/8ubEN2Q+AmtJ0moMJjzjkhEB2fFtkiKg9C8EN6EVY1+YT6c7R5wiZswiZswiZswiZswiZswiZswiZswiZswiZswiZswiZswiZswiZswiZswiZswiZswiZswiZswiZswiZswv7PYf/iaLNs32+eju/PbTCYX6H9sNocbt7piHBDvjnebXYH/R8Om/a/cxLIeXfe68zxefsoyNWv3p900vfq8wedNT5tDrfbhliHNofqavju47M4w/GP/9zx7cibzXl7ezw9HU9vmuSrzem0adL1dby//vanGbaJ18eRP3zy/vNpc7PVeefbzb2OMP/1hPPTs2Kvj+fz8W6l30QWndZi2v7Rfvu2OfJRzsBU9m3TXu5aXTvZ+Bove73ihE3itLvjm+a+Nia+V73fHg/qs7ebu91eblk9PD2ct3cv3u/WVy829/f77QusrD/7Rgy0vfrD15+tr353FMmO66tfb/c/bM+7m8366tVpt9mvrx42h4cXD9vT7u366rNXDX/1RZsTv/ry7vj9TqDPx3Bl1QfFbfjIAfb95vV2r0L914X7KP/8CJJgBYI=&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;Results of 100 iterations of the benchmarks on macOS on a M1 Macbook Pro, one plotted point per iteration, with a cold file system cache.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;There’s 6 configurations, using all combinations of how files are read and what concurrency is used.&lt;sup id=&quot;fnref:benchmark-details&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:benchmark-details&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;For reading files, there’s two dimensions:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;conventional IO: using explicit &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;read&lt;/code&gt; calls.&lt;/li&gt;
  &lt;li&gt;memory-mapped IO: using &lt;a href=&quot;https://crates.io/crates/memmap2&quot;&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;memmap2&lt;/code&gt; library&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;For concurrency, there’s three:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt;: using &lt;a href=&quot;https://tokio.rs/&quot;&gt;the Tokio library&lt;/a&gt;&lt;sup id=&quot;fnref:tokio-details&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:tokio-details&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; in single-threaded mode&lt;sup id=&quot;fnref:tokio-single-threaded&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:tokio-single-threaded&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/li&gt;
  &lt;li&gt;synchronously, with 8 threads: &lt;a href=&quot;https://doc.rust-lang.org/stable/std/thread/fn.spawn.html&quot;&gt;spawning a thread&lt;/a&gt; per file.&lt;/li&gt;
  &lt;li&gt;synchronously, with 1 thread: a baseline using a single thread to read sequentially.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The results&lt;sup id=&quot;fnref:table&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:table&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt; are clear: using memory mapped IO with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; seems to be &lt;strong&gt;using no concurrency&lt;/strong&gt;: the clusters of dots are near-identical for the first two rows! An &lt;strong&gt;explicitly-sequential single thread&lt;/strong&gt; takes 2.5 to 3 seconds to scan all 2GiB with memory-mapped IO, and the “concurrent” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; version looks identical. By comparison, using memory-mapped IO on 8 full threads is far faster, around 0.75 to 0.8 seconds.&lt;/p&gt;

&lt;p&gt;Meanwhile, using conventional IO behaves more like we’d hope: using either form of concurrency is &lt;strong&gt;noticeably faster&lt;/strong&gt; than running sequentially. Using either &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; or operating system threads results in reading all files in less than 0.65 seconds&lt;sup id=&quot;fnref:maxed-out&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:maxed-out&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;, while the sequential single-threaded version takes only a bit longer (0.7s) but with little overlap in the distributions.&lt;/p&gt;

&lt;h2 id=&quot;whats-going-on&quot;&gt;What’s going on?&lt;/h2&gt;

&lt;p&gt;Operating systems generally distinguish between bytes in RAM and files stored on disk. Reading a file is a dedicated operation that slurps bytes from disk into an array in memory. But there’s more shades of gray: &lt;a href=&quot;https://en.wikipedia.org/wiki/Mmap&quot;&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mmap&lt;/code&gt; Unix system call&lt;/a&gt; (or equivalent on other platforms) blurs this disk vs. memory distinction by setting up “memory mapped IO”.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mmap&lt;/code&gt; operation allocates a range of (virtual) memory to a chosen file, making that memory “contain” the file: reading&lt;sup id=&quot;fnref:writing&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:writing&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;5&lt;/a&gt;&lt;/sup&gt; the first byte in memory gives the value of the first byte of the file, as does the second, and so on. The file essentially acts as a normal &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;[u8]&lt;/code&gt; array that can be indexed and sliced.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;data.bin&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mmapped&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unsafe&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;memmap2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Mmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;first_byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mmapped&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;File starts {first_bytes}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;central_bytes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mmapped&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1200&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1300&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;File contains {central_bytes:?}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This sounds a lot like what one would get by manually allocating a memory array as a buffer, seeking within the file, reading the file to fill that buffer, and then accessing the buffer… just without all the book-keeping. What’s not to like?&lt;/p&gt;

&lt;h2 id=&quot;under-the-hood&quot;&gt;Under the hood&lt;/h2&gt;

&lt;p&gt;To make this work, the operating system has to do magic.&lt;/p&gt;

&lt;p&gt;One possible implementation might be to literally have the operating system allocate a chunk of physical memory and load the file into it, byte by byte, right when &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mmap&lt;/code&gt; is called… but this is slow, and defeats half the magic of memory mapped IO: manipulating files without having to pull them into memory. Maybe the machine has 4GiB of RAM installed, but we want to manipulate a 16GiB file.&lt;/p&gt;

&lt;p&gt;Instead, operating systems will use the power of &lt;strong&gt;virtual memory&lt;/strong&gt;: this allows some parts of the file to be in physical memory, while other parts are happily left on disk, and different parts can be paged in and out of memory as required. Sections of file are only loaded into memory &lt;strong&gt;as they are accessed&lt;/strong&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mmapped&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Mmap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* map some file into memory */&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12345&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;byte_of_interest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mmapped&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;byte #{index} has value {byte_of_interest}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;That indexing accesses the 12 345th byte of the file. On the first access, there’ll be a &lt;strong&gt;page fault&lt;/strong&gt;, and the operating system takes over: it loads the relevant data from the file on disk into actual physical memory, meaning the data is now available directly in normal RAM. This includes loading a small surrounding region—a page—which means future accesses to nearby addresses are fast.&lt;/p&gt;

&lt;p&gt;While loading, the thread and its code will be &lt;strong&gt;blocked&lt;/strong&gt;: the thread will be descheduled and won’t make further progress, because the next lines need the byte value to do their work.&lt;/p&gt;

&lt;p&gt;Once loaded, the page of the file will be cached in memory for a while, and during that time any further accesses to addresses in the page will be fast, straight from memory. Depending on system memory usage and other factors, the operating system might then decide to evict the page from memory, freeing space for something else. Accessing it after eviction will require reloading from disk, with the same blocking behaviour and the cycle repeats.&lt;/p&gt;

&lt;p&gt;In our application code, all this magic is packaged up into the simple indexing: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;byte_of_interest = mmapped[index]&lt;/code&gt;. The separate “already in memory” (fast) and “load from disk” (slow) cases are invisible&lt;sup id=&quot;fnref:timing&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:timing&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;6&lt;/a&gt;&lt;/sup&gt; in the code. In either case, we start with our memory address and end up with byte value.&lt;/p&gt;

&lt;h2 id=&quot;losing-the-thread&quot;&gt;Losing the thread&lt;/h2&gt;

&lt;p&gt;This magic is why our concurrency doesn’t work. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; construct is co-operative scheduling, with a “executor” or “event loop” that manages many tasks, swapping between them as required… but this swapping is &lt;strong&gt;only possible at explicit &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; points&lt;/strong&gt;. If a task runs for a long time or is “blocked” without an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt;, the executor won’t be able to preempt it to run another task. Others have &lt;a href=&quot;https://ryhl.io/blog/async-what-is-blocking/&quot;&gt;written more about this blocking pitfall, far more knowledgeably than I&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Remember that the code just looks like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;let byte_of_interest = mmapped[index];&lt;/code&gt;? There’s &lt;strong&gt;no &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt;&lt;/strong&gt;, so the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; executor &lt;strong&gt;cannot swap to another task&lt;/strong&gt;. Instead, the operation blocks and deschedules the whole thread… But the executor is just normal code using that thread too, so the very thing that coordinates the concurrency is descheduled and can’t do any other work.&lt;/p&gt;

&lt;p&gt;This is different to proper async IO, the individual task will still need to wait for the data to be read, but &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt;s mean the executor can swap to another task while that happens: concurrency!&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;tokio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;File&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* some file */&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;.await&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// crucial await&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;at-a-distance&quot;&gt;At a distance&lt;/h2&gt;

&lt;p&gt;The &lt;strong&gt;most subtle&lt;/strong&gt; part of this hazard to me is that the memory-mapped file &lt;strong&gt;looks like a normal buffer in memory&lt;/strong&gt;. Code is likely to be implicitly assuming that indexing a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;[u8]&lt;/code&gt; is fast, and does not secretly read a file.&lt;/p&gt;

&lt;p&gt;For instance, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;memmap2::Mmap&lt;/code&gt; derefs &lt;a href=&quot;https://docs.rs/memmap2/0.6.2/memmap2/struct.Mmap.html#impl-Deref-for-Mmap&quot;&gt;to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[u8]&lt;/code&gt;&lt;/a&gt;, meaning we can take &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fn f(b: &amp;amp;[u8]) { ... }&lt;/code&gt;, and call it like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;f(&amp;amp;mmapped)&lt;/code&gt;. That function just sees &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;b: &amp;amp;[u8]&lt;/code&gt;, and won’t have &lt;em&gt;any&lt;/em&gt; idea that indexing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;b&lt;/code&gt; might do blocking IO. It won’t know that it needs to take care with any co-operative concurrency it is performing.&lt;/p&gt;

&lt;p&gt;Rust is just the demonstration here, &lt;strong&gt;this applies universally&lt;/strong&gt;: &lt;a href=&quot;https://docs.python.org/3/library/mmap.html&quot;&gt;Python’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mmap&lt;/code&gt;&lt;/a&gt; explicitly says “behave like … &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bytearray&lt;/code&gt;”, while the C/POSIX &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mmap&lt;/code&gt; function returns &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;void *&lt;/code&gt; (same as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;malloc&lt;/code&gt;). The whole point of memory-mapping is &lt;strong&gt;pretending a file is a byte array&lt;/strong&gt;, and that’s what bites us here!&lt;/p&gt;

&lt;h2 id=&quot;caching-cha-ching&quot;&gt;Caching: Cha-ching!&lt;/h2&gt;

&lt;p&gt;We’ve seen above that the problem is when data has to be loaded from disk into memory. What happens if the data is &lt;strong&gt;in memory already&lt;/strong&gt;?  We might expect memory-mapped IO to run much faster in that case, since it’s theoretically just accessing normal memory, straight from RAM.&lt;/p&gt;

&lt;p&gt;This version of the benchmark times how long it takes to run the same task, immediately after doing the cold version we saw above, without purging caches.&lt;/p&gt;

&lt;figure class=&quot;image plotly-plot has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    &lt;div style=&quot;width: 100%; height: 300px&quot; class=&quot;lazily-filled&quot; data-plotly-data=&quot;eJztXduO3MYR/ZUBg0AOMBLY9+59UxwZ8UMQIE6eBD9Qu9zVOLPDxezI2Y2gf3ezz2myaCs3B8gFaAP2aptd3VWnTl1osOyP3c1wGbqrtx+74Xi4O92Pp8vdefrw0F11fzx/GLt99256epgOp8tjXhqOx7xyezger6fjdM4r57t3wxfauX39u/9V3vF++n48T6f8nKJcuoz3D8fhMuYHv/z4dPXKfpofHce78XRTr/1yOn2ftThMp+G4+/r38/PDKUt87P7enZ/23f1w/vN4lht/8eYr58yv8xHTw3B9uDx3V/0rt+8eD3/NB8Yscxrux8/eOd3ePo6Xv63TdD7khWFeys/f55Vi6cOUYerzDe+nv8Cs7uqScdx3Txnk/pWOcd+/6kOv8w9lY8o/tAuqLCo3Lzo3b9HGld96q8qiNfOiLb/10c9rXhlI67Kmy5FO2bLRzyf3iUfiHmtxeT1yfqZjEehDxJHzI+1tKEeWR3mxSHtutLgnzL+ZvndlseicVQ9lJxdTudxbXy4v+lVxm4ruoVjSh1A2FkO0LydnG6F6KkeGckjWCJebsjOWC+qit0XNomwfLaT7ck3qExSClgF3GyyGBNwK6t7BFdZCvCzaHrgZgYahtMKiBW4OuJUlA0dE7IvQMXARimsFLOYtJp8MJQG6Lqh5ABSLHXlngDlK4oudllBGqXnUUMiV2wO8ayIIU7ykbHBwObzrgvCZUaBbASXrBzSAuoee1kexMxQfKF/orXWP2zUQdjizOLuHQ7N7AVwAStjpi9baKjoIXiuA62RgpoF/fcHTRZwZEBcFVh0cCLfZSK8VyBTiQYdEjL24HFzpvaHpDlGlJAthugeaCqqXqx0DrepT0EiFKtUc0ghMzgrhRIR+rIYjTj3oCqf7CDDhcx5piBAYwxN5DRiT4ImE4OOJxkmu48iUyFdco5ligBDAcMA3lRsyOXB5iWvNAEDuctqCrqAW8IWJrt/Ec4Q5gBKBmclerolAiHZbZJhEheBHxm7kIjKM76FlAkQKHvdwbo9FD3vKbwYpMKtUQg3gaMesRT0LVBohyqzlCqYZTGQthZAGGtAvw2FE/CBPZTAR0g7ksKT1fs15UUEh5pMCnOnLWTn6EKcMCgdPIqKdBRpOBkpxVo1S+hE5Ark7XwOAweBAJZG2HGMCYHiGcyj6eFBdEQxSA3drtd6dcz2SnidfwCwWNEP3WGjJBIVFV9Jjz1yETOiKErmawpEA2MHlUbPG4nasFVAqbK7otxQVj3vgyAgaBISK10L1JROBBGVDz8hloUEiij4IG6MnNYCbiJ1AdXBiKtszFhFmlzUWBRK9ZISMOayuHkOlYFZmuiuQ6wTMGBBWxpNjEwACVUaDvREOo2ugI8sEQ9QCcDQbUcPAIK1Gi1NzoCsuNcoyYZEtOFPDbotFUBqY5J0QN0hOTgJpGCUJ9iCcItoS6F7R0CjZBfPU0x5izrpFw+luoOGZ+5HFUEprJmDGYeOGPN8jxgLzPH0LSvMexzwC37JNYv6FJ5AYaygzllHKyD7kIHRJtScp8DjQNBEzNmOeJGc7VbShbyrTGA1WRgPyH9vVCFsiQj5sohuV1aJeRpb10sqZnlDUmmUlMWotKlbTiewtsTEZcl/ECJkfSSrEF+NGiWKQG1NWfyMWmVhSBbfcjaYjn4mdlppTSXZosq9FtlXIorneQkum7sDyxnoLlyVEKHJqJSCI6mA4K5ENwreRiRa1JLCnYMNZMGcBr2gkSQzNaAIa7N2TF9xH1e3RTTLoF6KyWCMY2Up5tmcIiMDMj0Ub2KezQ3IyyByLPUMUUc9ywHcZslqB/d6uLMq3cyf5P28xmq8oaDiJcGD6rR0NxNPmvQVly2ovIyCgNeWZSOkouDkgmWxBV5wZYWYybKFLA6G0TFnesLCzNcUaipFFOHu9umjJ/jDd8+WMNIwi6Xh2plH9hEY1LbNzQvZHTcpKojSzPSTsbGiYljUdFOQ9IAJaRuSjHFVYLAeyQ/Irq7XlJTURlX04ju14wqsEiV7fRMBfdlx8x0VD7dkRA4fESgbzmHyRApHE8J6lEIbVksSMg+rm+MrBqmP5ZlU0UbXJAI6RjS7iBA2Fpbv4boOmCbm7sgLxBGEq5NlyMY1tWqHEBgdvrlZ9u++e+u6q23X5D8PTYf73L0/5z8/d1dvu9ePz6Xq/u55O1x/O5/F0yQ++KUtxd3l/Hoebx2VFcSUvNLEm1sSaWBNrYk2siTWxJtbEmlgTa2JNrIk1sSbWxJpYE2tiTayJNbEm1sSaWBNrYk2siTWxJtbEmlgTa2JNrIk1sSb2HxT7dt89109in/lJ7HP+8+X5YZ7ifTfN38d+d7hc5jFg9Wn/vzPU/Lvxfjo/v7wfHh7Gm393qtkb/+ar190/nGr+zKXbsebPbfh5c81K48NrzD8orfADEw8Y7FWmfBGvNKYWMH2gNJ5hBgNfQiutKV2+BHeYfdJlZktxAgRzY0pjskTjc3wM6ymMnSoOZuJTdY1ZCo0Pzh0+5scF+VmEQvgNYy0aYzP44D3bgyPxRT3mPzSVNbwGYhh80BhdcX41Lu/Hl+BOQJM34hrj5d2ahjuhpcE0IOZGs5yREBFuXkfVDVTXVD3AP7iIJ8MTRTFFa4I0uwKa5C29lfASNKzhu3+PD+DpRoPpMIySLh7DeJfjrRg0r9ZgEkdTBwxQ+IoQrHHUSAtrMKDlrNxoFKRJCXqCQzf0Fb1Df2vJwGpjlEb6jSO0oGx2uJf38EwQ2EBNAzB9pH5a2kPgSG5SnWfGFb7qsrrREg1JLFKVNlaFeI2SqmP+09GtktwZt7QSJZ8pp7QwT7cwBkpi8qaGOAEjETEFRPpjmAdzoq6SmZCALwBIV17alW2GdPEMsrBGksJcj8McB0YYs6FeouvJK/gbBnIfD8RaH1eUepcYd9jptOQ0swPm+Ryh0CKEegwrLukBsbyQDQI9I1TLKMPAuiN/nVzDaJuBmgZD1ktAxRWT3tG8TZjQOuUl0XGNIZMwvedDWP28wEGTlVyjB8zyz3xg2jiRfogbTkJxOJ8cqPrQY/Q3k6qWacgYumfxqTI+SVZVj1FHKpQkd5kyotBr8S3IYKo9jLsNvN5IKEkNurE6AmNJjE3uJC3VRk+6h84iXwL1ZNli5gGJ1LY8ljM5qVeJiTFVx2ioJSBJDzkZ4Zh3XAKXFQ47TRXYJPCa8ZUUZzwHI6OKSpiNuF73944p3iyc7Vlba0Ql4QpDCjImaufABIEDFbfwGW52mxbgRwzeLPLasO5f3bNhjN2mCMZ4XN26gq5WDyrLLFjzjV+o3GNaccltgYRxCzTKyDip4cLg0QJHZhy9gcdtNFTSCZVVev1RM06tBjUcEXQUsFIhldaM8KMsVOuYXdlQowT/gZEFsmilE/nDSwsDNWBvZ6S3I7m7MdwxzytJvv1aqnW/6Y+0BNLIffTLlhTkYGWklpQCPDVAPHXci3xT2bNpVGtXSeomSZTKHlJk0+HYFcFq4bYr5N3Up1qVpL+oI/tCJxQ35H0QMJJ6USDG5pyYMpqSlovMynqTuFmF2EuoDcXZWWEHTSfFmczZPdbGatOJsA3alAKeKFO5IbS1ozKS4UrmD7aZjpFhpQv5mhA2irOnA5heHFjzGYUZAmyWtCS43Wiz6TvZLDFTGx4cxYksYH7TH9S3Ah4pWvqfvKcYwUdbW6MkNK+LvXDb2lmhc6GNZlt9pR+qtvivOTBB1lBig8udUqOaGMAZli8ZXbI3Ntv3mZoU0mr90jCnTa8Pt/rPkBTW7UW/wcRbO3otdWaWCWtc8K24t7yQrTDTllkS/9ItEML6SsLEvHnD2GBtpDa94HWt657q1OBgItw0Ony594Iga2DSAalNMTexJtbEmlgTa2JNrIk1sSbWxJpYE2tiTayJNbEm1sSaWBNrYk2siTWxJtbEmlgTa2JNrIk1sSbWxJpYE2tiTayJNbH/c7F/cYo5bz8Oz9OHyzwDzE9oP3bD6fp9mQaeJW+m++FwKoO4/V696rPI5XA5lvHiy/iUJbvffDiXod7dF49lrPg8nO7GWWI//9+wfK/9t58WdcTxT//c8fOR18NlvJvOz9P5Zta8G87nYdauruP3q7c/D9hZvTp5/PGz91/Ow/VYRpvvhocyrfzTYebnxbB30+Uy3XflS+Rs0z5DWx8dx9vZkU/5DAxg383W57u6K503vsOPY7nijE3ZaffTzey+eSL8WOy+nU7FZ7fD/eGYb+kenx8v4/3LD4f97uXw8HAcX2Jl/+KbDNC4+9PXL/a7P0xZs2m/++14/H68HK6H/e71+TAc97vH4fT48nE8H273uxevZ/ndl/NI+O7N/fTdIYsux3ClqzPhyn7irPpxeDcei1L/deU+5b9+ADQ95nw=&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;100 iterations of the same benchmark as above, but with a warm file system cache.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Our theory was right, it is &lt;strong&gt;much faster&lt;/strong&gt;: with a cold cache, we were seeing memory-mapped IO on a single thread take 2.5s to read 2GiB. Now it takes 0.12s, 21× quicker, with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; or without&lt;sup id=&quot;fnref:table:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:table&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;There’s some other notable observations about running with a warm cache:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Memory-mapped IO is faster than conventional IO. I imagine because there’s less overhead: for conventional IO, there’s an extra &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;memcpy&lt;/code&gt; of data from the operating system page cache into the buffer passed into the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;read&lt;/code&gt; call. Using Tokio and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; has even more overhead, likely because there’s synchronisation overhead with the thread-pool that has to be used for asynchronous file IO.&lt;/li&gt;
  &lt;li&gt;Asynchronous and single-threaded sequential memory-mapped IO still take the time same time as each other, same as with a cold cache… just both are now fast.&lt;/li&gt;
  &lt;li&gt;If you want speed, using multiple threads is handy: memory-mapped IO is achieving “file” IO speeds of  ~41GiB/s, by reading 2GiB in 49ms.&lt;/li&gt;
  &lt;li&gt;This is likely system-dependent: I was running on arm64 macOS, and other systems may see different results.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;more-questions&quot;&gt;More questions&lt;/h2&gt;

&lt;p&gt;I’ve done some experiments here, putting the “science” in “computer science”, and of course there’s more questions: I don’t know the answers!&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;How does this manifest across &lt;strong&gt;other platforms&lt;/strong&gt;, beyond arm64 macOS? (Hypothesis: similar on all platforms.)&lt;/li&gt;
  &lt;li&gt;Does the &lt;strong&gt;type of disk&lt;/strong&gt; backing the files influence behaviour? (Hypothesis: yes, I’d expect running this on a high-latency disk like a spinning-rust HDD to show even worse blocking behaviour than the SSD used here, as each thread will be blocked for longer.)&lt;/li&gt;
  &lt;li&gt;Does &lt;strong&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Cache_control_instruction#Prefetch&quot;&gt;prefetching&lt;/a&gt; via CPU instructions&lt;/strong&gt; help mitigate the problems? (Hypothesis: not sure. I have no idea if running a prefetch instruction on a memory-mapped address will cause the page to be loaded in the background. One may have to prefetch many, many loop iterations in advance, since this is reading all the way from disk, not just from RAM to CPU cache, for which prefetching is often used.)&lt;/li&gt;
  &lt;li&gt;How do &lt;strong&gt;other &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mmap&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;madvise&lt;/code&gt; options&lt;/strong&gt; influence this (for instance, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MADV_SEQUENTIAL&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MADV_WILLNEED&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MADV_POPULATE&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MADV_POPULATE_READ&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mlock&lt;/code&gt;)? (Hypothesis: these options will make it more likely that data is pre-cached and thus fall into fast path more often, but without a guarantee.)&lt;/li&gt;
  &lt;li&gt;What about &lt;strong&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Readahead&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;readahead&lt;/code&gt;&lt;/a&gt;&lt;/strong&gt;? (Hypothesis: making the fast path more likely but not guaranteed, similar to the previous point.)&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Accessing files via memory mapped IO makes for a very convenient API: just read a byte with normal indexing. However, it’s &lt;strong&gt;error-prone&lt;/strong&gt; when used with co-operatively scheduled concurrency, like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; in Rust or Python, or even “manual” non-blocking IO in C:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If the data isn’t available in memory yet, the operating system will have to &lt;strong&gt;block the thread&lt;/strong&gt; while reading from disk, and there’s no &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt;s to allow the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt; executor to run another task.&lt;/li&gt;
  &lt;li&gt;Thus, heavy use of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mmap&lt;/code&gt; can potentially be &lt;strong&gt;as slow as sequential code&lt;/strong&gt;!&lt;/li&gt;
  &lt;li&gt;It’s a &lt;strong&gt;hazard at a distance&lt;/strong&gt;: a memory-mapped file can be coerced to a look like a normal byte array (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;[u8]&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bytearray&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;list[int]&lt;/code&gt;, or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;void *&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;char *&lt;/code&gt;) and passed deep into the async code before being indexed.&lt;/li&gt;
  &lt;li&gt;If data is &lt;strong&gt;cached&lt;/strong&gt; by the operating system, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mmap&lt;/code&gt; has less overhead than conventional IO and can be a little faster (on my system).&lt;/li&gt;
&lt;/ul&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      

      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/r/rust/comments/1exho0j/async_hazard_mmap_is_secretly_blocking_io/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=41307065&quot;&gt;Hacker News&lt;/a&gt;&lt;/li&gt;


      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Async%20hazard:%20mmap%20is%20secretly%20blocking%20IO%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2024/08/async-hazard-mmap/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2024/08/async-hazard-mmap/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2024/08/async-hazard-mmap/&amp;amp;title=Async%20hazard:%20mmap%20is%20secretly%20blocking%20IO&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;script id=&quot;plotly-template&quot; type=&quot;application/zlib&quot;&gt;
eJztWutu4ygUfhf/2kpoZPC9r1JVI2KTxCoxWYy3TaO8+56DISGXdkeabppRLNWqgz/O+TgX7tuo4YZHj9toxnX0+LSNhNZK/3zDolpJBYWRXsz+SnJi/x6iHXGYzaeYFdcvQiNEtp04hbIkJfZJ2UNEote2McvoMf6RQc01N0boDqvMWylXqoHqkfpHaMk3AO7bdyigMbwp2Tat2WBNtoOqZrNGLLZl90zw/1pJ17BvJjQSQVY1/BDGcuL8re1RrugaZHXZmiRa6Lbx316XrRFQFuJ92artlL4E7g3X5mMNO7TVzVBxRnN2siZbKq3WUqBPnpzjbMBuIzVYYd5hULutXz4ij9+kAE+W43uPfhxM3zbCfXVyWEDjoNtSUZ1Rg74iDyukr7kENk9P8Q+QbSOWQLRmD9EzwbKcFWkWV2WcVIxmeeUwKaEZSalDUZalVUyrPC7KNKFJMaLSAkKfZIVHlSVLMlallBZ5WsT5iCooYSUpmEOxQFuJ2kdUVZAkJqVHoZJQ6QiioA5RlUdZPdler0NlMWEFqTz7NFCGyh2qAPaMlKVDZWH7WJY5Q8QJYTkpvMbsWCFzKOAFxsi9JT4wKrixyEnueeXVsUpvekZoXJAicbAiMClq9jBwUZKRynuyDJsIij0sIzQHicxbttzrG63rcTkB/4HXvdojnUmWeBxYDZpNy7GtdB9VaHTsB1kMH54PWeDCPkiBoB+7bkIeqUdCS8HNiq+nnJxy8p5y0od9kAILOSXBlAR3mAQQ+DYN2t6ohearkyn/70/hD5KP9LBmSrgp4e4q4YLQP0mFaW00ZcR9Z0S4TFqJfplcc3hwdJxepLDmulZKN71lcbTv9T+zOdA5cLCMWjHufA1GwfC8aEGa0YM4wAGAQEhqHLJPxvHrUvccAj7OoVc25TcbwEWT+xWs+7+ZV7AF4EoWQt0CMaQRspI3QUqGnGDOPFNvt8DLMQm4Xdq0/xZqh037sOA23OmpBOxwicP15hbYeSqW3aDnvBbTtHCaFt7TtNCHPaaA4TPpEkBI2ft9iPNTSIgYfNLYnoSdnlSOZ2iYbUvBmzG9L8mhZULsg5HwqRzHdeS3e0Ys30BeIZp3nTLctKprxJwP0ljeXGv1GirLC/Aa6MIYgPo4s0Op3bCaCY1p2hvd1iZyaenPGa/ULYVdwTbqxd+D6EzL5dQxTB3DtTuGQ/St2m7opxCcQvC6Iej7w1eOk8QxDkADBdKF7VtHs1FoA7NeH0tKZAss4tSXIMOiDCCUVU5OtS8CUpTFpDpIpiAEbEDRPB4UE/fsUTGIQZV0X5HGgCghYmNr12iuOvPp7SO7DtxGs8XZVRX+cnZVRfKuOR6Fj+4C9Uv1itV6v1MxFnTN/vcwG7rWnAyuMEaP5wszYcdnLtsFDFqRFHOz/+oOImqpetHjELnma6F/nvNeS2WC4gs03aIJh+3FAK9+nP3VCzvYKsTu92Pc0GovB32mWPMGerSvU7fD9YwYJyxvXuyM1y8LrYZPPXVJN5b5+cDHTA7iQydf5Eeid6HVuSCgvfmj2L7/QWwxJpaQGuFEFCe+H81DD1NeP6cECWrNa3eyh9f69qvl4B7elyTL1TKv/tKk2+fa+d7sb8vHV+Om4Aa6TjWfR48UvfDfyXQLdHa7fwEhtg6y
&lt;/script&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:benchmark-details&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I have a script that repeatedly measures the time to scan through all 2GiB, in each configuration. Before each measurement, it runs &lt;a href=&quot;https://www.manpagez.com/man/8/purge/&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;purge&lt;/code&gt;&lt;/a&gt; to drop any file system caches and thus run with a cold cache. &lt;a href=&quot;#fnref:benchmark-details&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:tokio-details&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The Tokio benchmarks iterate over each file concurrently with &lt;a href=&quot;https://docs.rs/futures/0.3.28/futures/future/fn.join_all.html&quot;&gt;a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;join_all&lt;/code&gt; call&lt;/a&gt;. This uses &lt;a href=&quot;https://docs.rs/tokio/1.28.2/tokio/fs/struct.File.html&quot;&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tokio::fs::File&lt;/code&gt; type&lt;/a&gt; for “conventional IO”. Note: this uses a thread-pool in the background, because it seems like there’s limited support for truly asynchronous file IO, but the key is the API exposed, using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt;. &lt;a href=&quot;#fnref:tokio-details&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:tokio-single-threaded&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The benchmarks use the &lt;a href=&quot;https://docs.rs/tokio/1.28.2/tokio/runtime/struct.Builder.html#method.new_current_thread&quot;&gt;single threaded runtime&lt;/a&gt; to make the problem as obvious and clear as possible: using a multi-thread runtime may disguise the consequences of mmap’s blocking IO by smearing it across multiple threads. &lt;a href=&quot;#fnref:tokio-single-threaded&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:table&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Here’s a table with the full results, including both cold and warm file system caches, taking the minimum value of each benchmark (that is, the most favourable observation):&lt;/p&gt;

      &lt;table&gt;
        &lt;thead&gt;
          &lt;tr&gt;
            &lt;th&gt;Concurrency&lt;/th&gt;
            &lt;th&gt;IO&lt;/th&gt;
            &lt;th&gt;Cold (s)&lt;/th&gt;
            &lt;th&gt;Warm (s)&lt;/th&gt;
          &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
          &lt;tr&gt;
            &lt;td&gt;Async&lt;/td&gt;
            &lt;td&gt;Mmap&lt;/td&gt;
            &lt;td&gt;2.5&lt;/td&gt;
            &lt;td&gt;0.12&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td&gt;Async&lt;/td&gt;
            &lt;td&gt;Conventional&lt;/td&gt;
            &lt;td&gt;0.62&lt;/td&gt;
            &lt;td&gt;0.22&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td&gt;Sync &lt;small&gt;8 threads&lt;/small&gt;&lt;/td&gt;
            &lt;td&gt;Mmap&lt;/td&gt;
            &lt;td&gt;0.75&lt;/td&gt;
            &lt;td&gt;0.049&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td&gt;Sync &lt;small&gt;8 threads&lt;/small&gt;&lt;/td&gt;
            &lt;td&gt;Conventional&lt;/td&gt;
            &lt;td&gt;0.62&lt;/td&gt;
            &lt;td&gt;0.063&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td&gt;Sync &lt;small&gt;1 thread&lt;/small&gt;&lt;/td&gt;
            &lt;td&gt;Mmap&lt;/td&gt;
            &lt;td&gt;2.5&lt;/td&gt;
            &lt;td&gt;0.12&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td&gt;Sync &lt;small&gt;1 thread&lt;/small&gt;&lt;/td&gt;
            &lt;td&gt;Conventional&lt;/td&gt;
            &lt;td&gt;0.67&lt;/td&gt;
            &lt;td&gt;0.14&lt;/td&gt;
          &lt;/tr&gt;
        &lt;/tbody&gt;
      &lt;/table&gt;
      &lt;p&gt;&lt;a href=&quot;#fnref:table&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt; &lt;a href=&quot;#fnref:table:1&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:maxed-out&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I think this is maxing out the machine’s SSD bandwidth, at around 3300 MiB/s, hence it’s not much faster than the single-threaded version. &lt;a href=&quot;#fnref:maxed-out&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:writing&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;This article focuses on my observations of using mmap for reading a file, not writing. As I understand it, writing comes with its own problems, potentially including things like unclear persistence guarantees. But I’m not an expert nor have I investigated. &lt;a href=&quot;#fnref:writing&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:timing&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The cases are invisible except through side-channels like timing the operation, observing memory usage stats, or page allocation tables. I’m not counting them. &lt;a href=&quot;#fnref:timing&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>GitHub tip-hub: habitual permalinks</title>
            <link>https://huonw.github.io/blog/2024/07/github-permalinks/</link>
            <pubDate>Wed, 24 Jul 2024 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2024/07/github-permalinks</guid>
            <description>&lt;p&gt;GitHub offers permalinks to versions of files and lines, within a repository. They’re easy to create (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y&lt;/code&gt; keyboard shortcut) and have some nifty affordances like displaying a preview, plus they don’t become invalid as code changes. Use them!&lt;/p&gt;

&lt;p&gt;The permalinks use the commit hash of a particular version of the file, and thus the contents never changes, because they’re content-addressed and permanent&lt;sup id=&quot;fnref:permanent&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:permanent&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;. This is true even as the code evolves: a permalink to a particular line will always be &lt;strong&gt;what you intended&lt;/strong&gt;, whether future versions add or remove code around it, or even move or delete the file entirely.&lt;/p&gt;

&lt;p&gt;I can’t think of many downsides to using permalinks, so consider &lt;strong&gt;always pressing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y&lt;/code&gt;&lt;/strong&gt; before sharing a GitHub file link. Make it a habit.&lt;/p&gt;

&lt;h2 id=&quot;creating-a-permalink&quot;&gt;Creating a permalink&lt;/h2&gt;

&lt;p&gt;Hit &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y&lt;/code&gt; on any file or directory view, then copy the updated link from the browser’s URL bar.&lt;/p&gt;

&lt;p&gt;When viewing a file, you can click on the line number gutters to link to a single line, or range (shift click). These also update the browser’s URL bar.&lt;/p&gt;

&lt;p&gt;(Also good: a plugin for your editor, so you can jump around files locally and create links without having to refind the same files in the GitHub web UI. I use &lt;a href=&quot;https://github.com/sshaw/git-link&quot;&gt;git-link&lt;/a&gt;, but know nothing about plugins for non-Emacs editors.)&lt;/p&gt;

&lt;p&gt;The GitHub docs also discuss how to link to &lt;a href=&quot;https://docs.github.com/en/repositories/working-with-files/using-files/getting-permanent-links-to-files&quot;&gt;files&lt;/a&gt; and &lt;a href=&quot;https://docs.github.com/en/get-started/writing-on-github/working-with-advanced-formatting/creating-a-permanent-link-to-a-code-snippet&quot;&gt;lines&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;pretty-pictures&quot;&gt;Pretty pictures&lt;/h2&gt;

&lt;p&gt;Pasting a GitHub permalink into some software, including GitHub itself, has some sometimes-nice affordances.&lt;/p&gt;

&lt;p&gt;For GitHub, putting a permalink into a comment box, PR or issue descriptions renders the referenced code snippet:&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;comment.png&quot;&gt;
      &lt;img src=&quot;comment.png&quot; alt=&quot;a part of a comment from GitHub that includes a rendering of the link above&quot; width=&quot;1832&quot; height=&quot;412&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;p&gt;The contents of that comment is just normal Markdown text, plus a link, nothing else:&lt;/p&gt;

&lt;figure class=&quot;highlight wrapped-code&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-markdown&quot; data-lang=&quot;markdown&quot;&gt;One option might be evolving the &lt;span class=&quot;sb&quot;&gt;`test_using_pyenv`&lt;/span&gt; test to take two parameters like &lt;span class=&quot;sb&quot;&gt;`(&quot;interpreter_constraints&quot;, &quot;expected_version_substring&quot;)`&lt;/span&gt;, and then pass &lt;span class=&quot;sb&quot;&gt;`(&quot;2.7.*&quot;, &quot;2.7&quot;), (&quot;3.9.*&quot;, &quot;3.9&quot;), (&quot;3.10.4&quot;, &quot;3.10.4&quot;)`&lt;/span&gt; or something like that. What do you think?

https://github.com/pantsbuild/pants/blob/cfb3cafcac2386c909bc4a3fee3997e1bd8b03d7/src/python/pants/backend/python/providers/pyenv/rules_integration_test.py#L65-L66&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This rendering doesn’t work for a whole file permalink (without the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#L...&lt;/code&gt; fragment), and doesn’t work across repositories. In those cases, providing a permalink still helps for future, in the cases you come back to it.&lt;/p&gt;

&lt;p&gt;Other software like Slack also seems to handle GitHub links, providing snippets and previews.&lt;/p&gt;

&lt;h2 id=&quot;what-is-it-actually&quot;&gt;What is it, actually?&lt;/h2&gt;

&lt;p&gt;Compare these two URLs to lines 65 and 66 of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.../pyenv/rules_integration_test.py&lt;/code&gt; test file linked above, within &lt;a href=&quot;https://github.com/pantsbuild/pants&quot;&gt;Pants&lt;/a&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;break-all&quot;&gt;https://github.com/pantsbuild/pants/blob/&lt;strong&gt;main&lt;/strong&gt;/src/python/pants/backend/python/providers/pyenv/rules_integration_test.py#L65-L66&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;break-all&quot;&gt;https://github.com/pantsbuild/pants/blob/&lt;strong&gt;71749c04c7cf3cd9c22aea3e99fded57d5f41ebc&lt;/strong&gt;/src/python/pants/backend/python/providers/pyenv/rules_integration_test.py#L65-L66&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;They’re almost identical except for the bolded &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;blob/.../src&lt;/code&gt; section. That difference communicates where to find the files&lt;sup id=&quot;fnref:commitish&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:commitish&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;, one uses mutable reference (branch name) while the other uses an immutable commit hash.&lt;/p&gt;

&lt;p&gt;At the time of writing, the two URLs show a file with identical contents, but they have different meanings and so this won’t always be true.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/pantsbuild/pants/commit/71749c04c7cf3cd9c22aea3e99fded57d5f41ebc&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;71749c04&lt;/code&gt;&lt;/a&gt; is the most recent commit to Pants’ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;main&lt;/code&gt; branch, which is why they currently match. But once PR #21139 lands in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;main&lt;/code&gt; with &lt;a href=&quot;https://github.com/pantsbuild/pants/pull/21139/commits/58b83e3ca63d169ce26798809de63c94a540e8f5&quot;&gt;its improved test&lt;/a&gt;, this file on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;main&lt;/code&gt; will have different content to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;71749c04&lt;/code&gt;. The first branch-ful link will show the new contents.&lt;/p&gt;

&lt;p&gt;Presumably the link is being a reference for something, so having it &lt;strong&gt;change accidentally&lt;/strong&gt; is not good. You might come back in a few days, weeks or months and try to track down the context for something: in the best case, you’ll get lucky and the code hasn’t changed. In the worst case, the file in question has been deleted or moved, so the link is a 404. You might be able to do some git archeaology to guess what’s it’s referring to but that’s a lot of fuss!&lt;/p&gt;

&lt;p&gt;Using the permalink is &lt;strong&gt;minimal effort&lt;/strong&gt; and &lt;strong&gt;sidesteps potential problems&lt;/strong&gt;.&lt;/p&gt;

&lt;h2 id=&quot;sometimes-the-latest-version-is-useful&quot;&gt;Sometimes the latest version is useful?&lt;/h2&gt;

&lt;p&gt;In some cases, having an “evergreen” link pointing to always the latest version is useful, and so using the branch-ful link might be appropriate… but I think this is rarer than one might expect, and has consequences.&lt;/p&gt;

&lt;p&gt;Linking to a specific older version might be confusing if the code has moved in the current version. However, it’s a permalink, so it’s showing the &lt;strong&gt;exact code of interest&lt;/strong&gt;. You can use any of your &lt;strong&gt;normal code discovery tools&lt;/strong&gt; (from wild guesses to grep to AI) to find its new location. There’s no way to have a single evergreen link to “file &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;foo/bar/baz.py&lt;/code&gt; even if it moves” or particular lines&lt;sup id=&quot;fnref:search&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:search&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;In terms of consequences: if a non-perma link to a specific file is published somewhere, that location should now &lt;strong&gt;always&lt;/strong&gt; have a real file, or else that link breaks. Git and GitHub don’t provide any tools for redirects (that I know of!), so if the file needs to move, a file has to be left in the old spot as breadcrumb to find the new location.&lt;/p&gt;

&lt;h2 id=&quot;non-github-forges&quot;&gt;Non-GitHub forges&lt;/h2&gt;

&lt;p&gt;I am not as familiar with Gitlab and other GitHub competitors: I imagine most have similar functionality for permalinks to a particular version of a file and its lines.&lt;/p&gt;

&lt;p&gt;From a quick test, Gitlab looks to share the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y&lt;/code&gt; keyboard shortcut, and line-linking behaviour.&lt;/p&gt;

&lt;h2 id=&quot;summary&quot;&gt;Summary&lt;/h2&gt;

&lt;p&gt;Creating permalinks to code in GitHub is easy (hit &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y&lt;/code&gt;) and has benefits with few downsides.&lt;/p&gt;

&lt;p&gt;Consider making it a habit to always use them instead of branch-ful non-perma links.&lt;/p&gt;
&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:permanent&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Not actually permanent: GitHub will itself eventually disappear, breaking &lt;em&gt;all&lt;/em&gt; such links; a repository may be deleted; the repository may have history rewritten to erase the commit. &lt;a href=&quot;#fnref:permanent&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:commitish&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I think &lt;a href=&quot;https://git-scm.com/docs/gitrevisions&quot;&gt;any reference to a commit&lt;/a&gt; works in these URLs, including tags, parent references &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;71749c04^^&lt;/code&gt; and branch time-machines &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;main@{3 months ago}&lt;/code&gt;. The latter two are probably just curiosities, but tags links are definitely useful! &lt;a href=&quot;#fnref:commitish&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:search&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;You could link to &lt;a href=&quot;https://github.com/search?q=repo%3Apantsbuild%2Fpants%20py_version%20test_using_pyenv&amp;amp;type=code&quot;&gt;a search query&lt;/a&gt; but that feels a bit unreliable. There’s some cases where it definitely makes sense, though! &lt;a href=&quot;#fnref:search&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>10 > 64, in QR codes</title>
            <link>https://huonw.github.io/blog/2024/03/qr-base10-base64/</link>
            <pubDate>Sun, 31 Mar 2024 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2024/03/qr-base10-base64</guid>
            <description>&lt;p&gt;Encoding data in decimal requires &lt;strong&gt;many&lt;/strong&gt; more characters than the same data encoded in base64—&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;06513249&lt;/code&gt; vs &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;YWJj&lt;/code&gt;—but using decimal is better when stored in a QR code. The magic of QR modes means all those extra digits are stored efficiently, almost as though there was no encoding at all. Decimal encoding makes for QR codes that &lt;strong&gt;store more data&lt;/strong&gt;, or &lt;strong&gt;are easier to scan&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;In this post, we’ll see:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;how using a decimal encoding (slightly) reduces the density of a QR code containing a URL, in practice;&lt;/li&gt;
  &lt;li&gt;why QR code modes make this work: decimal data is all URL-safe and stores in a QR code Numeric mode efficiently, while base64 ends up with 75% waste because it has to be stored in Binary mode;&lt;/li&gt;
  &lt;li&gt;how this allows shovelling maximum data into a URL in a QR code.&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    
      

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;1768&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 1768 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;Two QR codes, the left one is version 16 (81 small squares), while the right is slightly less dense, version 14 (73 small squares)&lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v16-example-base64&quot; xlink:href=&quot;#qr-code-v16-example-base64&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(866 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v14-example-base10&quot; xlink:href=&quot;#qr-code-v14-example-base10&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;text class=&quot;hovering-text-qr bad&quot; dx=&quot;0&quot; filter=&quot;url(#blur-text)&quot;&gt;base64&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr good&quot; dx=&quot;866&quot; filter=&quot;url(#blur-text)&quot;&gt;decimal&lt;/text&gt;

&lt;/svg&gt;

    
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;Two QR codes that encode the same data: the left one using base64 is slightly denser than the right using decimal (compare the ‘position’ patterns in the top center). The larger modules (little squares) of the decimal QR makes for easier scanning.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;As a case study, in &lt;a href=&quot;/blog/2021/10/nsw-covid-qr/&quot;&gt;&lt;em&gt;Mechanical sympathy for QR codes: making NSW check-in better&lt;/em&gt;&lt;/a&gt;, I explored the QR codes used for COVID contact-tracing check-ins here in Australia. It turns out several states plopped a bunch of information in URLs in their QR codes, as a base64-encoded JSON blob, presumably because that’s convenient.&lt;/p&gt;

&lt;p&gt;NSW used URLs like the &lt;strong&gt;228-character&lt;/strong&gt; &lt;code class=&quot;language-plaintext break-all tiny highlighter-rouge&quot;&gt;https://www.service.nsw.gov.au/campaign/service-nsw-mobile-app?data=eyJ0IjoiY292aWQxOV9idXNpbmVzcyIsImJpZCI6IjEyMTMyMSIsImJuYW1lIjoiVGVzdCBOU1cgR292ZXJubWVudCBRUiBjb2RlIiwiYmFkZHJlc3MiOiJCdXNpbmVzcyBhZGRyZXNzIGdvZXMgaGVyZSAifQ==&lt;/code&gt;, with that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eyJ...&lt;/code&gt; being the blob. At error correction level &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;H&lt;/code&gt;, this can be encoded into &lt;strong&gt;a 81×81 QR code&lt;/strong&gt; (version 16).&lt;/p&gt;

&lt;p&gt;If we need to continue storing data in JSON like that (that post describes why we don’t), we can do better than base64: by rewriting the data to decimal, we get the &lt;strong&gt;353-character&lt;/strong&gt; &lt;code class=&quot;language-plaintext break-all tiny highlighter-rouge&quot;&gt;https://www.service.nsw.gov.au/campaign/service-nsw-mobile-app?data=072685680885510189821994892577900638215789419258463239488533499278955911240512279111633336286737089008384293066931974311305533337894591404330656702603998035920596585517131555967430155259257402711671699276432408209151397638174974409842883898456527289026013404155725275860173673194594939&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Anyone sensible would know this is longer… 50% longer. Fortunately, QR codes transcend sense, so this requires 20% fewer modules (little squares): it fits into &lt;strong&gt;a 73×73 QR code&lt;/strong&gt; (version 14).&lt;/p&gt;

&lt;p&gt;QR codes with fewer modules are &lt;a href=&quot;/blog/2021/09/qr-error-correction/&quot;&gt;easier to scan&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;complicated-data-in-urls&quot;&gt;Complicated data in URLs&lt;/h2&gt;

&lt;p&gt;QR codes can store arbitrary data, but often, they’re used to store a URL, so that anyone can get something useful when they scan by loading a website. At the same time, a QR code might be placed somewhere without internet access, and thus also want to include enough information to allow someone with an appropriate app to interact with it usefully while offline. This can make for URLs with a big blob of data in them.&lt;/p&gt;

&lt;p&gt;However, a URL is a constrained container: trying to shove arbitrary data into a URL can hit problems with special characters being misinterpreted or mangled. Fortunately, URLs are mostly just text, and there’s lots of ways to convert arbitrary data into text: &lt;a href=&quot;https://en.wikipedia.org/wiki/Binary-to-text_encoding&quot;&gt;the &lt;em&gt;Binary-to-text encoding&lt;/em&gt; wikipedia page&lt;/a&gt; describes 28, at the time of writing.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Base64&quot;&gt;Base64&lt;/a&gt; is arguably one of the most common: it is built into every web browser, like the one you’re using to read this. It encodes 3 bytes into 4 selected from a reduced 64-character alphabet. It is a sensible default choice. It can be included literally in JSON, HTML/XML attributes, CSS and, of course, URLs.&lt;/p&gt;

&lt;p&gt;All of this means base64 data can end up in &lt;a href=&quot;https://en.wikipedia.org/wiki/QR_code&quot;&gt;QR codes&lt;/a&gt;, where a URL containing a blob of data is encoded. Unfortunately, base64 is &lt;strong&gt;a poor method for encoding binary data in a QR code&lt;/strong&gt;: the choice of alphabet forces the QR code to store data in an needlessly inefficient way.&lt;/p&gt;

&lt;h2 id=&quot;encoding-schemes&quot;&gt;Encoding schemes&lt;/h2&gt;

&lt;p&gt;There’s many, many ways to encode a set of arbitrary bytes into a reduced character set. The ones we’ll consider in detail are base64, base10, and base45 from &lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc9285.html&quot;&gt;RFC 9285&lt;/a&gt;, which is explicitly designed for QR codes (others like base16 (hex), base32 or base36 are strictly worse).&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;encoding&lt;/th&gt;
      &lt;th&gt;characters&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;input:output ratio&lt;/th&gt;
      &lt;th&gt;example&lt;/th&gt;
      &lt;th&gt;URL safe?&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;none&lt;/td&gt;
      &lt;td&gt;all bytes&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abc&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;base64&lt;/td&gt;
      &lt;td&gt;0–9, A–Z, a–z, +, /&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1.33&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;YWJj&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;partial&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;https://datatracker.ietf.org/doc/html/rfc4648#section-5&quot;&gt;base64url&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;0–9, A–Z, a–z, -, _&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1.33&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;YWJj&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a href=&quot;https://www.rfc-editor.org/rfc/rfc9285.html&quot;&gt;base45&lt;/a&gt;&lt;/td&gt;
      &lt;td&gt;0–9, A–Z, $%*+-.:/, space&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1.5&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0EC92&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;no&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;base10&lt;/td&gt;
      &lt;td&gt;0–9&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2.41&lt;/td&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;06513249&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;yes&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Some of these are “URL-safe”: encoded data can be splatted directly into a URL without requiring any special escaping or handling, while others are not or might require special handling from a server. We’re talking about putting data into URLs, so &lt;strong&gt;URL-safety is a requirement&lt;/strong&gt;, and thus the choices to consider are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the base64url URL-safe variant of base64, and&lt;/li&gt;
  &lt;li&gt;base10 (decimal).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I’ve invented “base10” by treating the bytes as a huge (little-endian) &lt;a href=&quot;https://en.wikipedia.org/wiki/Positional_notation#Base_of_the_numeral_system&quot;&gt;base-256 integer&lt;/a&gt;, and then printing the integer in a different base. This doesn’t scale for large data, but works fine for the couple of kilobytes that can be stored in a QR code. A Python version might be:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;math&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;_DIGITS_PER_BYTE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;b10encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;bytes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;raw&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;from_bytes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;byteorder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;little&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# Handle leading zeros so that, for instance, b&quot;&quot;, b&quot;\x00&quot;
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# and b&quot;\x00\x00&quot; each have their own unique encoding, not
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# just &quot;0&quot;.
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;encoded_length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ceil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_DIGITS_PER_BYTE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;prefix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;0&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoded_length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;raw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prefix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;raw&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;b10decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;bytes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# Deduce the length of the result from the input, matching
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# b64encode&apos;s zero-padding (NB. a real implementation
&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;# should validate the length is valid)
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;decoded_length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_DIGITS_PER_BYTE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_bytes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decoded_length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;byteorder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;little&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The “input:output ratio” column shows number of output characters required above the number of input characters, on average&lt;sup id=&quot;fnref:log&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:log&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;For example, for encoding in base10, a long input hits the average almost exactly, while short inputs can vary more:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;input (hexadecimal)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;output&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;ratio&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;01&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;001&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;3/1 = 3&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;12 34 56&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;05649426&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;8/3 = 2.67&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FF FE … 01 00&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;00000496…7615&lt;/code&gt; (617 digits)&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;617/256 = 2.41&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;qr-modes&quot;&gt;QR modes&lt;/h2&gt;

&lt;p&gt;A QR code stored data in a bitstream, with input data encoded in segments. Each segment of data can be encoded in one of four different &lt;a href=&quot;https://en.wikipedia.org/wiki/QR_code#Information_capacity&quot;&gt;modes&lt;/a&gt;. Each mode supports different input alphabets, like the “Alphanumeric” mode which only supports storing numbers, upper-case letters and some punctuation, defining a way to map those characters to bits for storage.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;mode&lt;/th&gt;
      &lt;th&gt;characters&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;bits per char&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;overhead&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Numeric&lt;/td&gt;
      &lt;td&gt;10: 0–9&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;3.33&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;0.34%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Alphanumeric&lt;/td&gt;
      &lt;td&gt;45: 0–9, A–Z, $%*+-.:/ space&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;5.5&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;0.15%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Binary&lt;/td&gt;
      &lt;td&gt;256: arbitrary bytes&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;0%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Kanji&lt;/td&gt;
      &lt;td&gt;8189&lt;sup id=&quot;fnref:kanji-count&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:kanji-count&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;13&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;0.0041%&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Multiple input characters are stored together for the numeric and alphanumeric modes, which leads to the fractional bits for a single character. For instance, the numeric mode stores groups of 3 digits into 10 bits, like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;123456&lt;/code&gt; is encoded in two chunks, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;123&lt;/code&gt; then &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;456&lt;/code&gt;, in 20 bits.&lt;/p&gt;

&lt;p&gt;The overhead captures how much “wastage” there is. Not much, in any encoding! It’s convenient that 10&lt;sup&gt;3&lt;/sup&gt; is only slightly less than 2&lt;sup&gt;10&lt;/sup&gt;, and 45&lt;sup&gt;2&lt;/sup&gt; is less than 2&lt;sup&gt;11&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;When a QR code contains multiple segements of data, it still represents one long stream of characters, so clever choice of splits allows picking the best mode for each significant substring of the input.&lt;/p&gt;

&lt;h2 id=&quot;decimal-à-la-mode&quot;&gt;Decimal, à la mode&lt;/h2&gt;

&lt;p&gt;The mode required for storing encoded data depends on the output character set. For the encodings we looked at above&lt;sup id=&quot;fnref:other-modes&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:other-modes&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;encoding&lt;/th&gt;
      &lt;th&gt;characters&lt;/th&gt;
      &lt;th&gt;QR mode&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;base64url&lt;/td&gt;
      &lt;td&gt;A–Z, a–z, 0–9, -, _&lt;/td&gt;
      &lt;td&gt;Binary&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;base10&lt;/td&gt;
      &lt;td&gt;0–9&lt;/td&gt;
      &lt;td&gt;Numeric&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Base64url contains lower-case letters its output and thus requires the Binary mode when stored in a QR code. 3 input bytes (24 bits of input) turn into 4 output characters, and those 4 characters have to be stored in 4×8 = 32 bits in the QR code. This makes for an average overhead of 33%: 1 input byte is stored as 1.33 bytes in the QR code. Each byte &lt;em&gt;could&lt;/em&gt; store up to 256 different values, but the base64 encoding only uses 64 of them. That’s &lt;strong&gt;wasting 75% of the values&lt;/strong&gt;, or 2 bits in every stored byte.&lt;/p&gt;

&lt;p&gt;For base10, the calculation isn’t as simple, but we can work through it:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The input will be some number of 8-bit bytes, each with 2&lt;sup&gt;8&lt;/sup&gt; = 256 possible values.&lt;/li&gt;
  &lt;li&gt;Each input byte turns into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;log(256, 10)&lt;/code&gt; ≈ 2.408 output digits, on average.&lt;/li&gt;
  &lt;li&gt;3 digits are stored in 10 bits.&lt;/li&gt;
  &lt;li&gt;Putting this together, each input byte requires &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;10 / 3 * log(256, 10)&lt;/code&gt; ≈ 8.027 bits to store.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This works out to 1 input byte being stored as 1.0034 bytes, on average: an overhead of 0.34%.&lt;/p&gt;

&lt;p&gt;This is exactly the overhead of the Numeric mode itself, and there’s &lt;strong&gt;no overhead&lt;/strong&gt; for binary-to-text base10 encoding step! Base10 requires 242% more characters to encode the same data, but &lt;strong&gt;those characters can be stored into a QR code efficiently&lt;/strong&gt;. There’s no waste when stored.&lt;/p&gt;

&lt;h2 id=&quot;putting-it-all-together&quot;&gt;Putting it all together&lt;/h2&gt;

&lt;p&gt;Let’s go back to our URL from before: &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;https://www.service.nsw.gov.au/campaign/service-nsw-mobile-app?data=eyJ0IjoiY292aWQxOV9idXNpbmVzcyIsImJpZCI6IjEyMTMyMSIsImJuYW1lIjoiVGVzdCBOU1cgR292ZXJubWVudCBRUiBjb2RlIiwiYmFkZHJlc3MiOiJCdXNpbmVzcyBhZGRyZXNzIGdvZXMgaGVyZSAifQ==&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;data=&lt;/code&gt; parameter contains some base64-encoded JSON. I explored &lt;a href=&quot;/blog/2021/10/nsw-covid-qr/&quot;&gt;in an earlier earlier post&lt;/a&gt; how this can be encoded better without JSON or base64… but let’s assume that it needs to remain. We can take the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eyJ0I...&lt;/code&gt; blob and decode it to the underlying JSON: &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;{&quot;t&quot;:&quot;covid19_business&quot;,&quot;bid&quot;:&quot;121321&quot;,&quot;bname&quot;:&quot;Test NSW Government QR code&quot;,&quot;baddress&quot;:&quot;Business address goes here &quot;}&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Running these bytes through the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;b10encode&lt;/code&gt; function above gives a rather long number: &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;072685680885510189821994892577900638215789419258463239488533499278955911240512279111633336286737089008384293066931974311305533337894591404330656702603998035920596585517131555967430155259257402711671699276432408209151397638174974409842883898456527289026013404155725275860173673194594939&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The decimal encoding &lt;em&gt;looks&lt;/em&gt; long to a human, but it is simpler for the QR code encoding, only consuming barely more space than the raw JSON requires[^base16-base32-base36]:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;string&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;length&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;raw JSON&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;strong&gt;118 bytes&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;base64 encoding&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;160 characters&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;base64 QR storage&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;strong&gt;160 bytes&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;base10 encoding&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;285 digits&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;base10 QR storage&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;strong&gt;119 bytes&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;After publishing this article, people asked about other encodings like base16 (hex), &lt;a href=&quot;https://en.wikipedia.org/wiki/Base32&quot;&gt;base32&lt;/a&gt; and &lt;a href=&quot;https://en.wikipedia.org/wiki/Base36&quot;&gt;base36&lt;/a&gt; (which fit into the Alphanumeric mode), or base 8 (fitting into Numeric mode but being easier to work with than base 10). These are less efficient&lt;sup id=&quot;fnref:other-bases&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:other-bases&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt; than base10 using Numeric mode, but are potentially more convenient in some cases.&lt;/p&gt;

&lt;p&gt;In a URL, the rest of the URL is not purely numeric, so actually seeing the benefits of this encoding requires using two segments:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;one with the “boring” bits of the URL at the start, likely using the Binary mode&lt;/li&gt;
  &lt;li&gt;one with the big blob of base10 data, using the Numeric mode&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Using &lt;a href=&quot;https://github.com/heuer/segno/&quot;&gt;Segno 1.6.1&lt;/a&gt;, this is possible to guarantee&lt;sup id=&quot;fnref:optimisation&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:optimisation&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt; like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;url_prefix&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;https://www.service.nsw.gov.au/campaign/service-nsw-mobile-app?data=&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;encoded_data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b10encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Two segments, so that they&apos;re encoded with separate modes
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;qr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;segno&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;make&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url_prefix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;encoded_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The NSW COVID check-in QR codes used error correction level &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;H&lt;/code&gt;. Using this, and just swapping the encoding of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;data&lt;/code&gt; parameter, we see the result from the start of the post:&lt;/p&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    
      

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;1768&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 1768 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;Two QR codes, same as the ones at the start of the blog post&lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v16-example-base64&quot; xlink:href=&quot;#qr-code-v16-example-base64&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(866 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v14-example-base10&quot; xlink:href=&quot;#qr-code-v14-example-base10&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;text class=&quot;hovering-text-qr bad&quot; dx=&quot;0&quot; filter=&quot;url(#blur-text)&quot;&gt;base64&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr good&quot; dx=&quot;866&quot; filter=&quot;url(#blur-text)&quot;&gt;base10&lt;/text&gt;

&lt;/svg&gt;

    
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;Two QR codes that encode the same data: the left uses base64, giving a 81×81 QR code (version 16), while the right uses base10, giving a 73×73 QR code (version 14).&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&quot;extremes&quot;&gt;Extremes&lt;/h2&gt;

&lt;p&gt;Being clever about modes, encodings and segments allows one to meet the limits of the QR code format. QR codes can store up to 23.6 kilobits ≈ 3.0 KB, by using version 40 with error correction level L. This translates into approximately 7k decimal digits in the Numeric mode, or 3k bytes in the Binary mode.&lt;/p&gt;

&lt;p&gt;We can try this out with some test URLs like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://example.com/{encoded_data}&lt;/code&gt;. The maximum we can fit into a QR code looks like:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;encoding&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;input data&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;URL length&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;base64url&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;strong&gt;2.2 KB&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2.9k&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;base10&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;strong&gt;2.9 KB&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;7.0k&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;The much longer URL of base10 &lt;em&gt;theoretically&lt;/em&gt; doesn’t matter: the QR mode means it squishes in very efficiently.&lt;/p&gt;

&lt;p&gt;However, after publishing this article, it was &lt;a href=&quot;https://news.ycombinator.com/item?id=39908019&quot;&gt;pointed out&lt;/a&gt; that iOS doesn’t correctly scan the huge base10 URL, resolving to just &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://example.com&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://example.com/310...&lt;/code&gt;. So URL length does matter! It seems like this is a different length limit to normal URL restrictions, since &lt;a href=&quot;https://stackoverflow.com/a/417184/1256624&quot;&gt;8KB is a reasonable lower limit&lt;/a&gt; for “normal” browsers these days, so 7k characters &lt;em&gt;should&lt;/em&gt; be safe. Pasting the same link into Safari directly works fine!&lt;/p&gt;

&lt;p&gt;Thus, if you’re (ab)using this trick, caveat QRtor: do your own testing.&lt;/p&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    
      

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;1768&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 1768 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;Two QR codes, both version 40 (177 squares on each side). The one on the left uses base64, the one on the right .&lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v40-maxed-base64&quot; xlink:href=&quot;#qr-code-v40-maxed-base64&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(866 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v40-maxed-base10&quot; xlink:href=&quot;#qr-code-v40-maxed-base10&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;text class=&quot;hovering-text-qr bad&quot; dx=&quot;0&quot; filter=&quot;url(#blur-text)&quot;&gt;base64&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr good&quot; dx=&quot;866&quot; filter=&quot;url(#blur-text)&quot;&gt;decimal&lt;/text&gt;

&lt;/svg&gt;

    
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;Two maxed-out QR codes that both only slightly different to most humans, but you and I know the second one contains 33% more data.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&quot;summary&quot;&gt;Summary&lt;/h2&gt;

&lt;p&gt;Paying attention to the details of the QR code format allow being more efficient. The trick in this post is using the Decimal mode to store arbitrary binary data in URLs, with minimal overhead. This works because QR code modes allow packing particular character sets into the underlying QR bitstream efficiently.&lt;/p&gt;

&lt;p&gt;This allows reducing the density of a QR code to make it easier to scan, or jamming in more data.&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      

      

      

      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=39894148&quot;&gt;Hacker News&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://lobste.rs/s/maymyv/10_64_qr_codes&quot;&gt;Lobsters&lt;/a&gt;&lt;/li&gt;


      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=10%20%3E%2064,%20in%20QR%20codes&amp;amp;url=https://huonw.github.io/blog/2024/03/qr-base10-base64/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2024/03/qr-base10-base64/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2024/03/qr-base10-base64/&amp;amp;title=10%20%3E%2064,%20in%20QR%20codes&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;svg height=&quot;0&quot; viewBox=&quot;-20 -20 1270 882&quot; width=&quot;0&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; style=&quot;margin-top: 0&quot;&gt;
  &lt;defs&gt;
    &lt;g id=&quot;qr-code-v16-example-base64&quot; transform=&quot;scale(12.345679012345679)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;81&quot; width=&quot;81&quot; /&gt;&lt;path stroke=&quot;#000&quot; d=&quot;M0 0.5h7m3 0h1m1 0h1m2 0h2m2 0h1m1 0h1m1 0h1m2 0h7m2 0h2m1 0h1m2 0h2m1 0h7m2 0h1m1 0h1m1 0h2m2 0h1m3 0h2m1 0h2m4 0h7m-81 1h1m5 0h1m3 0h5m3 0h1m1 0h1m2 0h1m5 0h7m1 0h6m1 0h1m1 0h2m1 0h3m1 0h3m1 0h2m4 0h1m1 0h1m2 0h5m1 0h1m5 0h1m-81 1h1m1 0h3m1 0h1m1 0h2m1 0h3m2 0h2m1 0h1m4 0h1m1 0h1m1 0h1m3 0h1m1 0h1m1 0h1m1 0h1m2 0h3m1 0h11m3 0h1m1 0h3m2 0h3m1 0h1m1 0h1m1 0h1m1 0h3m1 0h1m-81 1h1m1 0h3m1 0h1m1 0h1m2 0h1m11 0h3m6 0h1m2 0h1m1 0h4m1 0h1m1 0h2m2 0h1m2 0h1m1 0h2m2 0h2m2 0h1m1 0h4m1 0h1m1 0h1m1 0h1m1 0h1m1 0h3m1 0h1m-81 1h1m1 0h3m1 0h1m2 0h2m1 0h2m1 0h1m2 0h1m2 0h8m3 0h1m1 0h1m1 0h1m3 0h1m1 0h1m1 0h11m1 0h2m1 0h2m3 0h3m7 0h1m1 0h3m1 0h1m-81 1h1m5 0h1m5 0h1m3 0h1m3 0h2m1 0h2m3 0h1m1 0h2m1 0h5m1 0h1m2 0h1m1 0h2m2 0h1m3 0h1m3 0h2m3 0h1m1 0h2m1 0h1m2 0h1m1 0h1m2 0h1m5 0h1m-81 1h7m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h7m-72 1h2m5 0h2m1 0h4m1 0h1m3 0h2m2 0h2m1 0h1m3 0h2m4 0h2m1 0h1m3 0h5m1 0h2m1 0h2m2 0h1m1 0h1m-65 1h2m1 0h2m1 0h1m1 0h1m1 0h1m5 0h1m1 0h9m2 0h2m1 0h6m5 0h1m1 0h5m1 0h3m1 0h1m1 0h1m1 0h2m2 0h6m5 0h2m-79 1h1m2 0h3m3 0h1m3 0h2m1 0h1m1 0h1m1 0h3m5 0h1m2 0h3m1 0h2m2 0h2m7 0h2m4 0h1m1 0h1m1 0h3m7 0h1m3 0h2m1 0h1m2 0h2m-79 1h4m1 0h1m1 0h1m1 0h2m1 0h1m2 0h3m2 0h4m2 0h3m2 0h2m2 0h2m3 0h4m2 0h3m2 0h2m2 0h1m1 0h1m1 0h2m2 0h2m1 0h1m2 0h2m1 0h4m1 0h3m-79 1h2m1 0h1m1 0h1m1 0h1m2 0h1m1 0h3m2 0h8m1 0h2m1 0h3m1 0h2m4 0h2m2 0h1m1 0h2m1 0h5m1 0h3m2 0h1m4 0h1m1 0h4m2 0h3m1 0h2m-80 1h1m2 0h1m1 0h2m5 0h3m1 0h5m1 0h2m2 0h3m1 0h3m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m4 0h1m2 0h1m3 0h2m1 0h1m1 0h1m1 0h1m1 0h5m1 0h1m1 0h5m4 0h1m-81 1h1m3 0h1m2 0h2m1 0h1m2 0h1m4 0h2m2 0h1m2 0h1m1 0h2m1 0h1m2 0h1m1 0h1m4 0h7m2 0h1m5 0h2m1 0h1m1 0h2m1 0h2m1 0h1m3 0h1m4 0h1m1 0h3m-80 1h1m1 0h1m2 0h3m2 0h1m2 0h2m2 0h6m1 0h3m2 0h1m4 0h1m2 0h3m2 0h1m1 0h1m1 0h1m1 0h1m3 0h1m2 0h1m3 0h1m2 0h3m2 0h1m4 0h1m7 0h1m-80 1h1m3 0h1m2 0h3m2 0h1m1 0h1m3 0h2m6 0h1m2 0h1m6 0h1m1 0h1m2 0h1m1 0h1m8 0h2m3 0h3m1 0h2m1 0h3m2 0h1m1 0h1m2 0h4m1 0h1m-80 1h2m1 0h3m1 0h1m3 0h2m1 0h1m1 0h1m1 0h2m1 0h1m2 0h1m1 0h2m2 0h1m6 0h1m1 0h1m2 0h1m2 0h1m3 0h2m1 0h1m2 0h1m2 0h2m2 0h1m1 0h1m2 0h3m3 0h2m1 0h1m2 0h1m-81 1h1m1 0h2m4 0h2m2 0h1m3 0h1m1 0h2m2 0h3m3 0h3m1 0h1m3 0h2m3 0h2m2 0h3m1 0h2m1 0h2m1 0h1m2 0h1m1 0h1m1 0h4m2 0h1m1 0h2m5 0h3m-80 1h9m1 0h2m5 0h2m1 0h2m5 0h1m4 0h1m2 0h1m1 0h1m2 0h3m1 0h2m1 0h1m1 0h2m2 0h1m2 0h1m3 0h1m3 0h2m1 0h1m3 0h4m1 0h1m1 0h3m-79 1h2m1 0h1m2 0h1m1 0h1m1 0h1m2 0h1m1 0h2m2 0h2m1 0h4m2 0h1m1 0h1m1 0h2m3 0h1m1 0h2m1 0h2m2 0h1m2 0h2m1 0h1m2 0h1m1 0h1m3 0h2m12 0h2m1 0h1m-81 1h5m1 0h1m6 0h1m1 0h2m1 0h1m3 0h1m1 0h1m1 0h1m5 0h2m10 0h1m2 0h2m1 0h1m2 0h5m2 0h1m1 0h4m1 0h2m1 0h2m1 0h1m2 0h2m1 0h1m-79 1h1m1 0h1m3 0h2m1 0h1m4 0h3m4 0h2m1 0h2m2 0h1m2 0h2m1 0h8m3 0h3m1 0h3m2 0h1m3 0h2m6 0h2m1 0h1m1 0h1m3 0h1m2 0h1m-79 1h1m1 0h1m2 0h1m2 0h5m1 0h1m2 0h3m1 0h3m1 0h3m2 0h1m1 0h1m1 0h1m1 0h1m3 0h1m2 0h3m1 0h1m2 0h1m1 0h1m1 0h2m1 0h2m8 0h1m1 0h1m3 0h1m3 0h3m-81 1h1m8 0h5m2 0h1m3 0h8m1 0h2m3 0h1m2 0h2m1 0h5m2 0h10m1 0h1m2 0h3m1 0h6m2 0h4m1 0h1m1 0h1m-81 1h1m1 0h1m1 0h8m1 0h2m2 0h1m3 0h2m1 0h7m2 0h1m1 0h5m1 0h2m1 0h1m2 0h6m2 0h1m1 0h3m1 0h8m1 0h1m1 0h5m1 0h1m1 0h1m-80 1h2m1 0h1m3 0h1m4 0h2m1 0h2m1 0h4m1 0h1m3 0h1m2 0h1m2 0h2m5 0h1m2 0h1m1 0h1m1 0h1m3 0h1m2 0h2m1 0h2m1 0h1m1 0h1m3 0h2m2 0h2m3 0h1m1 0h1m-79 1h1m1 0h1m1 0h1m1 0h1m1 0h1m2 0h1m1 0h1m2 0h2m2 0h2m2 0h1m1 0h1m1 0h8m2 0h1m1 0h1m1 0h1m1 0h2m1 0h2m1 0h1m1 0h1m3 0h5m1 0h1m2 0h3m4 0h1m1 0h1m1 0h1m1 0h1m-75 1h1m3 0h2m1 0h1m1 0h2m1 0h1m1 0h1m5 0h1m3 0h1m3 0h2m5 0h3m3 0h1m2 0h1m3 0h2m5 0h1m1 0h2m2 0h1m1 0h1m1 0h2m1 0h1m3 0h3m-78 1h1m2 0h5m2 0h2m2 0h8m1 0h6m2 0h1m2 0h4m1 0h1m1 0h1m1 0h1m2 0h8m1 0h2m1 0h1m3 0h1m4 0h2m2 0h6m2 0h1m-81 1h2m6 0h1m2 0h5m1 0h1m3 0h1m4 0h2m2 0h1m1 0h6m2 0h1m1 0h3m3 0h1m2 0h3m1 0h1m6 0h3m1 0h3m4 0h2m3 0h1m-79 1h1m3 0h1m1 0h1m1 0h1m2 0h1m6 0h2m1 0h1m1 0h2m1 0h1m1 0h3m2 0h3m4 0h1m1 0h1m3 0h1m1 0h1m2 0h2m2 0h5m1 0h1m1 0h1m1 0h1m3 0h1m1 0h1m2 0h2m1 0h1m2 0h1m-80 1h4m4 0h3m2 0h1m1 0h1m3 0h1m1 0h3m1 0h1m2 0h4m1 0h2m1 0h1m1 0h2m1 0h2m4 0h1m2 0h3m1 0h1m2 0h2m1 0h1m2 0h3m1 0h2m1 0h2m1 0h2m1 0h3m-78 1h2m2 0h3m1 0h1m1 0h1m1 0h2m1 0h3m1 0h2m3 0h2m2 0h1m2 0h1m1 0h3m4 0h3m1 0h2m1 0h1m2 0h1m1 0h2m6 0h2m1 0h5m6 0h1m1 0h3m-81 1h1m4 0h1m2 0h1m1 0h1m7 0h1m1 0h1m1 0h2m3 0h2m3 0h1m1 0h1m3 0h1m1 0h1m3 0h1m1 0h4m1 0h1m7 0h1m2 0h1m1 0h1m1 0h3m1 0h3m4 0h2m-78 1h3m2 0h4m1 0h6m3 0h3m1 0h5m3 0h1m1 0h4m2 0h1m1 0h1m1 0h4m2 0h1m2 0h1m2 0h1m2 0h2m5 0h1m2 0h2m1 0h1m2 0h2m1 0h3m-81 1h1m1 0h1m1 0h1m3 0h1m1 0h3m5 0h4m1 0h1m1 0h3m2 0h5m2 0h2m1 0h2m2 0h2m3 0h11m1 0h1m4 0h1m3 0h1m1 0h2m1 0h2m1 0h3m-81 1h1m4 0h5m1 0h1m1 0h1m2 0h2m3 0h3m1 0h1m1 0h5m2 0h1m4 0h1m2 0h2m1 0h2m4 0h2m2 0h1m4 0h1m1 0h2m3 0h1m3 0h1m1 0h2m1 0h1m1 0h1m1 0h1m-79 1h2m5 0h1m1 0h1m1 0h1m2 0h1m7 0h4m1 0h2m1 0h3m2 0h1m1 0h3m1 0h1m1 0h3m3 0h2m2 0h2m1 0h2m1 0h2m3 0h3m1 0h1m1 0h1m1 0h1m2 0h1m-78 1h2m1 0h1m1 0h3m1 0h1m2 0h1m6 0h1m3 0h3m2 0h3m5 0h4m4 0h1m1 0h2m1 0h2m8 0h4m1 0h2m1 0h3m4 0h1m1 0h2m-78 1h2m1 0h3m3 0h2m1 0h3m1 0h2m2 0h5m2 0h1m2 0h1m2 0h2m4 0h1m1 0h2m1 0h3m2 0h4m18 0h2m1 0h1m2 0h2m-76 1h1m2 0h3m1 0h1m2 0h2m1 0h1m1 0h1m2 0h2m3 0h1m1 0h2m1 0h4m2 0h4m2 0h1m2 0h1m1 0h1m3 0h1m3 0h1m3 0h7m1 0h1m4 0h1m4 0h3m-80 1h2m7 0h1m3 0h1m3 0h2m2 0h1m2 0h1m2 0h1m1 0h4m4 0h1m1 0h3m2 0h1m3 0h1m2 0h2m1 0h1m7 0h3m1 0h2m1 0h3m2 0h2m1 0h1m-79 1h2m1 0h1m2 0h1m2 0h1m1 0h1m2 0h7m1 0h1m5 0h2m1 0h1m1 0h1m3 0h1m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m1 0h1m2 0h1m6 0h1m1 0h3m2 0h3m1 0h1m2 0h2m2 0h1m1 0h1m-81 1h6m2 0h4m4 0h2m1 0h2m2 0h1m2 0h2m1 0h2m7 0h1m4 0h4m1 0h2m1 0h1m1 0h1m1 0h1m1 0h1m3 0h1m2 0h1m1 0h2m1 0h4m1 0h1m2 0h3m-79 1h1m3 0h2m2 0h3m4 0h3m1 0h1m1 0h1m1 0h2m2 0h2m2 0h2m1 0h3m1 0h1m2 0h2m1 0h1m1 0h1m1 0h1m2 0h2m1 0h1m1 0h2m1 0h1m2 0h3m1 0h2m1 0h5m1 0h1m2 0h1m-80 1h3m2 0h1m2 0h1m1 0h1m1 0h1m2 0h1m2 0h1m1 0h1m3 0h1m1 0h2m1 0h1m1 0h1m1 0h2m3 0h1m2 0h2m1 0h1m3 0h1m1 0h5m5 0h1m3 0h1m3 0h1m3 0h1m1 0h1m1 0h1m2 0h1m-78 1h2m1 0h2m1 0h1m3 0h1m1 0h2m1 0h2m2 0h5m2 0h2m3 0h1m3 0h2m3 0h1m1 0h1m3 0h1m1 0h2m1 0h1m2 0h1m1 0h1m1 0h3m3 0h5m2 0h1m4 0h3m-80 1h4m3 0h1m1 0h1m1 0h1m2 0h2m2 0h1m1 0h2m2 0h2m1 0h2m4 0h1m1 0h5m2 0h5m1 0h1m1 0h2m1 0h3m1 0h2m2 0h2m1 0h4m3 0h2m1 0h1m2 0h1m1 0h1m-81 1h3m1 0h7m1 0h3m3 0h1m1 0h2m2 0h5m1 0h2m5 0h2m1 0h1m1 0h3m1 0h1m1 0h5m2 0h1m1 0h3m2 0h2m1 0h6m1 0h5m1 0h2m-80 1h1m2 0h2m3 0h1m4 0h1m1 0h1m2 0h2m1 0h2m1 0h1m3 0h3m3 0h1m3 0h2m1 0h5m1 0h2m3 0h5m3 0h2m2 0h1m3 0h1m3 0h1m3 0h1m1 0h1m-77 1h1m1 0h1m1 0h1m1 0h5m3 0h1m1 0h1m2 0h2m1 0h1m1 0h1m1 0h1m1 0h1m4 0h1m1 0h1m1 0h1m1 0h2m2 0h1m1 0h2m1 0h1m1 0h1m4 0h1m1 0h2m1 0h1m1 0h4m3 0h2m1 0h1m1 0h2m1 0h1m-76 1h1m3 0h2m2 0h2m3 0h1m1 0h1m2 0h3m3 0h1m1 0h6m1 0h1m1 0h2m6 0h2m3 0h4m1 0h2m2 0h1m1 0h1m5 0h2m1 0h1m3 0h5m-81 1h3m1 0h5m1 0h1m1 0h4m1 0h4m3 0h5m1 0h3m1 0h1m3 0h1m1 0h5m3 0h7m1 0h2m1 0h1m1 0h6m1 0h1m3 0h6m-78 1h4m6 0h3m1 0h2m1 0h2m1 0h1m1 0h3m9 0h2m2 0h9m1 0h2m1 0h1m4 0h1m3 0h1m4 0h1m1 0h1m2 0h1m5 0h2m1 0h2m-81 1h2m2 0h3m2 0h2m7 0h1m1 0h3m4 0h2m2 0h2m2 0h3m1 0h1m4 0h6m1 0h1m2 0h1m4 0h1m1 0h1m2 0h1m3 0h2m1 0h2m3 0h1m1 0h1m1 0h1m-81 1h2m2 0h2m5 0h2m1 0h1m1 0h1m2 0h1m1 0h2m3 0h5m2 0h1m3 0h3m1 0h3m4 0h2m1 0h1m9 0h1m1 0h3m3 0h1m1 0h1m2 0h2m1 0h3m-78 1h2m2 0h3m3 0h2m1 0h3m2 0h3m2 0h1m3 0h1m1 0h2m1 0h1m2 0h4m3 0h3m3 0h1m3 0h5m1 0h2m1 0h1m2 0h5m5 0h3m1 0h1m-81 1h2m7 0h5m2 0h1m1 0h1m1 0h1m1 0h4m1 0h1m1 0h1m2 0h1m2 0h1m1 0h1m7 0h1m1 0h3m1 0h1m1 0h2m3 0h3m1 0h1m1 0h1m6 0h2m1 0h3m-77 1h2m1 0h2m1 0h3m1 0h3m1 0h2m1 0h2m3 0h2m3 0h1m3 0h1m2 0h1m1 0h1m1 0h1m3 0h5m3 0h1m2 0h1m2 0h5m1 0h1m1 0h1m5 0h2m6 0h3m-77 1h2m4 0h5m1 0h1m1 0h1m1 0h2m1 0h2m1 0h2m1 0h1m2 0h1m2 0h1m3 0h3m1 0h1m1 0h2m3 0h1m1 0h2m1 0h1m3 0h1m3 0h1m3 0h1m1 0h4m5 0h3m-81 1h2m1 0h2m1 0h1m1 0h1m2 0h2m4 0h1m1 0h1m2 0h1m2 0h1m1 0h1m1 0h2m1 0h2m2 0h1m5 0h1m1 0h2m1 0h2m3 0h5m1 0h6m1 0h1m1 0h2m3 0h1m1 0h2m2 0h1m-77 1h1m2 0h1m3 0h1m2 0h2m2 0h3m1 0h1m1 0h3m3 0h1m2 0h3m1 0h1m1 0h2m3 0h2m1 0h1m1 0h1m1 0h1m2 0h1m1 0h1m3 0h1m1 0h2m1 0h1m4 0h2m1 0h1m1 0h3m1 0h1m1 0h1m-76 1h3m1 0h2m5 0h1m2 0h3m2 0h1m1 0h2m1 0h2m1 0h5m2 0h3m3 0h1m1 0h2m7 0h3m1 0h1m1 0h1m1 0h3m1 0h1m1 0h1m3 0h2m1 0h1m-76 1h2m4 0h6m1 0h2m2 0h5m1 0h2m1 0h10m2 0h1m2 0h2m3 0h2m1 0h1m1 0h1m2 0h1m1 0h2m4 0h3m1 0h1m2 0h2m2 0h1m2 0h1m1 0h2m-80 1h1m2 0h1m1 0h1m2 0h6m1 0h2m3 0h1m1 0h2m1 0h1m3 0h2m1 0h4m1 0h2m1 0h1m3 0h2m3 0h1m1 0h2m2 0h1m2 0h1m1 0h1m1 0h2m4 0h1m2 0h8m-80 1h1m1 0h1m1 0h2m1 0h2m4 0h1m2 0h1m3 0h2m4 0h1m1 0h2m1 0h3m1 0h1m3 0h3m1 0h1m3 0h3m1 0h1m2 0h3m1 0h1m3 0h2m1 0h1m4 0h1m1 0h1m2 0h2m1 0h3m-81 1h3m1 0h1m1 0h1m2 0h2m1 0h1m1 0h4m1 0h3m2 0h1m1 0h1m1 0h2m1 0h2m4 0h1m2 0h1m1 0h1m2 0h2m2 0h3m1 0h2m1 0h1m2 0h2m10 0h1m1 0h3m1 0h2m1 0h1m-81 1h2m2 0h1m2 0h1m2 0h3m1 0h1m2 0h1m2 0h1m3 0h1m3 0h2m1 0h3m1 0h2m2 0h1m1 0h2m2 0h4m1 0h1m1 0h1m1 0h2m9 0h3m2 0h1m6 0h3m-80 1h2m3 0h4m1 0h1m1 0h2m3 0h1m2 0h1m1 0h2m2 0h2m1 0h2m1 0h3m2 0h2m4 0h1m4 0h2m2 0h1m4 0h1m4 0h2m2 0h4m2 0h1m6 0h1m-80 1h1m1 0h4m3 0h4m5 0h3m2 0h1m1 0h2m2 0h5m1 0h2m2 0h7m1 0h2m3 0h2m1 0h1m3 0h2m1 0h1m1 0h1m6 0h1m2 0h1m1 0h1m1 0h1m-78 1h3m2 0h1m2 0h4m1 0h1m1 0h1m1 0h1m3 0h1m2 0h3m1 0h1m1 0h1m1 0h1m1 0h2m1 0h2m3 0h8m1 0h1m1 0h3m1 0h4m1 0h2m1 0h2m3 0h1m1 0h1m3 0h1m1 0h2m-80 1h1m3 0h1m1 0h2m2 0h1m2 0h1m3 0h1m8 0h1m3 0h4m3 0h1m5 0h1m1 0h1m1 0h1m1 0h2m4 0h4m1 0h1m1 0h3m1 0h4m1 0h1m1 0h1m3 0h1m1 0h1m-80 1h3m2 0h4m2 0h2m3 0h1m2 0h3m1 0h5m2 0h1m1 0h5m3 0h2m1 0h1m1 0h7m1 0h1m1 0h2m1 0h1m3 0h1m2 0h2m1 0h1m1 0h6m-69 1h1m2 0h2m1 0h1m1 0h1m3 0h1m1 0h1m1 0h1m3 0h1m2 0h1m2 0h1m1 0h1m2 0h4m2 0h1m1 0h2m3 0h2m7 0h2m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m3 0h4m-80 1h7m1 0h1m3 0h1m1 0h7m1 0h1m1 0h1m1 0h1m1 0h1m4 0h1m3 0h1m9 0h2m1 0h1m1 0h2m3 0h1m1 0h1m5 0h1m1 0h2m2 0h2m1 0h1m1 0h3m-79 1h1m5 0h1m2 0h1m5 0h1m1 0h3m1 0h1m1 0h2m3 0h7m3 0h1m2 0h1m1 0h1m1 0h4m3 0h1m1 0h2m1 0h7m1 0h2m2 0h1m1 0h2m3 0h1m1 0h2m-80 1h1m1 0h3m1 0h1m1 0h3m1 0h4m5 0h1m1 0h7m3 0h2m2 0h2m1 0h4m2 0h1m1 0h7m2 0h1m1 0h3m1 0h1m2 0h1m3 0h8m2 0h1m-81 1h1m1 0h3m1 0h1m1 0h3m5 0h3m1 0h1m8 0h2m3 0h7m1 0h1m1 0h1m1 0h3m3 0h1m1 0h3m5 0h1m2 0h2m3 0h1m1 0h4m1 0h1m-78 1h1m1 0h3m1 0h1m2 0h3m3 0h2m1 0h2m2 0h5m2 0h1m1 0h4m2 0h4m3 0h1m1 0h3m1 0h2m2 0h2m1 0h1m1 0h2m2 0h1m3 0h1m3 0h1m1 0h2m1 0h1m1 0h3m-81 1h1m5 0h1m2 0h1m2 0h1m1 0h1m2 0h1m1 0h2m3 0h5m1 0h1m1 0h3m2 0h1m1 0h2m2 0h1m1 0h1m1 0h1m2 0h1m1 0h1m1 0h2m1 0h1m4 0h3m1 0h1m3 0h2m2 0h1m2 0h4m-81 1h7m2 0h1m4 0h2m1 0h1m2 0h2m1 0h3m1 0h2m3 0h1m1 0h2m1 0h1m2 0h2m1 0h2m3 0h2m2 0h1m2 0h1m1 0h2m2 0h1m1 0h3m1 0h7m1 0h2&quot; /&gt;
    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v14-example-base39&quot; transform=&quot;scale(13.698630136986301)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;73&quot; width=&quot;73&quot; /&gt;&lt;path stroke=&quot;#000&quot; d=&quot;M0 0.5h7m2 0h2m1 0h1m1 0h4m1 0h1m4 0h3m4 0h2m1 0h2m1 0h7m4 0h2m1 0h3m1 0h1m2 0h1m2 0h2m1 0h1m1 0h7m-73 1h1m5 0h1m3 0h2m1 0h2m1 0h2m2 0h1m2 0h2m2 0h1m1 0h4m2 0h7m2 0h4m4 0h1m2 0h3m1 0h4m3 0h1m5 0h1m-73 1h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h2m3 0h1m1 0h3m3 0h1m1 0h4m2 0h1m2 0h1m1 0h4m1 0h1m1 0h3m5 0h2m3 0h1m1 0h2m4 0h1m1 0h3m1 0h1m-73 1h1m1 0h3m1 0h1m1 0h3m1 0h1m1 0h1m2 0h4m1 0h2m2 0h1m1 0h1m1 0h2m3 0h1m1 0h1m1 0h3m2 0h1m1 0h3m1 0h1m1 0h2m1 0h2m1 0h6m2 0h1m1 0h3m1 0h1m-73 1h1m1 0h3m1 0h1m2 0h1m2 0h6m1 0h2m1 0h7m2 0h2m1 0h2m2 0h1m1 0h1m2 0h6m3 0h4m5 0h1m1 0h2m1 0h1m1 0h3m1 0h1m-73 1h1m5 0h1m2 0h1m3 0h1m1 0h1m1 0h2m1 0h1m3 0h1m3 0h1m2 0h1m6 0h2m1 0h1m1 0h2m3 0h4m4 0h1m2 0h2m1 0h1m3 0h1m5 0h1m-73 1h7m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h7m-62 1h1m1 0h4m1 0h7m3 0h2m4 0h2m3 0h2m1 0h3m3 0h1m1 0h5m3 0h1m1 0h3m-60 1h2m1 0h2m1 0h2m2 0h1m2 0h5m1 0h7m1 0h1m1 0h1m7 0h2m2 0h8m1 0h1m1 0h2m5 0h3m4 0h2m-71 1h1m7 0h1m3 0h1m2 0h1m1 0h1m1 0h1m1 0h2m1 0h3m2 0h2m1 0h1m2 0h1m3 0h1m1 0h1m5 0h1m2 0h2m6 0h2m1 0h1m4 0h1m3 0h1m-70 1h10m2 0h1m1 0h1m1 0h1m7 0h1m2 0h4m2 0h2m1 0h2m1 0h1m2 0h7m1 0h1m2 0h1m6 0h1m3 0h1m1 0h1m1 0h1m1 0h1m-72 1h2m1 0h1m1 0h1m1 0h2m2 0h2m2 0h2m4 0h1m1 0h1m2 0h3m1 0h2m2 0h3m4 0h1m2 0h1m1 0h1m1 0h1m2 0h1m1 0h2m4 0h1m1 0h1m4 0h1m2 0h2m1 0h1m-72 1h3m2 0h1m2 0h1m8 0h3m2 0h1m4 0h2m1 0h1m2 0h5m1 0h1m1 0h5m2 0h2m1 0h2m1 0h5m4 0h1m1 0h1m1 0h3m-71 1h3m2 0h1m2 0h1m1 0h1m3 0h2m1 0h3m2 0h1m1 0h4m2 0h5m5 0h4m1 0h1m1 0h1m1 0h1m1 0h2m7 0h1m1 0h1m2 0h1m1 0h1m1 0h1m1 0h2m-73 1h7m1 0h1m1 0h3m1 0h1m2 0h1m1 0h4m2 0h2m1 0h1m4 0h2m1 0h2m1 0h3m1 0h1m1 0h3m2 0h2m1 0h2m1 0h1m2 0h1m3 0h6m-68 1h2m1 0h2m5 0h1m1 0h1m1 0h1m2 0h1m1 0h3m1 0h2m1 0h2m3 0h3m1 0h1m5 0h2m1 0h1m1 0h2m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h1m4 0h2m1 0h1m1 0h1m-70 1h5m1 0h1m2 0h1m1 0h1m2 0h1m1 0h1m1 0h2m3 0h3m2 0h3m1 0h1m1 0h1m1 0h1m3 0h1m1 0h3m2 0h1m5 0h2m1 0h1m1 0h2m1 0h3m2 0h2m-70 1h1m2 0h1m2 0h1m1 0h1m2 0h1m3 0h1m1 0h2m3 0h2m4 0h1m1 0h3m3 0h1m1 0h2m1 0h1m5 0h1m1 0h1m2 0h1m3 0h3m6 0h5m1 0h1m-73 1h3m1 0h1m1 0h1m1 0h1m1 0h4m3 0h1m2 0h4m2 0h1m2 0h1m2 0h1m3 0h1m3 0h1m3 0h1m1 0h2m2 0h2m3 0h1m1 0h1m1 0h4m1 0h3m5 0h1m-72 1h1m2 0h1m2 0h2m2 0h1m1 0h1m1 0h2m2 0h1m5 0h1m1 0h3m1 0h3m2 0h1m1 0h4m1 0h4m1 0h1m2 0h1m2 0h1m1 0h1m2 0h1m1 0h2m9 0h1m-72 1h2m2 0h2m6 0h3m3 0h1m1 0h2m1 0h1m1 0h2m4 0h2m1 0h1m1 0h3m1 0h2m4 0h1m1 0h7m1 0h1m2 0h2m4 0h1m2 0h1m-70 1h3m1 0h1m2 0h1m1 0h2m1 0h1m1 0h1m1 0h2m2 0h1m1 0h1m3 0h2m1 0h2m1 0h1m2 0h3m2 0h2m4 0h3m2 0h2m1 0h1m1 0h1m1 0h1m2 0h1m3 0h2m3 0h1m1 0h1m-72 1h1m3 0h3m3 0h1m1 0h3m2 0h2m3 0h1m3 0h1m2 0h1m1 0h3m1 0h2m2 0h2m2 0h2m1 0h1m11 0h2m3 0h4m1 0h1m2 0h1m-71 1h1m1 0h1m2 0h2m3 0h3m2 0h5m4 0h1m1 0h2m2 0h3m1 0h1m1 0h2m2 0h1m1 0h2m1 0h1m4 0h2m1 0h2m1 0h1m6 0h2m1 0h5m-73 1h2m2 0h6m2 0h1m1 0h1m1 0h1m2 0h1m1 0h9m5 0h1m1 0h2m3 0h7m3 0h1m1 0h3m1 0h2m4 0h6m1 0h1m-72 1h1m1 0h1m1 0h1m3 0h2m4 0h1m2 0h1m2 0h1m1 0h3m3 0h1m2 0h1m1 0h1m3 0h6m1 0h1m3 0h2m1 0h2m1 0h3m1 0h1m2 0h1m1 0h2m3 0h2m1 0h2m-73 1h1m1 0h3m1 0h1m1 0h2m6 0h2m2 0h1m2 0h2m1 0h1m1 0h2m1 0h4m2 0h2m2 0h1m2 0h1m1 0h1m1 0h2m1 0h1m1 0h1m1 0h2m1 0h2m3 0h2m1 0h1m1 0h1m1 0h2m-68 1h1m3 0h3m1 0h4m3 0h1m1 0h2m1 0h1m3 0h2m1 0h1m2 0h1m4 0h4m1 0h1m3 0h5m1 0h4m1 0h1m3 0h2m3 0h1m1 0h3m-71 1h7m1 0h3m2 0h2m1 0h3m1 0h1m1 0h5m2 0h1m4 0h2m2 0h2m2 0h6m1 0h7m1 0h1m4 0h9m-72 1h2m1 0h1m2 0h5m1 0h2m2 0h2m2 0h4m1 0h1m3 0h3m2 0h1m2 0h1m1 0h2m3 0h2m1 0h1m1 0h1m2 0h1m1 0h2m4 0h3m1 0h1m3 0h1m1 0h2m-73 1h1m1 0h5m1 0h2m1 0h1m1 0h2m2 0h1m1 0h2m1 0h1m1 0h1m1 0h1m1 0h2m1 0h4m1 0h4m6 0h2m1 0h1m4 0h2m4 0h3m2 0h2m3 0h1m1 0h1m-73 1h3m4 0h2m2 0h1m1 0h1m1 0h3m6 0h4m3 0h1m1 0h3m1 0h3m1 0h1m1 0h4m1 0h1m1 0h4m2 0h1m2 0h1m1 0h1m1 0h1m1 0h2m2 0h1m-70 1h3m1 0h1m1 0h1m2 0h1m1 0h2m3 0h2m2 0h3m2 0h1m1 0h4m2 0h1m2 0h1m1 0h3m1 0h1m2 0h3m1 0h1m3 0h1m1 0h1m1 0h2m1 0h2m2 0h2m1 0h1m1 0h1m1 0h1m-71 1h2m2 0h1m2 0h1m1 0h2m6 0h3m1 0h2m1 0h1m5 0h1m3 0h1m4 0h1m1 0h2m1 0h4m3 0h2m5 0h1m2 0h3m1 0h1m3 0h1m1 0h1m-73 1h5m1 0h1m4 0h2m1 0h2m1 0h2m1 0h1m3 0h1m2 0h1m1 0h2m1 0h1m1 0h2m2 0h1m2 0h1m2 0h1m2 0h1m2 0h4m2 0h1m1 0h1m1 0h1m3 0h1m2 0h1m-68 1h2m2 0h2m2 0h2m2 0h1m5 0h2m1 0h1m3 0h1m2 0h3m1 0h1m1 0h1m4 0h2m1 0h1m1 0h1m1 0h2m1 0h1m2 0h1m2 0h2m6 0h2m1 0h1m4 0h2m-70 1h5m2 0h1m3 0h1m4 0h3m2 0h3m6 0h2m2 0h2m1 0h3m1 0h1m2 0h2m2 0h1m2 0h3m1 0h3m1 0h4m-65 1h1m2 0h2m2 0h1m1 0h1m1 0h2m3 0h2m1 0h2m1 0h1m1 0h1m1 0h2m1 0h1m1 0h6m4 0h5m2 0h1m1 0h1m2 0h2m2 0h2m3 0h1m1 0h2m3 0h3m-73 1h1m2 0h1m2 0h1m1 0h2m2 0h2m1 0h1m1 0h1m3 0h2m4 0h3m2 0h7m2 0h1m1 0h2m3 0h1m5 0h2m5 0h1m2 0h2m1 0h3m1 0h1m-72 1h1m2 0h2m2 0h2m1 0h1m4 0h2m2 0h1m1 0h2m3 0h1m3 0h1m2 0h1m1 0h1m1 0h2m2 0h1m2 0h1m4 0h1m4 0h2m1 0h3m2 0h2m1 0h3m1 0h1m2 0h1m-72 1h1m3 0h2m2 0h2m3 0h4m1 0h1m2 0h1m1 0h1m3 0h5m1 0h4m2 0h2m1 0h1m3 0h1m1 0h3m2 0h1m2 0h4m3 0h2m1 0h3m2 0h1m-72 1h1m2 0h1m2 0h1m4 0h1m1 0h1m1 0h2m1 0h1m1 0h2m2 0h1m1 0h2m6 0h2m3 0h1m2 0h5m3 0h2m1 0h3m2 0h2m4 0h1m1 0h1m4 0h1m-73 1h1m3 0h7m1 0h1m1 0h2m2 0h1m2 0h2m1 0h1m1 0h5m1 0h2m1 0h1m1 0h2m2 0h1m2 0h1m2 0h1m2 0h1m1 0h1m6 0h1m6 0h3m3 0h1m-73 1h1m3 0h1m3 0h1m1 0h3m6 0h3m1 0h1m1 0h2m1 0h2m1 0h3m2 0h7m1 0h6m2 0h2m6 0h2m1 0h1m1 0h3m2 0h2m-72 1h1m1 0h7m3 0h1m2 0h5m3 0h7m1 0h1m2 0h2m2 0h3m2 0h6m1 0h3m2 0h4m5 0h5m1 0h1m-71 1h1m2 0h2m3 0h1m2 0h3m2 0h1m1 0h5m1 0h1m3 0h1m4 0h4m4 0h1m2 0h1m3 0h1m4 0h2m4 0h2m1 0h3m3 0h1m1 0h2m-72 1h1m3 0h1m1 0h1m1 0h4m1 0h1m1 0h1m1 0h1m2 0h5m1 0h1m1 0h1m1 0h1m1 0h2m1 0h2m3 0h1m2 0h2m1 0h1m1 0h1m4 0h2m1 0h1m1 0h1m2 0h1m2 0h1m1 0h1m1 0h5m-72 1h1m2 0h1m3 0h7m1 0h5m2 0h2m3 0h1m3 0h1m1 0h1m2 0h1m1 0h1m1 0h1m1 0h2m3 0h1m3 0h2m1 0h1m1 0h1m4 0h3m3 0h1m2 0h1m-72 1h1m2 0h8m1 0h2m1 0h2m5 0h1m1 0h6m2 0h4m1 0h6m1 0h6m1 0h1m1 0h3m4 0h1m3 0h7m1 0h1m-72 1h1m3 0h1m2 0h1m3 0h1m1 0h1m4 0h1m1 0h1m2 0h4m1 0h2m3 0h2m2 0h1m4 0h5m1 0h2m1 0h1m1 0h2m1 0h1m1 0h1m1 0h2m1 0h1m3 0h2m-68 1h3m1 0h1m1 0h1m1 0h3m1 0h2m1 0h1m1 0h1m2 0h3m5 0h2m1 0h1m2 0h2m1 0h2m5 0h2m2 0h4m1 0h1m1 0h2m1 0h1m2 0h1m1 0h1m3 0h1m2 0h1m-73 1h2m1 0h3m1 0h1m1 0h1m1 0h3m3 0h1m2 0h2m2 0h6m3 0h2m2 0h1m2 0h1m1 0h4m1 0h1m3 0h3m1 0h1m1 0h7m3 0h1m1 0h1m1 0h2m-73 1h2m2 0h1m1 0h1m1 0h1m4 0h1m2 0h1m1 0h2m2 0h3m3 0h1m2 0h1m1 0h1m2 0h1m2 0h1m2 0h4m3 0h4m1 0h1m2 0h3m1 0h1m4 0h1m2 0h2m1 0h1m-72 1h1m1 0h1m1 0h1m1 0h5m1 0h2m1 0h2m2 0h1m3 0h1m1 0h1m3 0h1m1 0h1m5 0h1m2 0h7m7 0h1m1 0h2m1 0h1m2 0h1m3 0h1m1 0h3m-72 1h2m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m2 0h2m1 0h1m2 0h1m5 0h3m4 0h1m1 0h2m3 0h1m1 0h1m3 0h3m1 0h1m2 0h4m1 0h1m1 0h5m1 0h1m1 0h1m1 0h1m-73 1h1m1 0h3m2 0h1m1 0h1m1 0h1m2 0h1m1 0h1m2 0h2m1 0h1m1 0h1m1 0h1m2 0h3m2 0h2m3 0h3m1 0h2m4 0h4m1 0h1m1 0h1m2 0h1m1 0h4m1 0h3m2 0h1m-71 1h1m1 0h4m2 0h2m4 0h2m2 0h1m1 0h2m3 0h1m3 0h1m2 0h2m5 0h1m2 0h1m5 0h1m1 0h1m2 0h2m3 0h1m2 0h7m1 0h1m1 0h1m-71 1h1m1 0h2m2 0h1m1 0h3m4 0h2m3 0h1m1 0h1m1 0h2m1 0h2m1 0h3m1 0h6m4 0h1m2 0h2m1 0h5m1 0h2m3 0h3m1 0h2m1 0h2m-72 1h2m1 0h2m1 0h1m1 0h3m2 0h2m1 0h2m2 0h2m1 0h2m6 0h2m1 0h2m4 0h2m1 0h1m4 0h1m4 0h1m1 0h1m2 0h2m1 0h2m1 0h1m7 0h1m-73 1h3m2 0h1m2 0h4m1 0h1m1 0h2m2 0h1m2 0h2m1 0h3m1 0h4m2 0h1m1 0h1m1 0h1m1 0h4m6 0h1m1 0h1m3 0h2m2 0h1m3 0h1m1 0h3m2 0h1m-73 1h1m1 0h1m3 0h2m2 0h1m2 0h12m3 0h1m1 0h2m3 0h3m2 0h6m3 0h5m5 0h1m4 0h3m-67 1h3m1 0h2m2 0h4m1 0h1m1 0h1m1 0h1m2 0h1m2 0h3m1 0h2m1 0h1m5 0h3m1 0h1m1 0h1m2 0h1m1 0h1m2 0h4m1 0h2m1 0h2m1 0h1m1 0h3m2 0h1m2 0h1m-72 1h2m1 0h1m1 0h2m2 0h2m2 0h2m1 0h3m1 0h1m2 0h2m1 0h1m4 0h1m1 0h2m1 0h1m2 0h1m3 0h7m1 0h2m1 0h5m3 0h1m2 0h1m1 0h3m1 0h2m-70 1h2m2 0h1m1 0h2m1 0h1m3 0h3m2 0h1m2 0h3m1 0h1m3 0h1m1 0h2m1 0h3m1 0h1m2 0h2m2 0h1m2 0h1m5 0h2m2 0h2m1 0h4m1 0h3m-72 1h1m3 0h1m1 0h2m2 0h4m1 0h4m1 0h2m2 0h5m3 0h2m1 0h2m2 0h2m1 0h7m1 0h3m2 0h2m5 0h1m1 0h5m2 0h2m-65 1h3m2 0h1m1 0h2m2 0h1m1 0h1m1 0h2m3 0h2m1 0h1m2 0h1m1 0h2m3 0h1m1 0h2m3 0h1m2 0h2m1 0h1m2 0h5m1 0h2m3 0h1m-69 1h7m1 0h1m2 0h3m1 0h1m1 0h2m3 0h1m1 0h1m1 0h1m1 0h1m1 0h2m3 0h3m4 0h3m1 0h1m1 0h5m1 0h1m1 0h1m2 0h1m1 0h2m1 0h1m1 0h1m1 0h3m1 0h1m-73 1h1m5 0h1m5 0h1m1 0h1m1 0h3m1 0h3m1 0h1m3 0h1m7 0h1m1 0h2m2 0h1m1 0h1m3 0h1m1 0h5m1 0h2m1 0h1m1 0h2m1 0h1m3 0h4m-72 1h1m1 0h3m1 0h1m1 0h1m1 0h1m2 0h1m2 0h2m2 0h1m1 0h9m1 0h2m1 0h3m2 0h1m1 0h8m1 0h2m2 0h1m1 0h2m1 0h1m1 0h8m1 0h2m-73 1h1m1 0h3m1 0h1m1 0h1m2 0h3m2 0h2m1 0h1m2 0h1m1 0h2m1 0h8m5 0h1m3 0h1m1 0h1m3 0h2m3 0h4m1 0h2m2 0h1m7 0h1m-73 1h1m1 0h3m1 0h1m2 0h3m2 0h1m1 0h1m1 0h3m3 0h1m1 0h2m2 0h3m2 0h1m1 0h2m2 0h1m4 0h1m1 0h1m3 0h1m2 0h1m2 0h2m2 0h1m4 0h2m1 0h3m-73 1h1m5 0h1m2 0h1m1 0h2m2 0h1m2 0h2m1 0h1m1 0h1m2 0h1m1 0h1m1 0h3m1 0h4m1 0h4m1 0h1m2 0h2m1 0h2m3 0h1m2 0h2m1 0h1m1 0h4m3 0h3m-73 1h7m3 0h1m2 0h2m1 0h3m1 0h6m1 0h1m1 0h2m3 0h4m1 0h3m3 0h7m3 0h3m1 0h3m1 0h1m1 0h1m2 0h3m1 0h1&quot; /&gt;
    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v15-example-base36&quot; transform=&quot;scale(12.987012987012987)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;77&quot; width=&quot;77&quot; /&gt;&lt;path stroke=&quot;#000&quot; d=&quot;M0 0.5h7m1 0h1m5 0h2m1 0h1m2 0h6m3 0h3m2 0h2m1 0h5m3 0h4m2 0h2m1 0h1m1 0h2m1 0h1m2 0h1m7 0h7m-77 1h1m5 0h1m1 0h1m1 0h3m1 0h4m1 0h1m2 0h2m1 0h5m1 0h10m2 0h1m1 0h3m2 0h1m2 0h1m7 0h4m1 0h1m1 0h1m1 0h1m5 0h1m-77 1h1m1 0h3m1 0h1m4 0h2m1 0h1m2 0h2m7 0h1m1 0h1m1 0h1m3 0h3m8 0h1m1 0h2m1 0h2m1 0h1m1 0h2m2 0h1m3 0h1m4 0h1m1 0h1m1 0h3m1 0h1m-77 1h1m1 0h3m1 0h1m1 0h2m1 0h3m2 0h1m1 0h2m2 0h2m2 0h1m1 0h2m3 0h1m2 0h1m1 0h3m2 0h2m1 0h5m1 0h1m3 0h2m1 0h3m1 0h3m2 0h1m1 0h1m1 0h3m1 0h1m-77 1h1m1 0h3m1 0h1m1 0h3m1 0h1m2 0h1m1 0h2m1 0h1m1 0h1m1 0h8m3 0h1m1 0h1m3 0h1m3 0h11m4 0h1m3 0h5m1 0h1m1 0h3m1 0h1m-77 1h1m5 0h1m1 0h1m2 0h1m2 0h2m2 0h2m4 0h1m3 0h3m3 0h1m4 0h3m1 0h1m1 0h2m3 0h5m2 0h1m1 0h1m1 0h2m1 0h3m3 0h1m5 0h1m-77 1h7m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h7m-68 1h2m1 0h2m1 0h1m1 0h1m1 0h1m4 0h1m3 0h2m1 0h1m1 0h2m1 0h1m1 0h1m3 0h1m1 0h1m1 0h1m3 0h1m1 0h1m3 0h1m1 0h1m1 0h2m3 0h2m-64 1h1m2 0h1m2 0h1m1 0h1m2 0h1m5 0h3m1 0h5m1 0h1m1 0h1m2 0h1m2 0h2m3 0h1m1 0h6m2 0h1m2 0h1m1 0h5m2 0h4m2 0h3m1 0h2m-76 1h4m3 0h1m3 0h1m1 0h1m6 0h1m1 0h2m4 0h1m2 0h1m2 0h1m3 0h3m2 0h6m1 0h4m3 0h4m2 0h2m1 0h3m1 0h3m2 0h1m-77 1h5m1 0h4m3 0h2m1 0h6m1 0h2m2 0h2m4 0h1m3 0h2m1 0h1m3 0h2m2 0h2m2 0h2m1 0h2m3 0h1m1 0h2m1 0h2m5 0h1m1 0h2m-76 1h1m3 0h1m4 0h3m1 0h1m1 0h1m4 0h1m4 0h2m1 0h1m1 0h1m1 0h2m1 0h1m1 0h3m1 0h2m4 0h4m5 0h1m2 0h3m2 0h4m2 0h5m1 0h1m-75 1h1m1 0h1m1 0h3m3 0h4m1 0h1m1 0h2m2 0h2m4 0h1m3 0h3m1 0h3m1 0h4m6 0h1m1 0h1m1 0h1m2 0h1m2 0h2m1 0h1m1 0h2m2 0h1m1 0h3m1 0h1m-77 1h4m1 0h1m1 0h2m1 0h2m2 0h1m2 0h2m1 0h1m5 0h1m2 0h2m1 0h1m2 0h1m3 0h1m2 0h2m3 0h2m1 0h1m2 0h1m3 0h1m2 0h1m4 0h2m1 0h1m1 0h1m1 0h1m2 0h2m-77 1h1m5 0h3m2 0h2m2 0h1m2 0h3m1 0h2m3 0h2m1 0h4m1 0h1m1 0h2m2 0h1m3 0h3m3 0h1m1 0h2m3 0h1m4 0h2m1 0h3m1 0h3m3 0h1m-77 1h2m6 0h1m4 0h1m1 0h1m1 0h2m2 0h1m1 0h1m1 0h2m1 0h5m3 0h2m1 0h2m1 0h1m1 0h1m1 0h1m2 0h2m6 0h1m2 0h1m3 0h1m1 0h1m1 0h1m1 0h1m1 0h1m2 0h1m-76 1h3m2 0h3m1 0h2m1 0h1m1 0h1m1 0h9m1 0h2m2 0h2m1 0h1m1 0h1m1 0h3m5 0h1m7 0h1m1 0h1m6 0h1m3 0h1m4 0h5m-76 1h1m1 0h3m2 0h1m3 0h1m1 0h1m2 0h1m3 0h2m3 0h2m1 0h1m1 0h3m1 0h7m2 0h2m1 0h1m3 0h3m1 0h2m4 0h3m1 0h4m3 0h1m2 0h3m-77 1h2m3 0h2m4 0h2m1 0h3m3 0h1m3 0h1m2 0h1m1 0h5m5 0h2m1 0h1m2 0h1m2 0h4m3 0h2m3 0h1m1 0h1m2 0h1m5 0h3m2 0h1m-74 1h1m5 0h2m3 0h4m1 0h1m3 0h1m2 0h1m2 0h1m1 0h1m1 0h1m1 0h1m2 0h4m1 0h1m1 0h2m1 0h1m2 0h2m2 0h3m4 0h1m2 0h2m1 0h3m5 0h1m-75 1h1m2 0h4m2 0h1m8 0h1m3 0h1m1 0h1m1 0h2m1 0h1m1 0h4m2 0h5m3 0h1m2 0h1m2 0h1m2 0h1m1 0h2m1 0h2m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m-75 1h2m1 0h3m1 0h1m1 0h1m3 0h2m2 0h3m1 0h2m2 0h1m3 0h2m2 0h1m1 0h1m1 0h2m2 0h1m1 0h1m1 0h1m2 0h1m2 0h1m1 0h1m1 0h1m1 0h4m2 0h1m2 0h2m1 0h3m3 0h1m-74 1h8m2 0h1m1 0h4m2 0h1m1 0h2m1 0h1m1 0h1m3 0h1m4 0h1m2 0h1m1 0h1m1 0h1m1 0h1m1 0h1m6 0h1m1 0h1m3 0h1m1 0h1m2 0h1m1 0h1m1 0h1m5 0h2m-76 1h1m1 0h3m3 0h1m1 0h2m3 0h4m1 0h1m1 0h1m1 0h1m1 0h1m3 0h2m2 0h3m1 0h4m2 0h2m4 0h3m3 0h5m1 0h2m2 0h2m1 0h1m2 0h4m-77 1h1m2 0h6m1 0h1m1 0h3m1 0h4m2 0h8m1 0h5m1 0h1m1 0h1m3 0h2m1 0h7m3 0h1m4 0h1m1 0h2m3 0h5m3 0h1m-73 1h1m3 0h1m1 0h1m2 0h3m1 0h3m1 0h4m3 0h1m2 0h4m2 0h1m1 0h3m1 0h1m1 0h2m3 0h1m4 0h3m9 0h2m3 0h1m-73 1h5m1 0h1m1 0h1m1 0h2m1 0h3m1 0h1m3 0h1m2 0h1m1 0h1m1 0h7m3 0h2m3 0h4m1 0h1m1 0h5m2 0h5m1 0h1m1 0h4m1 0h1m1 0h1m2 0h2m-77 1h2m2 0h1m3 0h1m1 0h1m3 0h2m1 0h4m1 0h3m3 0h1m5 0h4m1 0h2m1 0h1m1 0h1m1 0h1m3 0h1m5 0h1m1 0h1m2 0h3m1 0h1m1 0h2m3 0h1m-73 1h1m2 0h7m1 0h3m10 0h6m4 0h2m3 0h2m1 0h1m1 0h1m1 0h8m1 0h1m4 0h3m1 0h2m2 0h6m1 0h1m-76 1h1m1 0h1m1 0h2m3 0h2m1 0h1m1 0h2m1 0h1m1 0h1m2 0h2m2 0h1m2 0h6m2 0h1m3 0h6m2 0h2m2 0h1m2 0h4m1 0h1m1 0h1m1 0h1m4 0h1m1 0h1m1 0h3m-76 1h1m3 0h3m1 0h1m6 0h1m2 0h1m1 0h2m3 0h6m2 0h4m1 0h1m3 0h1m1 0h4m2 0h1m4 0h6m2 0h1m2 0h2m3 0h3m1 0h1m-73 1h2m1 0h1m1 0h1m1 0h3m4 0h1m1 0h1m2 0h1m4 0h1m3 0h1m2 0h1m1 0h1m1 0h1m2 0h4m1 0h1m1 0h5m1 0h6m1 0h1m1 0h1m1 0h1m2 0h4m2 0h2m-76 1h1m2 0h3m1 0h1m2 0h4m1 0h10m1 0h1m1 0h1m3 0h1m4 0h7m1 0h1m2 0h1m2 0h3m5 0h1m1 0h1m1 0h4m1 0h2m1 0h1m1 0h3m-77 1h1m3 0h1m2 0h3m1 0h1m1 0h2m1 0h1m1 0h2m1 0h1m3 0h1m1 0h1m3 0h2m3 0h4m3 0h1m3 0h1m3 0h4m1 0h1m3 0h4m1 0h1m1 0h1m2 0h1m1 0h1m1 0h3m-77 1h2m1 0h2m1 0h1m1 0h1m4 0h2m2 0h3m1 0h1m1 0h1m2 0h1m3 0h2m3 0h3m1 0h4m3 0h5m1 0h1m1 0h1m2 0h1m1 0h1m1 0h4m1 0h2m2 0h3m1 0h1m-75 1h2m5 0h1m3 0h1m5 0h1m4 0h1m4 0h2m1 0h2m1 0h1m1 0h1m1 0h1m2 0h2m1 0h1m1 0h2m1 0h1m2 0h1m2 0h1m3 0h1m3 0h2m1 0h2m3 0h3m1 0h2m-76 1h2m1 0h2m1 0h1m1 0h3m2 0h2m3 0h1m3 0h1m1 0h7m1 0h1m1 0h1m4 0h2m1 0h1m3 0h2m2 0h1m2 0h1m3 0h1m4 0h2m6 0h3m3 0h1m-76 1h4m2 0h2m3 0h1m3 0h1m1 0h1m1 0h1m1 0h1m1 0h5m2 0h1m2 0h1m2 0h5m3 0h1m1 0h1m3 0h1m1 0h4m1 0h2m3 0h3m1 0h4m2 0h2m1 0h1m-76 1h1m1 0h5m1 0h1m5 0h5m1 0h2m6 0h1m1 0h3m1 0h1m3 0h1m2 0h1m1 0h6m2 0h1m2 0h1m3 0h1m1 0h1m1 0h3m1 0h6m1 0h1m1 0h1m-77 1h1m1 0h4m1 0h1m1 0h3m2 0h2m1 0h1m1 0h2m3 0h2m1 0h2m3 0h1m2 0h5m1 0h2m1 0h2m1 0h1m1 0h2m3 0h4m1 0h1m1 0h5m1 0h1m1 0h1m1 0h3m1 0h1m-76 1h1m1 0h2m1 0h3m1 0h2m1 0h3m2 0h2m1 0h3m2 0h2m1 0h3m3 0h3m3 0h1m1 0h1m2 0h1m2 0h6m2 0h1m2 0h2m2 0h1m3 0h3m1 0h6m-77 1h1m2 0h1m7 0h2m1 0h1m5 0h1m1 0h1m1 0h2m1 0h2m1 0h2m2 0h1m1 0h2m4 0h2m1 0h1m1 0h1m4 0h1m4 0h5m1 0h9m2 0h1m-75 1h2m1 0h4m1 0h2m1 0h1m1 0h1m1 0h4m2 0h2m2 0h2m1 0h1m1 0h2m3 0h2m2 0h3m1 0h2m2 0h4m1 0h2m1 0h1m2 0h1m4 0h1m4 0h1m1 0h2m1 0h2m1 0h1m-69 1h1m3 0h1m12 0h2m2 0h2m2 0h2m1 0h1m2 0h2m3 0h1m1 0h2m1 0h1m1 0h4m5 0h2m3 0h1m2 0h1m1 0h3m2 0h2m-77 1h1m2 0h1m1 0h3m2 0h1m1 0h2m1 0h2m3 0h3m4 0h4m1 0h2m2 0h1m1 0h1m3 0h3m1 0h1m2 0h3m1 0h2m1 0h2m1 0h1m1 0h2m1 0h1m2 0h3m2 0h1m-69 1h2m1 0h1m1 0h3m2 0h2m1 0h2m1 0h2m3 0h2m1 0h4m1 0h1m1 0h3m2 0h1m2 0h3m6 0h4m1 0h3m3 0h1m1 0h3m1 0h1m3 0h3m-76 1h3m1 0h6m1 0h1m3 0h2m2 0h1m1 0h2m1 0h5m1 0h1m4 0h1m1 0h1m3 0h2m3 0h5m2 0h1m1 0h1m1 0h1m1 0h3m1 0h1m1 0h2m1 0h5m2 0h2m-77 1h2m2 0h1m3 0h7m1 0h1m2 0h2m1 0h1m1 0h1m3 0h4m1 0h1m5 0h1m5 0h2m3 0h4m3 0h1m2 0h3m3 0h3m3 0h2m1 0h1m-76 1h2m1 0h2m1 0h1m1 0h1m5 0h1m2 0h1m2 0h1m2 0h2m1 0h1m1 0h2m1 0h2m3 0h1m1 0h1m2 0h1m2 0h1m1 0h1m1 0h1m1 0h3m1 0h3m5 0h2m1 0h1m2 0h1m1 0h1m1 0h1m3 0h1m-76 1h4m3 0h3m3 0h3m3 0h2m1 0h2m3 0h2m2 0h3m2 0h1m3 0h2m2 0h2m3 0h1m2 0h2m2 0h1m1 0h1m2 0h5m1 0h1m3 0h1m2 0h1m-72 1h6m1 0h4m1 0h1m1 0h1m1 0h1m2 0h7m1 0h2m3 0h1m4 0h3m1 0h7m4 0h3m1 0h1m2 0h1m2 0h7m3 0h1m-75 1h4m1 0h3m1 0h2m1 0h4m1 0h1m1 0h1m2 0h1m3 0h1m3 0h2m2 0h1m2 0h6m3 0h1m2 0h1m4 0h1m4 0h2m4 0h2m1 0h2m3 0h2m-72 1h3m1 0h4m1 0h2m1 0h2m2 0h1m1 0h2m2 0h1m4 0h1m2 0h1m1 0h1m3 0h1m1 0h2m2 0h2m1 0h1m1 0h1m2 0h1m1 0h3m2 0h2m1 0h1m1 0h3m4 0h3m-77 1h3m2 0h1m1 0h1m2 0h3m1 0h2m2 0h1m1 0h1m1 0h2m1 0h3m1 0h1m1 0h1m7 0h1m1 0h4m1 0h3m1 0h2m4 0h4m1 0h1m3 0h1m1 0h1m1 0h3m3 0h2m-76 1h3m1 0h6m1 0h2m1 0h6m1 0h1m2 0h2m3 0h1m1 0h1m1 0h3m5 0h2m3 0h1m4 0h2m1 0h1m1 0h1m2 0h4m3 0h1m1 0h2m2 0h2m1 0h1m-72 1h1m1 0h2m4 0h1m6 0h1m1 0h1m1 0h4m1 0h1m1 0h2m1 0h2m2 0h1m2 0h1m1 0h4m1 0h1m4 0h1m2 0h3m2 0h3m1 0h1m6 0h1m3 0h1m-75 1h1m3 0h2m1 0h1m4 0h1m7 0h2m1 0h1m2 0h2m2 0h2m3 0h1m1 0h1m4 0h2m2 0h2m3 0h2m2 0h4m3 0h4m1 0h2m3 0h3m-74 1h2m2 0h2m2 0h1m2 0h6m1 0h1m2 0h2m2 0h2m1 0h3m3 0h5m1 0h2m5 0h1m2 0h3m1 0h1m1 0h1m1 0h3m1 0h2m1 0h3m2 0h4m-74 1h1m2 0h1m1 0h3m1 0h2m1 0h2m4 0h2m6 0h2m5 0h1m2 0h1m2 0h1m1 0h1m4 0h1m2 0h2m1 0h4m4 0h1m2 0h3m1 0h1m3 0h2m-74 1h1m1 0h2m1 0h2m3 0h1m3 0h1m3 0h1m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m2 0h4m1 0h3m2 0h1m1 0h2m3 0h1m4 0h2m1 0h5m1 0h1m1 0h1m2 0h4m1 0h1m-77 1h9m2 0h1m3 0h2m3 0h3m1 0h1m1 0h4m1 0h1m1 0h2m4 0h2m3 0h2m1 0h1m1 0h5m1 0h6m1 0h3m2 0h4m2 0h1m2 0h1m-77 1h2m3 0h1m1 0h1m7 0h1m1 0h2m1 0h1m1 0h1m2 0h2m1 0h3m2 0h1m2 0h1m1 0h1m3 0h1m1 0h3m1 0h7m1 0h5m1 0h1m2 0h1m1 0h1m1 0h1m-69 1h3m1 0h6m1 0h3m1 0h2m4 0h4m1 0h4m4 0h1m1 0h1m4 0h1m2 0h4m2 0h4m1 0h2m3 0h4m2 0h1m1 0h1m1 0h2m1 0h3m-76 1h5m2 0h1m4 0h6m2 0h2m2 0h3m1 0h1m5 0h5m3 0h3m4 0h1m1 0h4m1 0h1m1 0h1m1 0h2m1 0h3m2 0h2m-71 1h1m1 0h3m1 0h3m1 0h1m1 0h1m1 0h5m3 0h1m1 0h2m4 0h1m2 0h3m2 0h3m2 0h1m1 0h1m1 0h3m3 0h1m1 0h2m2 0h2m1 0h8m2 0h2m1 0h2m-76 1h2m8 0h1m3 0h1m1 0h4m7 0h3m1 0h1m3 0h2m1 0h1m3 0h1m1 0h1m5 0h2m1 0h2m1 0h2m2 0h1m2 0h1m2 0h2m1 0h3m1 0h1m1 0h1m-76 1h1m2 0h3m3 0h1m2 0h1m6 0h1m1 0h4m2 0h1m2 0h2m1 0h1m2 0h1m2 0h1m2 0h3m1 0h1m1 0h4m2 0h1m1 0h5m2 0h2m4 0h1m2 0h1m1 0h2m-73 1h1m3 0h2m1 0h1m6 0h1m1 0h1m2 0h2m1 0h1m3 0h3m2 0h1m1 0h2m1 0h3m1 0h3m2 0h1m3 0h2m6 0h1m1 0h4m1 0h3m1 0h3m-74 1h4m1 0h2m1 0h2m1 0h2m1 0h2m3 0h1m1 0h1m1 0h5m2 0h4m1 0h3m3 0h12m2 0h1m3 0h1m1 0h1m1 0h1m3 0h5m3 0h1m-69 1h4m3 0h3m1 0h1m1 0h1m1 0h2m3 0h4m1 0h4m2 0h2m4 0h2m3 0h1m1 0h2m4 0h1m2 0h2m2 0h1m2 0h1m3 0h1m3 0h1m-77 1h7m2 0h1m1 0h2m1 0h3m2 0h2m3 0h1m1 0h1m1 0h1m4 0h4m1 0h2m1 0h1m3 0h2m1 0h1m1 0h3m1 0h2m2 0h2m3 0h1m1 0h2m1 0h1m1 0h1m1 0h2m1 0h1m-76 1h1m5 0h1m4 0h1m1 0h2m1 0h1m1 0h1m1 0h5m3 0h2m2 0h2m3 0h1m4 0h1m3 0h1m3 0h1m2 0h1m2 0h1m1 0h1m1 0h3m1 0h2m1 0h2m3 0h3m1 0h1m-77 1h1m1 0h3m1 0h1m2 0h3m1 0h1m1 0h2m3 0h11m3 0h2m2 0h2m1 0h1m1 0h2m1 0h10m1 0h3m2 0h1m2 0h1m2 0h9m-77 1h1m1 0h3m1 0h1m1 0h2m1 0h3m1 0h4m2 0h1m1 0h2m1 0h1m1 0h1m6 0h2m5 0h3m5 0h2m2 0h2m1 0h1m1 0h2m1 0h1m2 0h1m1 0h2m1 0h2m1 0h4m-77 1h1m1 0h3m1 0h1m4 0h1m2 0h1m2 0h4m1 0h1m1 0h2m2 0h1m1 0h2m2 0h1m2 0h1m7 0h2m2 0h5m1 0h2m2 0h6m1 0h1m2 0h1m1 0h2m1 0h1m1 0h1m-77 1h1m5 0h1m2 0h1m2 0h1m2 0h1m1 0h1m5 0h5m3 0h1m3 0h1m2 0h6m3 0h1m2 0h2m2 0h1m1 0h2m1 0h2m1 0h1m2 0h1m1 0h1m3 0h1m1 0h1m1 0h1m-76 1h7m6 0h1m1 0h3m2 0h1m2 0h1m4 0h2m2 0h3m1 0h1m4 0h1m2 0h1m3 0h1m2 0h1m1 0h2m1 0h1m3 0h1m1 0h1m1 0h2m2 0h1m1 0h2m3 0h1&quot; /&gt;
    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v15-example-base32&quot; transform=&quot;scale(12.987012987012987)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;77&quot; width=&quot;77&quot; /&gt;&lt;path stroke=&quot;#000&quot; d=&quot;M0 0.5h7m2 0h1m1 0h1m1 0h1m1 0h3m1 0h1m2 0h1m4 0h1m2 0h1m2 0h2m2 0h1m1 0h1m2 0h2m1 0h1m3 0h1m2 0h1m1 0h1m3 0h1m2 0h3m1 0h1m4 0h7m-77 1h1m5 0h1m2 0h1m3 0h1m1 0h2m1 0h1m1 0h2m1 0h2m5 0h1m7 0h3m2 0h1m1 0h3m1 0h1m1 0h3m3 0h3m5 0h2m1 0h1m1 0h1m5 0h1m-77 1h1m1 0h3m1 0h1m1 0h2m2 0h3m1 0h2m1 0h1m2 0h10m1 0h2m1 0h2m1 0h1m1 0h4m3 0h3m3 0h1m5 0h1m4 0h1m2 0h1m1 0h1m1 0h3m1 0h1m-77 1h1m1 0h3m1 0h1m1 0h1m1 0h1m3 0h12m1 0h2m1 0h3m1 0h2m1 0h1m2 0h1m2 0h1m1 0h3m1 0h3m2 0h1m1 0h1m1 0h2m1 0h2m5 0h1m1 0h1m1 0h3m1 0h1m-77 1h1m1 0h3m1 0h1m3 0h4m2 0h1m3 0h1m2 0h6m1 0h1m2 0h1m6 0h1m1 0h1m1 0h1m1 0h5m1 0h1m2 0h2m1 0h1m3 0h3m1 0h3m1 0h1m1 0h3m1 0h1m-77 1h1m5 0h1m2 0h2m1 0h2m4 0h5m1 0h1m3 0h1m2 0h3m1 0h4m2 0h1m1 0h1m1 0h2m3 0h1m2 0h1m2 0h1m1 0h1m1 0h2m1 0h1m2 0h1m3 0h1m5 0h1m-77 1h7m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h7m-66 1h2m1 0h2m1 0h1m5 0h2m3 0h1m1 0h1m1 0h1m4 0h1m1 0h3m4 0h1m3 0h2m3 0h2m2 0h1m2 0h3m2 0h2m-66 1h2m1 0h2m3 0h1m1 0h2m2 0h2m1 0h3m1 0h10m1 0h4m2 0h2m1 0h8m1 0h1m1 0h2m3 0h1m1 0h2m2 0h1m1 0h1m4 0h2m-75 1h1m3 0h2m2 0h3m2 0h1m1 0h2m4 0h1m1 0h1m1 0h2m3 0h2m1 0h6m1 0h1m4 0h5m6 0h3m4 0h1m2 0h1m5 0h1m1 0h1m-75 1h1m1 0h1m1 0h3m1 0h1m2 0h1m2 0h1m1 0h1m2 0h1m2 0h1m2 0h1m1 0h1m1 0h1m1 0h1m3 0h1m2 0h1m1 0h1m1 0h1m4 0h1m1 0h1m1 0h2m5 0h5m3 0h2m3 0h1m1 0h4m-76 1h3m1 0h1m1 0h1m6 0h6m2 0h1m1 0h1m5 0h2m2 0h1m1 0h1m3 0h1m2 0h5m3 0h2m3 0h1m6 0h1m4 0h5m3 0h1m-76 1h3m1 0h2m2 0h1m1 0h2m1 0h1m10 0h1m4 0h2m2 0h2m2 0h1m1 0h1m1 0h1m1 0h2m1 0h4m3 0h3m1 0h2m2 0h4m5 0h1m2 0h2m-76 1h2m5 0h3m3 0h1m5 0h1m1 0h2m2 0h1m2 0h2m1 0h1m1 0h2m2 0h3m1 0h1m1 0h6m2 0h2m1 0h1m1 0h4m1 0h1m1 0h5m2 0h1m2 0h4m-77 1h1m2 0h2m1 0h1m2 0h1m1 0h3m3 0h2m4 0h1m1 0h1m1 0h2m1 0h1m1 0h1m2 0h1m2 0h2m6 0h1m6 0h2m2 0h1m1 0h1m4 0h1m1 0h1m1 0h3m1 0h2m1 0h1m-75 1h3m1 0h1m2 0h3m3 0h2m5 0h4m3 0h1m1 0h7m1 0h4m1 0h3m1 0h1m2 0h3m1 0h3m1 0h2m1 0h1m1 0h1m3 0h1m2 0h1m2 0h4m-76 1h3m2 0h3m1 0h1m1 0h5m1 0h2m2 0h2m1 0h4m1 0h1m1 0h1m2 0h2m1 0h1m1 0h2m1 0h1m4 0h2m1 0h1m5 0h1m1 0h1m2 0h2m2 0h2m1 0h3m2 0h2m-76 1h1m4 0h1m2 0h3m3 0h1m2 0h4m1 0h3m5 0h1m1 0h2m2 0h1m4 0h2m1 0h2m1 0h1m1 0h1m3 0h2m1 0h2m1 0h1m1 0h1m1 0h1m1 0h2m1 0h1m1 0h1m2 0h1m1 0h2m-76 1h1m1 0h1m2 0h2m1 0h1m3 0h2m1 0h2m1 0h3m2 0h2m1 0h6m4 0h1m1 0h1m1 0h4m3 0h3m2 0h1m2 0h1m1 0h3m1 0h2m3 0h1m7 0h2m-77 1h1m1 0h1m5 0h6m1 0h2m1 0h2m1 0h3m1 0h1m2 0h1m1 0h1m1 0h6m1 0h1m2 0h1m4 0h3m8 0h4m1 0h3m1 0h1m1 0h2m1 0h4m-75 1h3m1 0h4m1 0h4m1 0h1m1 0h1m2 0h2m1 0h1m1 0h3m2 0h4m3 0h1m4 0h1m1 0h2m2 0h4m1 0h1m1 0h4m2 0h5m2 0h4m1 0h4m-75 1h1m6 0h1m5 0h1m3 0h1m4 0h1m1 0h2m2 0h2m2 0h1m1 0h1m2 0h1m2 0h1m3 0h2m1 0h1m2 0h1m3 0h1m4 0h2m1 0h2m2 0h1m4 0h2m1 0h1m-77 1h1m1 0h1m1 0h1m1 0h6m1 0h4m3 0h3m1 0h1m3 0h1m5 0h1m1 0h2m1 0h1m3 0h1m5 0h3m3 0h9m1 0h1m3 0h1m1 0h3m1 0h2m-76 1h2m4 0h1m2 0h2m1 0h4m2 0h1m2 0h1m3 0h1m1 0h7m3 0h1m1 0h1m2 0h1m3 0h2m4 0h1m1 0h2m1 0h1m2 0h2m3 0h1m2 0h1m1 0h2m2 0h2m-77 1h1m3 0h5m1 0h3m1 0h3m1 0h2m1 0h2m1 0h5m2 0h1m1 0h2m1 0h1m4 0h1m2 0h7m1 0h8m4 0h1m1 0h8m1 0h1m-76 1h5m3 0h1m1 0h3m3 0h1m6 0h2m3 0h2m1 0h1m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m1 0h1m1 0h1m3 0h3m1 0h1m3 0h3m1 0h3m3 0h1m3 0h5m-75 1h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h3m1 0h1m2 0h2m3 0h1m1 0h1m1 0h1m1 0h2m1 0h2m1 0h4m1 0h1m1 0h2m1 0h1m1 0h1m1 0h1m1 0h2m1 0h1m2 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h2m1 0h2m-75 1h3m3 0h1m1 0h1m3 0h1m1 0h1m3 0h2m2 0h1m3 0h3m1 0h1m1 0h1m2 0h1m2 0h2m2 0h3m3 0h1m1 0h4m3 0h2m3 0h1m1 0h1m1 0h1m3 0h3m1 0h1m-77 1h1m3 0h7m2 0h1m1 0h3m1 0h1m1 0h1m1 0h7m3 0h1m6 0h4m1 0h6m1 0h1m4 0h1m1 0h3m1 0h1m3 0h6m2 0h2m-76 1h1m1 0h1m4 0h2m2 0h4m2 0h1m1 0h2m1 0h3m3 0h1m1 0h2m1 0h1m1 0h1m2 0h2m2 0h2m4 0h4m1 0h2m1 0h1m2 0h2m4 0h3m3 0h2m-74 1h4m2 0h2m2 0h2m2 0h4m1 0h2m1 0h1m2 0h7m2 0h2m5 0h1m2 0h1m1 0h1m3 0h2m1 0h1m1 0h4m1 0h1m2 0h1m2 0h2m1 0h2m3 0h3m-77 1h2m1 0h1m4 0h1m2 0h2m3 0h2m2 0h3m1 0h2m1 0h1m2 0h2m1 0h2m1 0h3m2 0h1m1 0h2m1 0h4m1 0h2m1 0h1m3 0h1m7 0h1m1 0h1m3 0h4m-76 1h1m1 0h1m1 0h1m1 0h5m2 0h2m3 0h2m2 0h1m1 0h1m7 0h3m1 0h3m1 0h1m1 0h2m1 0h8m1 0h2m3 0h3m2 0h5m1 0h1m2 0h4m-76 1h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h2m2 0h3m2 0h1m1 0h2m2 0h2m2 0h1m1 0h1m1 0h1m3 0h1m2 0h2m2 0h2m1 0h1m2 0h1m3 0h1m1 0h1m1 0h1m3 0h1m1 0h1m2 0h1m4 0h1m1 0h1m-75 1h1m2 0h4m2 0h1m3 0h7m4 0h1m1 0h3m1 0h1m1 0h2m2 0h1m1 0h1m2 0h1m1 0h3m2 0h2m1 0h4m1 0h1m3 0h1m1 0h2m1 0h1m1 0h3m1 0h3m-75 1h1m2 0h3m3 0h2m1 0h5m2 0h1m1 0h1m2 0h1m3 0h2m1 0h1m2 0h1m1 0h1m2 0h1m7 0h2m1 0h2m1 0h1m1 0h3m1 0h2m1 0h1m1 0h2m2 0h1m1 0h1m2 0h1m1 0h1m-74 1h6m2 0h2m3 0h1m2 0h1m2 0h9m1 0h3m2 0h3m1 0h1m4 0h2m8 0h1m3 0h1m1 0h3m1 0h6m1 0h2m-73 1h2m2 0h1m1 0h1m1 0h2m1 0h1m1 0h2m2 0h1m2 0h1m1 0h1m3 0h1m1 0h1m2 0h5m1 0h1m3 0h3m1 0h2m1 0h1m7 0h1m2 0h2m2 0h3m1 0h1m2 0h2m-72 1h4m1 0h4m1 0h1m1 0h3m2 0h2m2 0h2m3 0h4m6 0h1m2 0h2m2 0h1m3 0h3m1 0h2m3 0h1m5 0h1m1 0h4m1 0h1m1 0h4m-74 1h2m3 0h1m5 0h1m1 0h1m1 0h2m2 0h3m2 0h3m4 0h6m2 0h3m3 0h2m1 0h4m4 0h1m1 0h2m2 0h1m1 0h2m2 0h1m2 0h1m-74 1h1m2 0h1m2 0h1m4 0h1m4 0h2m1 0h2m1 0h2m1 0h1m1 0h1m1 0h1m4 0h1m1 0h3m1 0h2m1 0h1m2 0h1m1 0h1m2 0h1m3 0h3m1 0h1m8 0h1m3 0h1m2 0h2m-75 1h1m1 0h2m2 0h6m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m2 0h2m1 0h2m3 0h2m1 0h2m3 0h4m3 0h1m1 0h4m3 0h2m1 0h2m2 0h2m3 0h1m2 0h2m-76 1h1m2 0h1m1 0h2m1 0h2m1 0h1m2 0h2m2 0h1m2 0h2m1 0h1m1 0h2m2 0h5m1 0h1m1 0h2m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m5 0h6m1 0h1m2 0h1m1 0h2m2 0h4m-77 1h3m1 0h2m2 0h2m1 0h5m1 0h4m1 0h3m1 0h4m1 0h7m1 0h1m2 0h2m2 0h1m2 0h1m1 0h1m3 0h6m2 0h4m1 0h2m3 0h1m2 0h1m-77 1h3m3 0h2m2 0h1m5 0h6m1 0h1m2 0h1m4 0h1m3 0h2m3 0h2m2 0h3m3 0h1m1 0h1m1 0h3m5 0h4m1 0h2m2 0h2m1 0h3m-76 1h2m5 0h3m1 0h1m1 0h1m1 0h2m1 0h1m3 0h2m1 0h2m1 0h1m3 0h1m1 0h6m1 0h1m3 0h1m1 0h1m3 0h1m3 0h1m2 0h1m1 0h2m1 0h2m1 0h1m2 0h3m2 0h1m-75 1h9m1 0h1m1 0h2m1 0h3m4 0h7m1 0h1m3 0h1m1 0h1m2 0h1m1 0h2m1 0h7m4 0h1m6 0h1m2 0h1m1 0h5m2 0h1m-76 1h2m1 0h2m3 0h1m1 0h1m4 0h1m1 0h2m2 0h4m3 0h3m1 0h3m1 0h1m1 0h1m1 0h2m1 0h2m1 0h1m3 0h1m3 0h2m2 0h2m6 0h1m1 0h1m3 0h1m1 0h1m-74 1h4m1 0h1m1 0h2m2 0h1m2 0h1m3 0h4m1 0h1m1 0h1m1 0h8m1 0h1m1 0h1m1 0h1m1 0h2m1 0h1m1 0h1m1 0h1m1 0h3m1 0h2m3 0h3m2 0h1m1 0h1m1 0h1m1 0h3m-72 1h2m3 0h1m1 0h1m1 0h1m1 0h1m4 0h1m1 0h2m1 0h1m3 0h2m1 0h1m1 0h3m1 0h1m1 0h6m1 0h1m3 0h3m2 0h1m2 0h1m1 0h2m4 0h3m3 0h1m2 0h1m-72 1h8m1 0h1m1 0h2m1 0h3m1 0h1m1 0h7m2 0h2m1 0h4m1 0h2m2 0h6m2 0h1m4 0h2m1 0h1m1 0h1m2 0h1m1 0h6m1 0h2m-77 1h3m4 0h2m3 0h1m4 0h2m1 0h1m1 0h2m2 0h1m2 0h1m2 0h1m2 0h2m1 0h1m2 0h1m3 0h1m2 0h2m2 0h3m2 0h4m4 0h3m1 0h1m2 0h4m-75 1h3m2 0h1m3 0h2m1 0h2m4 0h1m1 0h1m2 0h1m2 0h2m3 0h1m2 0h1m2 0h2m4 0h1m4 0h5m2 0h1m1 0h2m1 0h6m1 0h1m2 0h1m3 0h2m-76 1h4m2 0h1m1 0h1m2 0h2m2 0h4m1 0h1m2 0h2m2 0h2m1 0h5m1 0h1m2 0h1m4 0h1m1 0h4m1 0h5m2 0h2m1 0h1m1 0h3m1 0h1m3 0h1m1 0h1m-75 1h3m1 0h1m1 0h1m2 0h2m3 0h1m1 0h1m3 0h1m1 0h2m3 0h1m1 0h1m2 0h2m1 0h5m1 0h2m3 0h1m2 0h3m4 0h1m5 0h1m1 0h5m1 0h2m1 0h4m-77 1h2m1 0h2m2 0h1m1 0h1m2 0h6m1 0h1m1 0h3m3 0h3m3 0h1m2 0h1m2 0h4m4 0h1m1 0h1m1 0h1m2 0h1m4 0h1m3 0h1m2 0h6m1 0h3m-75 1h1m4 0h1m2 0h3m1 0h3m1 0h3m1 0h2m4 0h4m1 0h1m1 0h2m5 0h8m3 0h1m1 0h2m2 0h1m2 0h1m1 0h1m2 0h3m1 0h2m1 0h1m2 0h1m-77 1h2m3 0h1m6 0h1m7 0h1m2 0h1m5 0h1m5 0h2m1 0h1m2 0h2m2 0h1m1 0h6m2 0h2m1 0h2m3 0h2m2 0h1m3 0h3m-72 1h2m1 0h9m2 0h1m1 0h2m1 0h1m1 0h1m1 0h1m1 0h1m4 0h2m1 0h2m6 0h2m1 0h2m2 0h1m1 0h1m2 0h2m1 0h1m2 0h1m2 0h3m1 0h4m-72 1h1m1 0h2m7 0h1m3 0h1m1 0h3m1 0h3m3 0h3m1 0h2m1 0h1m2 0h1m1 0h1m3 0h3m3 0h1m1 0h1m7 0h2m2 0h3m3 0h2m4 0h1m-76 1h1m1 0h1m1 0h3m1 0h2m6 0h5m1 0h4m5 0h1m1 0h3m1 0h1m2 0h2m1 0h3m3 0h2m1 0h4m2 0h2m1 0h2m1 0h2m1 0h2m1 0h2m1 0h1m1 0h2m-75 1h4m2 0h2m1 0h3m2 0h4m1 0h1m1 0h3m2 0h1m3 0h4m2 0h4m1 0h1m1 0h3m1 0h6m1 0h1m3 0h2m1 0h2m1 0h3m1 0h7m-74 1h1m1 0h2m1 0h1m1 0h8m1 0h1m2 0h1m2 0h1m1 0h2m1 0h4m3 0h1m1 0h1m1 0h3m1 0h1m2 0h3m1 0h2m2 0h1m5 0h2m1 0h1m2 0h1m3 0h1m1 0h1m1 0h1m-77 1h1m1 0h1m1 0h1m2 0h1m3 0h4m4 0h2m3 0h3m3 0h4m3 0h1m2 0h2m3 0h1m1 0h3m2 0h1m2 0h2m1 0h2m7 0h2m2 0h2m1 0h3m-77 1h4m2 0h1m1 0h2m1 0h2m1 0h1m1 0h1m1 0h2m1 0h1m1 0h3m1 0h1m1 0h3m8 0h2m6 0h1m3 0h1m1 0h4m3 0h4m1 0h3m2 0h4m1 0h1m-77 1h1m1 0h2m3 0h4m1 0h3m1 0h3m6 0h2m4 0h1m3 0h1m4 0h1m1 0h1m3 0h4m10 0h1m1 0h1m1 0h6m4 0h2m-75 1h1m2 0h4m1 0h3m2 0h2m3 0h4m1 0h1m1 0h4m2 0h1m1 0h2m1 0h10m3 0h2m6 0h3m2 0h2m2 0h1m1 0h3m1 0h1m2 0h1m-73 1h1m2 0h1m2 0h1m1 0h1m1 0h3m1 0h2m2 0h4m1 0h3m3 0h2m1 0h4m2 0h2m2 0h3m1 0h1m1 0h1m3 0h1m1 0h1m3 0h2m7 0h1m2 0h3m-76 1h4m1 0h1m3 0h3m3 0h1m3 0h3m1 0h6m2 0h1m1 0h3m1 0h2m1 0h1m4 0h5m1 0h1m1 0h6m1 0h5m2 0h6m1 0h2m-69 1h1m3 0h2m3 0h3m1 0h2m1 0h1m3 0h1m3 0h1m5 0h1m5 0h1m1 0h1m3 0h7m2 0h2m3 0h1m1 0h3m3 0h4m-76 1h7m1 0h1m3 0h2m2 0h1m4 0h1m2 0h1m1 0h1m1 0h2m1 0h1m2 0h1m1 0h2m3 0h1m4 0h1m1 0h1m1 0h3m1 0h1m1 0h1m2 0h3m4 0h1m1 0h1m1 0h1m1 0h3m-75 1h1m5 0h1m2 0h2m1 0h1m1 0h3m1 0h1m2 0h4m3 0h1m1 0h2m2 0h3m1 0h1m1 0h3m2 0h2m3 0h1m1 0h1m2 0h3m1 0h1m3 0h1m2 0h1m1 0h1m3 0h4m-76 1h1m1 0h3m1 0h1m1 0h1m1 0h1m3 0h2m4 0h1m3 0h5m1 0h2m1 0h2m3 0h1m1 0h4m1 0h8m1 0h3m1 0h1m2 0h3m3 0h6m3 0h1m-77 1h1m1 0h3m1 0h1m1 0h1m1 0h1m6 0h1m1 0h1m3 0h3m1 0h1m1 0h6m5 0h1m1 0h2m1 0h5m4 0h2m3 0h3m1 0h2m1 0h1m1 0h2m2 0h2m-74 1h1m1 0h3m1 0h1m2 0h1m3 0h2m1 0h2m1 0h1m1 0h3m1 0h6m2 0h3m4 0h1m2 0h1m2 0h2m2 0h1m1 0h1m1 0h1m2 0h1m2 0h1m1 0h1m1 0h3m1 0h1m3 0h1m1 0h3m-77 1h1m5 0h1m3 0h2m1 0h2m1 0h1m4 0h2m2 0h1m2 0h3m1 0h3m1 0h2m2 0h2m2 0h3m1 0h2m1 0h3m1 0h2m2 0h1m3 0h2m1 0h2m2 0h3m3 0h1m-77 1h7m2 0h1m1 0h1m4 0h2m1 0h2m1 0h1m2 0h4m2 0h2m1 0h4m2 0h1m2 0h1m1 0h5m2 0h1m2 0h2m2 0h3m1 0h2m3 0h1m1 0h1m1 0h1m1 0h1&quot; /&gt;
    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v16-example-base16&quot; transform=&quot;scale(12.345679012345679)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;81&quot; width=&quot;81&quot; /&gt;&lt;path stroke=&quot;#000&quot; d=&quot;M0 0.5h7m4 0h2m4 0h1m2 0h1m1 0h3m1 0h2m1 0h4m1 0h1m1 0h5m1 0h2m4 0h5m3 0h1m3 0h1m1 0h1m1 0h1m2 0h1m1 0h1m4 0h7m-81 1h1m5 0h1m3 0h1m3 0h1m2 0h1m1 0h5m1 0h2m1 0h2m2 0h3m1 0h1m2 0h2m2 0h3m2 0h1m1 0h2m5 0h1m1 0h1m1 0h1m1 0h1m2 0h1m1 0h5m1 0h1m5 0h1m-81 1h1m1 0h3m1 0h1m2 0h1m1 0h1m2 0h1m1 0h4m1 0h2m3 0h7m1 0h1m1 0h1m2 0h2m3 0h1m1 0h8m1 0h1m1 0h1m1 0h1m1 0h2m6 0h2m1 0h1m1 0h1m1 0h3m1 0h1m-81 1h1m1 0h3m1 0h1m2 0h1m1 0h1m3 0h3m2 0h1m2 0h1m2 0h1m3 0h1m1 0h1m1 0h1m1 0h6m3 0h2m4 0h3m2 0h3m2 0h2m3 0h1m2 0h2m1 0h1m1 0h1m1 0h3m1 0h1m-81 1h1m1 0h3m1 0h1m1 0h2m4 0h2m1 0h1m3 0h1m1 0h6m2 0h1m1 0h4m2 0h1m1 0h2m2 0h1m1 0h8m1 0h1m1 0h2m3 0h2m1 0h1m1 0h2m4 0h1m1 0h3m1 0h1m-81 1h1m5 0h1m2 0h3m1 0h1m2 0h5m2 0h2m3 0h1m1 0h1m4 0h1m1 0h1m1 0h2m2 0h1m4 0h1m3 0h1m2 0h1m1 0h2m1 0h1m2 0h2m1 0h4m1 0h1m2 0h1m5 0h1m-81 1h7m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h7m-73 1h1m1 0h4m2 0h1m1 0h1m1 0h1m3 0h1m3 0h1m1 0h1m2 0h1m1 0h3m2 0h4m1 0h1m1 0h2m3 0h2m2 0h1m2 0h1m2 0h1m3 0h2m3 0h2m-71 1h2m2 0h4m1 0h2m1 0h1m1 0h1m2 0h1m1 0h12m3 0h1m1 0h1m1 0h1m1 0h1m1 0h2m1 0h6m2 0h1m6 0h1m2 0h2m3 0h5m1 0h1m-77 1h1m1 0h3m2 0h2m5 0h1m2 0h2m3 0h2m3 0h1m1 0h2m1 0h1m1 0h2m2 0h2m3 0h1m3 0h2m1 0h1m7 0h1m3 0h1m5 0h3m1 0h3m1 0h1m1 0h3m-81 1h2m2 0h1m1 0h1m2 0h4m3 0h1m1 0h1m6 0h1m4 0h1m1 0h1m5 0h1m1 0h2m1 0h1m6 0h2m1 0h1m2 0h2m3 0h1m2 0h2m2 0h7m1 0h1m2 0h2m-81 1h3m1 0h2m1 0h1m1 0h7m1 0h1m3 0h2m1 0h5m2 0h3m2 0h1m3 0h1m3 0h1m1 0h2m1 0h2m1 0h1m5 0h1m1 0h1m2 0h1m3 0h4m1 0h6m-78 1h4m2 0h1m2 0h2m1 0h3m1 0h1m2 0h1m2 0h1m2 0h3m1 0h1m1 0h1m4 0h1m2 0h1m1 0h2m1 0h4m4 0h1m1 0h1m1 0h2m2 0h1m1 0h2m2 0h1m2 0h2m1 0h1m2 0h3m1 0h1m-79 1h2m4 0h6m6 0h3m1 0h3m3 0h3m1 0h1m4 0h1m4 0h1m2 0h1m1 0h1m1 0h1m1 0h3m3 0h1m4 0h1m1 0h2m1 0h1m1 0h4m1 0h1m4 0h1m-79 1h6m1 0h5m2 0h1m1 0h2m3 0h3m2 0h2m2 0h4m2 0h1m1 0h1m2 0h2m1 0h3m1 0h3m2 0h4m3 0h1m1 0h1m2 0h1m1 0h1m5 0h1m2 0h1m-78 1h3m1 0h1m3 0h1m3 0h3m3 0h1m1 0h2m1 0h2m4 0h1m1 0h3m2 0h2m1 0h1m1 0h3m3 0h1m1 0h4m1 0h2m1 0h1m1 0h1m2 0h2m1 0h4m2 0h1m1 0h1m2 0h2m-79 1h4m1 0h2m1 0h1m1 0h1m2 0h1m2 0h8m3 0h5m1 0h1m3 0h4m1 0h1m2 0h2m1 0h1m1 0h1m3 0h1m1 0h3m1 0h1m1 0h4m2 0h1m1 0h1m3 0h1m2 0h2m1 0h1m-80 1h3m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m2 0h1m3 0h1m3 0h3m1 0h3m2 0h2m1 0h1m7 0h1m1 0h1m1 0h1m1 0h1m5 0h1m3 0h2m2 0h3m1 0h1m2 0h1m-74 1h1m1 0h5m2 0h1m3 0h2m1 0h4m2 0h4m1 0h3m1 0h1m2 0h3m5 0h1m1 0h1m1 0h1m5 0h1m1 0h1m2 0h1m2 0h1m1 0h2m4 0h1m1 0h3m4 0h2m-79 1h2m3 0h1m1 0h5m6 0h3m2 0h6m1 0h5m4 0h1m1 0h4m2 0h1m1 0h4m2 0h1m2 0h1m1 0h1m3 0h1m2 0h1m3 0h1m1 0h1m5 0h2m-80 1h2m1 0h1m1 0h1m4 0h1m1 0h3m1 0h1m2 0h1m1 0h1m1 0h2m3 0h1m2 0h3m1 0h4m1 0h2m2 0h1m1 0h1m2 0h2m3 0h1m1 0h2m5 0h7m1 0h1m1 0h6m-80 1h3m4 0h1m2 0h2m3 0h4m1 0h1m2 0h1m2 0h3m7 0h1m1 0h1m2 0h3m1 0h1m1 0h2m1 0h1m2 0h3m3 0h2m3 0h4m1 0h1m2 0h1m1 0h2m2 0h1m-78 1h1m2 0h1m1 0h1m2 0h5m1 0h3m1 0h4m1 0h1m1 0h1m2 0h3m3 0h1m1 0h3m1 0h4m5 0h1m2 0h1m2 0h1m1 0h3m1 0h2m1 0h1m2 0h2m4 0h1m2 0h4m-81 1h1m4 0h1m1 0h1m7 0h2m3 0h3m3 0h3m1 0h2m2 0h2m1 0h1m2 0h1m3 0h1m1 0h1m2 0h1m1 0h6m2 0h4m1 0h3m1 0h2m2 0h1m3 0h2m1 0h1m-80 1h10m2 0h1m3 0h2m1 0h1m1 0h1m2 0h5m2 0h5m1 0h4m1 0h3m1 0h1m1 0h5m4 0h1m4 0h1m1 0h1m1 0h1m2 0h2m1 0h5m1 0h2m-80 1h1m3 0h1m3 0h1m1 0h1m3 0h2m2 0h1m2 0h4m3 0h3m2 0h1m2 0h2m3 0h1m1 0h1m1 0h1m1 0h2m3 0h1m2 0h3m2 0h2m1 0h1m2 0h1m1 0h1m2 0h2m3 0h2m2 0h1m-80 1h1m1 0h2m1 0h1m1 0h2m2 0h2m1 0h1m3 0h1m3 0h2m1 0h1m1 0h5m1 0h2m1 0h1m1 0h2m3 0h1m1 0h3m1 0h1m1 0h1m2 0h1m1 0h3m1 0h2m1 0h4m1 0h2m1 0h1m1 0h1m1 0h1m2 0h2m-79 1h1m1 0h1m3 0h1m2 0h3m1 0h1m1 0h1m2 0h3m1 0h1m3 0h1m2 0h1m1 0h7m1 0h4m3 0h1m3 0h1m3 0h2m1 0h1m3 0h1m1 0h5m2 0h1m3 0h5m-81 1h1m2 0h6m3 0h1m2 0h2m1 0h1m3 0h1m1 0h7m5 0h1m3 0h1m2 0h1m1 0h8m1 0h1m1 0h1m2 0h2m1 0h2m2 0h1m1 0h1m1 0h1m1 0h6m1 0h1m-78 1h4m1 0h2m2 0h1m2 0h1m2 0h5m3 0h3m2 0h1m1 0h2m1 0h1m3 0h4m2 0h1m1 0h1m3 0h2m1 0h3m2 0h2m2 0h1m1 0h1m2 0h2m3 0h3m-72 1h4m5 0h2m1 0h1m2 0h1m1 0h3m1 0h1m2 0h2m2 0h1m1 0h4m2 0h2m1 0h2m1 0h4m1 0h1m5 0h1m5 0h1m3 0h6m3 0h1m3 0h1m-80 1h1m1 0h1m4 0h1m1 0h2m1 0h2m1 0h1m1 0h3m1 0h4m1 0h1m4 0h4m3 0h3m2 0h1m2 0h7m4 0h1m1 0h4m3 0h2m2 0h2m7 0h1m-81 1h7m2 0h1m2 0h1m1 0h1m2 0h1m4 0h1m1 0h5m5 0h1m1 0h2m1 0h1m3 0h1m1 0h2m1 0h2m1 0h1m2 0h4m2 0h1m1 0h1m1 0h2m1 0h2m1 0h2m2 0h1m1 0h1m2 0h2m-81 1h3m1 0h2m2 0h1m1 0h3m1 0h4m1 0h3m2 0h5m4 0h1m5 0h1m2 0h1m2 0h1m2 0h3m2 0h2m2 0h3m3 0h2m1 0h2m1 0h2m1 0h1m5 0h2m-74 1h3m1 0h2m2 0h1m1 0h1m1 0h1m2 0h8m1 0h1m1 0h1m1 0h1m1 0h2m1 0h2m5 0h1m1 0h5m1 0h4m1 0h1m2 0h2m7 0h1m2 0h1m2 0h1m-77 1h2m4 0h2m2 0h1m1 0h1m3 0h1m3 0h1m4 0h2m3 0h1m1 0h3m1 0h1m3 0h2m1 0h1m1 0h1m1 0h7m2 0h2m1 0h2m3 0h1m1 0h1m2 0h3m3 0h1m1 0h2m-80 1h1m2 0h1m2 0h1m3 0h3m1 0h1m3 0h2m2 0h1m3 0h1m1 0h3m2 0h3m1 0h1m1 0h3m1 0h1m3 0h1m2 0h1m7 0h3m1 0h2m1 0h1m2 0h2m2 0h1m3 0h2m2 0h1m-81 1h2m2 0h1m2 0h1m4 0h2m2 0h1m4 0h1m1 0h1m2 0h2m1 0h6m2 0h2m2 0h1m3 0h2m1 0h1m2 0h3m2 0h1m1 0h1m1 0h2m2 0h2m2 0h1m1 0h1m2 0h3m2 0h3m-81 1h5m1 0h2m2 0h1m1 0h2m1 0h1m2 0h2m3 0h1m1 0h1m1 0h2m4 0h3m1 0h2m2 0h3m1 0h5m1 0h1m2 0h2m1 0h1m1 0h4m1 0h4m2 0h1m1 0h2m1 0h2m1 0h3m-78 1h3m6 0h1m1 0h2m1 0h2m3 0h3m1 0h1m1 0h1m1 0h1m2 0h1m1 0h2m1 0h1m1 0h4m5 0h2m3 0h1m2 0h3m1 0h3m4 0h1m2 0h2m2 0h1m2 0h1m1 0h1m-81 1h1m2 0h5m1 0h3m2 0h4m1 0h3m2 0h1m1 0h5m1 0h4m1 0h2m1 0h1m1 0h2m1 0h2m1 0h5m2 0h3m1 0h2m1 0h1m1 0h2m1 0h2m2 0h1m2 0h1m2 0h3m-76 1h2m2 0h2m1 0h4m3 0h2m1 0h4m3 0h2m1 0h5m1 0h7m1 0h1m1 0h1m1 0h2m1 0h4m5 0h1m1 0h1m2 0h5m1 0h2m1 0h1m4 0h1m-81 1h3m1 0h1m1 0h2m2 0h4m1 0h1m2 0h1m1 0h1m2 0h1m1 0h2m5 0h2m4 0h5m1 0h1m4 0h3m1 0h4m1 0h1m1 0h3m1 0h2m2 0h1m1 0h1m2 0h1m1 0h1m1 0h2m-79 1h1m2 0h2m2 0h4m5 0h1m7 0h4m3 0h1m1 0h1m3 0h3m3 0h1m1 0h4m1 0h3m3 0h2m1 0h1m5 0h1m2 0h2m2 0h5m1 0h3m-80 1h1m1 0h1m1 0h5m1 0h3m3 0h1m1 0h4m2 0h1m1 0h5m1 0h1m1 0h3m1 0h4m4 0h3m1 0h5m2 0h5m2 0h2m3 0h1m2 0h2m1 0h1m2 0h2m-81 1h2m5 0h1m2 0h2m2 0h1m2 0h1m1 0h2m1 0h1m1 0h1m3 0h2m2 0h5m3 0h2m1 0h1m1 0h3m5 0h2m2 0h3m1 0h1m1 0h1m5 0h1m3 0h1m1 0h2m1 0h1m1 0h1m-81 1h2m1 0h7m2 0h8m1 0h3m1 0h1m1 0h7m2 0h3m1 0h2m2 0h2m2 0h1m1 0h1m1 0h4m1 0h2m3 0h2m3 0h1m1 0h1m1 0h1m7 0h2m-80 1h2m1 0h1m3 0h1m1 0h3m2 0h4m4 0h4m1 0h1m1 0h6m2 0h1m1 0h1m3 0h3m2 0h1m2 0h2m4 0h1m2 0h1m1 0h2m5 0h1m1 0h1m6 0h2m-78 1h7m1 0h3m2 0h3m1 0h2m1 0h9m1 0h1m1 0h1m5 0h1m5 0h7m2 0h1m2 0h2m1 0h3m1 0h3m1 0h1m1 0h8m-78 1h1m1 0h1m3 0h1m2 0h5m1 0h1m5 0h2m3 0h1m6 0h4m1 0h3m1 0h2m1 0h2m3 0h1m3 0h2m1 0h2m1 0h1m1 0h3m3 0h3m3 0h1m1 0h1m-79 1h2m2 0h1m1 0h1m1 0h4m2 0h3m4 0h2m1 0h1m1 0h1m1 0h1m2 0h2m1 0h4m1 0h1m1 0h1m6 0h1m1 0h1m1 0h1m1 0h2m1 0h1m1 0h7m1 0h2m1 0h1m1 0h1m1 0h1m1 0h4m-80 1h1m3 0h1m3 0h4m1 0h4m1 0h1m1 0h2m2 0h1m3 0h2m2 0h2m1 0h1m1 0h1m4 0h1m1 0h1m1 0h1m1 0h1m3 0h1m1 0h4m2 0h3m1 0h2m3 0h1m1 0h2m3 0h1m1 0h3m-77 1h5m1 0h1m2 0h2m1 0h2m1 0h1m2 0h1m1 0h7m1 0h3m1 0h1m5 0h4m1 0h6m3 0h1m7 0h2m2 0h1m1 0h1m1 0h6m1 0h2m-81 1h1m1 0h2m1 0h1m1 0h1m6 0h1m1 0h1m1 0h2m3 0h3m3 0h3m2 0h1m1 0h1m2 0h3m2 0h3m1 0h1m2 0h1m1 0h4m1 0h1m2 0h1m3 0h1m2 0h1m1 0h1m2 0h1m1 0h1m3 0h1m-80 1h3m1 0h1m1 0h2m1 0h3m2 0h4m2 0h1m2 0h1m1 0h2m1 0h2m6 0h1m1 0h2m3 0h1m1 0h2m1 0h2m2 0h1m1 0h3m1 0h3m1 0h1m2 0h6m3 0h1m1 0h1m3 0h1m-78 1h1m1 0h1m7 0h1m1 0h1m1 0h3m1 0h4m2 0h1m5 0h1m1 0h2m2 0h1m5 0h2m2 0h1m1 0h1m1 0h1m1 0h1m2 0h2m1 0h4m1 0h4m1 0h1m1 0h1m1 0h1m2 0h1m-78 1h2m1 0h1m1 0h4m2 0h3m1 0h3m1 0h2m2 0h1m1 0h1m1 0h3m3 0h1m1 0h6m2 0h1m1 0h2m7 0h3m1 0h2m6 0h2m2 0h4m1 0h2m1 0h1m-75 1h1m5 0h1m1 0h3m2 0h2m1 0h6m2 0h4m1 0h2m3 0h1m1 0h2m1 0h1m1 0h2m1 0h3m1 0h2m1 0h3m1 0h1m1 0h2m1 0h2m2 0h1m2 0h1m4 0h1m-78 1h2m1 0h8m1 0h2m1 0h3m1 0h1m3 0h1m1 0h2m3 0h2m5 0h1m5 0h3m1 0h1m2 0h1m2 0h2m1 0h1m2 0h2m2 0h3m2 0h1m1 0h3m1 0h1m2 0h1m-78 1h1m2 0h2m2 0h1m2 0h2m1 0h3m1 0h1m1 0h2m2 0h2m1 0h2m2 0h1m2 0h1m7 0h6m1 0h3m1 0h1m1 0h1m3 0h1m2 0h1m1 0h1m2 0h5m7 0h1m1 0h1m-81 1h3m2 0h2m3 0h1m2 0h1m6 0h1m2 0h2m1 0h3m1 0h1m2 0h1m1 0h4m1 0h1m7 0h4m2 0h1m8 0h4m3 0h1m1 0h1m3 0h3m1 0h1m-80 1h2m5 0h2m1 0h2m1 0h3m3 0h5m1 0h1m1 0h3m1 0h2m3 0h1m2 0h2m1 0h1m1 0h1m2 0h1m4 0h1m1 0h1m3 0h1m3 0h1m1 0h1m1 0h1m1 0h1m2 0h1m2 0h1m2 0h1m-79 1h2m1 0h6m4 0h2m1 0h1m2 0h1m7 0h2m2 0h3m6 0h1m1 0h1m3 0h1m5 0h1m1 0h8m2 0h1m1 0h1m5 0h1m1 0h3m1 0h1m-79 1h1m2 0h3m2 0h1m2 0h3m2 0h1m1 0h1m3 0h3m1 0h1m1 0h1m2 0h1m3 0h3m4 0h3m3 0h1m6 0h2m3 0h1m1 0h1m3 0h2m1 0h1m1 0h1m1 0h3m1 0h1m1 0h1m-80 1h1m2 0h1m1 0h2m3 0h2m3 0h1m1 0h2m2 0h2m1 0h1m2 0h2m1 0h2m2 0h2m2 0h5m3 0h1m1 0h1m1 0h1m1 0h3m1 0h1m2 0h3m2 0h3m7 0h1m2 0h1m1 0h1m-79 1h2m5 0h1m2 0h2m1 0h2m1 0h4m4 0h2m2 0h3m1 0h1m2 0h2m1 0h1m2 0h1m3 0h1m1 0h1m2 0h3m2 0h1m1 0h1m2 0h3m4 0h1m1 0h2m1 0h2m2 0h1m2 0h1m-81 1h1m5 0h3m2 0h4m2 0h1m4 0h1m6 0h1m2 0h1m1 0h2m2 0h1m2 0h4m1 0h1m1 0h1m5 0h2m3 0h1m1 0h2m1 0h1m2 0h2m1 0h1m2 0h1m2 0h1m1 0h2m-76 1h2m4 0h1m4 0h3m1 0h3m2 0h2m1 0h3m1 0h1m2 0h3m1 0h1m2 0h4m1 0h1m2 0h2m1 0h1m4 0h3m1 0h1m3 0h1m2 0h1m1 0h7m-76 1h1m1 0h1m1 0h4m7 0h3m1 0h4m2 0h1m3 0h8m4 0h1m2 0h1m1 0h1m1 0h1m1 0h1m1 0h1m4 0h1m3 0h1m4 0h2m4 0h2m3 0h2m-80 1h1m4 0h1m1 0h10m1 0h2m1 0h1m1 0h1m2 0h7m5 0h2m4 0h2m2 0h1m2 0h3m1 0h3m1 0h2m2 0h1m2 0h1m2 0h3m2 0h2m2 0h1m1 0h1m-80 1h3m2 0h1m3 0h2m6 0h1m2 0h1m1 0h2m1 0h3m1 0h2m2 0h3m1 0h2m6 0h1m1 0h1m2 0h1m3 0h3m3 0h1m2 0h2m2 0h2m1 0h3m3 0h4m-80 1h1m3 0h1m2 0h1m1 0h1m1 0h4m1 0h1m1 0h1m7 0h1m1 0h2m1 0h4m2 0h5m1 0h1m2 0h1m1 0h2m1 0h1m2 0h1m2 0h1m1 0h1m3 0h3m1 0h4m1 0h5m1 0h2m-80 1h3m2 0h14m2 0h1m1 0h6m3 0h1m1 0h3m1 0h2m1 0h2m1 0h1m2 0h5m6 0h8m2 0h2m1 0h6m1 0h2m-73 1h1m5 0h11m3 0h1m2 0h1m2 0h3m1 0h3m4 0h1m2 0h1m3 0h1m6 0h1m2 0h1m2 0h4m1 0h3m3 0h1m-77 1h7m1 0h2m3 0h1m3 0h8m1 0h1m1 0h1m1 0h1m1 0h1m2 0h2m3 0h1m1 0h1m3 0h3m1 0h1m1 0h7m4 0h1m2 0h4m1 0h2m1 0h1m1 0h2m-78 1h1m5 0h1m6 0h2m1 0h2m1 0h1m2 0h3m3 0h1m1 0h2m3 0h2m2 0h1m1 0h1m1 0h2m2 0h2m3 0h3m5 0h2m4 0h1m1 0h1m1 0h3m3 0h1m1 0h3m-81 1h1m1 0h3m1 0h1m2 0h1m1 0h2m1 0h2m1 0h1m3 0h1m1 0h6m5 0h3m2 0h3m2 0h3m1 0h5m5 0h4m2 0h1m3 0h11m1 0h1m-81 1h1m1 0h3m1 0h1m1 0h3m5 0h1m1 0h1m3 0h3m1 0h1m1 0h1m1 0h1m3 0h4m2 0h2m2 0h1m4 0h3m1 0h3m5 0h2m1 0h1m5 0h2m2 0h2m2 0h2m-80 1h1m1 0h3m1 0h1m1 0h2m2 0h2m3 0h1m1 0h1m5 0h2m1 0h1m4 0h1m1 0h4m2 0h1m1 0h1m1 0h1m1 0h3m2 0h3m1 0h1m4 0h3m2 0h3m1 0h1m6 0h2m-79 1h1m5 0h1m3 0h1m2 0h2m1 0h1m1 0h3m2 0h1m6 0h5m1 0h8m3 0h4m2 0h4m2 0h5m1 0h3m2 0h1m1 0h3m5 0h1m-81 1h7m5 0h1m1 0h1m5 0h1m3 0h4m1 0h2m1 0h4m1 0h1m1 0h5m3 0h4m1 0h2m1 0h2m1 0h1m2 0h1m2 0h1m2 0h2m1 0h2m1 0h1m2 0h1m1 0h1&quot; /&gt;
    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v14-example-base10&quot; transform=&quot;scale(13.698630136986301)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;73&quot; width=&quot;73&quot; /&gt;&lt;path stroke=&quot;#000&quot; d=&quot;M0 0.5h7m1 0h1m4 0h2m1 0h1m1 0h1m1 0h1m1 0h3m3 0h1m1 0h3m4 0h4m2 0h1m4 0h1m1 0h2m5 0h3m1 0h2m1 0h1m1 0h7m-73 1h1m5 0h1m1 0h1m1 0h2m2 0h2m1 0h3m1 0h1m1 0h2m4 0h2m1 0h2m1 0h2m3 0h2m2 0h2m2 0h5m2 0h1m2 0h1m1 0h1m1 0h1m3 0h1m5 0h1m-73 1h1m1 0h3m1 0h1m1 0h5m1 0h4m2 0h3m2 0h1m1 0h1m3 0h1m1 0h2m1 0h2m2 0h1m4 0h1m3 0h1m2 0h3m1 0h3m1 0h2m4 0h1m1 0h3m1 0h1m-73 1h1m1 0h3m1 0h1m2 0h5m2 0h1m1 0h2m1 0h1m1 0h1m3 0h1m2 0h6m1 0h3m1 0h1m1 0h6m2 0h1m1 0h1m1 0h2m1 0h6m2 0h1m1 0h3m1 0h1m-73 1h1m1 0h3m1 0h1m6 0h1m1 0h5m2 0h1m1 0h5m2 0h1m2 0h1m2 0h1m2 0h2m2 0h5m1 0h1m1 0h4m1 0h1m2 0h2m1 0h2m1 0h1m1 0h3m1 0h1m-73 1h1m5 0h1m1 0h1m4 0h5m2 0h5m3 0h1m1 0h2m1 0h3m2 0h2m4 0h1m3 0h3m1 0h1m2 0h1m5 0h2m3 0h1m5 0h1m-73 1h7m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h7m-65 1h3m1 0h1m1 0h4m4 0h3m3 0h1m1 0h5m1 0h2m1 0h1m1 0h2m1 0h1m3 0h2m2 0h6m1 0h6m-63 1h3m1 0h1m1 0h2m3 0h4m1 0h1m1 0h1m2 0h7m1 0h2m1 0h2m1 0h2m1 0h1m3 0h5m1 0h4m1 0h4m2 0h2m1 0h4m2 0h3m-73 1h1m1 0h2m3 0h2m3 0h5m2 0h2m5 0h4m3 0h2m2 0h2m1 0h1m1 0h1m2 0h1m6 0h1m5 0h2m1 0h1m1 0h2m2 0h3m2 0h1m-72 1h1m1 0h1m1 0h2m2 0h5m6 0h1m2 0h3m2 0h1m2 0h2m1 0h2m5 0h2m3 0h1m1 0h4m1 0h2m2 0h1m1 0h4m3 0h4m1 0h1m-72 1h2m2 0h2m1 0h1m1 0h3m2 0h5m3 0h1m1 0h2m4 0h2m1 0h1m1 0h2m4 0h2m1 0h2m1 0h2m2 0h2m1 0h2m1 0h2m1 0h1m2 0h2m3 0h1m2 0h2m-70 1h2m1 0h5m1 0h5m1 0h1m3 0h3m1 0h1m5 0h1m3 0h1m2 0h2m1 0h2m1 0h2m9 0h1m1 0h3m5 0h2m1 0h1m1 0h2m-73 1h1m2 0h1m1 0h1m2 0h4m1 0h3m1 0h1m2 0h3m1 0h1m4 0h2m3 0h1m1 0h4m1 0h4m3 0h1m1 0h1m1 0h1m5 0h2m2 0h2m1 0h1m1 0h1m4 0h1m-73 1h1m1 0h3m1 0h2m4 0h1m1 0h1m3 0h1m1 0h1m3 0h1m5 0h2m1 0h1m6 0h4m2 0h3m3 0h5m1 0h1m1 0h1m2 0h1m1 0h2m3 0h1m-70 1h1m1 0h3m1 0h1m1 0h3m3 0h1m1 0h2m6 0h2m3 0h1m3 0h1m1 0h1m1 0h1m1 0h4m2 0h2m1 0h6m1 0h1m3 0h1m1 0h3m1 0h2m1 0h1m1 0h1m-72 1h1m1 0h2m1 0h3m1 0h1m1 0h1m2 0h2m3 0h4m1 0h1m2 0h5m1 0h1m2 0h3m1 0h3m1 0h1m2 0h1m1 0h2m2 0h1m1 0h2m2 0h1m4 0h1m1 0h6m-72 1h1m2 0h2m3 0h1m1 0h2m3 0h1m1 0h3m4 0h1m2 0h2m1 0h3m3 0h2m2 0h1m4 0h2m1 0h1m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m2 0h3m2 0h1m3 0h2m-73 1h1m4 0h4m6 0h2m1 0h2m4 0h1m1 0h1m1 0h1m2 0h1m1 0h2m2 0h3m3 0h2m1 0h2m1 0h1m2 0h2m3 0h1m1 0h2m1 0h1m3 0h3m1 0h1m1 0h1m-73 1h1m1 0h4m1 0h1m1 0h1m2 0h1m1 0h4m2 0h2m1 0h2m3 0h1m1 0h1m2 0h5m3 0h2m1 0h1m1 0h1m1 0h1m3 0h1m1 0h2m3 0h1m1 0h3m3 0h1m1 0h1m2 0h1m-73 1h1m1 0h1m2 0h2m3 0h1m1 0h1m1 0h4m4 0h2m3 0h2m2 0h5m2 0h1m7 0h1m1 0h4m1 0h2m1 0h1m1 0h1m1 0h1m3 0h3m2 0h3m-72 1h2m1 0h1m9 0h1m1 0h1m8 0h1m3 0h2m3 0h3m1 0h2m1 0h1m1 0h1m1 0h2m3 0h2m1 0h1m1 0h1m8 0h2m2 0h1m1 0h1m1 0h2m-73 1h1m2 0h4m1 0h1m2 0h1m2 0h2m1 0h1m1 0h2m3 0h2m1 0h1m6 0h1m2 0h2m1 0h3m2 0h1m2 0h2m1 0h1m1 0h1m6 0h2m2 0h1m2 0h1m1 0h1m2 0h1m-71 1h1m1 0h2m1 0h1m1 0h4m1 0h3m2 0h1m3 0h2m2 0h1m4 0h1m1 0h3m1 0h1m1 0h3m1 0h1m1 0h1m2 0h1m2 0h1m4 0h1m1 0h1m3 0h2m2 0h2m2 0h1m-71 1h1m1 0h8m1 0h2m3 0h2m2 0h11m2 0h3m2 0h2m1 0h1m1 0h7m2 0h2m9 0h8m-71 1h1m1 0h2m3 0h1m3 0h4m1 0h1m2 0h1m1 0h1m1 0h1m3 0h1m3 0h2m2 0h1m3 0h2m1 0h2m3 0h3m3 0h1m2 0h2m5 0h1m3 0h1m-69 1h2m1 0h2m1 0h1m1 0h3m2 0h1m4 0h2m1 0h1m2 0h1m1 0h1m1 0h2m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m1 0h3m1 0h1m1 0h1m4 0h1m2 0h1m2 0h1m1 0h1m1 0h2m1 0h1m1 0h1m-69 1h2m2 0h1m3 0h1m2 0h3m2 0h1m2 0h1m1 0h4m3 0h3m1 0h4m2 0h5m1 0h1m3 0h3m3 0h3m1 0h2m2 0h1m1 0h1m3 0h2m2 0h1m-73 1h9m1 0h2m2 0h3m1 0h2m3 0h6m1 0h1m2 0h2m2 0h3m4 0h6m1 0h2m1 0h1m2 0h1m3 0h2m1 0h7m1 0h1m-73 1h1m1 0h1m1 0h2m1 0h1m4 0h5m1 0h1m1 0h1m2 0h2m2 0h1m3 0h4m1 0h1m1 0h1m8 0h1m3 0h2m2 0h1m1 0h3m2 0h1m1 0h1m5 0h2m-72 1h2m1 0h1m2 0h1m3 0h2m4 0h1m3 0h1m2 0h1m3 0h2m2 0h5m3 0h1m1 0h1m1 0h2m2 0h1m1 0h1m1 0h1m1 0h2m1 0h1m1 0h5m1 0h1m1 0h3m3 0h1m-72 1h3m3 0h2m2 0h2m1 0h1m1 0h5m1 0h1m1 0h1m1 0h2m1 0h3m3 0h1m4 0h2m4 0h1m2 0h2m5 0h2m1 0h1m5 0h4m2 0h1m-70 1h2m1 0h3m1 0h2m1 0h2m3 0h1m1 0h3m1 0h2m2 0h2m1 0h1m1 0h1m1 0h2m3 0h2m1 0h2m1 0h1m1 0h3m1 0h3m1 0h1m1 0h1m2 0h1m1 0h1m2 0h1m1 0h1m1 0h3m-72 1h1m1 0h1m1 0h2m2 0h1m1 0h1m3 0h3m1 0h1m1 0h2m1 0h4m1 0h2m3 0h1m1 0h1m1 0h3m2 0h3m2 0h1m1 0h1m1 0h3m2 0h4m1 0h1m4 0h1m1 0h2m1 0h2m-72 1h8m1 0h1m1 0h1m2 0h1m2 0h1m3 0h1m3 0h2m5 0h1m5 0h1m7 0h1m3 0h3m1 0h1m2 0h3m3 0h2m3 0h4m-71 1h1m4 0h4m1 0h1m2 0h4m1 0h1m3 0h1m1 0h2m1 0h4m1 0h1m1 0h2m3 0h2m1 0h2m1 0h1m2 0h1m3 0h6m5 0h3m1 0h1m-70 1h1m1 0h2m2 0h2m3 0h1m1 0h1m2 0h1m3 0h3m5 0h5m1 0h1m1 0h1m5 0h2m2 0h1m1 0h1m4 0h2m5 0h1m2 0h1m3 0h5m-71 1h2m1 0h2m2 0h3m1 0h1m1 0h2m4 0h1m1 0h2m1 0h1m3 0h2m1 0h1m4 0h3m2 0h1m3 0h1m1 0h2m1 0h1m1 0h1m2 0h4m1 0h1m3 0h2m1 0h1m1 0h3m-71 1h1m1 0h1m1 0h5m1 0h1m2 0h2m2 0h1m2 0h1m3 0h2m1 0h1m4 0h1m1 0h3m1 0h2m2 0h1m1 0h2m1 0h3m6 0h1m2 0h1m2 0h2m2 0h3m1 0h1m-66 1h1m6 0h1m1 0h5m7 0h2m1 0h1m1 0h1m2 0h2m1 0h3m3 0h2m1 0h2m2 0h1m1 0h3m2 0h1m3 0h1m1 0h5m-70 1h4m2 0h1m1 0h1m1 0h2m4 0h1m1 0h2m2 0h1m2 0h1m1 0h1m1 0h1m2 0h1m3 0h1m1 0h1m1 0h1m2 0h2m2 0h1m2 0h2m4 0h3m1 0h1m1 0h1m4 0h1m4 0h1m-71 1h2m1 0h1m1 0h1m1 0h4m1 0h1m1 0h2m1 0h2m2 0h4m1 0h1m2 0h1m3 0h1m2 0h2m1 0h1m1 0h2m5 0h3m1 0h5m1 0h1m2 0h1m3 0h1m3 0h2m-73 1h2m4 0h1m2 0h1m1 0h3m3 0h1m1 0h2m2 0h1m2 0h1m1 0h1m2 0h1m1 0h2m5 0h1m2 0h1m2 0h1m5 0h1m2 0h2m1 0h1m1 0h3m1 0h3m5 0h1m-73 1h1m3 0h1m2 0h1m3 0h4m5 0h1m1 0h1m2 0h2m1 0h2m2 0h2m1 0h3m2 0h9m1 0h1m1 0h1m2 0h3m1 0h2m1 0h1m1 0h3m1 0h1m3 0h1m-73 1h3m1 0h5m1 0h1m1 0h2m1 0h1m1 0h2m1 0h2m1 0h7m2 0h2m2 0h1m2 0h1m4 0h5m1 0h1m5 0h2m3 0h1m1 0h6m1 0h3m-73 1h1m3 0h1m3 0h1m1 0h6m2 0h1m2 0h4m3 0h1m3 0h2m1 0h1m1 0h1m1 0h3m2 0h1m3 0h2m2 0h1m3 0h3m4 0h2m3 0h1m2 0h2m-72 1h1m2 0h1m1 0h1m1 0h3m2 0h4m2 0h1m3 0h2m1 0h1m1 0h3m1 0h3m1 0h1m1 0h1m1 0h2m2 0h1m1 0h1m1 0h2m2 0h1m1 0h1m3 0h1m2 0h4m1 0h1m1 0h1m3 0h1m-72 1h1m2 0h1m3 0h2m2 0h2m2 0h1m1 0h1m2 0h1m1 0h2m3 0h2m2 0h2m1 0h1m2 0h1m1 0h1m2 0h2m3 0h1m2 0h3m1 0h1m2 0h1m1 0h1m1 0h3m3 0h2m1 0h2m-71 1h7m1 0h3m1 0h1m1 0h2m3 0h1m1 0h6m2 0h3m1 0h1m1 0h3m3 0h6m1 0h1m3 0h1m1 0h1m3 0h3m1 0h6m1 0h1m-71 1h1m3 0h1m1 0h1m1 0h2m1 0h3m1 0h1m2 0h2m2 0h1m2 0h2m1 0h3m1 0h1m2 0h1m2 0h1m1 0h1m1 0h1m2 0h2m2 0h1m5 0h1m1 0h1m4 0h1m3 0h1m1 0h2m-71 1h2m4 0h3m2 0h3m1 0h1m1 0h1m4 0h4m2 0h1m1 0h1m1 0h2m1 0h1m1 0h3m1 0h3m3 0h1m2 0h3m4 0h2m1 0h2m3 0h1m1 0h1m4 0h1m-70 1h1m1 0h1m1 0h2m2 0h4m1 0h2m1 0h1m1 0h1m1 0h1m1 0h2m2 0h1m1 0h1m1 0h1m5 0h1m1 0h2m2 0h3m3 0h1m2 0h3m1 0h2m1 0h1m1 0h2m2 0h3m1 0h2m-72 1h6m4 0h1m4 0h4m3 0h3m2 0h2m3 0h1m1 0h2m2 0h1m1 0h3m1 0h1m1 0h1m3 0h3m2 0h3m2 0h6m1 0h1m1 0h3m-70 1h2m2 0h2m6 0h1m3 0h1m1 0h2m4 0h1m1 0h3m2 0h2m1 0h7m6 0h3m1 0h2m1 0h4m2 0h3m1 0h1m2 0h1m-70 1h2m1 0h1m1 0h1m1 0h3m2 0h1m1 0h2m3 0h3m2 0h4m1 0h1m1 0h1m1 0h1m2 0h2m1 0h1m2 0h1m2 0h3m5 0h1m2 0h1m2 0h2m4 0h2m2 0h3m-70 1h2m3 0h2m1 0h1m1 0h1m5 0h4m1 0h7m4 0h1m4 0h4m1 0h2m3 0h1m1 0h4m4 0h1m3 0h1m1 0h1m2 0h3m-71 1h1m1 0h1m1 0h3m1 0h2m2 0h1m2 0h1m2 0h1m4 0h3m1 0h1m1 0h3m5 0h5m1 0h1m1 0h1m2 0h1m1 0h2m1 0h1m2 0h2m1 0h7m1 0h3m1 0h1m-73 1h4m1 0h1m5 0h1m3 0h1m1 0h2m2 0h1m1 0h2m2 0h1m1 0h2m1 0h3m1 0h3m1 0h1m1 0h3m1 0h1m2 0h1m1 0h1m1 0h1m1 0h1m1 0h1m4 0h2m1 0h1m1 0h1m2 0h2m-71 1h2m1 0h3m2 0h5m5 0h3m2 0h1m2 0h1m1 0h1m1 0h3m8 0h8m3 0h1m1 0h1m4 0h2m2 0h1m3 0h1m2 0h2m-73 1h2m2 0h1m3 0h1m1 0h1m1 0h2m3 0h1m1 0h3m3 0h2m3 0h1m2 0h2m3 0h2m5 0h3m2 0h1m1 0h2m3 0h1m1 0h1m1 0h1m2 0h1m2 0h6m-73 1h7m1 0h1m1 0h2m1 0h4m1 0h1m2 0h1m2 0h4m1 0h2m3 0h1m1 0h1m1 0h1m1 0h1m2 0h2m1 0h2m2 0h2m1 0h1m4 0h2m1 0h2m4 0h5m-72 1h1m1 0h4m1 0h1m1 0h1m1 0h3m1 0h1m1 0h1m1 0h3m1 0h2m1 0h1m1 0h1m1 0h1m1 0h2m2 0h1m2 0h1m1 0h2m1 0h1m1 0h2m4 0h1m1 0h1m1 0h2m1 0h2m1 0h1m1 0h1m2 0h1m1 0h3m-72 1h2m1 0h1m1 0h3m2 0h1m3 0h2m1 0h2m1 0h1m1 0h6m5 0h1m2 0h1m2 0h2m5 0h6m1 0h1m1 0h3m2 0h4m1 0h1m2 0h1m2 0h2m-70 1h2m2 0h1m2 0h1m1 0h1m1 0h1m3 0h3m1 0h1m1 0h2m1 0h1m2 0h1m2 0h1m1 0h1m1 0h1m1 0h2m2 0h1m4 0h2m2 0h1m1 0h1m1 0h1m6 0h2m2 0h5m-72 1h1m3 0h1m1 0h1m1 0h4m2 0h2m3 0h3m1 0h9m1 0h1m2 0h2m4 0h7m1 0h5m1 0h1m1 0h1m3 0h1m1 0h6m2 0h1m-65 1h1m1 0h1m5 0h3m1 0h1m1 0h1m1 0h1m3 0h2m3 0h1m1 0h2m1 0h3m1 0h1m1 0h1m3 0h3m3 0h2m6 0h3m3 0h2m1 0h1m-72 1h7m2 0h1m3 0h1m4 0h2m3 0h2m1 0h1m1 0h2m1 0h2m1 0h1m1 0h1m1 0h1m4 0h2m1 0h1m1 0h1m1 0h2m1 0h1m2 0h2m2 0h3m1 0h1m1 0h1m1 0h5m-73 1h1m5 0h1m3 0h4m1 0h1m2 0h2m2 0h1m1 0h1m3 0h1m1 0h4m2 0h4m1 0h1m2 0h1m3 0h1m3 0h1m1 0h2m1 0h2m3 0h1m1 0h1m3 0h1m2 0h1m-72 1h1m1 0h3m1 0h1m1 0h2m3 0h1m4 0h3m2 0h7m1 0h7m3 0h8m1 0h2m2 0h2m1 0h2m1 0h1m3 0h5m1 0h3m-73 1h1m1 0h3m1 0h1m1 0h3m2 0h4m1 0h4m2 0h4m2 0h2m7 0h3m1 0h2m1 0h1m2 0h1m2 0h1m2 0h1m1 0h3m2 0h3m1 0h1m1 0h2m2 0h1m-73 1h1m1 0h3m1 0h1m1 0h2m1 0h2m1 0h1m1 0h2m1 0h1m3 0h2m3 0h1m2 0h1m5 0h1m5 0h8m1 0h1m1 0h1m1 0h3m1 0h1m1 0h4m1 0h1m1 0h2m1 0h1m-73 1h1m5 0h1m2 0h1m1 0h1m3 0h1m1 0h3m2 0h1m3 0h4m1 0h3m1 0h1m2 0h1m3 0h2m5 0h2m1 0h2m1 0h1m1 0h1m2 0h5m1 0h1m2 0h2m1 0h1m-73 1h7m3 0h1m2 0h3m3 0h1m1 0h1m2 0h1m1 0h2m1 0h1m1 0h2m6 0h1m1 0h1m1 0h1m3 0h7m1 0h1m3 0h1m1 0h2m2 0h3m2 0h3&quot; /&gt;
    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v15-example-base8ba&quot; transform=&quot;scale(12.987012987012987)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;77&quot; width=&quot;77&quot; /&gt;&lt;path stroke=&quot;#000&quot; d=&quot;M0 0.5h7m2 0h1m1 0h1m2 0h2m3 0h2m1 0h1m1 0h3m1 0h1m1 0h1m2 0h2m2 0h2m1 0h4m1 0h1m2 0h2m2 0h2m3 0h1m1 0h1m1 0h3m1 0h1m4 0h7m-77 1h1m5 0h1m1 0h2m2 0h9m3 0h5m2 0h2m3 0h2m1 0h3m5 0h2m1 0h3m1 0h4m2 0h3m2 0h2m1 0h1m1 0h1m5 0h1m-77 1h1m1 0h3m1 0h1m1 0h2m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m3 0h1m1 0h1m1 0h1m2 0h5m1 0h1m1 0h1m3 0h4m2 0h1m4 0h4m1 0h1m1 0h3m5 0h1m1 0h1m1 0h3m1 0h1m-77 1h1m1 0h3m1 0h1m1 0h1m2 0h6m1 0h2m5 0h2m1 0h1m2 0h1m3 0h1m1 0h1m3 0h6m1 0h5m2 0h1m5 0h1m2 0h1m3 0h1m1 0h1m1 0h3m1 0h1m-77 1h1m1 0h3m1 0h1m1 0h1m2 0h1m2 0h2m2 0h1m2 0h2m1 0h5m1 0h2m1 0h2m4 0h1m1 0h1m4 0h5m2 0h1m1 0h1m2 0h1m1 0h4m2 0h3m1 0h1m1 0h3m1 0h1m-77 1h1m5 0h1m1 0h2m2 0h4m2 0h4m1 0h2m3 0h7m1 0h2m1 0h2m3 0h1m1 0h1m3 0h1m1 0h2m1 0h4m4 0h4m3 0h1m5 0h1m-77 1h7m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h7m-64 1h1m4 0h1m2 0h2m1 0h1m3 0h1m2 0h1m4 0h1m1 0h1m2 0h1m3 0h2m3 0h2m1 0h1m1 0h3m1 0h2m2 0h2m1 0h1m-65 1h1m2 0h4m2 0h1m1 0h1m1 0h4m1 0h1m1 0h1m1 0h5m1 0h2m1 0h1m1 0h1m1 0h1m3 0h11m3 0h1m1 0h1m1 0h2m1 0h2m1 0h2m2 0h1m1 0h5m-74 1h1m5 0h2m3 0h3m5 0h2m1 0h2m1 0h1m3 0h3m3 0h1m1 0h1m3 0h3m6 0h1m1 0h1m5 0h1m2 0h2m3 0h2m2 0h1m3 0h1m-77 1h3m1 0h1m1 0h3m1 0h1m1 0h3m1 0h1m2 0h2m1 0h1m1 0h1m2 0h3m4 0h1m1 0h4m1 0h3m6 0h2m1 0h2m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m2 0h3m1 0h4m-77 1h5m3 0h1m1 0h1m1 0h1m1 0h2m2 0h1m1 0h4m3 0h2m1 0h1m10 0h2m1 0h2m1 0h1m2 0h2m3 0h1m2 0h3m1 0h3m1 0h1m1 0h2m4 0h1m-75 1h7m1 0h2m2 0h1m1 0h1m1 0h1m2 0h1m5 0h1m2 0h1m1 0h2m2 0h1m1 0h1m1 0h2m1 0h1m5 0h2m1 0h1m3 0h2m1 0h1m1 0h1m3 0h4m3 0h2m1 0h1m1 0h2m-76 1h2m1 0h1m2 0h3m1 0h2m1 0h1m1 0h3m1 0h5m1 0h1m1 0h3m1 0h3m4 0h3m5 0h7m2 0h1m2 0h2m2 0h2m3 0h1m1 0h1m1 0h1m3 0h1m-77 1h1m1 0h2m2 0h1m1 0h2m1 0h1m1 0h2m1 0h1m3 0h1m1 0h1m2 0h2m2 0h1m2 0h1m2 0h1m6 0h1m1 0h1m4 0h1m3 0h2m2 0h1m3 0h2m1 0h1m1 0h1m2 0h3m1 0h2m1 0h1m-77 1h2m1 0h1m1 0h1m3 0h1m2 0h1m3 0h1m1 0h3m2 0h2m1 0h2m1 0h1m1 0h3m1 0h2m2 0h4m1 0h2m2 0h1m1 0h2m1 0h2m4 0h2m2 0h2m2 0h2m1 0h1m1 0h2m2 0h1m-77 1h4m1 0h2m1 0h1m3 0h1m1 0h3m1 0h1m1 0h1m1 0h1m3 0h1m3 0h3m1 0h1m1 0h3m1 0h2m1 0h1m2 0h2m2 0h4m1 0h1m1 0h3m2 0h5m2 0h6m1 0h1m-70 1h3m1 0h1m2 0h3m4 0h1m2 0h1m4 0h8m6 0h1m1 0h2m1 0h2m2 0h3m1 0h3m1 0h7m1 0h1m4 0h1m-74 1h1m2 0h1m2 0h1m1 0h1m4 0h3m1 0h1m1 0h1m5 0h1m1 0h2m2 0h2m3 0h2m2 0h4m9 0h2m1 0h1m2 0h3m1 0h1m1 0h1m1 0h1m1 0h1m1 0h2m2 0h1m-76 1h1m4 0h1m2 0h1m1 0h1m3 0h1m1 0h1m3 0h4m2 0h3m3 0h1m1 0h3m1 0h2m7 0h1m1 0h1m3 0h1m1 0h2m2 0h1m2 0h3m3 0h1m1 0h3m-70 1h1m2 0h1m2 0h1m3 0h2m1 0h1m2 0h2m1 0h4m1 0h1m3 0h1m1 0h2m2 0h6m2 0h1m5 0h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h4m3 0h4m1 0h1m-76 1h2m2 0h1m3 0h3m3 0h2m2 0h3m1 0h1m4 0h2m2 0h1m3 0h2m1 0h1m10 0h2m9 0h2m3 0h1m6 0h2m-73 1h2m1 0h3m2 0h1m1 0h1m2 0h1m1 0h1m2 0h5m1 0h1m1 0h2m1 0h1m2 0h4m2 0h2m3 0h1m1 0h2m2 0h2m1 0h1m2 0h2m1 0h6m1 0h2m1 0h2m5 0h1m-77 1h1m1 0h1m2 0h1m2 0h4m1 0h2m1 0h5m5 0h1m2 0h2m3 0h1m3 0h2m1 0h2m3 0h6m3 0h2m2 0h4m1 0h2m10 0h1m-76 1h1m2 0h5m3 0h1m1 0h1m1 0h1m1 0h1m2 0h9m1 0h1m1 0h1m1 0h2m3 0h2m1 0h1m1 0h8m1 0h4m1 0h1m2 0h4m1 0h7m-70 1h1m3 0h1m1 0h1m2 0h3m2 0h3m2 0h2m3 0h1m1 0h2m3 0h3m2 0h1m5 0h1m3 0h2m1 0h1m1 0h2m2 0h1m3 0h1m2 0h3m3 0h1m2 0h2m-74 1h2m1 0h1m1 0h1m4 0h1m3 0h1m2 0h1m2 0h2m1 0h1m1 0h3m2 0h1m3 0h1m1 0h2m3 0h1m1 0h1m1 0h1m1 0h1m2 0h4m1 0h11m1 0h1m1 0h3m1 0h1m-77 1h1m3 0h1m3 0h1m2 0h2m5 0h1m1 0h5m3 0h1m2 0h1m2 0h2m1 0h6m1 0h3m3 0h1m2 0h1m1 0h3m1 0h1m3 0h1m1 0h1m2 0h1m3 0h2m2 0h1m-76 1h8m1 0h3m1 0h1m2 0h1m3 0h2m1 0h7m1 0h1m2 0h1m5 0h10m1 0h2m1 0h1m2 0h6m1 0h9m1 0h2m-76 1h2m1 0h1m4 0h1m1 0h4m2 0h1m3 0h3m1 0h1m1 0h13m1 0h2m1 0h1m1 0h3m1 0h1m1 0h1m1 0h2m3 0h1m1 0h1m1 0h1m1 0h3m1 0h1m3 0h1m1 0h1m-74 1h1m3 0h3m3 0h2m1 0h3m1 0h1m2 0h9m1 0h1m2 0h1m2 0h1m1 0h2m2 0h1m1 0h1m4 0h2m1 0h3m1 0h1m1 0h6m1 0h6m1 0h3m-77 1h3m4 0h1m1 0h4m3 0h3m1 0h3m1 0h1m1 0h2m3 0h2m1 0h2m1 0h1m1 0h5m2 0h1m2 0h1m5 0h2m1 0h1m2 0h2m1 0h2m1 0h1m2 0h1m1 0h1m3 0h1m-76 1h1m1 0h5m1 0h4m4 0h3m2 0h1m2 0h5m4 0h1m1 0h4m1 0h10m1 0h5m1 0h5m2 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m-73 1h3m2 0h2m2 0h1m4 0h4m2 0h1m2 0h1m3 0h2m2 0h2m3 0h1m1 0h1m3 0h1m1 0h3m1 0h1m3 0h2m1 0h1m3 0h1m2 0h1m4 0h1m1 0h4m-73 1h1m1 0h2m2 0h1m2 0h5m1 0h1m3 0h1m1 0h3m1 0h1m2 0h4m3 0h3m1 0h1m2 0h1m4 0h1m2 0h2m3 0h1m1 0h3m3 0h2m1 0h1m1 0h2m1 0h1m-74 1h2m4 0h2m2 0h1m2 0h2m2 0h1m1 0h4m1 0h3m1 0h1m3 0h3m1 0h1m6 0h1m1 0h1m4 0h1m3 0h2m8 0h1m5 0h3m-74 1h2m2 0h3m3 0h1m1 0h1m3 0h9m1 0h2m1 0h1m1 0h1m1 0h1m1 0h2m1 0h3m2 0h6m1 0h3m2 0h1m2 0h1m1 0h3m1 0h1m1 0h1m2 0h1m2 0h2m1 0h2m-72 1h1m1 0h2m2 0h4m1 0h2m3 0h1m1 0h2m2 0h1m5 0h3m1 0h1m1 0h2m3 0h1m1 0h1m2 0h1m1 0h1m2 0h3m2 0h1m2 0h1m6 0h1m1 0h1m2 0h1m-74 1h1m2 0h4m3 0h1m1 0h2m2 0h2m3 0h1m2 0h1m1 0h3m2 0h2m1 0h3m1 0h3m2 0h1m1 0h3m1 0h2m5 0h1m1 0h2m1 0h1m1 0h1m1 0h4m1 0h2m2 0h1m-75 1h4m2 0h1m1 0h1m5 0h2m1 0h4m1 0h2m1 0h2m1 0h1m4 0h2m1 0h1m5 0h3m7 0h5m1 0h1m4 0h2m6 0h2m2 0h1m-74 1h2m1 0h10m1 0h2m1 0h1m2 0h1m1 0h4m2 0h1m1 0h2m3 0h2m1 0h1m4 0h7m3 0h1m1 0h1m1 0h1m1 0h2m4 0h2m2 0h4m-76 1h1m6 0h3m1 0h1m1 0h2m4 0h1m1 0h2m1 0h1m4 0h1m4 0h3m2 0h2m1 0h1m1 0h1m2 0h2m1 0h1m4 0h1m1 0h1m2 0h1m2 0h2m1 0h1m1 0h1m1 0h2m3 0h1m-76 1h2m1 0h2m1 0h1m1 0h3m2 0h1m1 0h1m3 0h1m1 0h3m2 0h2m1 0h2m2 0h1m2 0h1m2 0h1m2 0h1m1 0h2m1 0h1m1 0h2m6 0h5m1 0h1m2 0h5m2 0h1m1 0h1m-76 1h3m1 0h2m2 0h2m2 0h2m2 0h1m1 0h1m4 0h1m4 0h3m1 0h2m3 0h1m1 0h1m4 0h5m1 0h2m2 0h1m2 0h1m2 0h2m1 0h2m3 0h2m2 0h2m-72 1h1m2 0h2m2 0h1m1 0h1m6 0h2m1 0h2m2 0h4m3 0h3m5 0h2m5 0h2m3 0h3m1 0h1m3 0h5m1 0h3m3 0h5m-77 1h2m1 0h2m7 0h3m4 0h2m1 0h2m3 0h1m2 0h1m1 0h1m2 0h1m3 0h2m1 0h1m1 0h1m3 0h2m1 0h2m1 0h1m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m5 0h1m3 0h2m-77 1h9m4 0h1m1 0h1m1 0h1m1 0h1m1 0h8m1 0h4m4 0h2m1 0h2m2 0h8m3 0h1m1 0h1m1 0h2m1 0h10m1 0h1m1 0h1m-75 1h3m3 0h3m5 0h1m1 0h1m5 0h1m3 0h1m1 0h1m1 0h2m2 0h2m3 0h1m1 0h4m3 0h1m1 0h2m2 0h1m3 0h1m7 0h1m3 0h1m2 0h1m-74 1h1m1 0h1m1 0h1m1 0h2m2 0h4m1 0h5m2 0h1m1 0h1m1 0h1m3 0h6m1 0h1m2 0h5m1 0h1m1 0h1m1 0h3m1 0h2m1 0h3m1 0h3m2 0h1m1 0h1m1 0h2m1 0h1m-75 1h1m1 0h2m3 0h1m1 0h2m2 0h1m2 0h2m1 0h1m3 0h1m3 0h2m1 0h1m2 0h1m3 0h3m4 0h2m3 0h3m1 0h1m3 0h2m4 0h3m1 0h1m3 0h2m2 0h1m-77 1h1m1 0h7m2 0h1m1 0h1m1 0h3m1 0h1m1 0h8m7 0h2m1 0h1m2 0h1m1 0h7m1 0h1m3 0h1m1 0h3m1 0h2m1 0h1m1 0h10m-77 1h1m1 0h3m4 0h4m3 0h1m1 0h1m2 0h1m1 0h5m3 0h1m2 0h2m1 0h1m2 0h2m2 0h1m1 0h2m4 0h2m1 0h1m1 0h1m1 0h1m3 0h1m4 0h3m3 0h1m1 0h1m-77 1h2m2 0h1m1 0h1m1 0h1m4 0h2m1 0h2m3 0h1m2 0h1m1 0h1m1 0h2m2 0h1m2 0h1m1 0h4m2 0h2m2 0h1m2 0h4m2 0h1m2 0h1m2 0h4m1 0h2m1 0h2m1 0h4m-77 1h2m1 0h1m1 0h1m1 0h2m2 0h1m7 0h1m1 0h3m3 0h1m1 0h1m2 0h3m1 0h3m8 0h1m1 0h1m2 0h1m5 0h2m2 0h2m1 0h1m4 0h2m2 0h1m1 0h1m-76 1h1m2 0h1m1 0h1m2 0h2m2 0h2m1 0h3m1 0h1m2 0h1m1 0h1m1 0h1m2 0h1m1 0h1m6 0h1m1 0h2m2 0h1m1 0h1m2 0h2m3 0h2m3 0h1m1 0h3m1 0h1m1 0h1m1 0h2m1 0h4m-77 1h1m2 0h3m1 0h2m1 0h2m3 0h2m3 0h1m1 0h4m1 0h6m1 0h1m3 0h7m1 0h3m2 0h1m8 0h3m2 0h1m1 0h1m1 0h4m2 0h1m-74 1h2m1 0h2m1 0h3m2 0h3m2 0h3m1 0h2m1 0h2m2 0h4m1 0h1m8 0h1m4 0h1m2 0h6m1 0h2m1 0h2m3 0h3m1 0h1m2 0h1m2 0h1m-74 1h1m4 0h1m4 0h2m1 0h2m3 0h4m2 0h1m1 0h1m3 0h1m1 0h1m1 0h1m2 0h2m2 0h1m1 0h2m1 0h3m2 0h2m3 0h2m1 0h3m5 0h2m1 0h2m1 0h1m-77 1h1m1 0h1m3 0h1m1 0h2m1 0h4m2 0h1m3 0h1m1 0h1m11 0h4m1 0h3m1 0h2m1 0h1m3 0h2m3 0h1m2 0h2m5 0h1m2 0h1m1 0h1m4 0h1m-77 1h6m4 0h1m1 0h1m2 0h2m1 0h2m1 0h2m1 0h1m1 0h1m1 0h2m3 0h4m2 0h6m1 0h5m2 0h1m2 0h1m1 0h2m3 0h1m3 0h1m1 0h1m1 0h2m2 0h2m-76 1h3m2 0h1m1 0h2m6 0h1m1 0h1m3 0h1m4 0h2m1 0h1m1 0h1m2 0h1m1 0h1m2 0h1m2 0h1m1 0h1m5 0h4m3 0h2m1 0h5m1 0h1m2 0h2m1 0h4m-76 1h1m2 0h1m2 0h1m2 0h2m4 0h2m2 0h1m1 0h2m2 0h1m2 0h4m2 0h6m3 0h1m1 0h3m1 0h1m2 0h2m4 0h1m2 0h1m4 0h1m2 0h2m1 0h1m1 0h2m-77 1h1m1 0h1m2 0h2m5 0h2m1 0h2m1 0h1m1 0h2m1 0h3m1 0h2m1 0h1m1 0h2m1 0h1m1 0h1m1 0h1m2 0h2m1 0h5m2 0h3m12 0h2m2 0h4m1 0h1m-76 1h1m1 0h1m3 0h2m2 0h1m4 0h1m3 0h3m1 0h1m1 0h1m4 0h1m4 0h3m2 0h3m1 0h3m2 0h2m3 0h2m2 0h2m1 0h1m3 0h1m3 0h2m2 0h2m-76 1h2m3 0h4m2 0h2m1 0h1m2 0h2m1 0h2m1 0h1m5 0h2m2 0h2m2 0h2m2 0h1m6 0h2m2 0h1m1 0h5m1 0h1m1 0h1m1 0h1m1 0h1m3 0h1m1 0h2m-72 1h1m1 0h1m2 0h5m1 0h2m3 0h2m3 0h1m2 0h6m1 0h1m2 0h2m3 0h1m2 0h1m1 0h1m4 0h1m4 0h1m1 0h1m3 0h1m4 0h1m1 0h2m1 0h2m1 0h2m-76 1h1m2 0h4m1 0h3m3 0h1m1 0h1m2 0h1m3 0h6m2 0h1m1 0h2m3 0h6m1 0h1m2 0h4m3 0h1m1 0h3m6 0h6m3 0h1m-73 1h1m3 0h2m3 0h1m1 0h3m1 0h2m1 0h1m2 0h1m1 0h7m5 0h2m1 0h2m3 0h1m3 0h1m2 0h2m1 0h2m2 0h1m4 0h2m6 0h3m-76 1h4m1 0h1m1 0h2m2 0h2m1 0h1m1 0h5m1 0h6m7 0h1m1 0h1m1 0h1m2 0h2m1 0h9m1 0h2m2 0h2m1 0h2m3 0h6m1 0h2m-69 1h1m1 0h1m2 0h1m1 0h2m1 0h1m3 0h3m3 0h1m1 0h1m3 0h1m1 0h2m1 0h1m3 0h2m1 0h1m3 0h1m4 0h1m1 0h1m1 0h1m2 0h2m3 0h2m3 0h5m-77 1h7m1 0h1m3 0h1m2 0h4m2 0h4m1 0h1m1 0h2m6 0h2m1 0h2m1 0h1m1 0h1m1 0h1m1 0h1m1 0h9m1 0h1m3 0h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h1m-77 1h1m5 0h1m1 0h2m1 0h1m6 0h1m1 0h1m3 0h1m3 0h2m1 0h1m7 0h3m4 0h1m3 0h1m6 0h3m3 0h3m2 0h1m3 0h1m2 0h2m-77 1h1m1 0h3m1 0h1m3 0h1m2 0h2m2 0h1m1 0h2m1 0h7m1 0h2m1 0h2m5 0h1m3 0h9m1 0h5m1 0h4m3 0h7m2 0h1m-77 1h1m1 0h3m1 0h1m3 0h1m1 0h2m9 0h5m1 0h1m3 0h2m1 0h1m2 0h1m2 0h1m1 0h1m1 0h2m1 0h1m1 0h1m1 0h1m1 0h3m4 0h3m2 0h1m1 0h1m-70 1h1m1 0h3m1 0h1m1 0h2m1 0h1m1 0h1m1 0h1m1 0h4m4 0h1m1 0h2m1 0h1m1 0h3m2 0h1m3 0h1m1 0h4m5 0h1m1 0h1m2 0h1m2 0h1m3 0h1m1 0h1m4 0h3m1 0h2m-77 1h1m5 0h1m4 0h1m4 0h2m1 0h1m4 0h1m4 0h1m3 0h1m1 0h3m3 0h1m2 0h1m1 0h1m2 0h3m4 0h1m2 0h1m2 0h2m3 0h1m6 0h1m-75 1h7m2 0h3m2 0h1m2 0h1m2 0h2m2 0h1m2 0h1m4 0h1m3 0h1m1 0h1m3 0h1m3 0h3m2 0h6m1 0h1m1 0h1m1 0h2m3 0h1m1 0h1m2 0h1m1 0h1m1 0h1&quot; /&gt;
    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v15-example-base8&quot; transform=&quot;scale(12.987012987012987)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;77&quot; width=&quot;77&quot; /&gt;&lt;path stroke=&quot;#000&quot; d=&quot;M0 0.5h7m1 0h2m1 0h1m3 0h3m2 0h1m2 0h2m2 0h1m2 0h1m2 0h2m2 0h2m1 0h1m2 0h3m1 0h1m1 0h1m2 0h1m1 0h1m1 0h3m2 0h3m1 0h1m4 0h7m-77 1h1m5 0h1m2 0h1m4 0h3m1 0h1m5 0h3m3 0h3m7 0h1m1 0h2m2 0h3m1 0h8m1 0h4m2 0h2m1 0h1m1 0h1m5 0h1m-77 1h1m1 0h3m1 0h1m1 0h3m1 0h1m1 0h2m2 0h4m1 0h2m1 0h2m1 0h2m2 0h1m2 0h1m2 0h1m1 0h1m3 0h1m2 0h1m1 0h1m1 0h1m1 0h1m1 0h1m2 0h3m2 0h2m2 0h1m1 0h1m1 0h3m1 0h1m-77 1h1m1 0h3m1 0h1m3 0h1m3 0h3m1 0h2m1 0h1m3 0h1m4 0h3m1 0h2m1 0h1m1 0h1m1 0h3m1 0h1m3 0h1m1 0h1m1 0h1m1 0h2m3 0h2m6 0h1m1 0h1m1 0h3m1 0h1m-77 1h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h8m2 0h1m1 0h7m1 0h2m1 0h1m2 0h1m1 0h1m1 0h1m2 0h6m1 0h4m4 0h9m1 0h1m1 0h3m1 0h1m-77 1h1m5 0h1m2 0h1m1 0h3m1 0h6m1 0h1m1 0h1m3 0h2m1 0h4m1 0h3m2 0h2m3 0h1m3 0h1m1 0h1m2 0h1m2 0h1m1 0h1m2 0h4m3 0h1m5 0h1m-77 1h7m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h7m-69 1h1m2 0h3m1 0h2m2 0h2m1 0h1m1 0h1m3 0h1m1 0h2m4 0h1m1 0h2m1 0h1m2 0h1m1 0h1m3 0h2m2 0h3m2 0h1m1 0h1m1 0h2m-60 1h2m3 0h1m3 0h1m1 0h1m2 0h3m2 0h7m1 0h3m1 0h1m1 0h1m2 0h2m1 0h9m2 0h1m1 0h2m1 0h1m2 0h2m1 0h3m1 0h1m1 0h1m1 0h1m1 0h1m-77 1h1m3 0h2m1 0h4m2 0h1m1 0h1m1 0h1m4 0h5m3 0h2m1 0h2m1 0h3m4 0h1m2 0h5m2 0h1m1 0h3m4 0h2m2 0h1m3 0h3m1 0h1m1 0h1m-77 1h1m4 0h2m1 0h1m3 0h1m2 0h4m2 0h1m1 0h4m1 0h1m2 0h2m3 0h1m4 0h2m2 0h3m2 0h3m1 0h1m5 0h1m1 0h1m2 0h4m1 0h1m2 0h1m1 0h1m-75 1h4m3 0h1m1 0h3m1 0h2m2 0h1m1 0h2m1 0h2m4 0h1m1 0h1m3 0h1m4 0h2m3 0h1m1 0h1m1 0h1m1 0h1m1 0h2m2 0h1m1 0h1m1 0h4m3 0h1m1 0h1m1 0h1m2 0h2m-76 1h3m2 0h1m1 0h2m4 0h1m1 0h1m2 0h3m1 0h3m3 0h3m2 0h2m2 0h1m1 0h1m1 0h1m1 0h2m2 0h1m1 0h1m3 0h1m2 0h3m3 0h3m3 0h3m2 0h1m-74 1h2m1 0h1m2 0h3m2 0h1m1 0h1m4 0h1m1 0h1m2 0h1m1 0h2m4 0h3m1 0h1m3 0h2m3 0h5m1 0h2m1 0h6m1 0h5m2 0h5m3 0h1m-74 1h4m1 0h3m1 0h1m3 0h4m1 0h1m1 0h2m2 0h1m2 0h3m1 0h1m1 0h4m3 0h1m3 0h4m1 0h2m2 0h2m1 0h1m7 0h2m6 0h1m-74 1h4m1 0h4m3 0h2m3 0h2m1 0h1m1 0h1m5 0h1m2 0h2m3 0h1m1 0h2m1 0h3m2 0h1m2 0h4m1 0h4m2 0h2m2 0h2m1 0h1m2 0h3m1 0h1m-77 1h1m2 0h1m1 0h4m1 0h2m1 0h1m3 0h9m2 0h3m1 0h1m2 0h2m2 0h1m4 0h1m3 0h2m1 0h1m1 0h1m2 0h1m4 0h1m1 0h1m3 0h3m1 0h2m-73 1h1m8 0h1m1 0h1m2 0h3m1 0h2m2 0h2m9 0h2m4 0h1m2 0h5m1 0h1m1 0h1m1 0h3m1 0h1m1 0h1m3 0h5m1 0h6m2 0h1m-77 1h2m1 0h1m1 0h2m1 0h2m3 0h2m2 0h1m3 0h1m3 0h1m3 0h4m3 0h2m1 0h4m1 0h1m3 0h1m1 0h1m2 0h1m2 0h5m2 0h1m1 0h1m1 0h1m2 0h3m2 0h1m-72 1h1m2 0h2m1 0h1m3 0h2m2 0h2m1 0h2m1 0h1m1 0h1m3 0h1m5 0h1m1 0h2m2 0h1m10 0h8m2 0h4m1 0h2m5 0h1m-75 1h4m1 0h3m2 0h1m4 0h2m1 0h6m1 0h2m1 0h1m1 0h5m6 0h1m1 0h3m4 0h4m1 0h1m5 0h2m2 0h3m3 0h1m1 0h2m-74 1h1m7 0h3m7 0h1m2 0h2m1 0h1m1 0h2m4 0h3m2 0h1m2 0h1m3 0h2m4 0h3m1 0h3m2 0h2m1 0h2m2 0h1m1 0h5m1 0h1m-76 1h1m2 0h4m1 0h5m1 0h3m3 0h3m2 0h4m2 0h3m2 0h2m2 0h1m1 0h1m3 0h3m1 0h1m2 0h2m1 0h1m2 0h1m1 0h2m1 0h1m2 0h2m1 0h6m-77 1h3m1 0h2m2 0h2m3 0h3m1 0h1m2 0h1m2 0h2m1 0h2m1 0h5m2 0h1m1 0h4m2 0h1m1 0h3m1 0h1m1 0h1m2 0h5m1 0h2m1 0h3m2 0h1m6 0h1m-77 1h2m2 0h6m4 0h3m1 0h1m2 0h2m1 0h8m1 0h1m1 0h2m3 0h2m1 0h1m1 0h6m1 0h1m2 0h2m1 0h2m1 0h2m1 0h1m2 0h7m2 0h1m-74 1h2m3 0h7m1 0h1m3 0h1m3 0h1m3 0h1m1 0h1m1 0h2m1 0h3m1 0h1m2 0h3m1 0h1m3 0h3m1 0h3m2 0h3m1 0h2m2 0h2m3 0h1m3 0h1m-75 1h1m1 0h1m1 0h1m1 0h1m2 0h1m2 0h1m1 0h1m2 0h2m1 0h1m1 0h1m1 0h1m1 0h2m5 0h1m2 0h1m2 0h1m1 0h1m2 0h1m1 0h1m1 0h1m2 0h2m3 0h1m1 0h2m3 0h4m1 0h1m1 0h1m2 0h1m-76 1h1m1 0h3m3 0h4m1 0h1m5 0h3m2 0h1m3 0h3m3 0h1m1 0h3m1 0h2m3 0h2m3 0h6m2 0h7m1 0h1m1 0h1m3 0h4m-75 1h2m1 0h6m2 0h1m1 0h3m4 0h1m2 0h6m4 0h3m1 0h1m1 0h1m1 0h1m2 0h6m1 0h2m2 0h1m1 0h1m1 0h1m2 0h10m1 0h2m-76 1h1m2 0h3m1 0h1m1 0h2m4 0h1m1 0h2m2 0h2m1 0h2m1 0h4m3 0h3m2 0h3m2 0h1m1 0h1m3 0h1m1 0h4m2 0h5m1 0h1m2 0h7m-74 1h1m1 0h2m2 0h1m3 0h4m2 0h2m4 0h6m6 0h1m2 0h1m1 0h3m4 0h1m1 0h3m2 0h1m1 0h3m2 0h1m1 0h2m2 0h2m1 0h1m1 0h1m2 0h2m-76 1h2m1 0h1m3 0h1m1 0h4m1 0h1m1 0h2m3 0h2m6 0h2m4 0h1m1 0h3m1 0h1m2 0h1m1 0h1m1 0h1m1 0h1m3 0h3m4 0h3m1 0h2m1 0h1m1 0h1m1 0h1m3 0h1m-77 1h1m5 0h4m1 0h1m2 0h1m3 0h3m4 0h2m2 0h4m1 0h1m2 0h3m2 0h1m1 0h2m1 0h1m3 0h2m1 0h1m3 0h3m6 0h3m4 0h1m1 0h1m-76 1h2m2 0h1m1 0h1m1 0h3m3 0h3m1 0h2m1 0h1m1 0h1m5 0h3m4 0h2m2 0h2m1 0h4m1 0h4m2 0h1m2 0h2m3 0h1m1 0h1m2 0h2m3 0h1m1 0h2m-74 1h2m1 0h1m1 0h1m1 0h4m1 0h1m2 0h3m7 0h1m4 0h2m3 0h5m2 0h2m1 0h1m5 0h3m2 0h2m9 0h4m1 0h2m-74 1h1m3 0h3m5 0h2m1 0h2m1 0h2m1 0h5m2 0h1m1 0h1m4 0h1m1 0h4m2 0h3m1 0h3m2 0h3m2 0h1m2 0h1m1 0h2m3 0h2m1 0h1m1 0h2m-76 1h1m2 0h5m2 0h3m2 0h2m3 0h6m3 0h1m2 0h1m3 0h1m1 0h1m3 0h5m1 0h3m3 0h1m3 0h3m6 0h3m1 0h2m1 0h2m-77 1h1m1 0h2m1 0h1m2 0h1m1 0h1m1 0h2m1 0h4m2 0h1m1 0h1m1 0h1m1 0h2m3 0h2m1 0h2m2 0h1m2 0h1m1 0h1m1 0h3m2 0h1m3 0h3m2 0h1m1 0h1m2 0h1m1 0h2m2 0h2m1 0h1m-75 1h1m1 0h2m2 0h3m3 0h2m1 0h1m3 0h2m2 0h1m1 0h1m2 0h1m1 0h5m4 0h2m8 0h5m1 0h1m1 0h2m1 0h1m1 0h1m5 0h1m3 0h3m1 0h1m-77 1h1m2 0h1m3 0h1m3 0h3m1 0h1m1 0h2m2 0h3m1 0h1m2 0h1m1 0h2m1 0h3m1 0h2m4 0h1m9 0h1m4 0h1m1 0h1m1 0h1m3 0h1m1 0h1m1 0h1m2 0h1m1 0h1m-76 1h4m1 0h2m1 0h2m1 0h2m1 0h2m2 0h2m2 0h1m2 0h5m1 0h3m1 0h1m1 0h4m1 0h4m2 0h6m1 0h1m1 0h1m5 0h2m6 0h2m2 0h2m-75 1h2m3 0h1m1 0h2m1 0h1m3 0h4m1 0h2m2 0h1m3 0h2m1 0h1m3 0h3m3 0h1m1 0h3m5 0h1m1 0h3m1 0h1m1 0h5m2 0h1m2 0h3m1 0h3m-74 1h2m1 0h1m3 0h1m1 0h1m1 0h1m3 0h2m2 0h2m1 0h2m1 0h2m1 0h1m1 0h2m1 0h2m2 0h3m1 0h1m4 0h2m1 0h1m4 0h2m1 0h2m2 0h3m1 0h3m3 0h1m1 0h1m-77 1h1m1 0h1m1 0h2m3 0h3m2 0h2m2 0h1m3 0h3m5 0h2m2 0h1m2 0h1m1 0h2m3 0h3m1 0h2m1 0h1m5 0h2m1 0h2m1 0h4m2 0h1m3 0h2m1 0h1m-76 1h2m1 0h1m1 0h2m1 0h2m1 0h2m3 0h2m1 0h1m2 0h1m1 0h1m4 0h3m2 0h1m2 0h3m2 0h2m1 0h1m1 0h1m5 0h1m1 0h1m1 0h2m1 0h1m1 0h1m2 0h1m3 0h3m1 0h1m-75 1h1m6 0h1m1 0h3m1 0h2m1 0h1m1 0h2m3 0h2m1 0h3m1 0h2m1 0h1m1 0h1m1 0h1m2 0h3m4 0h5m4 0h1m2 0h2m2 0h1m1 0h1m1 0h2m1 0h3m3 0h1m-77 1h9m1 0h2m1 0h4m3 0h1m1 0h1m1 0h6m2 0h7m1 0h2m1 0h8m2 0h1m2 0h1m2 0h2m1 0h2m2 0h1m1 0h6m1 0h1m-75 1h4m3 0h3m1 0h2m2 0h2m3 0h1m2 0h1m3 0h3m1 0h1m4 0h1m4 0h5m3 0h1m1 0h3m1 0h1m2 0h1m5 0h2m1 0h1m3 0h2m1 0h1m-76 1h1m3 0h1m1 0h1m1 0h1m1 0h3m2 0h1m1 0h1m1 0h3m2 0h1m1 0h1m1 0h1m5 0h1m4 0h1m1 0h4m1 0h1m1 0h1m1 0h1m1 0h3m2 0h1m2 0h3m3 0h3m1 0h1m1 0h1m3 0h1m-75 1h3m3 0h3m2 0h1m3 0h2m1 0h1m1 0h1m1 0h1m3 0h4m2 0h2m2 0h4m3 0h2m3 0h3m3 0h1m1 0h1m3 0h1m1 0h1m2 0h2m3 0h1m1 0h1m1 0h1m-77 1h1m1 0h1m1 0h5m1 0h3m2 0h1m1 0h1m2 0h2m2 0h6m1 0h1m1 0h2m1 0h2m1 0h3m1 0h1m2 0h5m1 0h2m2 0h1m3 0h1m2 0h1m1 0h1m2 0h6m1 0h1m-73 1h1m3 0h2m5 0h1m5 0h1m1 0h2m2 0h1m1 0h4m2 0h1m6 0h1m4 0h1m1 0h3m1 0h7m1 0h1m2 0h4m2 0h1m2 0h2m1 0h1m-75 1h1m1 0h1m1 0h2m2 0h1m1 0h2m1 0h1m3 0h3m2 0h3m1 0h4m1 0h1m1 0h1m3 0h2m1 0h2m2 0h2m1 0h1m2 0h2m3 0h1m1 0h1m2 0h1m1 0h2m3 0h1m6 0h2m-74 1h1m1 0h1m4 0h1m1 0h2m5 0h1m3 0h3m1 0h1m2 0h1m2 0h1m2 0h2m4 0h1m5 0h1m5 0h1m1 0h1m1 0h3m1 0h2m2 0h1m3 0h5m1 0h1m-77 1h1m2 0h1m2 0h1m2 0h1m3 0h2m1 0h3m1 0h1m2 0h1m1 0h3m2 0h1m1 0h1m2 0h5m6 0h1m4 0h2m2 0h2m2 0h2m1 0h2m1 0h3m2 0h2m2 0h3m-77 1h1m1 0h2m4 0h1m2 0h3m1 0h2m1 0h1m1 0h2m1 0h1m1 0h1m3 0h2m3 0h1m1 0h2m1 0h2m1 0h3m1 0h2m1 0h2m3 0h3m2 0h1m1 0h2m4 0h1m1 0h3m3 0h1m-76 1h4m2 0h2m1 0h1m1 0h1m1 0h4m5 0h1m2 0h2m1 0h1m1 0h1m1 0h2m1 0h1m4 0h3m1 0h1m1 0h5m3 0h1m1 0h1m2 0h2m2 0h1m2 0h3m2 0h1m-72 1h1m8 0h2m1 0h3m5 0h1m1 0h2m1 0h1m1 0h1m1 0h1m1 0h1m1 0h4m5 0h1m3 0h3m2 0h2m2 0h2m1 0h2m11 0h2m-71 1h6m1 0h2m1 0h2m2 0h5m5 0h1m2 0h1m2 0h2m2 0h1m6 0h1m1 0h1m7 0h2m3 0h6m2 0h1m1 0h3m3 0h1m-75 1h1m1 0h1m2 0h1m3 0h1m4 0h6m6 0h1m6 0h3m1 0h1m1 0h2m1 0h4m1 0h1m1 0h1m3 0h1m4 0h2m7 0h3m1 0h1m1 0h4m-77 1h1m4 0h2m1 0h1m5 0h1m1 0h1m2 0h2m2 0h6m2 0h2m2 0h1m4 0h1m1 0h3m1 0h1m2 0h2m1 0h3m3 0h6m1 0h1m1 0h2m1 0h2m2 0h3m-76 1h1m1 0h1m1 0h1m1 0h1m1 0h4m1 0h1m1 0h3m1 0h1m2 0h3m2 0h1m4 0h3m1 0h6m1 0h1m1 0h2m1 0h4m1 0h2m3 0h1m2 0h1m3 0h1m3 0h4m1 0h2m-76 1h3m2 0h4m1 0h2m1 0h2m2 0h1m6 0h3m2 0h1m1 0h2m5 0h2m4 0h1m2 0h4m4 0h1m1 0h2m1 0h3m1 0h1m2 0h1m1 0h1m1 0h1m1 0h1m-75 1h1m3 0h1m2 0h1m1 0h1m1 0h4m2 0h1m1 0h4m1 0h2m2 0h1m1 0h5m5 0h5m2 0h4m4 0h2m1 0h2m3 0h2m6 0h2m2 0h2m-77 1h2m1 0h1m1 0h2m3 0h1m1 0h3m1 0h1m1 0h1m2 0h1m1 0h1m1 0h3m2 0h3m2 0h1m1 0h1m2 0h4m3 0h2m1 0h1m2 0h2m2 0h1m3 0h1m2 0h5m3 0h1m3 0h1m-77 1h1m1 0h1m1 0h2m1 0h2m2 0h4m4 0h2m1 0h4m2 0h2m1 0h1m2 0h1m3 0h1m3 0h2m1 0h2m1 0h2m1 0h1m6 0h1m1 0h1m1 0h1m3 0h6m1 0h1m1 0h2m-76 1h1m2 0h4m1 0h3m1 0h3m1 0h2m1 0h1m1 0h2m1 0h5m2 0h1m1 0h2m3 0h2m1 0h1m2 0h1m4 0h2m2 0h1m1 0h1m1 0h1m1 0h1m3 0h1m4 0h3m1 0h1m2 0h1m-73 1h1m3 0h1m1 0h1m1 0h1m2 0h3m1 0h1m2 0h4m1 0h3m1 0h4m1 0h2m1 0h1m1 0h1m1 0h7m4 0h1m2 0h2m2 0h1m1 0h2m2 0h2m2 0h1m2 0h3m-76 1h4m1 0h2m3 0h2m5 0h1m3 0h8m1 0h2m2 0h2m1 0h13m1 0h1m1 0h1m1 0h2m4 0h4m1 0h6m2 0h1m-68 1h1m3 0h1m1 0h1m4 0h2m2 0h2m3 0h1m3 0h1m9 0h2m2 0h1m3 0h1m5 0h1m1 0h1m7 0h3m3 0h4m-76 1h7m4 0h2m3 0h3m3 0h3m1 0h1m1 0h1m2 0h2m1 0h3m4 0h1m2 0h3m1 0h1m1 0h2m2 0h1m2 0h7m1 0h4m1 0h1m1 0h2m-74 1h1m5 0h1m1 0h2m1 0h7m1 0h1m1 0h2m1 0h1m3 0h4m4 0h1m1 0h3m3 0h1m1 0h1m3 0h1m1 0h1m1 0h1m8 0h6m3 0h1m2 0h2m-77 1h1m1 0h3m1 0h1m3 0h1m2 0h1m1 0h4m1 0h2m1 0h6m1 0h2m1 0h2m3 0h1m1 0h1m1 0h1m2 0h6m1 0h2m1 0h1m1 0h1m3 0h3m3 0h7m2 0h1m-77 1h1m1 0h3m1 0h1m3 0h1m3 0h1m1 0h1m1 0h2m2 0h6m1 0h2m2 0h2m2 0h2m2 0h3m3 0h2m1 0h2m1 0h1m2 0h1m3 0h1m1 0h3m1 0h4m1 0h2m1 0h1m-75 1h1m1 0h3m1 0h1m2 0h2m3 0h1m1 0h1m3 0h1m1 0h4m1 0h1m1 0h3m1 0h1m1 0h1m2 0h6m3 0h1m1 0h3m5 0h1m1 0h1m1 0h2m2 0h2m3 0h2m1 0h3m-76 1h1m5 0h1m3 0h2m1 0h3m1 0h1m2 0h1m3 0h1m1 0h1m1 0h3m1 0h3m1 0h2m4 0h1m1 0h1m3 0h2m4 0h1m4 0h1m1 0h1m1 0h2m1 0h1m3 0h1m3 0h1m1 0h1m-77 1h7m2 0h1m4 0h4m2 0h1m2 0h1m1 0h1m1 0h3m1 0h1m2 0h1m1 0h3m3 0h1m3 0h1m1 0h3m1 0h1m3 0h1m2 0h1m1 0h5m4 0h1m3 0h1&quot; /&gt;
    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v40-maxed-base64&quot; transform=&quot;scale(5.649717514124294)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;177&quot; width=&quot;177&quot; /&gt;&lt;path stroke=&quot;#000&quot; d=&quot;M0 0.5h7m2 0h3m1 0h2m2 0h2m3 0h2m1 0h2m3 0h1m1 0h2m2 0h4m1 0h2m5 0h1m3 0h1m5 0h3m1 0h9m2 0h1m1 0h5m5 0h1m2 0h4m1 0h1m1 0h1m1 0h1m1 0h5m7 0h1m2 0h1m2 0h1m1 0h2m6 0h1m1 0h4m4 0h1m1 0h1m1 0h1m2 0h2m2 0h3m4 0h1m3 0h4m3 0h1m3 0h7m-177 1h1m5 0h1m1 0h1m2 0h1m3 0h2m2 0h3m1 0h2m1 0h2m3 0h2m4 0h1m3 0h1m1 0h1m1 0h5m3 0h3m1 0h1m2 0h1m5 0h3m3 0h2m1 0h1m1 0h4m2 0h1m1 0h3m2 0h1m2 0h3m3 0h1m1 0h5m1 0h4m2 0h4m2 0h3m2 0h3m3 0h1m2 0h1m1 0h1m1 0h4m1 0h2m2 0h2m2 0h2m4 0h1m1 0h1m4 0h1m2 0h1m1 0h1m1 0h1m5 0h1m-177 1h1m1 0h3m1 0h1m4 0h3m1 0h4m1 0h1m1 0h5m1 0h2m2 0h4m1 0h1m3 0h3m4 0h2m3 0h4m2 0h1m1 0h2m2 0h1m3 0h1m1 0h2m4 0h1m4 0h4m1 0h1m1 0h1m1 0h2m1 0h1m1 0h1m4 0h1m1 0h1m1 0h3m2 0h1m1 0h1m5 0h4m1 0h1m2 0h1m1 0h1m2 0h1m2 0h5m2 0h1m1 0h3m1 0h1m1 0h3m1 0h1m2 0h2m2 0h3m1 0h3m3 0h1m1 0h3m1 0h1m-177 1h1m1 0h3m1 0h1m1 0h6m2 0h1m1 0h2m3 0h3m1 0h5m3 0h3m1 0h1m2 0h1m1 0h4m1 0h3m8 0h4m3 0h1m4 0h2m4 0h2m4 0h3m3 0h1m2 0h6m2 0h3m4 0h2m7 0h1m1 0h3m3 0h3m3 0h3m2 0h1m1 0h1m2 0h1m1 0h2m3 0h1m1 0h3m1 0h1m3 0h1m2 0h1m5 0h2m1 0h1m1 0h3m1 0h1m-177 1h1m1 0h3m1 0h1m2 0h1m3 0h2m2 0h1m1 0h1m1 0h3m1 0h1m1 0h7m5 0h1m1 0h2m4 0h3m1 0h12m5 0h1m1 0h2m4 0h1m2 0h1m1 0h1m2 0h7m2 0h1m3 0h1m1 0h4m1 0h1m4 0h1m1 0h6m1 0h3m4 0h1m1 0h1m1 0h4m1 0h1m2 0h1m1 0h7m6 0h1m3 0h3m1 0h1m3 0h1m5 0h1m1 0h3m1 0h1m-177 1h1m5 0h1m1 0h3m4 0h1m2 0h1m1 0h2m1 0h4m1 0h1m3 0h1m2 0h1m5 0h3m2 0h3m4 0h1m2 0h1m3 0h2m2 0h1m1 0h1m4 0h3m2 0h5m2 0h2m3 0h2m1 0h1m2 0h1m1 0h5m1 0h1m1 0h1m1 0h5m1 0h1m3 0h1m4 0h3m1 0h3m1 0h1m1 0h1m6 0h1m1 0h1m3 0h3m4 0h1m3 0h3m3 0h3m1 0h2m1 0h1m1 0h1m5 0h1m-177 1h7m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h7m-166 1h3m7 0h1m2 0h1m2 0h2m3 0h1m1 0h1m2 0h1m1 0h1m1 0h4m3 0h2m3 0h4m3 0h1m4 0h1m1 0h1m1 0h1m1 0h2m1 0h2m2 0h1m2 0h2m1 0h1m3 0h1m1 0h1m1 0h2m1 0h1m2 0h2m1 0h2m2 0h1m1 0h1m1 0h1m2 0h1m3 0h3m2 0h2m3 0h1m4 0h3m2 0h2m2 0h1m3 0h1m3 0h3m4 0h3m2 0h6m2 0h1m-169 1h5m1 0h4m1 0h2m2 0h2m6 0h2m1 0h7m1 0h1m1 0h2m1 0h3m1 0h1m1 0h4m1 0h1m3 0h1m1 0h6m1 0h1m3 0h1m3 0h2m1 0h3m3 0h10m1 0h1m1 0h1m2 0h3m3 0h2m4 0h2m2 0h5m6 0h6m2 0h1m1 0h1m4 0h11m1 0h1m1 0h2m3 0h5m2 0h1m1 0h1m1 0h2m1 0h1m1 0h1m1 0h1m-176 1h1m1 0h2m3 0h5m2 0h3m3 0h2m3 0h3m1 0h1m1 0h2m1 0h1m1 0h2m1 0h1m2 0h2m1 0h2m2 0h1m2 0h1m4 0h6m3 0h1m2 0h2m2 0h2m3 0h1m4 0h3m1 0h1m1 0h3m4 0h2m3 0h4m2 0h1m1 0h1m1 0h1m1 0h1m2 0h1m1 0h5m4 0h1m1 0h1m1 0h2m1 0h1m2 0h1m2 0h1m2 0h3m2 0h8m1 0h1m1 0h5m1 0h1m3 0h1m2 0h2m2 0h1m-177 1h2m1 0h2m1 0h2m1 0h2m2 0h2m2 0h2m1 0h2m3 0h1m1 0h2m3 0h2m3 0h2m4 0h1m1 0h4m2 0h1m3 0h1m1 0h2m2 0h1m1 0h4m1 0h1m3 0h1m4 0h4m2 0h4m2 0h3m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m3 0h1m2 0h1m2 0h2m2 0h1m1 0h1m1 0h1m2 0h4m3 0h1m2 0h2m1 0h4m1 0h1m2 0h2m6 0h1m1 0h3m3 0h1m1 0h1m2 0h1m1 0h4m3 0h1m-176 1h2m2 0h2m2 0h1m5 0h1m3 0h1m1 0h4m5 0h2m2 0h2m4 0h4m6 0h1m1 0h2m1 0h1m1 0h2m1 0h1m7 0h1m2 0h5m4 0h1m2 0h1m1 0h2m6 0h3m5 0h2m2 0h3m1 0h3m2 0h1m1 0h1m1 0h2m1 0h2m3 0h1m1 0h1m1 0h1m1 0h3m5 0h1m2 0h1m1 0h2m2 0h4m5 0h1m1 0h1m1 0h3m1 0h1m1 0h2m1 0h1m1 0h3m-175 1h1m1 0h1m1 0h1m1 0h2m1 0h3m2 0h1m1 0h2m1 0h1m3 0h4m1 0h2m3 0h4m2 0h1m2 0h1m1 0h5m3 0h2m1 0h1m1 0h1m2 0h1m4 0h1m1 0h1m1 0h3m2 0h1m1 0h6m1 0h1m1 0h1m4 0h2m3 0h2m1 0h1m2 0h1m1 0h1m1 0h1m1 0h2m1 0h6m1 0h1m2 0h2m2 0h4m1 0h1m2 0h2m3 0h4m1 0h5m2 0h1m2 0h1m1 0h1m1 0h1m2 0h1m1 0h1m4 0h2m3 0h1m2 0h2m-175 1h1m1 0h2m3 0h1m2 0h3m2 0h2m1 0h1m1 0h1m1 0h1m1 0h5m1 0h2m1 0h3m1 0h2m2 0h5m1 0h2m1 0h2m2 0h2m1 0h3m1 0h2m1 0h1m1 0h1m1 0h1m1 0h5m2 0h4m1 0h8m1 0h1m7 0h1m1 0h4m2 0h1m3 0h2m2 0h1m1 0h3m2 0h1m2 0h2m1 0h5m12 0h1m1 0h5m2 0h4m1 0h1m3 0h1m4 0h1m1 0h1m2 0h1m-175 1h3m2 0h2m2 0h5m1 0h1m1 0h1m2 0h2m4 0h1m3 0h4m7 0h2m3 0h5m2 0h3m1 0h1m1 0h3m3 0h4m2 0h1m1 0h1m1 0h1m1 0h2m5 0h1m1 0h1m3 0h1m2 0h4m1 0h1m1 0h2m4 0h1m1 0h3m2 0h2m2 0h1m2 0h1m1 0h1m1 0h6m2 0h1m3 0h3m1 0h1m1 0h1m7 0h1m3 0h6m3 0h1m2 0h2m3 0h1m2 0h2m-176 1h3m2 0h1m1 0h1m1 0h4m1 0h1m2 0h7m1 0h1m1 0h2m3 0h6m3 0h2m1 0h1m2 0h1m1 0h1m2 0h3m5 0h3m3 0h2m1 0h1m1 0h4m4 0h1m1 0h1m3 0h1m1 0h1m2 0h4m1 0h1m2 0h2m3 0h2m2 0h1m4 0h1m2 0h1m1 0h3m2 0h2m1 0h1m4 0h1m1 0h1m1 0h1m1 0h1m1 0h2m4 0h1m2 0h6m4 0h1m1 0h1m1 0h2m4 0h3m2 0h4m-174 1h2m1 0h4m1 0h2m4 0h2m3 0h1m2 0h1m1 0h2m1 0h1m3 0h3m1 0h1m2 0h1m2 0h1m4 0h1m3 0h2m1 0h1m1 0h1m2 0h1m1 0h3m2 0h3m5 0h2m1 0h1m2 0h2m3 0h6m1 0h1m2 0h1m4 0h1m3 0h1m1 0h3m1 0h1m2 0h1m1 0h1m2 0h3m2 0h3m1 0h2m1 0h1m1 0h1m1 0h2m1 0h2m2 0h10m1 0h5m1 0h4m1 0h3m1 0h1m2 0h1m2 0h1m1 0h1m-169 1h1m2 0h3m6 0h1m1 0h2m2 0h1m1 0h2m3 0h1m1 0h3m2 0h1m1 0h4m1 0h1m2 0h2m1 0h2m3 0h4m1 0h1m1 0h2m1 0h4m2 0h3m1 0h3m2 0h4m1 0h3m1 0h1m2 0h1m1 0h1m4 0h1m1 0h1m3 0h2m1 0h2m2 0h1m1 0h4m1 0h2m1 0h3m2 0h1m1 0h3m2 0h1m2 0h2m1 0h1m4 0h1m2 0h4m4 0h1m1 0h2m1 0h1m1 0h1m4 0h1m3 0h2m-176 1h2m1 0h3m1 0h1m3 0h2m2 0h1m10 0h1m4 0h3m3 0h1m2 0h1m1 0h1m3 0h2m1 0h1m3 0h1m1 0h1m2 0h1m1 0h1m2 0h3m4 0h1m1 0h1m1 0h4m1 0h2m3 0h1m7 0h1m2 0h1m1 0h2m1 0h1m2 0h1m1 0h1m6 0h5m2 0h2m1 0h2m1 0h2m2 0h1m1 0h2m4 0h1m1 0h1m1 0h1m1 0h3m2 0h2m3 0h3m4 0h1m1 0h1m2 0h1m2 0h3m1 0h3m-176 1h1m2 0h1m3 0h1m3 0h3m5 0h3m1 0h1m3 0h1m3 0h1m2 0h1m2 0h1m1 0h5m5 0h1m1 0h1m1 0h4m1 0h1m1 0h1m1 0h1m2 0h3m1 0h2m1 0h3m3 0h2m2 0h1m1 0h2m1 0h3m1 0h1m1 0h3m3 0h6m5 0h2m6 0h3m1 0h1m2 0h1m1 0h3m1 0h2m2 0h1m3 0h1m3 0h3m1 0h1m1 0h2m4 0h1m1 0h1m3 0h4m2 0h2m1 0h5m-175 1h1m3 0h1m1 0h1m2 0h2m2 0h5m1 0h2m2 0h1m2 0h2m2 0h1m1 0h1m3 0h1m2 0h8m2 0h1m1 0h3m1 0h1m6 0h1m6 0h3m3 0h2m5 0h3m1 0h2m1 0h3m1 0h2m1 0h4m7 0h3m1 0h3m2 0h1m2 0h3m2 0h3m4 0h1m1 0h1m1 0h4m1 0h5m1 0h1m1 0h1m3 0h3m1 0h1m1 0h4m2 0h3m2 0h1m4 0h1m1 0h1m-177 1h1m1 0h4m1 0h6m2 0h2m2 0h1m2 0h2m2 0h7m1 0h1m2 0h1m4 0h4m2 0h1m4 0h2m2 0h1m1 0h3m1 0h3m1 0h1m1 0h1m3 0h1m1 0h2m3 0h2m1 0h2m4 0h2m1 0h1m2 0h3m2 0h3m1 0h1m2 0h2m2 0h4m4 0h2m2 0h1m1 0h3m1 0h1m1 0h2m5 0h1m4 0h1m2 0h2m1 0h2m2 0h1m2 0h1m1 0h2m1 0h4m9 0h3m-175 1h1m2 0h2m3 0h1m2 0h1m1 0h2m3 0h2m1 0h2m1 0h1m1 0h1m1 0h1m1 0h2m2 0h1m10 0h2m1 0h1m3 0h2m2 0h1m1 0h2m1 0h1m1 0h4m2 0h1m3 0h5m1 0h1m3 0h1m4 0h2m3 0h2m2 0h1m1 0h1m2 0h1m2 0h1m1 0h2m2 0h3m2 0h3m1 0h2m1 0h1m2 0h3m1 0h1m4 0h1m1 0h4m1 0h2m5 0h1m2 0h3m4 0h3m1 0h1m1 0h1m1 0h4m-173 1h1m3 0h2m1 0h5m1 0h1m1 0h1m2 0h2m1 0h1m1 0h1m1 0h1m2 0h1m4 0h2m5 0h4m4 0h1m2 0h1m2 0h3m3 0h1m5 0h1m5 0h3m4 0h1m2 0h1m1 0h2m3 0h1m1 0h3m1 0h1m2 0h3m1 0h1m1 0h1m1 0h8m1 0h1m1 0h3m1 0h4m2 0h1m1 0h2m3 0h2m1 0h1m1 0h1m2 0h2m1 0h1m2 0h3m5 0h2m1 0h6m2 0h3m1 0h1m2 0h2m-175 1h1m2 0h1m1 0h11m1 0h4m4 0h2m1 0h3m2 0h1m1 0h1m1 0h1m3 0h2m1 0h2m3 0h4m1 0h1m4 0h2m1 0h4m2 0h2m2 0h1m2 0h4m3 0h1m3 0h2m6 0h3m1 0h1m3 0h1m3 0h3m1 0h1m1 0h3m5 0h1m1 0h1m1 0h3m4 0h2m2 0h1m1 0h1m1 0h3m1 0h1m2 0h1m3 0h6m1 0h1m3 0h1m2 0h2m1 0h2m3 0h1m1 0h2m-173 1h1m6 0h1m3 0h1m1 0h1m5 0h3m1 0h2m2 0h1m2 0h4m1 0h2m1 0h5m1 0h2m3 0h3m1 0h1m1 0h2m4 0h2m1 0h2m2 0h2m6 0h2m2 0h2m2 0h1m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m1 0h2m4 0h2m2 0h4m1 0h2m1 0h3m4 0h2m2 0h5m10 0h2m2 0h5m1 0h3m2 0h3m1 0h3m2 0h1m1 0h2m1 0h1m-175 1h1m2 0h1m1 0h3m1 0h1m5 0h1m1 0h1m2 0h1m4 0h2m3 0h1m7 0h1m2 0h1m3 0h1m1 0h2m1 0h1m4 0h1m2 0h1m5 0h1m1 0h1m4 0h1m1 0h1m1 0h1m1 0h2m2 0h1m1 0h2m7 0h2m2 0h2m1 0h1m2 0h1m1 0h1m1 0h1m1 0h3m2 0h2m1 0h1m3 0h1m3 0h1m4 0h1m3 0h1m1 0h3m2 0h2m1 0h4m3 0h1m2 0h4m2 0h1m1 0h1m1 0h1m2 0h2m4 0h1m1 0h2m-175 1h2m4 0h3m1 0h2m1 0h1m3 0h1m7 0h2m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h3m3 0h3m3 0h4m1 0h1m1 0h4m3 0h1m4 0h1m1 0h1m2 0h3m2 0h3m11 0h3m4 0h1m1 0h3m2 0h3m1 0h2m1 0h1m2 0h2m1 0h4m1 0h3m1 0h2m2 0h1m2 0h1m1 0h2m2 0h1m1 0h2m1 0h2m5 0h1m1 0h2m1 0h2m3 0h3m3 0h4m-173 1h6m3 0h3m1 0h2m1 0h1m3 0h1m1 0h7m1 0h2m5 0h2m7 0h1m5 0h11m1 0h2m4 0h1m4 0h1m3 0h6m1 0h2m1 0h4m4 0h3m1 0h1m1 0h2m1 0h7m3 0h2m2 0h4m5 0h1m4 0h7m2 0h1m1 0h1m1 0h3m1 0h5m1 0h1m1 0h1m2 0h7m1 0h2m-176 1h1m1 0h3m3 0h2m1 0h2m1 0h4m2 0h2m1 0h1m1 0h2m1 0h1m3 0h5m2 0h3m1 0h2m3 0h2m2 0h3m1 0h1m3 0h1m1 0h1m4 0h1m1 0h2m2 0h1m2 0h1m1 0h1m3 0h3m3 0h1m1 0h1m2 0h1m6 0h3m1 0h1m6 0h2m3 0h2m1 0h2m6 0h1m3 0h4m2 0h1m1 0h2m3 0h1m1 0h1m3 0h1m1 0h3m2 0h1m3 0h5m1 0h2m3 0h1m1 0h3m-177 1h2m1 0h2m1 0h1m1 0h2m1 0h2m2 0h1m4 0h1m1 0h2m1 0h1m2 0h1m1 0h1m1 0h1m2 0h1m5 0h2m2 0h1m1 0h3m1 0h1m1 0h4m1 0h1m1 0h2m2 0h5m2 0h3m1 0h4m1 0h1m3 0h1m1 0h1m1 0h2m3 0h2m2 0h2m7 0h1m2 0h2m1 0h1m1 0h1m1 0h3m1 0h4m2 0h2m1 0h1m6 0h1m1 0h3m1 0h1m1 0h2m3 0h3m3 0h3m5 0h1m1 0h2m1 0h1m1 0h1m1 0h1m-172 1h1m1 0h2m3 0h1m1 0h1m2 0h3m3 0h3m1 0h1m1 0h1m2 0h1m3 0h1m3 0h2m1 0h1m1 0h2m1 0h1m3 0h2m1 0h1m2 0h1m1 0h1m3 0h2m1 0h1m2 0h2m1 0h5m5 0h1m1 0h2m1 0h1m3 0h1m5 0h1m5 0h1m2 0h1m1 0h1m2 0h1m1 0h3m3 0h1m4 0h4m1 0h2m1 0h2m1 0h1m1 0h3m1 0h1m1 0h1m3 0h2m3 0h2m4 0h3m3 0h5m2 0h1m3 0h3m1 0h1m-177 1h2m2 0h5m3 0h2m1 0h1m2 0h6m1 0h1m2 0h5m1 0h6m1 0h1m2 0h2m3 0h3m1 0h1m2 0h7m1 0h1m1 0h1m3 0h1m3 0h1m1 0h1m1 0h1m1 0h1m2 0h6m2 0h1m1 0h1m1 0h2m2 0h1m1 0h3m1 0h1m1 0h2m3 0h6m1 0h3m1 0h2m1 0h1m1 0h1m2 0h2m3 0h3m1 0h5m3 0h1m1 0h1m3 0h2m1 0h5m1 0h2m1 0h7m1 0h1m-175 1h1m2 0h1m3 0h1m1 0h1m3 0h1m2 0h1m6 0h3m1 0h1m1 0h2m2 0h2m1 0h1m2 0h2m1 0h2m1 0h1m4 0h5m2 0h1m1 0h1m4 0h3m1 0h1m1 0h3m3 0h2m1 0h1m4 0h1m1 0h1m2 0h2m4 0h3m3 0h2m4 0h1m1 0h1m1 0h1m1 0h2m1 0h1m1 0h4m3 0h1m1 0h1m1 0h7m2 0h1m1 0h1m2 0h2m1 0h3m2 0h2m2 0h4m1 0h1m1 0h1m2 0h1m1 0h1m2 0h1m2 0h3m-175 1h2m1 0h1m1 0h1m2 0h3m4 0h4m1 0h4m3 0h2m3 0h2m2 0h1m3 0h1m1 0h1m1 0h1m1 0h2m4 0h1m1 0h2m1 0h4m1 0h1m1 0h4m2 0h1m1 0h1m1 0h1m1 0h4m2 0h2m2 0h1m2 0h2m1 0h1m3 0h2m5 0h3m3 0h6m3 0h3m1 0h2m1 0h3m2 0h2m3 0h1m3 0h1m5 0h2m2 0h2m1 0h1m1 0h2m6 0h1m1 0h2m2 0h1m2 0h4m-175 1h1m2 0h2m5 0h1m2 0h4m1 0h1m6 0h3m3 0h1m4 0h1m1 0h1m1 0h3m7 0h4m1 0h3m1 0h1m1 0h1m2 0h1m1 0h1m4 0h1m4 0h2m6 0h2m4 0h1m1 0h1m1 0h6m1 0h3m1 0h2m1 0h6m2 0h1m4 0h3m1 0h2m1 0h5m3 0h2m2 0h1m5 0h1m1 0h2m2 0h1m1 0h3m1 0h2m1 0h2m3 0h1m2 0h2m1 0h2m-174 1h2m1 0h1m1 0h7m1 0h1m1 0h1m2 0h2m1 0h1m1 0h1m3 0h1m2 0h1m2 0h3m2 0h5m1 0h1m1 0h1m1 0h6m3 0h3m1 0h2m1 0h3m1 0h1m1 0h1m3 0h1m4 0h3m5 0h4m1 0h6m2 0h2m5 0h3m1 0h1m1 0h2m5 0h1m2 0h1m1 0h3m4 0h1m1 0h1m1 0h2m6 0h3m1 0h2m1 0h1m1 0h1m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m2 0h1m6 0h2m-177 1h2m2 0h1m2 0h1m1 0h3m1 0h3m2 0h1m2 0h4m2 0h1m2 0h1m3 0h3m3 0h1m3 0h4m2 0h1m3 0h2m1 0h1m2 0h1m2 0h1m1 0h1m4 0h2m3 0h3m2 0h2m1 0h1m1 0h2m2 0h2m4 0h1m1 0h1m1 0h5m1 0h1m1 0h1m1 0h1m1 0h5m1 0h1m1 0h3m3 0h1m3 0h4m1 0h1m4 0h2m2 0h3m1 0h1m2 0h4m3 0h1m1 0h2m1 0h1m3 0h1m2 0h2m3 0h3m-177 1h1m1 0h1m3 0h1m1 0h1m2 0h4m4 0h2m1 0h1m3 0h1m1 0h2m1 0h1m2 0h4m3 0h3m1 0h2m1 0h1m5 0h1m1 0h1m1 0h4m2 0h4m5 0h1m2 0h5m2 0h1m1 0h3m4 0h1m1 0h5m3 0h1m3 0h1m1 0h1m2 0h1m1 0h1m1 0h7m1 0h1m2 0h1m8 0h1m4 0h1m3 0h1m4 0h1m1 0h1m4 0h1m6 0h1m2 0h1m1 0h2m2 0h3m-175 1h1m2 0h2m6 0h1m4 0h8m1 0h1m1 0h3m1 0h2m4 0h1m1 0h1m1 0h2m2 0h1m1 0h1m1 0h1m1 0h1m2 0h1m1 0h1m5 0h1m3 0h2m1 0h4m1 0h1m2 0h1m5 0h1m5 0h1m2 0h1m3 0h2m2 0h1m1 0h2m2 0h1m3 0h2m2 0h7m1 0h4m1 0h1m3 0h4m3 0h8m1 0h4m4 0h3m1 0h5m1 0h1m1 0h3m3 0h3m-176 1h2m2 0h1m1 0h2m10 0h4m2 0h1m1 0h2m2 0h1m2 0h2m2 0h1m1 0h2m2 0h1m2 0h3m1 0h1m4 0h1m1 0h2m1 0h2m1 0h1m2 0h1m1 0h1m2 0h2m3 0h2m1 0h1m5 0h1m3 0h1m1 0h1m2 0h6m2 0h2m1 0h1m2 0h2m1 0h3m5 0h1m1 0h1m2 0h5m6 0h1m1 0h2m1 0h2m1 0h1m7 0h1m1 0h1m1 0h3m6 0h3m1 0h2m1 0h1m2 0h1m-175 1h1m1 0h1m1 0h1m4 0h1m2 0h2m1 0h1m1 0h1m1 0h4m2 0h4m1 0h4m1 0h1m3 0h1m1 0h2m1 0h1m2 0h1m1 0h1m1 0h2m1 0h2m4 0h1m2 0h2m2 0h1m2 0h6m1 0h2m1 0h5m2 0h5m4 0h1m2 0h1m1 0h2m4 0h1m1 0h1m1 0h1m1 0h1m1 0h4m1 0h3m2 0h1m3 0h1m1 0h4m2 0h1m2 0h2m2 0h1m1 0h1m1 0h1m2 0h2m2 0h1m1 0h1m4 0h1m4 0h1m5 0h4m-177 1h1m5 0h3m7 0h4m2 0h1m4 0h1m2 0h2m2 0h1m3 0h1m3 0h2m1 0h5m3 0h1m1 0h2m1 0h4m1 0h6m2 0h1m4 0h5m3 0h1m1 0h2m2 0h1m6 0h2m2 0h1m2 0h2m2 0h2m1 0h1m2 0h1m4 0h3m2 0h1m4 0h1m3 0h2m6 0h1m1 0h1m1 0h3m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m2 0h2m2 0h2m1 0h1m-176 1h2m2 0h1m6 0h2m1 0h3m1 0h4m2 0h2m2 0h1m1 0h2m1 0h2m2 0h1m1 0h6m4 0h1m1 0h2m1 0h1m1 0h2m2 0h1m4 0h2m2 0h4m1 0h2m3 0h1m1 0h1m1 0h1m2 0h1m2 0h2m1 0h2m3 0h1m2 0h3m2 0h2m1 0h1m1 0h1m2 0h4m3 0h4m2 0h4m2 0h2m3 0h1m1 0h7m2 0h4m3 0h3m1 0h1m1 0h3m5 0h2m2 0h2m-175 1h2m4 0h1m1 0h4m4 0h1m1 0h1m1 0h1m3 0h1m1 0h1m1 0h1m3 0h1m2 0h1m7 0h2m3 0h1m6 0h1m1 0h2m3 0h1m2 0h3m2 0h1m2 0h1m1 0h1m3 0h2m3 0h2m2 0h4m2 0h3m1 0h2m1 0h1m1 0h1m1 0h1m1 0h9m3 0h1m1 0h1m2 0h5m3 0h2m2 0h3m3 0h3m1 0h2m2 0h3m1 0h1m2 0h2m2 0h7m3 0h2m-172 1h3m1 0h1m1 0h2m2 0h3m2 0h2m6 0h2m3 0h1m1 0h3m1 0h4m1 0h2m3 0h1m1 0h1m1 0h1m1 0h2m1 0h1m1 0h1m5 0h1m1 0h2m2 0h1m5 0h1m1 0h1m1 0h1m2 0h1m3 0h2m2 0h3m5 0h1m2 0h6m1 0h3m1 0h2m1 0h1m1 0h2m1 0h2m1 0h1m3 0h1m3 0h3m4 0h1m1 0h3m1 0h3m2 0h1m4 0h2m1 0h2m2 0h2m1 0h1m1 0h1m7 0h1m1 0h2m-177 1h2m1 0h1m1 0h2m1 0h2m2 0h1m1 0h2m1 0h2m3 0h1m3 0h2m5 0h4m2 0h1m2 0h2m1 0h2m1 0h1m4 0h2m1 0h2m2 0h2m3 0h2m4 0h1m1 0h1m1 0h1m2 0h1m2 0h1m1 0h1m6 0h1m7 0h5m3 0h1m1 0h1m3 0h2m1 0h1m6 0h1m1 0h1m2 0h1m1 0h2m1 0h4m2 0h1m1 0h1m3 0h2m1 0h1m1 0h3m1 0h1m1 0h3m1 0h1m3 0h1m5 0h1m1 0h1m2 0h2m-174 1h2m3 0h3m1 0h1m3 0h1m4 0h1m2 0h2m3 0h1m3 0h4m1 0h1m3 0h4m4 0h1m2 0h3m2 0h4m4 0h3m2 0h1m1 0h1m1 0h1m2 0h1m1 0h1m1 0h2m3 0h1m4 0h2m1 0h1m1 0h3m1 0h3m1 0h1m4 0h1m1 0h4m2 0h2m1 0h2m6 0h1m2 0h2m1 0h1m1 0h1m1 0h3m1 0h1m2 0h1m2 0h5m2 0h3m2 0h3m1 0h1m2 0h1m1 0h2m2 0h3m-176 1h2m3 0h5m3 0h2m2 0h3m2 0h1m1 0h3m3 0h1m2 0h2m1 0h1m4 0h1m1 0h2m1 0h4m1 0h1m2 0h1m5 0h1m4 0h1m2 0h1m4 0h1m2 0h1m1 0h3m4 0h1m1 0h1m3 0h1m1 0h1m1 0h2m1 0h1m7 0h4m2 0h2m1 0h1m3 0h1m1 0h1m1 0h1m1 0h2m4 0h1m5 0h2m1 0h1m3 0h2m1 0h2m7 0h1m2 0h1m2 0h2m1 0h2m1 0h1m1 0h1m1 0h1m1 0h1m-174 1h2m1 0h1m6 0h1m1 0h4m2 0h1m1 0h1m6 0h6m2 0h1m3 0h1m4 0h1m2 0h1m4 0h1m1 0h1m3 0h2m2 0h1m1 0h2m1 0h1m5 0h1m2 0h1m1 0h1m1 0h2m1 0h2m1 0h4m1 0h1m4 0h1m1 0h1m2 0h2m1 0h1m2 0h1m2 0h2m1 0h2m1 0h1m1 0h3m5 0h1m1 0h1m2 0h1m1 0h1m3 0h1m1 0h6m2 0h1m1 0h4m1 0h1m1 0h1m1 0h1m1 0h4m1 0h2m1 0h2m2 0h1m-172 1h1m2 0h2m2 0h1m3 0h1m2 0h1m1 0h2m2 0h3m1 0h2m1 0h1m1 0h3m2 0h1m1 0h2m1 0h3m1 0h6m2 0h1m2 0h5m3 0h3m4 0h1m1 0h1m2 0h1m1 0h2m8 0h1m1 0h3m2 0h1m5 0h1m4 0h2m2 0h3m4 0h1m1 0h1m1 0h1m1 0h3m3 0h1m1 0h1m2 0h3m4 0h1m1 0h5m1 0h3m2 0h1m1 0h1m1 0h1m3 0h1m3 0h1m2 0h1m1 0h1m1 0h1m1 0h1m-176 1h1m3 0h2m1 0h1m1 0h2m2 0h2m2 0h2m1 0h1m3 0h1m1 0h1m1 0h2m1 0h4m2 0h1m3 0h3m5 0h1m2 0h3m1 0h4m1 0h2m3 0h2m1 0h1m1 0h5m1 0h1m1 0h1m1 0h1m1 0h1m2 0h2m2 0h2m4 0h1m1 0h2m1 0h1m1 0h1m1 0h5m2 0h6m3 0h1m1 0h1m7 0h2m2 0h1m1 0h4m1 0h1m1 0h2m2 0h1m1 0h1m1 0h1m6 0h1m1 0h2m1 0h1m2 0h1m1 0h2m2 0h2m-173 1h1m2 0h2m3 0h1m5 0h1m2 0h2m1 0h1m1 0h3m1 0h2m3 0h2m2 0h1m1 0h2m2 0h1m1 0h4m1 0h4m5 0h3m1 0h6m2 0h1m5 0h2m2 0h1m3 0h1m1 0h5m1 0h1m1 0h3m3 0h3m3 0h2m1 0h3m2 0h1m3 0h1m1 0h1m3 0h4m3 0h1m2 0h4m1 0h6m2 0h2m3 0h3m1 0h4m1 0h2m2 0h1m5 0h2m1 0h1m-175 1h2m2 0h1m4 0h3m1 0h1m1 0h1m1 0h1m1 0h2m1 0h3m2 0h3m1 0h1m1 0h1m3 0h2m7 0h1m1 0h1m1 0h1m2 0h1m4 0h1m1 0h1m1 0h3m5 0h1m2 0h2m1 0h1m1 0h3m2 0h1m1 0h1m3 0h3m3 0h2m1 0h7m2 0h2m1 0h4m1 0h2m2 0h1m1 0h1m2 0h3m2 0h5m2 0h3m1 0h1m1 0h3m2 0h4m2 0h1m4 0h1m4 0h1m2 0h1m3 0h1m2 0h3m-177 1h2m4 0h1m1 0h1m1 0h1m1 0h2m3 0h1m2 0h4m1 0h1m1 0h1m1 0h1m6 0h1m5 0h2m4 0h3m2 0h6m1 0h2m1 0h1m1 0h4m3 0h2m3 0h2m4 0h2m1 0h1m1 0h2m2 0h5m2 0h3m1 0h1m2 0h1m4 0h2m2 0h3m1 0h1m4 0h1m1 0h2m1 0h1m1 0h2m1 0h3m8 0h1m3 0h3m1 0h5m3 0h3m1 0h1m2 0h1m6 0h1m-175 1h3m1 0h1m1 0h1m3 0h2m1 0h2m1 0h2m1 0h2m1 0h2m4 0h1m1 0h1m1 0h1m2 0h2m2 0h4m3 0h1m5 0h2m1 0h2m7 0h2m2 0h1m1 0h4m4 0h1m2 0h1m2 0h1m5 0h2m1 0h1m2 0h1m2 0h1m1 0h7m2 0h8m9 0h1m3 0h1m1 0h1m4 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h2m4 0h3m4 0h2m3 0h1m1 0h3m2 0h2m-175 1h1m2 0h6m1 0h1m1 0h2m3 0h1m1 0h4m1 0h1m2 0h5m1 0h5m1 0h1m2 0h1m1 0h2m2 0h4m1 0h1m1 0h5m3 0h1m2 0h2m2 0h2m1 0h5m1 0h2m2 0h6m3 0h5m3 0h2m2 0h1m1 0h3m2 0h6m3 0h1m2 0h3m1 0h2m1 0h1m1 0h1m1 0h11m3 0h1m2 0h7m1 0h2m2 0h1m3 0h6m-170 1h1m3 0h1m3 0h1m7 0h4m1 0h4m3 0h2m2 0h1m3 0h1m3 0h1m2 0h2m2 0h2m2 0h2m3 0h2m1 0h4m3 0h1m2 0h1m4 0h2m3 0h2m3 0h5m3 0h2m1 0h1m1 0h2m1 0h1m4 0h1m1 0h2m3 0h1m1 0h5m3 0h2m2 0h3m4 0h4m3 0h2m1 0h1m1 0h2m1 0h1m2 0h1m4 0h6m2 0h1m3 0h4m-176 1h5m1 0h1m1 0h3m2 0h2m3 0h1m1 0h3m1 0h3m1 0h1m1 0h1m1 0h1m1 0h3m1 0h1m4 0h1m1 0h1m1 0h4m5 0h1m1 0h1m1 0h2m2 0h3m1 0h2m3 0h1m2 0h3m5 0h1m1 0h1m1 0h1m1 0h2m1 0h4m1 0h1m4 0h1m1 0h8m1 0h1m1 0h2m2 0h2m1 0h4m3 0h3m1 0h1m3 0h3m1 0h1m1 0h3m3 0h2m1 0h5m1 0h1m2 0h2m2 0h3m1 0h1m1 0h4m-176 1h2m1 0h2m3 0h1m5 0h2m3 0h1m4 0h1m1 0h3m3 0h3m2 0h1m2 0h4m1 0h1m1 0h2m3 0h5m3 0h1m1 0h2m1 0h1m1 0h1m2 0h3m1 0h2m1 0h3m1 0h1m1 0h2m3 0h1m1 0h1m4 0h1m3 0h2m2 0h2m1 0h1m2 0h4m3 0h2m1 0h5m1 0h3m1 0h1m3 0h1m3 0h1m1 0h2m3 0h2m3 0h3m3 0h2m4 0h2m1 0h1m2 0h2m3 0h1m1 0h3m-174 1h6m1 0h2m1 0h2m1 0h1m3 0h1m2 0h3m1 0h8m2 0h1m1 0h1m1 0h1m4 0h6m1 0h9m2 0h1m1 0h1m3 0h1m2 0h1m1 0h1m2 0h2m1 0h1m2 0h5m2 0h1m1 0h1m1 0h2m4 0h3m3 0h3m2 0h5m3 0h1m3 0h5m2 0h3m1 0h4m1 0h5m1 0h1m1 0h2m7 0h3m2 0h1m1 0h2m2 0h6m-174 1h3m1 0h1m2 0h3m2 0h4m2 0h1m1 0h1m6 0h2m1 0h2m1 0h1m1 0h3m1 0h3m1 0h5m1 0h1m2 0h1m1 0h1m4 0h2m1 0h2m5 0h1m2 0h2m1 0h1m1 0h1m2 0h1m2 0h1m1 0h1m3 0h2m4 0h2m3 0h3m4 0h3m1 0h2m6 0h5m1 0h1m1 0h1m3 0h2m1 0h1m3 0h1m1 0h2m3 0h1m5 0h2m1 0h2m1 0h2m4 0h2m3 0h2m1 0h6m-177 1h1m3 0h1m1 0h1m5 0h1m1 0h1m5 0h1m2 0h2m1 0h1m2 0h1m4 0h2m6 0h1m2 0h1m1 0h3m1 0h1m7 0h1m1 0h1m1 0h1m1 0h2m1 0h1m3 0h2m2 0h3m5 0h3m1 0h1m2 0h1m1 0h1m2 0h1m1 0h2m3 0h3m2 0h1m2 0h1m3 0h3m1 0h2m4 0h3m1 0h1m2 0h5m3 0h1m3 0h3m3 0h2m4 0h2m8 0h2m2 0h1m2 0h3m-175 1h1m1 0h3m1 0h3m2 0h1m2 0h3m1 0h3m2 0h1m1 0h2m1 0h5m1 0h1m1 0h1m1 0h1m1 0h2m4 0h1m3 0h1m1 0h3m1 0h1m1 0h3m3 0h3m3 0h2m5 0h2m5 0h1m2 0h2m3 0h1m1 0h1m1 0h8m3 0h2m3 0h2m1 0h1m1 0h1m2 0h3m2 0h1m1 0h3m1 0h7m1 0h1m4 0h1m3 0h4m3 0h2m1 0h4m1 0h1m2 0h3m1 0h1m1 0h2m1 0h1m-177 1h1m5 0h3m2 0h1m1 0h1m1 0h1m1 0h1m2 0h1m1 0h5m1 0h1m1 0h1m1 0h2m1 0h2m1 0h1m1 0h1m1 0h1m1 0h1m2 0h1m1 0h4m1 0h4m2 0h3m2 0h3m1 0h1m1 0h1m4 0h3m1 0h2m1 0h3m1 0h1m1 0h1m1 0h1m1 0h4m4 0h1m3 0h1m1 0h2m1 0h1m1 0h5m3 0h2m3 0h5m1 0h1m1 0h1m2 0h4m1 0h1m1 0h3m2 0h1m1 0h2m1 0h5m1 0h2m2 0h1m1 0h1m1 0h3m1 0h3m1 0h1m-175 1h1m1 0h1m1 0h1m1 0h4m2 0h1m1 0h1m1 0h1m2 0h1m3 0h4m6 0h1m7 0h1m2 0h1m1 0h1m1 0h2m1 0h1m4 0h1m1 0h1m3 0h1m1 0h2m3 0h1m2 0h1m1 0h9m1 0h1m3 0h3m3 0h3m2 0h4m8 0h3m2 0h4m1 0h1m2 0h2m3 0h3m2 0h1m2 0h3m1 0h1m2 0h2m2 0h2m1 0h2m1 0h1m3 0h3m1 0h1m1 0h4m2 0h1m2 0h1m1 0h1m-171 1h1m5 0h2m3 0h1m1 0h2m3 0h2m1 0h1m3 0h1m1 0h1m2 0h3m4 0h1m3 0h4m2 0h1m2 0h1m2 0h1m1 0h1m1 0h1m1 0h4m2 0h3m2 0h3m1 0h1m3 0h2m3 0h3m1 0h2m1 0h4m1 0h1m1 0h1m1 0h1m3 0h3m4 0h2m1 0h3m1 0h3m1 0h2m2 0h3m1 0h2m6 0h3m3 0h1m1 0h1m3 0h2m1 0h1m3 0h2m3 0h1m1 0h1m5 0h1m-172 1h2m1 0h1m2 0h2m1 0h1m1 0h2m3 0h2m4 0h4m3 0h5m3 0h2m1 0h1m7 0h3m3 0h1m1 0h2m5 0h1m2 0h4m4 0h2m1 0h1m6 0h2m1 0h3m3 0h1m2 0h1m1 0h6m1 0h1m3 0h2m2 0h1m1 0h1m3 0h1m2 0h1m3 0h1m2 0h1m1 0h1m1 0h2m4 0h1m1 0h1m1 0h5m5 0h1m1 0h1m1 0h2m10 0h2m-174 1h1m3 0h2m4 0h2m1 0h2m8 0h6m1 0h2m3 0h1m1 0h2m1 0h2m1 0h2m4 0h1m3 0h3m2 0h3m1 0h1m2 0h2m1 0h1m1 0h1m3 0h1m1 0h1m1 0h2m1 0h2m3 0h1m1 0h3m2 0h6m1 0h2m2 0h2m1 0h1m2 0h1m1 0h4m2 0h3m4 0h3m2 0h1m1 0h1m1 0h1m2 0h2m3 0h1m2 0h3m6 0h1m1 0h1m1 0h1m4 0h1m2 0h4m3 0h1m1 0h1m-177 1h5m2 0h1m3 0h5m1 0h1m1 0h2m3 0h1m1 0h3m1 0h1m1 0h2m3 0h1m2 0h1m1 0h1m4 0h1m4 0h2m1 0h1m2 0h3m1 0h1m2 0h1m1 0h4m1 0h2m1 0h1m1 0h1m1 0h1m1 0h1m2 0h1m4 0h2m2 0h1m1 0h3m1 0h4m6 0h1m3 0h2m4 0h2m4 0h1m1 0h1m1 0h1m2 0h1m4 0h1m9 0h1m1 0h2m2 0h1m2 0h1m1 0h1m7 0h4m1 0h2m3 0h1m-177 1h1m3 0h3m2 0h1m3 0h3m2 0h2m2 0h1m2 0h1m1 0h3m3 0h1m3 0h1m5 0h1m1 0h1m1 0h2m2 0h1m1 0h2m1 0h1m2 0h1m1 0h1m1 0h1m1 0h3m3 0h1m1 0h1m2 0h1m1 0h3m2 0h5m1 0h4m1 0h6m1 0h2m2 0h1m1 0h1m1 0h2m3 0h1m1 0h1m1 0h1m3 0h1m1 0h2m4 0h1m3 0h2m1 0h2m4 0h2m5 0h2m3 0h2m6 0h1m4 0h3m3 0h2m-176 1h1m2 0h1m4 0h1m3 0h7m2 0h3m1 0h3m2 0h3m1 0h2m1 0h1m3 0h2m1 0h1m2 0h1m1 0h1m2 0h5m3 0h2m5 0h1m1 0h2m1 0h2m1 0h1m1 0h1m1 0h1m1 0h1m4 0h1m1 0h1m2 0h1m1 0h3m3 0h7m1 0h1m5 0h2m1 0h5m1 0h1m2 0h1m2 0h1m5 0h6m4 0h2m2 0h5m2 0h3m2 0h3m2 0h1m1 0h3m1 0h5m-175 1h1m2 0h1m1 0h1m2 0h3m3 0h1m1 0h2m4 0h1m1 0h1m1 0h1m7 0h2m2 0h2m2 0h1m1 0h1m8 0h1m5 0h1m1 0h1m4 0h1m6 0h5m1 0h2m5 0h1m1 0h1m1 0h1m1 0h2m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m1 0h2m3 0h4m3 0h1m1 0h1m2 0h3m2 0h1m1 0h3m1 0h1m1 0h3m4 0h1m1 0h1m2 0h6m4 0h1m1 0h1m1 0h1m2 0h3m2 0h1m3 0h1m-176 1h1m2 0h1m3 0h1m2 0h2m1 0h4m1 0h1m4 0h1m4 0h1m4 0h1m3 0h3m3 0h2m2 0h1m2 0h2m1 0h3m1 0h2m1 0h1m2 0h1m1 0h3m1 0h4m2 0h5m1 0h3m1 0h1m1 0h4m1 0h1m6 0h1m2 0h2m1 0h1m1 0h1m1 0h1m4 0h2m4 0h1m4 0h1m1 0h1m2 0h3m4 0h3m3 0h1m1 0h1m1 0h2m1 0h2m1 0h1m1 0h1m3 0h1m1 0h1m7 0h2m2 0h2m-173 1h2m1 0h4m1 0h6m1 0h1m1 0h1m3 0h2m4 0h2m1 0h4m2 0h1m2 0h2m3 0h1m1 0h2m3 0h1m2 0h2m1 0h1m1 0h1m2 0h5m3 0h2m2 0h5m2 0h2m2 0h4m2 0h1m1 0h1m1 0h5m1 0h1m2 0h3m5 0h1m1 0h2m4 0h1m1 0h1m1 0h1m2 0h4m2 0h1m1 0h1m1 0h1m1 0h5m3 0h1m1 0h1m1 0h1m1 0h4m3 0h2m3 0h1m6 0h1m1 0h1m-175 1h1m2 0h1m2 0h1m1 0h1m1 0h1m1 0h2m2 0h1m2 0h1m4 0h2m1 0h1m1 0h1m1 0h1m1 0h3m3 0h4m2 0h3m1 0h5m2 0h4m4 0h1m2 0h4m5 0h1m4 0h1m1 0h1m6 0h3m2 0h3m3 0h1m6 0h1m4 0h1m3 0h2m1 0h1m1 0h2m2 0h2m1 0h3m1 0h1m2 0h3m2 0h1m1 0h1m2 0h6m1 0h1m1 0h1m2 0h3m1 0h1m6 0h6m-176 1h3m1 0h3m3 0h1m4 0h3m3 0h1m2 0h2m2 0h1m1 0h1m2 0h3m1 0h1m2 0h1m8 0h1m2 0h1m2 0h1m1 0h4m1 0h4m1 0h4m2 0h2m4 0h7m2 0h3m1 0h1m1 0h3m4 0h2m3 0h2m4 0h4m4 0h1m1 0h1m1 0h2m1 0h1m2 0h1m4 0h3m2 0h1m1 0h2m1 0h2m2 0h3m1 0h1m1 0h1m3 0h3m2 0h2m1 0h4m4 0h1m-177 1h6m1 0h2m1 0h2m1 0h2m1 0h1m1 0h1m2 0h1m1 0h1m1 0h2m5 0h2m6 0h3m1 0h1m2 0h1m4 0h1m2 0h1m3 0h2m1 0h1m1 0h3m1 0h1m3 0h1m2 0h1m5 0h1m1 0h3m3 0h2m1 0h2m1 0h1m1 0h1m2 0h1m1 0h1m4 0h3m1 0h1m2 0h1m2 0h5m4 0h2m2 0h6m1 0h1m10 0h1m3 0h1m5 0h1m2 0h3m1 0h1m8 0h2m-172 1h3m1 0h1m1 0h1m2 0h1m1 0h3m2 0h2m1 0h1m1 0h2m1 0h2m4 0h2m3 0h1m1 0h3m1 0h4m2 0h1m2 0h3m2 0h3m1 0h4m4 0h1m1 0h1m3 0h3m3 0h2m4 0h3m2 0h2m2 0h1m2 0h1m1 0h1m1 0h1m2 0h5m1 0h3m1 0h3m2 0h1m2 0h2m1 0h4m1 0h1m2 0h2m2 0h5m1 0h1m3 0h1m3 0h3m3 0h3m1 0h1m3 0h2m3 0h2m-175 1h1m2 0h1m4 0h6m1 0h2m1 0h3m1 0h2m1 0h2m4 0h1m1 0h2m3 0h6m4 0h1m1 0h1m1 0h3m2 0h4m5 0h1m4 0h3m4 0h1m2 0h2m4 0h3m1 0h2m2 0h5m1 0h4m2 0h1m1 0h1m3 0h3m1 0h1m2 0h1m2 0h2m1 0h2m2 0h1m1 0h3m1 0h1m2 0h2m3 0h1m1 0h5m1 0h1m2 0h2m4 0h2m3 0h3m2 0h5m-177 1h1m3 0h1m1 0h3m1 0h6m2 0h2m2 0h1m1 0h2m1 0h1m1 0h3m1 0h1m3 0h2m2 0h4m1 0h1m5 0h4m1 0h1m2 0h2m3 0h1m1 0h5m1 0h1m2 0h3m4 0h4m4 0h1m3 0h3m3 0h1m1 0h1m3 0h5m1 0h2m1 0h1m2 0h1m3 0h4m1 0h1m4 0h1m3 0h3m2 0h7m3 0h1m1 0h1m2 0h3m1 0h1m1 0h2m1 0h5m1 0h1m1 0h3m-177 1h2m1 0h3m3 0h1m3 0h1m3 0h5m1 0h2m3 0h2m1 0h3m1 0h2m1 0h1m1 0h1m1 0h7m1 0h1m3 0h2m2 0h3m5 0h3m2 0h2m2 0h1m3 0h2m2 0h3m3 0h3m4 0h2m1 0h5m5 0h1m1 0h1m3 0h1m2 0h3m1 0h1m4 0h1m1 0h1m1 0h2m4 0h1m2 0h2m1 0h1m1 0h1m2 0h5m1 0h1m6 0h4m3 0h1m1 0h3m2 0h2m-173 1h3m1 0h1m5 0h1m3 0h2m1 0h3m4 0h1m4 0h1m1 0h3m1 0h1m2 0h2m3 0h2m1 0h1m2 0h1m1 0h2m2 0h1m1 0h1m2 0h3m4 0h1m1 0h1m2 0h5m2 0h4m1 0h4m1 0h2m2 0h1m5 0h1m1 0h2m1 0h1m1 0h6m1 0h2m4 0h1m1 0h4m3 0h1m4 0h1m3 0h2m1 0h1m2 0h1m1 0h3m2 0h5m3 0h1m3 0h1m1 0h1m6 0h1m-176 1h2m1 0h2m2 0h3m1 0h1m3 0h2m2 0h2m2 0h2m1 0h1m4 0h5m1 0h1m1 0h2m1 0h3m4 0h1m2 0h3m2 0h1m1 0h4m2 0h3m3 0h2m5 0h1m5 0h1m2 0h7m1 0h2m2 0h2m3 0h1m2 0h1m5 0h1m1 0h1m5 0h1m1 0h2m2 0h1m1 0h1m1 0h2m1 0h4m2 0h1m3 0h2m1 0h5m5 0h1m3 0h3m1 0h1m1 0h1m1 0h1m2 0h4m-175 1h8m1 0h1m1 0h1m3 0h1m1 0h2m3 0h1m1 0h1m1 0h7m1 0h2m1 0h1m1 0h2m1 0h1m2 0h1m1 0h2m1 0h2m3 0h5m8 0h1m2 0h3m4 0h1m2 0h1m1 0h7m2 0h1m1 0h2m1 0h1m2 0h3m1 0h2m1 0h9m2 0h1m1 0h1m3 0h2m1 0h1m2 0h1m1 0h1m2 0h9m1 0h6m1 0h2m1 0h1m2 0h2m1 0h2m2 0h7m2 0h1m-175 1h1m1 0h2m3 0h3m1 0h2m5 0h1m2 0h1m1 0h2m2 0h1m3 0h4m3 0h1m3 0h4m5 0h2m2 0h1m3 0h2m1 0h5m4 0h1m1 0h1m2 0h1m6 0h1m3 0h3m1 0h1m3 0h2m1 0h6m2 0h3m1 0h2m3 0h1m3 0h3m2 0h1m1 0h1m1 0h4m1 0h1m5 0h1m3 0h2m1 0h2m1 0h1m4 0h1m1 0h1m1 0h1m2 0h1m1 0h2m2 0h1m3 0h5m-176 1h1m1 0h2m1 0h1m1 0h4m1 0h3m1 0h2m3 0h2m2 0h3m1 0h1m1 0h4m1 0h1m4 0h2m3 0h3m3 0h4m1 0h1m1 0h2m1 0h1m1 0h3m5 0h1m1 0h7m2 0h1m1 0h1m1 0h2m4 0h1m2 0h1m4 0h1m4 0h2m1 0h3m1 0h1m1 0h1m4 0h1m3 0h2m3 0h1m2 0h1m4 0h1m1 0h1m1 0h1m1 0h1m4 0h3m2 0h4m3 0h3m2 0h1m1 0h1m1 0h1m1 0h1m-170 1h2m3 0h1m1 0h1m1 0h2m3 0h3m2 0h2m1 0h1m2 0h1m3 0h1m2 0h1m1 0h1m1 0h4m4 0h3m2 0h3m1 0h1m3 0h2m3 0h1m1 0h1m1 0h1m1 0h4m2 0h3m2 0h3m3 0h3m2 0h4m3 0h2m2 0h1m1 0h3m3 0h1m3 0h1m1 0h3m2 0h4m1 0h3m6 0h1m1 0h2m3 0h2m1 0h1m2 0h1m1 0h1m2 0h3m3 0h2m1 0h1m2 0h2m3 0h4m-176 1h2m2 0h5m1 0h7m2 0h1m1 0h3m2 0h9m3 0h3m1 0h5m1 0h1m4 0h2m1 0h6m2 0h1m2 0h3m1 0h2m1 0h3m1 0h1m2 0h9m1 0h1m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h1m1 0h2m1 0h1m1 0h5m2 0h3m1 0h1m2 0h3m2 0h1m3 0h2m1 0h1m1 0h5m2 0h3m2 0h1m3 0h1m1 0h1m5 0h3m1 0h7m1 0h1m-176 1h1m2 0h1m5 0h1m1 0h1m2 0h3m3 0h1m1 0h1m1 0h3m2 0h6m1 0h2m2 0h3m3 0h1m1 0h1m2 0h3m2 0h1m1 0h3m1 0h1m2 0h2m3 0h3m1 0h1m1 0h2m5 0h3m2 0h2m1 0h1m2 0h3m1 0h1m1 0h2m4 0h3m1 0h6m1 0h5m2 0h1m1 0h1m1 0h1m2 0h3m2 0h1m1 0h2m1 0h4m1 0h1m3 0h3m3 0h1m2 0h3m1 0h1m3 0h1m3 0h5m-177 1h2m4 0h1m1 0h7m5 0h1m3 0h1m1 0h2m2 0h3m1 0h3m1 0h1m2 0h1m1 0h1m3 0h2m1 0h1m3 0h1m1 0h6m1 0h1m1 0h3m3 0h1m1 0h1m1 0h6m4 0h1m1 0h1m5 0h4m1 0h1m1 0h1m1 0h2m3 0h2m2 0h1m1 0h3m4 0h1m1 0h1m3 0h4m1 0h3m1 0h5m3 0h1m1 0h2m3 0h1m4 0h2m4 0h3m1 0h1m1 0h1m1 0h2m1 0h1m-173 1h4m1 0h1m1 0h1m1 0h5m2 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h3m2 0h1m5 0h1m2 0h4m1 0h1m5 0h5m5 0h1m3 0h3m1 0h1m2 0h1m1 0h1m3 0h2m1 0h1m2 0h2m3 0h4m2 0h1m1 0h1m1 0h2m2 0h2m2 0h2m1 0h1m2 0h2m1 0h1m1 0h1m4 0h1m1 0h1m1 0h3m3 0h1m6 0h1m1 0h1m1 0h2m1 0h1m1 0h2m2 0h1m3 0h1m2 0h5m3 0h4m1 0h3m-176 1h2m2 0h1m1 0h2m2 0h1m1 0h1m2 0h1m3 0h1m2 0h2m1 0h2m2 0h1m2 0h2m1 0h1m2 0h1m3 0h2m2 0h2m2 0h3m1 0h1m1 0h5m2 0h1m1 0h1m1 0h1m3 0h3m1 0h1m1 0h3m1 0h2m2 0h1m2 0h1m2 0h1m2 0h1m1 0h2m3 0h2m2 0h5m2 0h1m1 0h1m1 0h1m3 0h1m2 0h4m1 0h1m2 0h1m5 0h2m1 0h2m1 0h1m3 0h3m3 0h2m1 0h1m3 0h3m2 0h1m1 0h3m2 0h2m1 0h2m-177 1h6m2 0h2m1 0h1m1 0h2m1 0h2m1 0h1m1 0h2m2 0h4m2 0h2m4 0h2m3 0h4m1 0h1m1 0h2m1 0h1m6 0h1m2 0h3m5 0h2m5 0h1m3 0h1m2 0h1m1 0h1m2 0h4m3 0h2m1 0h4m6 0h1m3 0h4m1 0h5m2 0h1m1 0h1m1 0h1m1 0h4m3 0h1m3 0h1m3 0h1m6 0h2m1 0h1m2 0h1m1 0h1m1 0h4m1 0h1m1 0h2m3 0h2m-177 1h4m1 0h2m2 0h5m1 0h1m1 0h2m2 0h4m1 0h12m3 0h1m3 0h1m2 0h1m5 0h2m4 0h2m3 0h2m1 0h1m2 0h3m2 0h3m4 0h3m1 0h5m1 0h2m1 0h1m3 0h1m1 0h1m1 0h1m3 0h7m2 0h2m1 0h8m1 0h4m3 0h1m2 0h2m1 0h2m2 0h1m2 0h3m1 0h1m1 0h3m3 0h3m1 0h2m2 0h2m1 0h3m-175 1h1m3 0h2m4 0h4m1 0h1m3 0h2m1 0h1m1 0h2m5 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h3m4 0h2m1 0h1m1 0h2m1 0h1m5 0h1m4 0h1m3 0h2m2 0h1m1 0h3m1 0h1m1 0h1m2 0h5m1 0h1m1 0h1m2 0h1m1 0h1m4 0h4m1 0h1m1 0h1m1 0h1m2 0h7m2 0h4m6 0h1m4 0h6m1 0h6m3 0h2m3 0h4m4 0h1m3 0h3m-173 1h2m1 0h5m1 0h2m2 0h1m1 0h1m3 0h2m2 0h2m1 0h2m3 0h3m1 0h4m2 0h1m2 0h2m3 0h3m2 0h4m2 0h4m4 0h3m2 0h1m1 0h1m2 0h1m1 0h3m2 0h2m1 0h1m1 0h6m4 0h1m1 0h1m1 0h2m2 0h1m1 0h2m1 0h1m3 0h2m2 0h3m5 0h1m2 0h1m1 0h3m4 0h2m1 0h1m2 0h1m1 0h2m2 0h1m2 0h3m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m-174 1h1m2 0h1m3 0h1m1 0h2m1 0h2m3 0h2m2 0h3m1 0h3m2 0h1m3 0h7m1 0h1m2 0h1m2 0h1m2 0h1m1 0h1m2 0h1m3 0h1m2 0h1m6 0h1m6 0h3m1 0h1m3 0h1m1 0h1m1 0h4m4 0h1m2 0h1m1 0h2m7 0h7m1 0h2m1 0h2m2 0h2m1 0h1m1 0h4m3 0h1m2 0h4m4 0h5m3 0h2m1 0h1m1 0h2m1 0h3m7 0h1m-175 1h1m1 0h1m2 0h1m1 0h3m1 0h1m1 0h3m3 0h3m1 0h1m1 0h2m1 0h1m4 0h3m2 0h1m1 0h1m1 0h1m2 0h3m1 0h1m2 0h1m2 0h1m2 0h3m3 0h2m1 0h1m3 0h2m1 0h7m3 0h1m5 0h1m2 0h1m1 0h1m1 0h4m2 0h1m2 0h9m5 0h5m1 0h3m2 0h1m3 0h1m3 0h3m1 0h1m1 0h1m3 0h1m2 0h6m2 0h3m1 0h2m3 0h2m1 0h3m-174 1h4m2 0h2m2 0h1m1 0h1m2 0h11m1 0h2m4 0h1m1 0h1m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m2 0h3m1 0h1m8 0h3m2 0h3m4 0h3m2 0h2m1 0h7m2 0h1m3 0h5m4 0h2m6 0h4m1 0h5m1 0h3m4 0h1m4 0h1m1 0h2m1 0h2m4 0h4m4 0h1m1 0h1m1 0h4m3 0h1m1 0h1m2 0h4m-175 1h5m2 0h2m1 0h3m1 0h2m1 0h3m3 0h2m1 0h2m1 0h1m1 0h2m3 0h1m2 0h2m1 0h1m1 0h1m1 0h4m1 0h1m5 0h2m4 0h2m2 0h1m1 0h1m2 0h2m2 0h2m1 0h1m1 0h3m2 0h4m3 0h4m3 0h2m1 0h5m1 0h1m2 0h3m2 0h3m2 0h1m1 0h2m1 0h1m3 0h1m2 0h1m1 0h2m6 0h2m5 0h1m2 0h1m6 0h1m5 0h1m1 0h2m1 0h2m-175 1h2m2 0h1m2 0h3m1 0h1m1 0h4m1 0h1m1 0h1m1 0h1m1 0h2m2 0h1m1 0h3m1 0h3m2 0h3m2 0h2m1 0h2m2 0h1m1 0h2m1 0h1m1 0h2m1 0h1m1 0h3m1 0h1m1 0h3m1 0h1m2 0h1m4 0h1m1 0h1m4 0h2m6 0h1m2 0h5m3 0h2m1 0h4m4 0h2m2 0h1m1 0h1m1 0h1m2 0h3m2 0h1m1 0h1m3 0h1m3 0h1m1 0h1m1 0h1m2 0h1m2 0h2m2 0h2m1 0h1m2 0h1m2 0h1m5 0h3m-177 1h1m1 0h1m1 0h1m1 0h2m1 0h1m1 0h1m1 0h1m1 0h3m1 0h2m1 0h3m2 0h3m3 0h1m1 0h1m7 0h1m1 0h1m1 0h4m2 0h1m1 0h1m5 0h1m2 0h1m1 0h2m4 0h2m1 0h1m1 0h3m3 0h3m3 0h2m1 0h1m4 0h3m2 0h2m3 0h2m2 0h2m1 0h2m1 0h1m1 0h2m8 0h2m2 0h4m1 0h1m1 0h4m2 0h1m2 0h1m3 0h1m1 0h2m1 0h1m3 0h2m6 0h1m1 0h4m-176 1h1m2 0h1m3 0h1m1 0h3m3 0h4m2 0h2m1 0h2m1 0h1m7 0h1m1 0h1m3 0h4m4 0h1m3 0h4m2 0h1m2 0h2m3 0h1m1 0h4m1 0h1m2 0h1m1 0h1m2 0h1m1 0h1m2 0h2m1 0h3m2 0h1m1 0h1m6 0h1m2 0h1m1 0h1m2 0h1m1 0h2m3 0h1m1 0h4m1 0h2m1 0h3m5 0h2m4 0h3m1 0h6m2 0h2m2 0h5m1 0h1m5 0h1m1 0h4m-176 1h1m1 0h2m1 0h2m2 0h1m2 0h1m3 0h2m2 0h1m1 0h1m1 0h1m1 0h1m2 0h2m1 0h2m1 0h1m1 0h3m4 0h2m1 0h2m1 0h1m4 0h5m7 0h4m1 0h1m1 0h2m1 0h5m3 0h2m1 0h3m1 0h2m1 0h3m2 0h1m1 0h1m1 0h1m1 0h4m1 0h2m2 0h1m4 0h1m2 0h3m6 0h1m1 0h4m1 0h1m3 0h1m1 0h1m2 0h2m3 0h6m5 0h3m1 0h1m2 0h1m2 0h1m-176 1h2m2 0h1m4 0h1m1 0h1m1 0h2m2 0h5m2 0h2m3 0h1m2 0h3m1 0h2m2 0h5m2 0h1m7 0h2m1 0h1m1 0h2m1 0h1m1 0h2m1 0h3m1 0h2m3 0h2m2 0h1m7 0h2m1 0h1m2 0h3m1 0h1m1 0h3m5 0h1m2 0h5m1 0h4m4 0h2m1 0h1m1 0h2m1 0h1m4 0h3m1 0h3m1 0h4m2 0h1m1 0h2m1 0h3m1 0h1m2 0h1m6 0h3m-175 1h5m1 0h1m1 0h2m1 0h6m4 0h4m1 0h4m1 0h2m2 0h1m5 0h2m2 0h6m2 0h3m1 0h1m3 0h1m2 0h5m2 0h3m1 0h6m2 0h3m1 0h1m5 0h1m1 0h6m3 0h1m1 0h7m1 0h2m1 0h2m2 0h1m2 0h2m2 0h1m1 0h5m1 0h1m1 0h1m1 0h3m2 0h1m3 0h1m1 0h1m1 0h4m1 0h1m2 0h1m1 0h1m6 0h1m1 0h4m-175 1h1m1 0h3m2 0h1m2 0h2m3 0h1m1 0h2m2 0h4m1 0h1m4 0h1m2 0h2m4 0h2m1 0h2m2 0h2m1 0h6m2 0h1m1 0h2m3 0h1m2 0h4m4 0h3m1 0h1m1 0h6m1 0h4m4 0h2m1 0h2m1 0h3m3 0h1m6 0h1m4 0h2m1 0h1m3 0h1m2 0h3m3 0h1m2 0h1m1 0h3m1 0h5m3 0h3m2 0h1m1 0h2m4 0h4m1 0h2m-175 1h1m1 0h3m1 0h1m1 0h3m1 0h1m5 0h2m1 0h1m1 0h2m1 0h2m1 0h1m2 0h1m1 0h2m1 0h3m1 0h1m4 0h1m1 0h2m1 0h1m2 0h1m2 0h1m2 0h1m4 0h1m1 0h1m4 0h2m3 0h2m1 0h4m3 0h2m1 0h1m2 0h4m1 0h1m2 0h3m3 0h2m3 0h4m4 0h2m1 0h1m1 0h4m4 0h1m3 0h2m4 0h1m1 0h2m1 0h3m2 0h1m2 0h2m1 0h1m1 0h1m4 0h1m2 0h1m1 0h4m-173 1h2m1 0h1m1 0h3m6 0h4m1 0h4m4 0h2m2 0h1m1 0h1m4 0h1m2 0h1m3 0h1m1 0h4m1 0h2m3 0h1m2 0h2m1 0h2m4 0h2m1 0h1m1 0h1m1 0h2m1 0h2m2 0h2m2 0h2m1 0h1m2 0h1m1 0h1m3 0h4m2 0h3m1 0h4m1 0h1m1 0h3m1 0h1m4 0h1m1 0h4m4 0h1m2 0h2m2 0h1m1 0h1m1 0h3m1 0h2m1 0h1m1 0h2m1 0h1m1 0h2m3 0h1m1 0h4m2 0h2m-177 1h1m1 0h3m1 0h1m1 0h8m5 0h2m1 0h2m2 0h2m4 0h1m1 0h1m2 0h1m1 0h3m2 0h1m1 0h1m6 0h2m1 0h4m2 0h3m2 0h1m1 0h1m1 0h1m3 0h2m1 0h1m2 0h3m1 0h2m1 0h2m1 0h1m2 0h2m1 0h1m1 0h5m3 0h1m1 0h1m1 0h1m1 0h1m5 0h1m2 0h2m1 0h1m2 0h3m1 0h1m4 0h1m1 0h2m6 0h3m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h1m4 0h1m3 0h1m-175 1h2m1 0h1m3 0h2m2 0h1m2 0h1m1 0h1m3 0h1m2 0h1m1 0h2m3 0h1m1 0h2m5 0h1m1 0h2m1 0h2m2 0h2m1 0h1m1 0h3m3 0h2m1 0h2m2 0h2m2 0h3m4 0h3m1 0h3m2 0h1m1 0h1m1 0h1m3 0h1m1 0h7m1 0h2m1 0h1m3 0h2m1 0h1m1 0h2m4 0h1m2 0h2m6 0h1m2 0h1m1 0h1m1 0h5m3 0h3m5 0h2m3 0h3m4 0h2m3 0h2m-175 1h1m1 0h14m1 0h1m1 0h4m1 0h3m1 0h7m4 0h4m1 0h1m1 0h2m1 0h1m1 0h1m1 0h1m2 0h5m1 0h7m1 0h2m3 0h2m1 0h1m3 0h1m1 0h5m2 0h1m3 0h3m3 0h1m1 0h1m1 0h6m1 0h5m3 0h2m3 0h3m3 0h1m5 0h2m1 0h8m1 0h1m1 0h6m1 0h2m2 0h1m1 0h1m1 0h1m1 0h8m-175 1h1m1 0h2m3 0h1m2 0h2m2 0h1m1 0h1m1 0h1m1 0h4m1 0h1m1 0h1m3 0h3m1 0h5m1 0h11m2 0h2m3 0h1m5 0h3m2 0h1m3 0h2m3 0h5m3 0h1m1 0h1m1 0h1m2 0h1m1 0h1m3 0h3m3 0h3m1 0h2m3 0h5m5 0h2m4 0h3m4 0h2m3 0h1m1 0h1m1 0h1m1 0h2m1 0h1m1 0h2m1 0h3m2 0h6m3 0h1m2 0h2m-177 1h1m3 0h1m1 0h1m1 0h1m4 0h2m4 0h3m6 0h1m1 0h1m1 0h2m4 0h2m1 0h3m1 0h4m1 0h1m5 0h1m1 0h1m1 0h2m1 0h1m1 0h2m6 0h1m2 0h3m1 0h1m3 0h1m1 0h1m1 0h2m1 0h1m4 0h3m2 0h2m1 0h2m1 0h2m1 0h1m1 0h1m1 0h1m1 0h1m2 0h1m1 0h3m4 0h3m1 0h2m1 0h1m1 0h2m1 0h1m1 0h1m1 0h1m6 0h1m2 0h3m6 0h1m1 0h1m2 0h1m1 0h1m1 0h2m1 0h1m-175 1h1m2 0h1m3 0h1m1 0h1m1 0h1m1 0h3m3 0h1m2 0h6m3 0h1m2 0h3m1 0h2m1 0h3m2 0h3m2 0h5m3 0h1m1 0h1m2 0h1m1 0h1m3 0h2m6 0h1m3 0h2m3 0h7m1 0h1m3 0h5m2 0h1m1 0h2m1 0h1m3 0h2m2 0h2m2 0h1m2 0h1m1 0h1m2 0h2m1 0h3m2 0h1m3 0h2m2 0h3m6 0h1m2 0h4m1 0h1m2 0h1m3 0h3m-175 1h1m2 0h6m1 0h4m1 0h2m2 0h1m2 0h1m2 0h1m1 0h6m3 0h1m1 0h1m1 0h2m1 0h3m8 0h7m5 0h2m1 0h1m1 0h2m2 0h1m1 0h1m1 0h1m1 0h1m2 0h5m1 0h1m2 0h1m1 0h5m1 0h3m4 0h1m1 0h8m3 0h1m3 0h2m1 0h1m7 0h9m1 0h3m1 0h1m1 0h2m1 0h2m1 0h2m2 0h2m2 0h1m1 0h5m3 0h1m-174 1h3m2 0h4m1 0h3m1 0h1m1 0h1m1 0h1m2 0h4m1 0h2m1 0h4m2 0h2m2 0h1m1 0h3m1 0h2m1 0h2m3 0h1m1 0h5m2 0h1m3 0h2m1 0h1m1 0h4m1 0h1m1 0h4m1 0h7m3 0h2m1 0h1m1 0h4m3 0h2m3 0h1m4 0h5m3 0h1m4 0h4m4 0h1m3 0h1m1 0h1m1 0h5m1 0h1m4 0h2m4 0h1m2 0h3m1 0h1m-171 1h1m3 0h2m1 0h3m3 0h1m1 0h2m1 0h1m3 0h1m1 0h4m1 0h2m1 0h1m4 0h1m3 0h2m2 0h5m2 0h3m2 0h1m2 0h1m2 0h3m1 0h1m7 0h5m3 0h1m7 0h1m1 0h2m1 0h1m3 0h6m3 0h1m2 0h2m1 0h1m1 0h1m1 0h4m5 0h2m2 0h1m1 0h3m1 0h1m2 0h1m1 0h2m4 0h2m3 0h2m1 0h1m2 0h3m2 0h1m6 0h1m1 0h1m-176 1h1m7 0h1m1 0h3m5 0h3m1 0h1m3 0h2m2 0h3m4 0h1m3 0h4m4 0h1m1 0h1m1 0h2m2 0h6m2 0h3m1 0h1m1 0h4m3 0h1m2 0h1m1 0h3m5 0h1m1 0h1m1 0h2m1 0h1m1 0h1m1 0h2m1 0h1m3 0h1m1 0h2m1 0h2m2 0h2m6 0h2m1 0h3m2 0h3m3 0h2m1 0h1m1 0h1m2 0h3m1 0h1m6 0h2m1 0h1m1 0h2m1 0h3m1 0h4m1 0h1m-177 1h2m3 0h2m5 0h4m1 0h3m1 0h1m3 0h3m1 0h2m1 0h5m3 0h1m1 0h2m1 0h1m3 0h1m1 0h1m2 0h1m2 0h1m1 0h2m1 0h5m5 0h1m2 0h3m1 0h2m2 0h5m3 0h1m2 0h3m2 0h1m1 0h1m1 0h1m2 0h3m1 0h1m2 0h4m4 0h1m1 0h1m1 0h4m3 0h2m3 0h4m1 0h1m1 0h1m6 0h1m1 0h1m1 0h1m1 0h2m2 0h1m4 0h1m2 0h2m3 0h1m-175 1h1m2 0h1m4 0h2m2 0h3m1 0h3m1 0h4m1 0h1m1 0h1m1 0h5m4 0h1m1 0h1m2 0h1m1 0h1m2 0h3m1 0h1m1 0h3m1 0h4m3 0h1m3 0h1m1 0h2m2 0h5m5 0h1m1 0h5m4 0h2m1 0h2m1 0h1m6 0h1m3 0h2m5 0h3m3 0h1m4 0h2m4 0h1m1 0h1m5 0h1m1 0h1m2 0h1m1 0h1m1 0h16m1 0h2m3 0h1m-177 1h2m2 0h5m1 0h3m2 0h3m2 0h1m4 0h1m2 0h1m3 0h2m1 0h2m1 0h2m2 0h2m1 0h5m1 0h1m2 0h2m1 0h5m3 0h2m1 0h1m2 0h1m1 0h1m1 0h1m1 0h2m1 0h1m3 0h1m4 0h1m1 0h1m1 0h2m1 0h1m2 0h1m1 0h1m2 0h2m3 0h1m3 0h7m3 0h2m3 0h1m2 0h2m1 0h4m1 0h1m1 0h1m2 0h1m6 0h1m1 0h5m8 0h3m1 0h6m-173 1h3m2 0h3m4 0h3m2 0h3m1 0h1m1 0h4m3 0h1m2 0h2m2 0h3m4 0h1m1 0h1m1 0h2m1 0h1m2 0h2m2 0h2m4 0h1m1 0h1m2 0h2m5 0h1m2 0h4m3 0h1m1 0h5m4 0h3m4 0h3m1 0h2m5 0h1m1 0h3m2 0h1m1 0h3m1 0h2m2 0h1m1 0h2m1 0h1m4 0h1m4 0h2m4 0h2m2 0h6m1 0h1m2 0h5m1 0h1m-177 1h4m1 0h3m1 0h3m5 0h3m4 0h1m1 0h2m4 0h2m1 0h2m2 0h1m2 0h2m1 0h2m1 0h3m5 0h1m3 0h1m1 0h2m1 0h1m1 0h3m2 0h1m2 0h3m1 0h1m6 0h6m2 0h1m1 0h3m2 0h3m1 0h1m1 0h3m3 0h3m3 0h1m3 0h4m2 0h1m3 0h1m1 0h11m3 0h1m3 0h1m1 0h1m3 0h1m1 0h4m1 0h2m1 0h1m3 0h1m-174 1h4m4 0h2m5 0h2m1 0h1m1 0h3m5 0h1m1 0h2m2 0h2m1 0h4m1 0h3m1 0h3m1 0h4m1 0h3m1 0h2m4 0h2m2 0h2m2 0h5m1 0h1m1 0h1m2 0h1m2 0h6m2 0h3m1 0h4m4 0h2m5 0h1m2 0h1m1 0h4m2 0h1m1 0h1m2 0h5m2 0h3m4 0h1m1 0h1m3 0h1m3 0h2m2 0h3m1 0h2m1 0h1m2 0h2m1 0h1m1 0h1m1 0h1m-175 1h6m1 0h4m3 0h1m1 0h2m1 0h5m3 0h1m4 0h1m1 0h1m10 0h3m5 0h2m2 0h1m2 0h1m2 0h3m1 0h2m1 0h3m1 0h1m1 0h3m10 0h7m3 0h4m2 0h1m1 0h1m1 0h5m1 0h2m1 0h1m1 0h2m5 0h1m2 0h1m2 0h1m1 0h3m1 0h3m2 0h2m2 0h3m1 0h1m1 0h2m4 0h3m1 0h1m1 0h3m5 0h1m-176 1h1m1 0h2m1 0h1m3 0h3m2 0h1m4 0h1m1 0h3m4 0h2m2 0h1m3 0h1m5 0h1m4 0h1m1 0h1m1 0h1m1 0h2m2 0h1m2 0h1m1 0h1m2 0h1m1 0h1m2 0h3m1 0h1m2 0h1m1 0h1m3 0h3m1 0h2m1 0h3m1 0h1m2 0h1m1 0h1m1 0h2m1 0h1m5 0h1m1 0h1m1 0h2m2 0h1m2 0h2m1 0h3m1 0h1m3 0h1m3 0h1m2 0h1m4 0h2m1 0h4m1 0h1m3 0h1m4 0h4m7 0h4m-172 1h1m1 0h2m2 0h1m1 0h2m1 0h1m1 0h4m3 0h4m1 0h1m3 0h1m1 0h1m1 0h3m1 0h1m1 0h1m4 0h1m1 0h2m1 0h1m1 0h1m6 0h3m11 0h5m1 0h1m1 0h1m3 0h1m2 0h1m3 0h2m1 0h1m3 0h2m2 0h4m4 0h3m2 0h1m1 0h1m2 0h5m4 0h1m1 0h5m1 0h1m1 0h3m1 0h1m2 0h1m1 0h1m1 0h1m2 0h2m2 0h1m1 0h3m1 0h1m1 0h2m2 0h3m-175 1h3m3 0h1m3 0h3m2 0h1m1 0h1m1 0h1m2 0h6m1 0h2m1 0h2m1 0h2m2 0h1m5 0h2m1 0h1m3 0h5m1 0h2m6 0h1m1 0h1m1 0h1m5 0h1m1 0h3m1 0h2m1 0h5m1 0h1m2 0h3m1 0h6m2 0h3m1 0h4m2 0h1m1 0h2m1 0h2m2 0h2m3 0h2m1 0h1m3 0h2m3 0h1m1 0h1m1 0h2m1 0h5m12 0h3m3 0h1m2 0h1m-176 1h1m1 0h1m1 0h2m2 0h1m1 0h2m1 0h1m2 0h1m1 0h1m2 0h3m1 0h1m3 0h2m1 0h2m1 0h1m2 0h1m3 0h1m4 0h1m1 0h1m2 0h1m1 0h1m3 0h1m1 0h1m1 0h7m2 0h2m1 0h4m1 0h2m2 0h2m4 0h1m1 0h1m5 0h1m6 0h3m3 0h1m1 0h2m2 0h1m2 0h1m4 0h4m3 0h1m5 0h3m2 0h5m1 0h2m4 0h2m5 0h2m2 0h1m4 0h3m1 0h1m-176 1h1m2 0h1m1 0h1m1 0h2m2 0h1m4 0h2m1 0h1m1 0h3m3 0h1m1 0h1m1 0h1m4 0h2m1 0h4m1 0h1m4 0h1m3 0h3m4 0h2m3 0h3m2 0h4m3 0h3m2 0h4m1 0h1m2 0h3m1 0h2m1 0h1m1 0h6m4 0h3m2 0h2m1 0h2m1 0h1m2 0h3m1 0h1m3 0h2m2 0h1m3 0h1m1 0h1m3 0h1m2 0h3m1 0h1m4 0h1m1 0h4m1 0h1m5 0h1m1 0h3m1 0h1m-177 1h7m1 0h4m1 0h4m1 0h2m2 0h1m1 0h1m1 0h2m1 0h1m1 0h1m1 0h3m1 0h1m1 0h1m3 0h2m2 0h2m1 0h1m1 0h2m1 0h2m5 0h1m3 0h1m1 0h2m3 0h3m3 0h1m2 0h1m4 0h1m1 0h3m1 0h4m6 0h1m1 0h1m1 0h3m3 0h1m2 0h1m2 0h1m4 0h4m3 0h3m1 0h4m2 0h4m2 0h1m2 0h3m6 0h1m1 0h1m1 0h1m1 0h1m3 0h1m1 0h1m3 0h1m-176 1h3m2 0h1m1 0h1m4 0h3m1 0h3m1 0h4m2 0h2m2 0h2m1 0h3m1 0h2m1 0h3m2 0h2m3 0h3m1 0h1m4 0h3m1 0h5m4 0h1m1 0h1m3 0h2m2 0h3m3 0h5m4 0h1m2 0h4m4 0h2m2 0h2m1 0h1m1 0h2m1 0h3m4 0h1m1 0h4m1 0h1m3 0h2m4 0h1m3 0h1m2 0h4m1 0h2m2 0h3m1 0h1m2 0h3m2 0h3m1 0h1m-177 1h2m3 0h2m4 0h1m1 0h3m2 0h1m2 0h5m5 0h1m3 0h1m2 0h1m2 0h3m2 0h3m6 0h1m1 0h3m4 0h1m1 0h4m2 0h2m2 0h3m1 0h1m2 0h1m1 0h1m3 0h1m2 0h1m2 0h3m5 0h1m4 0h1m4 0h2m1 0h1m4 0h1m1 0h2m2 0h2m4 0h1m1 0h3m3 0h1m4 0h1m4 0h1m1 0h1m1 0h3m4 0h2m1 0h3m1 0h1m1 0h1m3 0h1m-175 1h1m1 0h2m3 0h1m3 0h1m1 0h1m2 0h1m1 0h6m1 0h2m1 0h1m2 0h4m1 0h2m2 0h2m1 0h1m4 0h1m1 0h2m1 0h3m4 0h2m2 0h1m4 0h4m4 0h2m2 0h3m6 0h3m2 0h1m4 0h1m1 0h3m3 0h1m2 0h1m1 0h2m6 0h6m1 0h2m1 0h1m2 0h5m5 0h1m1 0h6m2 0h2m4 0h2m4 0h2m3 0h3m1 0h1m-177 1h1m4 0h2m4 0h1m1 0h1m1 0h2m2 0h3m2 0h2m2 0h2m1 0h1m1 0h2m8 0h2m5 0h1m1 0h2m8 0h1m2 0h1m1 0h5m3 0h1m3 0h3m3 0h2m2 0h2m2 0h4m1 0h1m2 0h1m1 0h1m2 0h3m2 0h1m2 0h3m2 0h1m1 0h1m1 0h5m1 0h1m1 0h1m1 0h1m2 0h3m2 0h1m1 0h4m1 0h4m1 0h2m3 0h3m2 0h1m4 0h3m-170 1h4m2 0h1m2 0h1m2 0h2m3 0h1m1 0h1m1 0h1m1 0h3m1 0h1m1 0h7m1 0h1m1 0h4m1 0h2m2 0h1m1 0h1m1 0h1m1 0h7m3 0h3m2 0h4m3 0h4m1 0h1m1 0h1m1 0h1m1 0h4m3 0h3m2 0h3m1 0h1m4 0h1m1 0h2m5 0h3m1 0h1m2 0h3m2 0h3m1 0h2m1 0h3m6 0h1m3 0h1m3 0h2m1 0h1m3 0h2m1 0h1m1 0h4m1 0h1m1 0h2m-175 1h2m1 0h1m2 0h2m1 0h1m3 0h1m1 0h1m1 0h2m6 0h2m2 0h1m3 0h2m1 0h3m4 0h1m3 0h4m2 0h3m2 0h2m1 0h1m2 0h3m4 0h3m2 0h1m1 0h2m3 0h2m1 0h2m1 0h2m1 0h2m5 0h1m1 0h2m2 0h1m3 0h4m1 0h1m1 0h3m1 0h2m2 0h1m1 0h1m5 0h2m1 0h2m2 0h1m3 0h3m5 0h1m1 0h2m1 0h1m1 0h1m3 0h2m2 0h1m1 0h8m-176 1h1m1 0h4m2 0h2m1 0h2m2 0h2m2 0h2m3 0h2m1 0h1m1 0h1m1 0h2m5 0h7m3 0h2m1 0h4m1 0h1m2 0h2m2 0h1m2 0h2m2 0h3m1 0h2m1 0h1m1 0h1m1 0h1m1 0h3m5 0h3m1 0h1m1 0h1m1 0h1m2 0h1m1 0h4m4 0h2m1 0h1m4 0h1m1 0h1m2 0h1m3 0h2m2 0h2m2 0h2m2 0h1m3 0h1m3 0h2m4 0h3m2 0h1m1 0h1m8 0h1m1 0h2m-173 1h1m1 0h9m1 0h7m3 0h1m3 0h6m1 0h2m1 0h2m4 0h1m2 0h2m3 0h1m3 0h8m3 0h1m2 0h2m1 0h2m6 0h1m1 0h6m1 0h2m4 0h1m4 0h3m1 0h2m1 0h9m2 0h3m1 0h1m1 0h2m1 0h1m2 0h3m1 0h2m1 0h9m3 0h3m2 0h1m5 0h1m1 0h1m1 0h8m1 0h2m-176 1h1m3 0h1m3 0h1m1 0h3m2 0h2m7 0h1m2 0h2m3 0h2m1 0h1m1 0h3m2 0h1m4 0h1m2 0h1m1 0h2m2 0h1m3 0h5m1 0h2m2 0h2m1 0h1m1 0h1m1 0h1m1 0h1m2 0h1m1 0h1m3 0h3m1 0h1m4 0h1m1 0h1m1 0h2m1 0h1m2 0h3m1 0h2m3 0h7m3 0h2m1 0h1m1 0h3m3 0h1m2 0h1m3 0h1m1 0h1m1 0h1m3 0h1m2 0h2m1 0h2m1 0h1m3 0h2m1 0h1m3 0h1m2 0h2m-175 1h3m1 0h1m1 0h1m1 0h2m1 0h2m1 0h1m1 0h1m1 0h4m2 0h1m1 0h1m1 0h1m1 0h1m3 0h1m1 0h1m4 0h1m1 0h2m1 0h1m4 0h4m1 0h1m1 0h2m1 0h6m2 0h1m1 0h1m1 0h6m3 0h1m1 0h1m1 0h1m3 0h2m1 0h3m1 0h1m5 0h5m2 0h1m1 0h1m1 0h1m1 0h2m1 0h1m1 0h1m5 0h1m4 0h1m1 0h5m1 0h1m1 0h2m3 0h1m1 0h1m1 0h1m1 0h3m3 0h1m1 0h1m2 0h3m1 0h1m1 0h1m1 0h1m-174 1h4m3 0h1m3 0h1m3 0h2m1 0h1m1 0h1m1 0h1m3 0h2m3 0h2m1 0h2m2 0h1m1 0h3m3 0h1m1 0h1m1 0h1m1 0h2m1 0h1m3 0h2m4 0h2m1 0h1m1 0h3m4 0h1m2 0h4m3 0h2m1 0h1m1 0h4m2 0h3m7 0h1m1 0h2m3 0h2m2 0h8m4 0h1m1 0h1m1 0h1m1 0h1m1 0h1m3 0h1m2 0h5m5 0h1m3 0h2m1 0h2m2 0h1m3 0h5m-177 1h10m2 0h1m1 0h4m1 0h1m1 0h5m2 0h5m1 0h3m1 0h1m2 0h3m3 0h2m1 0h1m2 0h9m1 0h2m1 0h6m1 0h3m2 0h1m3 0h1m1 0h6m1 0h1m1 0h1m1 0h4m2 0h1m1 0h1m3 0h10m2 0h1m1 0h1m3 0h2m5 0h2m1 0h1m1 0h2m1 0h7m3 0h1m2 0h1m3 0h2m1 0h4m2 0h8m1 0h2m-177 1h1m3 0h1m2 0h2m2 0h1m1 0h3m3 0h1m1 0h3m1 0h3m6 0h1m1 0h1m1 0h1m1 0h1m6 0h2m2 0h1m2 0h1m4 0h1m1 0h5m1 0h1m1 0h3m3 0h5m3 0h1m3 0h1m1 0h2m1 0h1m2 0h1m3 0h1m1 0h2m4 0h3m1 0h2m2 0h1m1 0h4m4 0h3m2 0h5m3 0h1m3 0h3m2 0h3m1 0h1m1 0h3m8 0h1m1 0h1m1 0h3m4 0h2m-177 1h1m2 0h2m1 0h1m2 0h2m1 0h3m5 0h5m2 0h1m1 0h2m7 0h1m4 0h1m3 0h2m1 0h1m8 0h3m4 0h2m5 0h1m1 0h1m2 0h2m5 0h3m7 0h5m2 0h1m1 0h1m5 0h1m4 0h1m2 0h4m3 0h2m1 0h1m3 0h3m4 0h3m2 0h1m4 0h3m4 0h1m1 0h1m2 0h1m1 0h1m1 0h2m2 0h1m1 0h1m1 0h1m-173 1h3m6 0h1m1 0h2m3 0h2m1 0h1m1 0h1m1 0h1m1 0h3m3 0h4m1 0h1m1 0h4m5 0h1m3 0h4m1 0h2m1 0h2m3 0h1m1 0h1m3 0h2m1 0h1m4 0h1m1 0h2m1 0h1m7 0h1m3 0h2m2 0h1m1 0h4m2 0h8m2 0h6m2 0h1m1 0h2m1 0h1m1 0h1m3 0h1m1 0h1m2 0h1m2 0h1m2 0h4m3 0h3m2 0h3m8 0h6m-177 1h1m1 0h1m3 0h3m2 0h2m2 0h1m1 0h3m1 0h3m1 0h2m1 0h1m1 0h1m1 0h4m1 0h3m2 0h2m2 0h1m2 0h2m2 0h4m1 0h1m2 0h1m3 0h2m1 0h1m1 0h1m1 0h2m3 0h3m5 0h1m1 0h3m1 0h1m2 0h3m2 0h1m1 0h3m3 0h3m3 0h3m5 0h1m4 0h3m2 0h3m1 0h4m4 0h1m2 0h2m2 0h2m1 0h2m1 0h2m4 0h2m2 0h1m4 0h5m-176 1h1m2 0h2m3 0h1m1 0h2m4 0h1m5 0h1m1 0h1m2 0h1m4 0h1m1 0h5m5 0h1m3 0h4m2 0h1m1 0h1m3 0h1m1 0h2m2 0h1m1 0h1m2 0h1m2 0h1m3 0h1m1 0h4m2 0h2m1 0h5m1 0h1m1 0h1m3 0h2m1 0h2m2 0h2m1 0h3m2 0h1m1 0h3m4 0h1m3 0h1m1 0h2m4 0h2m1 0h2m1 0h2m2 0h4m1 0h1m3 0h1m5 0h1m1 0h1m3 0h3m3 0h1m-174 1h1m2 0h1m1 0h1m5 0h1m2 0h1m2 0h2m2 0h2m2 0h1m1 0h4m3 0h2m1 0h1m2 0h3m2 0h5m2 0h2m2 0h5m1 0h6m4 0h1m1 0h4m5 0h3m1 0h5m1 0h4m1 0h2m5 0h9m3 0h1m3 0h1m2 0h3m1 0h4m2 0h1m1 0h1m5 0h2m4 0h1m1 0h1m3 0h3m3 0h1m1 0h1m2 0h1m1 0h2m3 0h3m-174 1h1m5 0h2m2 0h4m1 0h1m1 0h2m3 0h2m4 0h4m1 0h3m3 0h4m2 0h3m2 0h3m1 0h1m2 0h4m2 0h3m1 0h6m2 0h1m1 0h1m4 0h2m1 0h1m1 0h2m1 0h1m2 0h1m1 0h2m1 0h4m1 0h4m1 0h2m1 0h3m2 0h1m1 0h1m2 0h1m2 0h4m2 0h1m1 0h1m2 0h1m1 0h2m2 0h1m1 0h1m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h5m5 0h1m2 0h4m-176 1h3m3 0h4m1 0h1m3 0h6m1 0h6m1 0h2m1 0h2m1 0h2m2 0h8m1 0h3m1 0h1m2 0h2m1 0h3m1 0h1m2 0h4m1 0h4m1 0h2m2 0h3m1 0h3m5 0h1m2 0h3m1 0h1m2 0h1m1 0h1m1 0h1m1 0h2m1 0h1m4 0h1m5 0h1m1 0h6m2 0h3m1 0h4m1 0h1m1 0h3m4 0h1m1 0h1m2 0h1m1 0h1m1 0h2m2 0h4m3 0h1m1 0h2m1 0h1m1 0h1m-177 1h1m1 0h1m4 0h2m4 0h2m8 0h1m1 0h1m4 0h1m2 0h1m1 0h2m1 0h3m2 0h2m3 0h2m2 0h3m1 0h1m2 0h1m2 0h1m1 0h1m2 0h1m2 0h1m2 0h3m2 0h1m4 0h1m1 0h1m1 0h2m1 0h2m1 0h1m3 0h1m3 0h2m1 0h1m4 0h1m1 0h1m1 0h1m1 0h2m2 0h2m4 0h2m2 0h4m4 0h1m2 0h5m3 0h1m3 0h3m1 0h2m1 0h1m2 0h2m1 0h2m2 0h1m3 0h4m-177 1h5m1 0h1m1 0h1m1 0h1m2 0h2m1 0h2m1 0h5m1 0h2m1 0h1m1 0h1m1 0h3m1 0h1m1 0h1m2 0h3m1 0h4m2 0h1m1 0h4m3 0h2m1 0h6m2 0h1m1 0h1m4 0h1m1 0h1m3 0h1m1 0h2m6 0h1m3 0h4m1 0h1m2 0h2m1 0h1m2 0h2m1 0h1m4 0h1m4 0h1m2 0h2m1 0h2m10 0h1m1 0h3m2 0h2m1 0h4m6 0h1m4 0h2m2 0h2m1 0h1m-176 1h2m1 0h2m2 0h1m1 0h1m1 0h3m1 0h9m3 0h1m1 0h1m2 0h1m2 0h1m1 0h1m4 0h1m6 0h1m1 0h4m4 0h2m6 0h1m3 0h2m1 0h1m2 0h1m1 0h1m2 0h2m5 0h1m2 0h2m1 0h1m1 0h1m2 0h1m3 0h3m4 0h4m3 0h3m1 0h4m3 0h1m2 0h2m1 0h2m1 0h8m1 0h1m1 0h2m1 0h1m2 0h1m1 0h1m2 0h5m2 0h1m1 0h2m2 0h3m-176 1h1m1 0h2m2 0h2m1 0h1m3 0h2m1 0h2m2 0h1m6 0h2m1 0h2m3 0h1m2 0h2m1 0h1m6 0h2m1 0h2m1 0h3m2 0h5m1 0h3m1 0h5m1 0h3m1 0h4m1 0h2m5 0h1m3 0h3m3 0h1m1 0h1m3 0h3m1 0h1m1 0h3m3 0h1m1 0h1m1 0h1m1 0h2m6 0h1m3 0h2m5 0h2m1 0h4m2 0h3m1 0h2m12 0h4m-175 1h2m2 0h1m4 0h1m3 0h1m2 0h2m3 0h2m2 0h1m4 0h3m1 0h2m4 0h1m1 0h3m2 0h2m3 0h3m1 0h1m2 0h1m1 0h1m1 0h1m4 0h1m2 0h5m1 0h1m1 0h1m5 0h1m1 0h4m1 0h1m3 0h2m1 0h6m3 0h1m2 0h1m3 0h3m2 0h1m1 0h1m4 0h1m1 0h1m1 0h4m2 0h3m3 0h3m1 0h2m1 0h1m2 0h1m1 0h1m1 0h1m2 0h5m1 0h1m1 0h2m4 0h2m-176 1h1m3 0h6m1 0h3m5 0h1m1 0h2m1 0h1m1 0h1m2 0h6m1 0h2m3 0h1m4 0h6m1 0h1m6 0h1m2 0h6m3 0h2m3 0h2m1 0h1m5 0h2m2 0h1m1 0h2m1 0h1m2 0h2m2 0h4m3 0h2m1 0h3m2 0h1m1 0h1m2 0h1m1 0h7m3 0h1m1 0h1m3 0h1m4 0h1m3 0h1m1 0h1m1 0h1m1 0h2m4 0h3m1 0h1m1 0h1m3 0h1m1 0h3m-175 1h1m6 0h5m1 0h3m2 0h2m2 0h2m4 0h1m4 0h2m2 0h2m2 0h2m5 0h1m1 0h4m2 0h1m2 0h3m2 0h1m1 0h1m3 0h3m5 0h1m1 0h1m2 0h1m1 0h1m2 0h1m1 0h3m2 0h4m1 0h1m2 0h1m2 0h3m1 0h10m4 0h2m1 0h6m1 0h1m1 0h2m1 0h4m5 0h4m2 0h1m1 0h1m3 0h2m1 0h1m2 0h1m1 0h6m1 0h1m-177 1h1m4 0h6m1 0h1m1 0h2m4 0h2m2 0h5m1 0h1m2 0h1m2 0h2m1 0h3m1 0h1m1 0h3m2 0h3m3 0h1m1 0h1m4 0h2m3 0h4m1 0h2m1 0h2m1 0h1m4 0h2m2 0h1m4 0h5m3 0h3m1 0h1m1 0h3m3 0h3m5 0h1m1 0h4m1 0h1m2 0h3m2 0h3m3 0h7m4 0h2m2 0h1m1 0h1m1 0h1m1 0h3m2 0h1m3 0h4m-176 1h4m3 0h1m1 0h4m1 0h1m2 0h4m4 0h1m1 0h1m1 0h2m1 0h1m1 0h1m1 0h5m2 0h3m1 0h2m2 0h2m3 0h2m2 0h1m2 0h5m1 0h2m1 0h1m3 0h2m2 0h1m1 0h2m1 0h1m1 0h1m1 0h2m1 0h1m2 0h1m1 0h1m2 0h5m2 0h3m2 0h1m2 0h1m1 0h1m1 0h3m5 0h1m1 0h5m4 0h3m2 0h2m2 0h1m1 0h1m1 0h6m1 0h2m3 0h1m1 0h4m5 0h1m1 0h1m-173 1h5m1 0h9m1 0h1m1 0h2m1 0h1m1 0h2m3 0h3m2 0h2m4 0h1m3 0h2m1 0h1m2 0h1m1 0h2m1 0h3m2 0h4m5 0h2m1 0h4m1 0h2m2 0h2m2 0h1m1 0h2m2 0h1m1 0h2m4 0h1m2 0h2m4 0h2m3 0h1m1 0h1m1 0h1m2 0h3m1 0h2m2 0h2m1 0h1m2 0h2m1 0h1m3 0h1m1 0h1m2 0h3m1 0h4m1 0h1m2 0h3m1 0h2m5 0h2m1 0h1m-176 1h4m1 0h1m2 0h1m5 0h1m1 0h1m2 0h1m2 0h7m6 0h1m3 0h6m2 0h3m1 0h1m1 0h3m3 0h4m2 0h3m1 0h4m1 0h1m3 0h2m2 0h2m3 0h1m1 0h2m1 0h1m1 0h2m5 0h2m3 0h2m3 0h5m1 0h7m1 0h1m2 0h5m3 0h2m1 0h2m2 0h1m4 0h4m4 0h1m2 0h4m4 0h1m1 0h2m1 0h4m-176 1h1m4 0h2m3 0h1m3 0h1m1 0h4m1 0h1m3 0h3m2 0h1m2 0h1m2 0h3m2 0h2m2 0h1m1 0h1m3 0h3m1 0h2m4 0h1m4 0h1m1 0h1m7 0h1m1 0h2m2 0h1m4 0h2m1 0h2m2 0h3m6 0h1m2 0h4m1 0h1m3 0h1m4 0h2m3 0h3m3 0h1m1 0h1m3 0h2m1 0h2m1 0h4m2 0h4m1 0h2m1 0h2m5 0h2m2 0h1m1 0h4m1 0h2m-177 1h2m3 0h1m1 0h8m2 0h2m1 0h5m2 0h2m1 0h3m1 0h6m1 0h2m6 0h3m2 0h1m1 0h1m2 0h1m3 0h2m6 0h1m2 0h1m1 0h2m1 0h2m1 0h1m2 0h3m2 0h3m2 0h3m2 0h3m5 0h2m1 0h1m1 0h4m2 0h2m4 0h3m4 0h1m1 0h1m3 0h4m1 0h3m1 0h6m4 0h2m1 0h1m6 0h1m6 0h1m1 0h1m-177 1h3m2 0h2m1 0h4m1 0h1m1 0h2m2 0h5m2 0h3m1 0h1m1 0h2m1 0h1m1 0h1m3 0h3m2 0h4m3 0h1m5 0h3m2 0h1m1 0h1m1 0h2m1 0h1m1 0h1m2 0h6m2 0h2m3 0h1m1 0h4m1 0h1m1 0h3m1 0h2m3 0h1m2 0h1m1 0h4m1 0h2m3 0h1m2 0h2m4 0h4m1 0h4m3 0h1m1 0h2m3 0h1m4 0h4m4 0h1m2 0h1m1 0h2m3 0h3m-173 1h1m3 0h1m3 0h1m1 0h2m1 0h1m1 0h1m3 0h2m1 0h3m3 0h4m1 0h2m3 0h2m1 0h1m2 0h1m1 0h1m1 0h1m1 0h2m1 0h1m8 0h1m1 0h1m2 0h3m2 0h1m1 0h3m2 0h1m1 0h2m3 0h2m2 0h1m1 0h3m3 0h4m3 0h1m2 0h2m1 0h1m2 0h1m1 0h2m2 0h1m1 0h2m1 0h3m1 0h4m1 0h6m1 0h2m3 0h2m1 0h1m2 0h3m4 0h3m2 0h1m4 0h5m-176 1h1m1 0h1m1 0h2m1 0h1m2 0h2m3 0h2m2 0h1m2 0h4m1 0h6m3 0h1m1 0h1m1 0h2m1 0h3m2 0h1m1 0h3m2 0h5m3 0h7m2 0h1m2 0h4m4 0h5m1 0h2m2 0h3m1 0h1m7 0h3m1 0h1m1 0h6m3 0h1m2 0h4m4 0h2m1 0h1m1 0h2m1 0h5m1 0h3m1 0h2m1 0h1m1 0h2m3 0h2m3 0h1m2 0h7m-167 1h1m3 0h3m1 0h3m2 0h4m1 0h1m1 0h1m3 0h1m1 0h1m2 0h1m1 0h7m7 0h1m1 0h2m3 0h3m5 0h1m1 0h1m2 0h3m4 0h2m2 0h1m3 0h4m7 0h1m1 0h2m6 0h1m2 0h1m3 0h1m1 0h4m1 0h1m3 0h1m2 0h3m1 0h1m2 0h1m1 0h2m3 0h5m3 0h1m1 0h1m2 0h1m3 0h3m4 0h1m3 0h3m-175 1h7m1 0h1m1 0h1m5 0h1m4 0h1m1 0h3m2 0h1m1 0h1m1 0h6m3 0h3m1 0h4m1 0h1m5 0h1m1 0h1m1 0h2m2 0h4m3 0h3m2 0h3m4 0h2m1 0h1m1 0h4m4 0h3m3 0h1m4 0h1m2 0h1m1 0h1m1 0h1m1 0h1m3 0h8m1 0h2m3 0h3m1 0h3m1 0h1m1 0h1m1 0h1m3 0h1m4 0h4m2 0h1m1 0h1m1 0h4m1 0h1m1 0h1m1 0h2m-176 1h1m5 0h1m2 0h1m1 0h1m1 0h1m2 0h2m2 0h1m1 0h1m2 0h4m3 0h1m1 0h2m1 0h8m2 0h1m1 0h1m1 0h6m3 0h1m1 0h2m2 0h2m1 0h6m4 0h1m1 0h1m1 0h2m3 0h3m1 0h2m5 0h1m1 0h4m3 0h2m1 0h2m3 0h2m1 0h2m1 0h2m1 0h1m1 0h1m3 0h1m1 0h3m4 0h1m3 0h1m3 0h4m1 0h1m1 0h3m4 0h1m4 0h2m3 0h5m-177 1h1m1 0h3m1 0h1m1 0h2m1 0h1m3 0h5m1 0h1m3 0h1m1 0h8m3 0h1m7 0h1m1 0h1m2 0h1m3 0h9m2 0h2m4 0h1m2 0h1m1 0h5m2 0h6m1 0h1m2 0h3m4 0h2m2 0h5m2 0h5m4 0h1m1 0h2m1 0h1m1 0h1m3 0h2m3 0h10m1 0h5m1 0h3m2 0h3m2 0h1m1 0h1m1 0h7m-175 1h1m1 0h3m1 0h1m1 0h1m2 0h1m2 0h3m3 0h1m1 0h1m1 0h2m1 0h2m5 0h3m4 0h2m1 0h2m1 0h1m1 0h2m2 0h5m2 0h3m2 0h1m3 0h2m2 0h2m1 0h1m2 0h1m1 0h2m2 0h1m1 0h4m5 0h2m3 0h3m3 0h3m3 0h1m1 0h1m1 0h6m2 0h1m1 0h1m2 0h4m4 0h2m1 0h9m3 0h1m10 0h3m4 0h1m2 0h1m-175 1h1m1 0h3m1 0h1m1 0h1m3 0h3m1 0h1m1 0h1m3 0h2m2 0h1m1 0h1m2 0h1m6 0h1m4 0h1m1 0h5m6 0h1m2 0h3m1 0h4m1 0h1m4 0h1m2 0h3m1 0h1m2 0h3m1 0h2m2 0h1m4 0h1m1 0h1m2 0h1m1 0h2m1 0h1m1 0h1m2 0h2m2 0h3m1 0h2m2 0h1m1 0h3m1 0h2m2 0h1m2 0h1m1 0h2m1 0h1m1 0h2m4 0h1m1 0h1m1 0h1m1 0h2m1 0h1m4 0h1m1 0h1m2 0h1m-169 1h1m5 0h1m1 0h6m3 0h1m2 0h2m6 0h1m3 0h2m1 0h1m3 0h1m1 0h3m4 0h2m3 0h3m1 0h4m1 0h1m3 0h2m1 0h6m3 0h2m1 0h2m2 0h1m2 0h2m2 0h3m2 0h1m1 0h2m4 0h2m6 0h1m1 0h1m3 0h1m1 0h6m4 0h1m2 0h2m1 0h2m1 0h1m2 0h1m1 0h1m3 0h3m1 0h1m1 0h3m2 0h3m1 0h1m2 0h1m1 0h1m2 0h3m-175 1h7m1 0h3m1 0h1m1 0h1m1 0h1m2 0h1m1 0h1m2 0h1m2 0h3m1 0h1m1 0h5m1 0h1m4 0h3m2 0h1m1 0h1m2 0h1m1 0h1m4 0h1m3 0h4m1 0h2m5 0h1m2 0h1m2 0h3m3 0h1m1 0h1m3 0h4m3 0h2m1 0h4m2 0h4m1 0h1m2 0h3m1 0h4m8 0h4m1 0h1m2 0h2m2 0h3m4 0h1m2 0h2m6 0h1m2 0h1m1 0h1m1 0h1m2 0h1&quot; /&gt;
    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v40-maxed-base10&quot; transform=&quot;scale(5.649717514124294)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;177&quot; width=&quot;177&quot; /&gt;&lt;path stroke=&quot;#000&quot; d=&quot;M0 0.5h7m1 0h1m2 0h1m1 0h3m1 0h2m1 0h1m1 0h1m1 0h2m3 0h1m5 0h3m2 0h1m1 0h2m1 0h1m1 0h3m2 0h1m2 0h3m1 0h1m1 0h4m6 0h1m1 0h3m2 0h1m3 0h2m2 0h1m1 0h1m1 0h1m1 0h2m3 0h1m5 0h1m2 0h1m5 0h2m4 0h1m4 0h1m3 0h2m6 0h1m1 0h2m1 0h5m3 0h1m2 0h1m3 0h1m1 0h1m1 0h2m3 0h1m1 0h1m3 0h7m-177 1h1m5 0h1m1 0h3m1 0h2m5 0h3m2 0h1m1 0h4m4 0h1m2 0h1m1 0h2m1 0h1m1 0h1m1 0h4m1 0h1m1 0h1m2 0h3m1 0h3m1 0h1m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h4m4 0h7m5 0h2m7 0h3m1 0h3m7 0h2m1 0h1m2 0h4m1 0h3m1 0h4m2 0h6m2 0h4m4 0h3m1 0h2m1 0h1m1 0h1m5 0h1m-177 1h1m1 0h3m1 0h1m1 0h1m2 0h1m3 0h1m3 0h2m1 0h3m1 0h3m4 0h1m1 0h3m1 0h2m2 0h2m1 0h1m1 0h2m2 0h2m1 0h2m5 0h1m2 0h1m2 0h1m3 0h4m3 0h2m1 0h3m4 0h5m2 0h4m1 0h6m1 0h1m7 0h2m1 0h1m1 0h1m1 0h2m1 0h5m2 0h1m3 0h3m1 0h1m1 0h2m1 0h2m1 0h2m2 0h1m3 0h1m1 0h1m3 0h4m3 0h1m1 0h3m1 0h1m-177 1h1m1 0h3m1 0h1m1 0h1m1 0h1m3 0h1m2 0h1m2 0h3m3 0h2m1 0h2m1 0h3m1 0h1m1 0h1m1 0h8m1 0h1m1 0h1m3 0h5m1 0h1m1 0h1m2 0h5m1 0h2m1 0h1m2 0h3m1 0h1m4 0h2m8 0h1m4 0h2m2 0h1m2 0h1m2 0h2m1 0h2m3 0h2m2 0h2m2 0h1m1 0h1m1 0h3m4 0h4m4 0h3m1 0h1m1 0h1m2 0h1m1 0h3m2 0h3m1 0h2m1 0h1m1 0h3m1 0h1m-177 1h1m1 0h3m1 0h1m2 0h1m2 0h4m2 0h2m2 0h1m1 0h1m2 0h6m1 0h1m5 0h1m3 0h3m1 0h1m1 0h2m2 0h7m2 0h1m3 0h1m3 0h1m1 0h3m1 0h2m2 0h9m4 0h1m5 0h1m1 0h1m1 0h1m2 0h1m1 0h1m2 0h5m1 0h2m1 0h2m1 0h1m1 0h1m4 0h2m4 0h1m2 0h5m1 0h1m2 0h1m2 0h4m1 0h2m2 0h1m2 0h1m5 0h1m1 0h3m1 0h1m-177 1h1m5 0h1m1 0h1m2 0h2m2 0h1m2 0h3m1 0h1m3 0h3m3 0h3m1 0h5m1 0h2m3 0h1m2 0h4m2 0h1m3 0h2m1 0h2m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m2 0h3m3 0h1m3 0h1m3 0h1m1 0h1m7 0h3m2 0h1m1 0h2m1 0h1m3 0h2m2 0h2m1 0h1m2 0h2m2 0h1m1 0h3m2 0h1m1 0h2m3 0h1m1 0h2m7 0h1m2 0h9m1 0h1m1 0h1m5 0h1m-177 1h7m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h7m-167 1h1m5 0h2m1 0h3m1 0h2m1 0h1m1 0h1m3 0h2m6 0h3m2 0h2m4 0h1m4 0h1m3 0h2m4 0h1m3 0h2m1 0h1m1 0h1m1 0h1m4 0h3m3 0h1m3 0h1m1 0h1m1 0h4m1 0h3m2 0h2m2 0h3m3 0h7m1 0h1m1 0h2m1 0h1m2 0h1m1 0h1m1 0h1m1 0h3m3 0h1m1 0h3m1 0h7m1 0h1m2 0h1m1 0h3m1 0h1m-168 1h2m2 0h3m2 0h3m1 0h2m1 0h7m3 0h1m1 0h5m1 0h2m3 0h2m8 0h3m4 0h6m3 0h4m1 0h1m12 0h6m2 0h2m1 0h1m3 0h1m1 0h2m4 0h4m2 0h5m1 0h1m2 0h1m3 0h6m5 0h1m1 0h11m3 0h1m5 0h1m1 0h4m1 0h2m1 0h1m2 0h1m1 0h4m-176 1h1m1 0h1m3 0h2m1 0h1m7 0h3m3 0h3m2 0h1m1 0h2m2 0h1m1 0h1m1 0h1m1 0h2m1 0h1m5 0h1m2 0h1m1 0h2m1 0h4m2 0h2m3 0h1m2 0h1m2 0h9m2 0h2m6 0h4m1 0h1m2 0h2m2 0h7m1 0h3m2 0h4m3 0h1m7 0h1m2 0h1m1 0h3m3 0h3m5 0h1m1 0h1m1 0h1m1 0h1m3 0h1m5 0h1m2 0h1m2 0h1m-176 1h1m4 0h3m2 0h1m3 0h1m2 0h1m2 0h2m1 0h1m3 0h1m1 0h2m2 0h3m3 0h3m1 0h3m1 0h1m1 0h1m1 0h1m2 0h1m3 0h5m1 0h2m1 0h1m2 0h1m1 0h2m3 0h2m1 0h4m1 0h1m3 0h3m2 0h1m1 0h1m1 0h1m1 0h1m3 0h1m1 0h1m1 0h2m1 0h2m1 0h3m1 0h1m1 0h2m2 0h1m1 0h1m2 0h1m5 0h1m1 0h3m4 0h2m1 0h3m1 0h1m1 0h1m1 0h2m1 0h1m2 0h1m1 0h5m1 0h1m2 0h5m-177 1h3m2 0h1m2 0h6m1 0h1m2 0h9m1 0h4m1 0h4m1 0h1m1 0h2m1 0h1m1 0h2m1 0h1m3 0h1m3 0h1m2 0h1m2 0h1m2 0h1m5 0h1m1 0h1m2 0h2m2 0h1m1 0h2m2 0h1m1 0h1m2 0h1m3 0h2m5 0h3m1 0h1m2 0h2m2 0h3m2 0h2m1 0h2m1 0h1m1 0h1m2 0h2m1 0h1m2 0h5m2 0h1m1 0h1m1 0h2m1 0h1m1 0h2m2 0h1m5 0h2m4 0h1m1 0h3m4 0h1m-175 1h1m1 0h5m2 0h2m2 0h2m2 0h1m4 0h3m1 0h1m2 0h3m3 0h2m1 0h1m1 0h2m1 0h2m6 0h2m2 0h1m1 0h2m1 0h1m1 0h1m1 0h5m1 0h1m2 0h6m1 0h1m1 0h1m2 0h3m1 0h2m5 0h2m4 0h3m1 0h3m1 0h3m5 0h1m1 0h6m3 0h1m3 0h2m4 0h2m1 0h1m2 0h1m1 0h3m1 0h1m1 0h2m2 0h1m1 0h1m4 0h3m1 0h3m1 0h1m-175 1h2m3 0h1m1 0h1m2 0h3m2 0h1m3 0h2m4 0h1m1 0h1m2 0h1m1 0h4m1 0h1m3 0h1m1 0h2m1 0h1m1 0h1m3 0h1m1 0h1m2 0h1m1 0h1m2 0h3m1 0h1m2 0h2m3 0h1m5 0h3m3 0h1m2 0h3m2 0h1m7 0h2m1 0h2m7 0h2m7 0h1m2 0h4m2 0h2m2 0h1m1 0h1m3 0h2m1 0h5m2 0h4m2 0h2m1 0h3m1 0h2m1 0h1m1 0h1m3 0h1m1 0h1m-177 1h1m1 0h2m2 0h4m2 0h1m2 0h2m1 0h1m1 0h3m2 0h1m1 0h1m1 0h2m1 0h1m3 0h2m1 0h1m2 0h1m8 0h1m3 0h4m5 0h1m2 0h5m2 0h2m1 0h1m5 0h2m1 0h4m4 0h2m1 0h1m1 0h2m2 0h1m3 0h1m5 0h1m1 0h1m1 0h2m1 0h4m1 0h2m2 0h3m1 0h1m1 0h1m4 0h2m2 0h2m2 0h1m2 0h2m2 0h4m4 0h1m6 0h1m2 0h1m-174 1h1m2 0h1m1 0h1m1 0h3m2 0h2m8 0h1m2 0h2m5 0h1m4 0h1m3 0h1m3 0h1m1 0h1m1 0h2m1 0h1m4 0h1m1 0h1m1 0h1m2 0h1m1 0h2m1 0h1m1 0h1m4 0h6m1 0h1m1 0h3m1 0h2m2 0h2m1 0h2m2 0h1m1 0h1m2 0h1m1 0h2m1 0h3m3 0h1m1 0h1m1 0h2m3 0h2m4 0h1m3 0h1m2 0h1m5 0h1m6 0h1m1 0h2m1 0h4m2 0h1m2 0h1m1 0h1m1 0h1m4 0h3m-177 1h1m2 0h4m2 0h1m2 0h1m2 0h2m1 0h1m1 0h1m1 0h2m5 0h1m1 0h1m1 0h4m1 0h1m2 0h3m5 0h3m1 0h2m4 0h2m2 0h1m1 0h2m3 0h5m1 0h3m3 0h1m2 0h1m2 0h7m1 0h1m3 0h1m2 0h2m1 0h5m1 0h3m1 0h1m4 0h4m3 0h2m1 0h1m1 0h2m2 0h1m1 0h1m1 0h2m1 0h1m1 0h1m2 0h4m1 0h3m3 0h2m1 0h1m2 0h2m4 0h1m1 0h2m-176 1h1m2 0h2m2 0h3m1 0h2m1 0h1m3 0h1m2 0h1m2 0h1m2 0h1m3 0h1m2 0h1m1 0h1m5 0h2m1 0h5m1 0h2m4 0h1m2 0h7m1 0h3m1 0h4m2 0h4m1 0h3m2 0h3m1 0h5m2 0h1m1 0h1m1 0h1m1 0h2m2 0h2m1 0h3m4 0h2m1 0h1m2 0h1m1 0h3m1 0h2m4 0h2m1 0h1m2 0h2m1 0h1m2 0h2m2 0h1m4 0h2m1 0h3m3 0h1m2 0h1m1 0h5m-176 1h3m1 0h3m3 0h1m1 0h1m3 0h1m1 0h1m3 0h1m1 0h4m2 0h1m2 0h2m2 0h2m1 0h6m1 0h5m4 0h8m3 0h1m2 0h2m1 0h1m2 0h1m1 0h2m1 0h6m1 0h3m1 0h1m4 0h5m2 0h5m2 0h1m2 0h1m1 0h4m1 0h1m1 0h4m1 0h2m1 0h2m1 0h2m1 0h1m3 0h1m1 0h3m1 0h1m1 0h1m1 0h2m4 0h2m2 0h3m1 0h2m1 0h1m1 0h1m4 0h1m-174 1h3m3 0h1m4 0h5m4 0h1m1 0h5m1 0h1m1 0h1m1 0h3m4 0h1m1 0h1m1 0h3m1 0h2m7 0h1m1 0h2m1 0h2m1 0h1m1 0h4m4 0h1m1 0h2m3 0h1m5 0h3m2 0h2m1 0h1m1 0h1m5 0h1m1 0h1m2 0h2m1 0h1m3 0h2m4 0h2m1 0h2m1 0h1m2 0h2m1 0h1m2 0h1m3 0h2m3 0h1m1 0h5m1 0h2m1 0h3m3 0h1m1 0h4m2 0h1m-174 1h3m1 0h1m1 0h3m1 0h1m2 0h2m2 0h1m1 0h1m2 0h3m1 0h6m1 0h1m1 0h2m3 0h1m1 0h2m2 0h1m2 0h2m1 0h4m1 0h1m2 0h3m1 0h3m1 0h2m2 0h2m4 0h3m1 0h1m2 0h2m1 0h5m1 0h2m1 0h1m1 0h2m3 0h1m4 0h2m1 0h2m1 0h1m1 0h1m5 0h2m2 0h1m4 0h1m4 0h3m1 0h1m2 0h1m4 0h3m2 0h1m1 0h4m1 0h1m3 0h3m1 0h1m1 0h1m4 0h1m-177 1h1m1 0h1m1 0h2m2 0h5m2 0h3m1 0h2m4 0h2m3 0h1m1 0h1m1 0h2m2 0h1m1 0h1m2 0h1m1 0h2m1 0h3m1 0h2m3 0h3m2 0h4m1 0h2m4 0h1m2 0h1m4 0h2m2 0h1m5 0h2m4 0h2m1 0h1m2 0h1m2 0h1m4 0h1m2 0h5m4 0h2m1 0h2m1 0h2m2 0h1m1 0h1m2 0h3m3 0h2m3 0h1m3 0h1m2 0h1m2 0h1m2 0h1m2 0h1m1 0h1m2 0h1m1 0h3m-175 1h3m2 0h2m6 0h2m1 0h1m1 0h3m2 0h1m2 0h2m1 0h2m2 0h1m1 0h3m2 0h1m1 0h2m3 0h3m2 0h1m1 0h1m1 0h2m1 0h1m4 0h1m3 0h1m5 0h1m3 0h1m2 0h3m2 0h2m8 0h3m2 0h3m2 0h3m2 0h1m3 0h2m5 0h1m1 0h1m2 0h1m2 0h1m1 0h1m4 0h1m1 0h1m3 0h9m3 0h1m7 0h2m1 0h1m1 0h2m1 0h1m1 0h3m-174 1h1m1 0h2m1 0h2m4 0h2m2 0h2m1 0h3m2 0h1m2 0h1m3 0h1m4 0h1m1 0h8m1 0h1m2 0h1m3 0h2m2 0h2m3 0h1m2 0h2m4 0h1m1 0h1m3 0h2m1 0h1m2 0h1m1 0h1m2 0h1m2 0h2m2 0h6m1 0h3m1 0h2m1 0h1m3 0h1m1 0h2m1 0h2m2 0h2m4 0h2m2 0h1m1 0h1m1 0h1m1 0h5m3 0h1m2 0h1m3 0h2m2 0h6m5 0h3m3 0h1m-177 1h2m2 0h8m1 0h2m4 0h1m1 0h2m1 0h1m1 0h1m1 0h1m2 0h1m2 0h1m2 0h3m1 0h1m1 0h4m1 0h1m1 0h3m5 0h2m1 0h2m3 0h1m1 0h2m2 0h1m4 0h1m1 0h9m1 0h10m1 0h1m4 0h1m1 0h4m1 0h1m2 0h1m1 0h2m6 0h3m1 0h2m3 0h1m2 0h1m1 0h5m3 0h1m1 0h1m6 0h5m2 0h1m2 0h3m1 0h1m4 0h1m-176 1h1m1 0h4m2 0h1m5 0h1m1 0h1m1 0h2m2 0h4m1 0h2m1 0h1m3 0h2m2 0h2m2 0h2m1 0h1m1 0h11m2 0h1m2 0h1m1 0h2m1 0h1m2 0h2m2 0h3m4 0h4m1 0h4m1 0h5m1 0h2m1 0h1m1 0h1m1 0h1m2 0h2m1 0h3m1 0h1m1 0h1m1 0h1m1 0h3m1 0h1m1 0h3m2 0h2m1 0h1m1 0h2m2 0h2m1 0h1m2 0h1m1 0h2m5 0h1m1 0h1m1 0h3m4 0h2m2 0h1m2 0h1m1 0h1m-177 1h1m1 0h1m2 0h2m5 0h2m1 0h1m3 0h2m2 0h2m1 0h1m3 0h1m2 0h1m1 0h1m2 0h3m3 0h1m1 0h1m2 0h1m1 0h1m1 0h2m2 0h1m4 0h1m4 0h1m1 0h2m1 0h1m3 0h2m2 0h1m1 0h1m1 0h1m2 0h2m1 0h2m1 0h3m1 0h1m1 0h1m3 0h2m1 0h1m3 0h1m1 0h1m2 0h5m2 0h2m1 0h2m3 0h2m9 0h1m1 0h1m4 0h1m1 0h2m2 0h2m1 0h1m1 0h2m2 0h2m2 0h1m1 0h6m-174 1h2m2 0h1m1 0h6m1 0h1m1 0h1m3 0h2m2 0h4m2 0h3m1 0h2m4 0h1m2 0h1m5 0h1m1 0h1m1 0h1m1 0h1m3 0h1m1 0h2m1 0h5m1 0h2m1 0h3m1 0h1m2 0h3m1 0h2m6 0h1m1 0h3m1 0h2m3 0h1m3 0h1m1 0h2m3 0h1m1 0h5m1 0h3m2 0h1m1 0h3m1 0h2m4 0h1m1 0h2m1 0h1m1 0h1m1 0h1m2 0h1m1 0h2m1 0h1m5 0h3m2 0h3m1 0h2m1 0h1m-173 1h1m1 0h5m4 0h1m1 0h2m1 0h1m1 0h3m2 0h10m1 0h2m1 0h3m1 0h2m1 0h1m2 0h2m1 0h1m1 0h1m1 0h5m2 0h2m2 0h1m1 0h3m1 0h2m5 0h2m1 0h6m1 0h6m7 0h8m1 0h6m2 0h1m1 0h3m1 0h2m1 0h1m1 0h1m1 0h1m2 0h1m2 0h6m4 0h1m1 0h3m2 0h1m1 0h2m1 0h4m3 0h9m-176 1h4m3 0h1m1 0h2m1 0h1m3 0h1m1 0h2m1 0h1m1 0h1m1 0h1m1 0h1m3 0h1m3 0h1m1 0h1m7 0h4m1 0h1m2 0h3m3 0h4m2 0h2m3 0h1m5 0h1m3 0h4m3 0h1m1 0h2m1 0h1m4 0h1m2 0h1m2 0h2m1 0h6m3 0h1m1 0h2m5 0h2m1 0h1m2 0h3m1 0h2m3 0h1m3 0h3m2 0h5m1 0h5m1 0h4m3 0h1m3 0h2m1 0h2m-177 1h5m1 0h1m1 0h2m1 0h1m1 0h1m4 0h1m1 0h2m1 0h6m1 0h1m1 0h1m1 0h1m1 0h1m1 0h1m2 0h2m1 0h2m2 0h3m2 0h1m2 0h1m1 0h1m1 0h1m2 0h3m1 0h2m1 0h2m3 0h1m1 0h2m2 0h1m2 0h1m1 0h1m1 0h2m1 0h1m8 0h2m2 0h1m1 0h4m1 0h2m1 0h1m1 0h1m1 0h2m1 0h2m1 0h1m1 0h5m4 0h4m1 0h1m1 0h1m1 0h2m1 0h4m3 0h3m1 0h4m2 0h1m3 0h1m1 0h1m1 0h5m-176 1h2m1 0h1m3 0h1m4 0h4m1 0h6m1 0h1m2 0h1m3 0h1m1 0h1m4 0h1m1 0h2m1 0h1m1 0h1m1 0h2m1 0h1m1 0h4m3 0h1m1 0h3m1 0h2m4 0h2m1 0h1m1 0h1m1 0h6m3 0h1m2 0h1m3 0h4m1 0h1m10 0h2m3 0h1m1 0h1m1 0h1m1 0h1m3 0h1m1 0h3m1 0h4m1 0h1m2 0h1m3 0h3m3 0h1m1 0h1m3 0h3m2 0h2m3 0h3m3 0h3m-174 1h1m2 0h5m1 0h1m1 0h1m1 0h5m4 0h4m1 0h7m1 0h1m5 0h2m1 0h1m3 0h1m2 0h3m1 0h5m2 0h1m5 0h1m2 0h3m2 0h1m3 0h9m1 0h2m2 0h2m3 0h1m1 0h1m3 0h2m2 0h7m1 0h3m1 0h1m2 0h1m1 0h3m2 0h1m1 0h2m4 0h12m2 0h4m1 0h1m8 0h5m1 0h1m1 0h1m-177 1h5m2 0h2m9 0h2m1 0h1m1 0h1m3 0h1m2 0h1m3 0h2m1 0h2m5 0h1m1 0h2m1 0h1m1 0h1m1 0h1m3 0h1m1 0h3m2 0h4m1 0h2m2 0h2m1 0h1m2 0h4m1 0h1m1 0h1m1 0h1m1 0h2m2 0h1m1 0h1m4 0h1m3 0h2m1 0h3m1 0h1m1 0h1m1 0h4m7 0h3m2 0h2m1 0h1m2 0h1m3 0h1m2 0h2m2 0h2m2 0h1m8 0h2m1 0h3m4 0h2m1 0h2m-177 1h2m1 0h1m1 0h4m1 0h2m1 0h1m2 0h1m1 0h2m6 0h2m1 0h1m3 0h2m3 0h1m1 0h1m1 0h2m1 0h2m1 0h2m1 0h4m1 0h5m1 0h6m2 0h1m2 0h2m2 0h1m1 0h1m4 0h1m1 0h1m2 0h4m1 0h1m1 0h1m1 0h4m3 0h7m1 0h1m1 0h2m1 0h1m6 0h2m4 0h2m2 0h2m1 0h1m1 0h1m1 0h2m5 0h1m2 0h1m1 0h3m3 0h1m1 0h1m2 0h1m1 0h1m2 0h1m2 0h1m1 0h2m-177 1h2m1 0h1m1 0h1m1 0h1m4 0h5m1 0h2m1 0h1m1 0h1m4 0h2m1 0h2m1 0h1m2 0h1m3 0h4m1 0h6m2 0h5m1 0h2m2 0h1m1 0h1m4 0h1m2 0h1m1 0h1m1 0h1m1 0h2m1 0h1m3 0h1m1 0h1m1 0h1m1 0h1m1 0h4m3 0h2m1 0h1m1 0h1m2 0h1m1 0h4m2 0h1m1 0h4m2 0h2m3 0h2m4 0h1m2 0h1m2 0h3m3 0h2m3 0h1m1 0h2m2 0h1m2 0h1m1 0h1m2 0h2m2 0h2m1 0h2m-177 1h2m1 0h1m1 0h2m2 0h1m1 0h1m3 0h1m2 0h2m2 0h1m2 0h1m1 0h3m1 0h1m1 0h1m1 0h1m4 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h3m1 0h1m1 0h2m1 0h2m1 0h1m1 0h1m2 0h1m1 0h2m5 0h4m1 0h1m1 0h2m1 0h1m1 0h1m1 0h1m1 0h2m1 0h1m1 0h1m4 0h3m1 0h2m1 0h1m1 0h2m3 0h1m1 0h1m2 0h3m1 0h2m1 0h2m1 0h1m2 0h1m6 0h3m1 0h2m2 0h1m3 0h1m2 0h2m2 0h2m2 0h1m1 0h1m1 0h1m3 0h1m1 0h3m-174 1h3m1 0h1m1 0h5m1 0h4m3 0h1m3 0h1m1 0h1m3 0h1m4 0h1m4 0h1m2 0h1m2 0h1m2 0h2m2 0h3m1 0h2m1 0h1m2 0h1m4 0h1m2 0h1m2 0h1m5 0h1m1 0h3m5 0h1m1 0h1m2 0h5m2 0h3m1 0h2m2 0h2m3 0h1m1 0h1m4 0h2m1 0h1m1 0h3m1 0h1m1 0h3m1 0h3m1 0h4m1 0h1m1 0h1m4 0h1m5 0h1m2 0h5m4 0h3m-176 1h1m5 0h3m1 0h2m3 0h2m1 0h1m6 0h1m7 0h3m2 0h1m2 0h2m2 0h5m1 0h8m1 0h1m4 0h5m1 0h1m3 0h1m1 0h1m3 0h1m5 0h1m3 0h1m2 0h1m3 0h1m5 0h11m1 0h4m2 0h1m1 0h1m3 0h2m2 0h1m1 0h3m3 0h2m4 0h1m1 0h1m2 0h2m1 0h5m5 0h1m8 0h3m-175 1h2m4 0h1m2 0h1m1 0h2m1 0h3m2 0h3m1 0h1m2 0h1m3 0h1m1 0h3m1 0h1m1 0h1m3 0h3m1 0h1m2 0h2m4 0h2m1 0h2m2 0h3m2 0h1m3 0h1m1 0h5m1 0h2m2 0h1m2 0h2m3 0h2m1 0h2m4 0h1m2 0h2m1 0h3m2 0h2m1 0h1m1 0h1m2 0h1m2 0h1m1 0h2m1 0h4m2 0h3m1 0h1m2 0h2m2 0h1m1 0h1m1 0h2m1 0h1m2 0h1m2 0h1m1 0h2m1 0h4m3 0h1m4 0h2m-176 1h3m1 0h3m7 0h1m7 0h1m1 0h1m1 0h2m1 0h9m4 0h1m2 0h2m1 0h2m2 0h2m1 0h1m1 0h1m1 0h4m1 0h2m4 0h2m1 0h1m2 0h1m1 0h1m2 0h7m1 0h1m1 0h1m2 0h2m1 0h3m1 0h1m1 0h1m2 0h1m4 0h3m1 0h5m1 0h1m2 0h2m3 0h1m1 0h1m1 0h1m2 0h1m1 0h1m4 0h2m2 0h1m1 0h2m1 0h2m1 0h2m1 0h1m4 0h1m1 0h1m1 0h1m1 0h5m1 0h1m-176 1h1m1 0h1m1 0h1m4 0h1m1 0h1m1 0h1m1 0h1m1 0h4m1 0h1m3 0h2m2 0h1m2 0h1m1 0h1m1 0h3m1 0h2m1 0h2m3 0h1m1 0h1m3 0h1m1 0h1m5 0h1m3 0h1m1 0h2m3 0h1m1 0h1m1 0h1m7 0h2m1 0h4m1 0h2m1 0h3m5 0h1m1 0h1m1 0h1m3 0h1m1 0h1m1 0h1m1 0h1m1 0h3m3 0h4m2 0h5m1 0h3m1 0h1m1 0h1m1 0h1m3 0h1m1 0h1m2 0h1m1 0h3m2 0h8m2 0h3m-177 1h3m3 0h1m1 0h2m4 0h3m1 0h4m1 0h3m1 0h1m7 0h4m1 0h4m1 0h1m5 0h1m1 0h5m4 0h2m2 0h1m4 0h3m1 0h1m1 0h1m3 0h1m1 0h3m1 0h1m2 0h6m3 0h3m1 0h1m1 0h1m1 0h1m1 0h3m1 0h2m2 0h3m2 0h1m4 0h2m7 0h1m1 0h1m1 0h1m2 0h1m1 0h1m2 0h1m1 0h1m2 0h1m4 0h2m1 0h2m1 0h2m3 0h1m4 0h1m1 0h1m-175 1h2m6 0h1m3 0h1m1 0h1m1 0h2m2 0h3m1 0h1m1 0h1m5 0h5m3 0h4m6 0h1m1 0h1m4 0h1m1 0h4m2 0h1m3 0h4m3 0h2m2 0h1m2 0h3m2 0h2m1 0h1m1 0h1m2 0h1m1 0h3m3 0h2m2 0h2m4 0h2m1 0h3m1 0h1m1 0h3m6 0h1m3 0h1m3 0h1m5 0h4m2 0h1m1 0h1m3 0h3m2 0h1m1 0h1m1 0h4m-172 1h2m1 0h3m3 0h4m2 0h2m2 0h2m2 0h2m1 0h2m7 0h2m3 0h4m2 0h3m1 0h1m1 0h1m3 0h4m1 0h1m3 0h1m1 0h3m1 0h1m1 0h1m4 0h1m1 0h1m5 0h1m1 0h2m2 0h2m1 0h2m2 0h1m4 0h1m1 0h4m2 0h3m4 0h3m5 0h1m2 0h6m2 0h3m1 0h1m2 0h1m1 0h1m1 0h3m3 0h1m3 0h3m2 0h4m2 0h2m3 0h1m-177 1h1m1 0h3m2 0h5m3 0h1m4 0h1m1 0h4m4 0h2m1 0h5m3 0h1m2 0h1m1 0h2m2 0h3m6 0h5m3 0h2m1 0h2m5 0h1m1 0h3m2 0h1m1 0h2m1 0h1m4 0h2m1 0h4m1 0h3m1 0h3m1 0h1m2 0h3m1 0h1m4 0h1m1 0h1m1 0h1m1 0h2m5 0h1m2 0h3m1 0h1m2 0h2m1 0h4m1 0h4m4 0h3m1 0h1m2 0h2m1 0h1m1 0h1m1 0h1m-175 1h2m3 0h1m1 0h1m1 0h4m1 0h1m1 0h1m1 0h1m3 0h6m3 0h3m2 0h4m3 0h3m1 0h4m5 0h1m2 0h6m2 0h3m1 0h1m2 0h2m1 0h2m1 0h1m8 0h3m1 0h2m9 0h4m2 0h5m1 0h1m1 0h6m2 0h6m4 0h2m2 0h1m1 0h2m1 0h1m1 0h1m2 0h2m1 0h1m10 0h1m2 0h3m1 0h1m3 0h1m-177 1h1m1 0h1m2 0h1m3 0h1m2 0h1m1 0h1m4 0h1m4 0h2m6 0h1m1 0h3m1 0h1m2 0h1m1 0h1m1 0h2m2 0h2m1 0h3m3 0h5m2 0h1m1 0h3m1 0h1m1 0h1m5 0h1m1 0h2m2 0h1m1 0h6m1 0h1m6 0h1m1 0h2m1 0h3m1 0h3m1 0h4m2 0h1m1 0h2m1 0h2m1 0h2m2 0h3m1 0h2m1 0h4m1 0h1m1 0h2m2 0h1m4 0h1m1 0h1m4 0h1m2 0h4m2 0h2m2 0h2m-177 1h2m1 0h2m1 0h3m1 0h5m1 0h5m1 0h4m1 0h1m1 0h3m2 0h1m3 0h1m1 0h2m3 0h1m1 0h1m1 0h1m1 0h1m2 0h3m2 0h5m5 0h1m1 0h1m2 0h3m3 0h1m1 0h1m1 0h5m1 0h5m4 0h2m1 0h5m1 0h1m1 0h1m1 0h1m4 0h1m2 0h2m1 0h4m2 0h1m3 0h4m1 0h1m2 0h3m1 0h1m1 0h2m2 0h2m1 0h1m2 0h1m2 0h1m1 0h2m1 0h1m6 0h2m1 0h1m-176 1h1m2 0h2m2 0h2m1 0h3m1 0h2m5 0h1m1 0h1m1 0h2m6 0h1m2 0h1m4 0h3m5 0h1m1 0h2m2 0h1m3 0h4m1 0h1m1 0h1m1 0h2m4 0h2m2 0h1m2 0h1m1 0h1m2 0h1m1 0h4m3 0h1m4 0h1m1 0h1m2 0h2m1 0h3m1 0h2m1 0h1m1 0h1m1 0h1m1 0h3m4 0h2m3 0h2m1 0h3m4 0h1m5 0h1m2 0h1m4 0h2m2 0h2m2 0h1m3 0h3m1 0h4m-176 1h1m1 0h4m1 0h2m2 0h1m4 0h2m1 0h2m1 0h2m4 0h1m1 0h1m1 0h1m1 0h1m1 0h1m5 0h4m1 0h1m1 0h1m1 0h2m1 0h2m3 0h3m4 0h4m2 0h1m1 0h1m2 0h1m2 0h4m1 0h3m1 0h1m1 0h3m1 0h1m1 0h2m2 0h2m1 0h2m2 0h1m1 0h2m5 0h1m2 0h4m1 0h2m2 0h2m1 0h1m2 0h2m3 0h1m1 0h2m2 0h1m1 0h6m1 0h4m2 0h3m2 0h2m1 0h2m2 0h1m1 0h1m-175 1h1m1 0h2m2 0h2m2 0h4m1 0h2m2 0h2m1 0h1m1 0h1m2 0h3m3 0h1m1 0h4m1 0h4m2 0h4m1 0h1m4 0h1m1 0h2m1 0h1m1 0h1m4 0h1m1 0h5m3 0h1m1 0h1m1 0h1m2 0h3m5 0h2m1 0h1m5 0h1m2 0h1m5 0h1m2 0h2m4 0h1m1 0h1m4 0h1m1 0h2m1 0h2m4 0h2m1 0h3m1 0h2m1 0h1m1 0h1m3 0h1m1 0h1m1 0h1m2 0h4m1 0h2m2 0h1m2 0h2m-175 1h1m2 0h2m1 0h2m2 0h3m1 0h1m3 0h1m1 0h1m5 0h3m1 0h5m3 0h5m5 0h2m2 0h2m1 0h1m2 0h1m2 0h5m6 0h1m3 0h3m6 0h1m1 0h2m2 0h1m1 0h1m1 0h4m1 0h2m1 0h2m2 0h2m1 0h1m4 0h3m1 0h1m1 0h2m1 0h5m1 0h1m5 0h3m1 0h3m1 0h1m1 0h1m2 0h2m1 0h1m1 0h1m2 0h2m1 0h1m1 0h1m4 0h1m2 0h1m1 0h2m-176 1h3m6 0h1m2 0h1m2 0h3m1 0h1m1 0h1m2 0h2m2 0h1m2 0h1m1 0h2m2 0h1m1 0h1m2 0h1m1 0h1m2 0h1m1 0h1m6 0h1m1 0h2m2 0h1m1 0h2m2 0h3m1 0h1m1 0h1m1 0h6m1 0h4m3 0h1m1 0h4m5 0h1m1 0h1m2 0h1m5 0h2m1 0h1m3 0h3m4 0h1m1 0h1m1 0h3m4 0h2m1 0h1m1 0h1m1 0h1m2 0h1m1 0h2m1 0h3m1 0h1m3 0h1m1 0h3m6 0h1m2 0h2m-172 1h1m1 0h5m4 0h1m1 0h8m3 0h1m2 0h2m1 0h2m2 0h5m2 0h2m2 0h1m4 0h2m4 0h3m1 0h2m1 0h1m1 0h2m2 0h1m1 0h2m1 0h2m2 0h6m1 0h1m1 0h1m3 0h3m2 0h2m4 0h1m6 0h1m1 0h2m1 0h1m2 0h1m1 0h4m4 0h2m2 0h1m2 0h1m1 0h1m1 0h2m1 0h1m1 0h2m1 0h2m1 0h1m1 0h7m2 0h2m1 0h6m3 0h1m-177 1h2m2 0h1m5 0h2m1 0h1m2 0h2m2 0h2m1 0h3m1 0h4m4 0h2m1 0h2m3 0h5m1 0h1m1 0h3m4 0h1m1 0h1m2 0h1m1 0h1m5 0h2m1 0h2m1 0h2m5 0h4m1 0h1m1 0h3m5 0h1m1 0h1m4 0h3m1 0h3m2 0h1m3 0h5m1 0h1m1 0h1m2 0h1m1 0h2m1 0h1m1 0h2m1 0h2m5 0h1m1 0h1m2 0h1m2 0h2m1 0h2m2 0h2m1 0h1m1 0h9m-176 1h2m1 0h8m1 0h5m2 0h1m1 0h1m3 0h2m1 0h5m2 0h1m1 0h2m1 0h1m1 0h1m1 0h4m5 0h2m1 0h5m4 0h2m1 0h1m2 0h1m1 0h1m3 0h1m2 0h1m3 0h7m1 0h1m3 0h1m1 0h1m1 0h3m1 0h2m2 0h2m1 0h14m2 0h1m1 0h4m2 0h1m1 0h1m1 0h6m3 0h1m1 0h2m2 0h3m1 0h1m2 0h2m1 0h1m3 0h5m1 0h1m-175 1h2m2 0h1m3 0h1m1 0h5m1 0h3m4 0h3m2 0h1m3 0h3m1 0h3m1 0h1m2 0h3m1 0h2m3 0h2m2 0h1m3 0h1m1 0h2m1 0h1m1 0h1m1 0h5m3 0h1m1 0h2m1 0h1m1 0h1m3 0h5m6 0h1m1 0h1m1 0h1m1 0h1m1 0h1m2 0h3m3 0h1m1 0h1m2 0h1m4 0h1m2 0h1m1 0h3m3 0h1m1 0h2m3 0h1m1 0h1m3 0h3m1 0h2m2 0h1m1 0h2m3 0h1m2 0h1m3 0h1m1 0h2m-176 1h3m1 0h1m1 0h1m1 0h1m4 0h1m1 0h1m6 0h1m4 0h2m1 0h1m1 0h1m3 0h1m2 0h1m3 0h1m1 0h1m2 0h1m1 0h1m2 0h2m1 0h1m1 0h1m1 0h1m2 0h1m3 0h1m1 0h1m3 0h1m3 0h2m1 0h1m1 0h3m1 0h1m1 0h2m1 0h3m1 0h2m1 0h2m1 0h1m2 0h1m1 0h2m1 0h2m1 0h1m1 0h1m1 0h2m5 0h1m1 0h2m3 0h2m1 0h1m1 0h2m1 0h1m1 0h1m1 0h1m1 0h1m1 0h2m1 0h2m1 0h5m8 0h1m2 0h1m1 0h1m1 0h4m-173 1h2m3 0h1m1 0h2m1 0h1m10 0h1m2 0h2m3 0h4m1 0h8m1 0h1m3 0h1m2 0h2m1 0h1m3 0h1m2 0h2m2 0h1m2 0h2m1 0h1m2 0h3m1 0h1m1 0h3m3 0h4m2 0h1m1 0h2m2 0h1m5 0h2m1 0h1m1 0h2m3 0h2m2 0h1m4 0h1m1 0h1m5 0h3m2 0h1m1 0h1m3 0h2m1 0h2m1 0h2m2 0h3m3 0h1m2 0h1m3 0h2m3 0h2m-173 1h1m1 0h6m1 0h4m3 0h3m1 0h2m4 0h7m2 0h1m1 0h4m1 0h2m2 0h5m3 0h8m1 0h1m1 0h2m3 0h1m2 0h3m1 0h1m2 0h1m2 0h8m1 0h1m1 0h2m1 0h1m2 0h2m3 0h1m2 0h10m1 0h1m4 0h8m1 0h11m1 0h1m1 0h1m4 0h3m3 0h2m1 0h3m3 0h5m1 0h2m-175 1h2m1 0h2m5 0h1m4 0h1m2 0h2m2 0h1m1 0h1m1 0h2m5 0h1m1 0h1m1 0h3m2 0h1m1 0h1m3 0h2m2 0h1m1 0h1m3 0h2m1 0h6m2 0h3m2 0h1m5 0h1m1 0h2m1 0h1m1 0h2m1 0h2m1 0h1m4 0h1m2 0h3m2 0h1m2 0h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h3m2 0h2m1 0h1m4 0h1m6 0h4m2 0h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h2m1 0h3m2 0h1m1 0h1m2 0h1m-174 1h1m1 0h1m1 0h1m1 0h2m8 0h1m1 0h1m2 0h2m1 0h1m2 0h1m1 0h2m2 0h1m1 0h3m2 0h1m2 0h6m2 0h2m3 0h2m1 0h4m1 0h2m1 0h1m1 0h1m2 0h1m1 0h1m4 0h1m1 0h8m2 0h1m1 0h1m1 0h2m2 0h2m6 0h1m1 0h3m3 0h5m2 0h1m1 0h8m3 0h2m4 0h8m1 0h4m3 0h2m1 0h1m4 0h1m1 0h1m2 0h1m1 0h5m-174 1h1m3 0h1m2 0h3m1 0h1m2 0h2m1 0h4m2 0h1m1 0h3m1 0h1m1 0h1m2 0h3m4 0h1m1 0h1m1 0h2m3 0h5m4 0h4m2 0h1m1 0h1m2 0h2m1 0h3m2 0h2m1 0h1m3 0h4m2 0h3m1 0h3m4 0h1m2 0h4m2 0h2m2 0h4m1 0h2m5 0h1m3 0h3m4 0h2m1 0h1m3 0h2m3 0h3m3 0h2m1 0h1m1 0h6m1 0h1m1 0h1m2 0h1m-177 1h2m1 0h1m1 0h4m3 0h2m1 0h1m3 0h1m5 0h2m2 0h1m1 0h2m1 0h1m1 0h1m4 0h2m1 0h2m1 0h2m2 0h4m2 0h2m2 0h2m1 0h4m1 0h1m2 0h4m1 0h3m1 0h2m1 0h3m6 0h2m1 0h2m1 0h3m4 0h1m1 0h1m2 0h1m3 0h1m1 0h1m1 0h2m2 0h2m2 0h1m2 0h3m1 0h4m1 0h3m3 0h2m1 0h1m1 0h1m1 0h1m2 0h3m1 0h3m1 0h1m1 0h3m1 0h2m3 0h2m-176 1h1m4 0h1m1 0h2m5 0h2m2 0h3m1 0h2m1 0h1m1 0h1m1 0h3m1 0h2m5 0h1m1 0h1m1 0h3m1 0h3m1 0h1m1 0h4m1 0h2m1 0h1m1 0h1m4 0h3m2 0h1m1 0h2m3 0h2m1 0h1m4 0h2m1 0h1m4 0h3m1 0h2m5 0h6m2 0h1m1 0h1m3 0h2m1 0h1m2 0h1m3 0h2m4 0h1m2 0h1m1 0h5m1 0h3m2 0h1m3 0h1m1 0h1m1 0h1m2 0h2m1 0h2m1 0h1m2 0h1m-174 1h1m3 0h4m1 0h4m1 0h1m3 0h2m1 0h1m5 0h3m1 0h2m4 0h3m1 0h1m2 0h2m3 0h1m3 0h2m3 0h1m1 0h4m1 0h1m2 0h1m4 0h2m2 0h1m2 0h2m3 0h1m1 0h1m2 0h2m1 0h2m6 0h1m1 0h1m2 0h1m6 0h3m3 0h2m2 0h1m1 0h2m2 0h1m1 0h2m1 0h2m1 0h3m2 0h1m1 0h3m1 0h1m1 0h1m3 0h2m1 0h1m1 0h1m1 0h1m1 0h2m2 0h4m1 0h3m-176 1h1m2 0h1m3 0h2m1 0h5m1 0h4m1 0h2m1 0h2m1 0h1m1 0h1m3 0h3m1 0h1m1 0h2m1 0h1m2 0h1m1 0h4m2 0h2m6 0h1m2 0h1m2 0h2m3 0h1m1 0h1m1 0h2m1 0h2m4 0h5m2 0h1m5 0h2m5 0h1m1 0h1m2 0h1m1 0h4m1 0h2m2 0h2m2 0h1m4 0h2m3 0h2m3 0h6m1 0h3m2 0h2m1 0h1m1 0h6m1 0h3m3 0h1m2 0h1m-170 1h3m1 0h1m3 0h1m2 0h2m2 0h1m2 0h1m5 0h1m1 0h1m2 0h2m1 0h1m3 0h2m2 0h1m1 0h4m3 0h1m1 0h4m5 0h1m2 0h2m2 0h2m4 0h2m1 0h1m1 0h1m3 0h2m2 0h1m1 0h1m1 0h3m3 0h5m1 0h2m2 0h3m2 0h3m1 0h3m1 0h4m2 0h2m1 0h2m1 0h1m5 0h2m5 0h1m2 0h2m1 0h2m5 0h1m2 0h2m1 0h1m2 0h1m2 0h2m1 0h1m-176 1h3m1 0h1m4 0h4m2 0h1m1 0h1m2 0h1m2 0h1m2 0h2m1 0h2m2 0h1m5 0h2m2 0h2m2 0h2m2 0h2m2 0h2m2 0h2m2 0h1m1 0h1m1 0h1m3 0h3m1 0h7m5 0h4m1 0h5m4 0h2m1 0h2m2 0h2m4 0h1m1 0h2m6 0h3m3 0h3m1 0h5m2 0h6m1 0h2m1 0h2m5 0h1m1 0h1m1 0h3m5 0h1m-171 1h1m1 0h1m1 0h2m1 0h4m1 0h1m1 0h6m1 0h1m4 0h3m2 0h1m5 0h1m2 0h1m1 0h5m3 0h2m1 0h1m1 0h1m5 0h1m1 0h1m2 0h1m2 0h1m3 0h2m4 0h2m1 0h2m1 0h2m4 0h1m1 0h1m1 0h1m3 0h2m2 0h2m7 0h2m2 0h3m1 0h2m5 0h1m4 0h1m1 0h1m2 0h2m1 0h2m3 0h5m3 0h5m1 0h1m1 0h1m1 0h3m1 0h1m2 0h1m2 0h2m-176 1h1m4 0h1m1 0h1m2 0h1m2 0h1m1 0h1m1 0h1m1 0h1m2 0h4m1 0h1m2 0h6m1 0h2m1 0h2m1 0h1m4 0h3m1 0h5m3 0h1m2 0h1m2 0h1m1 0h1m1 0h2m3 0h2m1 0h1m1 0h1m3 0h1m1 0h2m1 0h2m1 0h2m2 0h1m1 0h1m1 0h2m1 0h12m3 0h1m4 0h1m1 0h4m1 0h2m3 0h4m1 0h3m1 0h1m3 0h5m1 0h2m1 0h1m1 0h3m2 0h1m3 0h1m2 0h2m1 0h2m-175 1h2m2 0h6m1 0h1m1 0h1m1 0h1m4 0h2m1 0h2m1 0h2m1 0h1m1 0h3m3 0h5m1 0h4m1 0h2m1 0h5m1 0h1m1 0h1m4 0h1m2 0h3m1 0h4m3 0h3m1 0h2m1 0h1m3 0h2m2 0h3m1 0h2m2 0h1m1 0h4m5 0h1m7 0h2m1 0h4m1 0h2m5 0h1m2 0h1m1 0h2m1 0h1m4 0h1m3 0h1m1 0h1m2 0h2m3 0h3m2 0h4m2 0h3m-170 1h3m4 0h3m3 0h1m1 0h1m2 0h1m1 0h2m2 0h5m2 0h1m1 0h1m1 0h2m1 0h1m1 0h3m2 0h1m6 0h6m3 0h1m2 0h1m2 0h3m1 0h2m1 0h1m3 0h4m5 0h1m3 0h2m2 0h1m4 0h1m1 0h1m3 0h4m1 0h1m2 0h1m2 0h2m1 0h1m2 0h4m1 0h1m3 0h1m2 0h1m5 0h2m4 0h1m1 0h3m1 0h1m1 0h1m2 0h4m1 0h1m5 0h1m-176 1h3m2 0h1m3 0h1m1 0h2m1 0h1m3 0h1m3 0h1m3 0h1m1 0h1m2 0h1m1 0h1m1 0h1m5 0h4m2 0h1m7 0h2m5 0h3m1 0h1m3 0h2m4 0h3m1 0h2m1 0h2m1 0h1m1 0h3m2 0h3m1 0h1m1 0h3m2 0h2m2 0h5m2 0h3m4 0h5m5 0h2m1 0h3m1 0h4m1 0h1m1 0h1m3 0h1m2 0h1m1 0h1m4 0h3m1 0h1m1 0h1m1 0h1m1 0h4m-175 1h1m2 0h3m1 0h1m2 0h3m3 0h2m1 0h2m4 0h1m1 0h2m1 0h2m1 0h2m3 0h2m4 0h4m4 0h8m1 0h1m4 0h5m1 0h1m2 0h5m5 0h1m1 0h1m5 0h1m2 0h2m1 0h3m3 0h2m3 0h3m1 0h2m1 0h3m2 0h2m1 0h2m4 0h1m5 0h1m2 0h2m2 0h2m1 0h6m1 0h1m1 0h3m1 0h1m1 0h2m1 0h4m-164 1h2m3 0h1m5 0h1m4 0h1m3 0h3m1 0h1m1 0h1m1 0h1m4 0h2m1 0h8m2 0h1m1 0h1m3 0h1m5 0h2m1 0h1m2 0h2m2 0h2m1 0h4m2 0h3m1 0h3m1 0h2m2 0h3m9 0h2m2 0h2m1 0h1m2 0h1m1 0h1m1 0h2m6 0h1m5 0h1m6 0h2m1 0h1m1 0h1m1 0h13m7 0h3m4 0h2m-175 1h1m4 0h3m1 0h1m2 0h1m1 0h3m1 0h4m1 0h1m1 0h2m3 0h3m5 0h2m2 0h2m4 0h1m3 0h1m2 0h1m1 0h1m2 0h2m1 0h2m1 0h2m2 0h1m1 0h3m1 0h3m2 0h3m1 0h1m1 0h3m2 0h1m1 0h1m2 0h1m2 0h1m1 0h2m6 0h1m5 0h3m5 0h2m2 0h2m1 0h1m2 0h2m1 0h1m3 0h2m1 0h2m1 0h1m1 0h1m2 0h2m3 0h1m4 0h1m1 0h1m2 0h1m1 0h1m1 0h2m1 0h1m-176 1h1m3 0h2m1 0h1m3 0h1m1 0h3m2 0h8m3 0h2m1 0h2m4 0h3m1 0h2m2 0h2m3 0h3m1 0h1m1 0h2m2 0h1m1 0h1m1 0h4m2 0h5m1 0h3m5 0h2m2 0h1m2 0h1m1 0h1m3 0h6m1 0h2m4 0h3m2 0h2m2 0h2m2 0h2m4 0h1m4 0h2m2 0h1m4 0h1m2 0h1m6 0h2m1 0h2m1 0h4m2 0h4m2 0h2m1 0h1m-175 1h2m1 0h1m4 0h2m2 0h4m1 0h4m1 0h1m5 0h1m1 0h2m1 0h1m2 0h3m5 0h3m1 0h1m3 0h1m1 0h1m1 0h2m3 0h2m4 0h2m1 0h1m1 0h2m6 0h2m1 0h2m2 0h1m3 0h1m1 0h1m4 0h1m1 0h3m1 0h1m2 0h1m2 0h2m2 0h4m2 0h1m6 0h3m1 0h1m1 0h1m1 0h4m1 0h1m1 0h1m2 0h3m3 0h1m2 0h3m1 0h5m1 0h2m3 0h1m4 0h1m-175 1h5m1 0h2m1 0h1m2 0h2m1 0h4m1 0h3m2 0h1m1 0h4m3 0h1m2 0h2m1 0h2m1 0h3m2 0h1m2 0h1m2 0h1m1 0h1m1 0h1m11 0h2m2 0h1m3 0h1m3 0h5m1 0h4m2 0h3m3 0h1m2 0h1m1 0h1m1 0h6m1 0h5m1 0h2m1 0h5m2 0h1m2 0h4m1 0h2m2 0h3m3 0h1m2 0h1m1 0h4m2 0h4m2 0h1m2 0h1m3 0h1m1 0h1m-177 1h3m1 0h1m4 0h1m1 0h1m2 0h4m6 0h1m8 0h3m1 0h1m2 0h2m1 0h2m1 0h3m1 0h1m3 0h1m1 0h1m4 0h1m1 0h1m3 0h3m2 0h1m1 0h2m2 0h1m2 0h2m1 0h2m1 0h1m1 0h2m5 0h2m1 0h2m1 0h1m2 0h5m2 0h1m1 0h1m2 0h1m2 0h1m3 0h1m1 0h3m4 0h4m2 0h1m1 0h1m5 0h1m2 0h6m3 0h2m1 0h5m2 0h1m2 0h2m1 0h1m-176 1h1m2 0h5m1 0h2m3 0h3m1 0h1m1 0h2m3 0h1m1 0h1m2 0h2m1 0h2m1 0h1m2 0h4m2 0h2m1 0h4m1 0h1m1 0h1m1 0h1m1 0h1m1 0h11m1 0h2m5 0h4m1 0h1m2 0h1m1 0h4m1 0h4m1 0h3m1 0h4m2 0h2m2 0h1m1 0h3m3 0h1m1 0h4m1 0h5m1 0h2m2 0h3m5 0h1m1 0h1m6 0h1m3 0h1m1 0h1m3 0h5m3 0h1m-175 1h2m1 0h3m1 0h1m4 0h2m2 0h1m1 0h1m1 0h1m8 0h1m1 0h1m2 0h2m1 0h3m4 0h3m1 0h7m5 0h1m3 0h1m2 0h3m3 0h6m3 0h2m3 0h1m1 0h7m1 0h1m2 0h4m3 0h1m2 0h11m2 0h1m1 0h1m5 0h1m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m4 0h2m2 0h1m2 0h2m4 0h3m1 0h3m2 0h2m3 0h2m-176 1h1m3 0h11m4 0h4m4 0h9m1 0h2m1 0h2m2 0h2m1 0h1m1 0h2m1 0h11m1 0h2m2 0h2m2 0h3m1 0h1m1 0h2m4 0h5m2 0h1m3 0h1m1 0h1m1 0h1m1 0h1m3 0h1m2 0h13m3 0h1m1 0h4m2 0h1m3 0h9m1 0h1m1 0h4m2 0h2m1 0h1m4 0h2m1 0h8m1 0h1m1 0h1m-177 1h1m1 0h3m3 0h5m2 0h2m4 0h2m3 0h1m1 0h1m3 0h1m3 0h1m4 0h1m1 0h1m2 0h2m3 0h1m3 0h2m3 0h1m1 0h1m5 0h1m1 0h1m2 0h1m2 0h2m2 0h1m1 0h3m3 0h1m5 0h1m2 0h2m1 0h1m1 0h2m5 0h4m3 0h1m1 0h2m2 0h1m2 0h1m3 0h1m1 0h1m4 0h1m1 0h1m1 0h1m3 0h1m1 0h5m1 0h2m1 0h1m1 0h2m3 0h1m1 0h1m2 0h2m3 0h2m-171 1h2m1 0h1m1 0h5m4 0h1m1 0h1m2 0h2m2 0h3m1 0h1m1 0h2m1 0h1m1 0h1m1 0h1m7 0h1m3 0h2m2 0h2m1 0h1m1 0h3m3 0h3m3 0h3m1 0h2m1 0h2m1 0h1m1 0h1m1 0h1m1 0h2m1 0h2m1 0h1m3 0h1m1 0h2m1 0h2m1 0h2m1 0h4m1 0h1m1 0h3m1 0h3m1 0h3m4 0h3m2 0h1m3 0h1m1 0h1m1 0h2m2 0h1m1 0h1m1 0h4m1 0h3m8 0h1m1 0h1m1 0h2m1 0h2m-177 1h2m2 0h1m3 0h3m2 0h2m1 0h1m5 0h2m3 0h2m3 0h3m1 0h1m5 0h1m1 0h3m1 0h1m1 0h2m3 0h2m3 0h4m1 0h1m4 0h1m2 0h1m2 0h2m5 0h2m3 0h1m2 0h1m2 0h3m1 0h1m2 0h2m1 0h1m1 0h1m1 0h3m1 0h1m3 0h2m4 0h2m2 0h1m1 0h1m1 0h5m1 0h5m3 0h2m2 0h1m4 0h2m2 0h2m5 0h2m1 0h2m3 0h3m1 0h1m-177 1h1m1 0h1m1 0h7m1 0h4m4 0h1m3 0h2m1 0h6m1 0h3m3 0h1m1 0h1m4 0h2m1 0h5m1 0h5m1 0h1m2 0h2m2 0h1m1 0h1m1 0h4m2 0h1m4 0h5m2 0h3m1 0h1m2 0h2m5 0h3m3 0h11m1 0h4m3 0h1m3 0h1m3 0h1m1 0h5m1 0h3m2 0h4m12 0h6m-173 1h2m1 0h2m2 0h4m1 0h1m1 0h1m2 0h1m1 0h1m3 0h1m2 0h1m1 0h2m3 0h1m3 0h2m2 0h2m1 0h3m2 0h1m3 0h1m4 0h1m1 0h1m2 0h1m1 0h3m6 0h1m1 0h1m2 0h1m2 0h3m2 0h3m2 0h2m2 0h2m1 0h4m2 0h1m2 0h2m1 0h7m1 0h12m4 0h2m2 0h5m1 0h1m1 0h1m2 0h1m1 0h1m2 0h1m2 0h2m1 0h1m1 0h1m1 0h1m3 0h1m2 0h1m1 0h1m1 0h1m-171 1h3m3 0h2m1 0h3m4 0h1m1 0h1m1 0h2m6 0h3m3 0h2m5 0h2m7 0h1m4 0h2m3 0h1m1 0h2m2 0h1m1 0h2m4 0h1m1 0h4m1 0h2m1 0h1m4 0h1m1 0h1m4 0h6m4 0h1m5 0h1m2 0h1m1 0h2m5 0h1m1 0h1m2 0h1m1 0h1m2 0h1m1 0h1m1 0h1m3 0h3m1 0h1m2 0h1m2 0h3m3 0h5m2 0h4m1 0h1m-177 1h2m2 0h1m2 0h3m2 0h1m1 0h1m7 0h3m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m8 0h4m1 0h1m3 0h1m1 0h1m1 0h2m2 0h1m1 0h1m1 0h4m1 0h3m8 0h2m1 0h1m1 0h2m3 0h1m2 0h1m2 0h1m1 0h2m1 0h1m1 0h2m2 0h2m2 0h2m1 0h1m1 0h3m2 0h5m2 0h2m3 0h1m2 0h3m1 0h1m1 0h1m1 0h4m1 0h2m1 0h2m1 0h4m1 0h3m1 0h1m3 0h1m1 0h4m1 0h1m-176 1h1m1 0h1m1 0h4m2 0h1m5 0h3m4 0h1m2 0h1m2 0h1m2 0h2m3 0h4m2 0h5m2 0h1m1 0h1m2 0h1m1 0h2m2 0h1m1 0h2m1 0h3m1 0h1m3 0h5m1 0h1m1 0h3m2 0h3m2 0h6m2 0h2m1 0h3m2 0h2m2 0h1m1 0h2m1 0h1m1 0h1m1 0h2m2 0h1m8 0h1m2 0h1m4 0h1m2 0h2m1 0h10m1 0h2m5 0h1m5 0h4m-176 1h2m2 0h1m1 0h4m1 0h4m2 0h4m1 0h1m1 0h3m2 0h2m1 0h2m1 0h1m2 0h4m1 0h5m4 0h1m2 0h5m1 0h8m1 0h2m1 0h5m3 0h1m1 0h2m3 0h3m1 0h2m4 0h6m1 0h3m1 0h2m2 0h1m1 0h1m5 0h2m1 0h1m4 0h1m2 0h2m1 0h1m2 0h2m1 0h1m1 0h1m1 0h1m1 0h2m1 0h2m2 0h3m5 0h3m1 0h2m1 0h1m1 0h1m1 0h3m-177 1h1m1 0h1m3 0h1m1 0h1m2 0h3m2 0h1m2 0h2m1 0h2m1 0h3m1 0h2m2 0h1m6 0h2m1 0h1m1 0h1m1 0h1m1 0h1m1 0h2m1 0h1m2 0h1m4 0h1m1 0h1m1 0h1m2 0h2m2 0h1m4 0h1m5 0h1m1 0h3m1 0h1m2 0h3m3 0h1m3 0h1m1 0h4m2 0h2m2 0h2m1 0h1m1 0h4m1 0h7m1 0h4m1 0h1m2 0h3m3 0h1m2 0h1m4 0h1m4 0h1m1 0h2m5 0h2m-169 1h3m4 0h1m1 0h2m2 0h2m1 0h1m1 0h3m5 0h1m2 0h1m3 0h8m1 0h2m2 0h1m1 0h2m2 0h3m1 0h2m1 0h4m1 0h1m2 0h1m1 0h1m3 0h2m2 0h1m1 0h3m2 0h1m6 0h1m1 0h2m1 0h1m1 0h2m1 0h1m3 0h2m1 0h2m2 0h5m1 0h2m2 0h1m3 0h2m2 0h1m2 0h1m3 0h1m1 0h2m2 0h3m1 0h2m1 0h2m1 0h3m2 0h1m1 0h1m1 0h1m1 0h2m2 0h1m1 0h5m-175 1h6m1 0h1m1 0h3m1 0h3m1 0h1m1 0h3m3 0h3m1 0h1m1 0h1m1 0h2m5 0h1m1 0h4m4 0h1m1 0h1m4 0h6m2 0h1m1 0h1m3 0h1m3 0h1m1 0h1m1 0h6m3 0h1m1 0h6m1 0h3m3 0h2m3 0h1m2 0h2m4 0h1m1 0h2m1 0h3m2 0h1m1 0h1m3 0h3m4 0h1m3 0h9m1 0h5m4 0h1m1 0h4m2 0h1m1 0h1m-175 1h1m7 0h1m2 0h1m1 0h1m1 0h2m1 0h2m1 0h2m1 0h3m1 0h4m1 0h1m2 0h4m2 0h2m4 0h2m7 0h1m1 0h1m1 0h2m2 0h2m2 0h3m1 0h2m3 0h1m7 0h2m1 0h5m5 0h2m5 0h1m3 0h1m1 0h5m1 0h1m1 0h2m3 0h1m4 0h1m1 0h2m2 0h1m1 0h2m2 0h1m2 0h1m1 0h2m3 0h4m2 0h2m2 0h1m4 0h2m1 0h1m3 0h1m-176 1h1m2 0h5m1 0h1m4 0h2m1 0h2m2 0h1m1 0h1m1 0h1m2 0h1m2 0h1m1 0h1m1 0h1m1 0h2m1 0h1m1 0h2m1 0h1m1 0h1m3 0h1m3 0h1m1 0h1m2 0h1m5 0h1m6 0h7m6 0h1m1 0h1m1 0h1m7 0h1m5 0h1m6 0h5m3 0h1m1 0h3m2 0h1m2 0h5m2 0h1m2 0h4m1 0h1m1 0h3m1 0h2m1 0h2m4 0h1m1 0h2m2 0h5m1 0h3m2 0h1m-177 1h1m1 0h1m4 0h1m1 0h3m1 0h2m2 0h6m3 0h1m3 0h1m3 0h5m1 0h3m2 0h1m1 0h1m2 0h1m8 0h1m1 0h4m2 0h2m1 0h1m1 0h1m2 0h1m1 0h2m1 0h1m3 0h1m1 0h1m1 0h3m7 0h2m1 0h1m1 0h1m1 0h1m2 0h3m1 0h1m2 0h1m1 0h6m3 0h2m2 0h1m2 0h1m1 0h2m3 0h1m6 0h1m1 0h2m2 0h2m2 0h1m8 0h1m1 0h1m3 0h1m1 0h1m-175 1h1m1 0h1m2 0h3m1 0h1m1 0h1m1 0h2m3 0h3m1 0h1m1 0h1m1 0h2m4 0h1m1 0h1m4 0h4m1 0h1m1 0h1m5 0h4m1 0h2m1 0h1m1 0h3m2 0h5m1 0h2m2 0h3m1 0h3m1 0h2m2 0h1m2 0h1m1 0h1m7 0h3m1 0h1m1 0h3m2 0h1m4 0h3m2 0h2m2 0h1m1 0h1m1 0h1m1 0h2m3 0h1m1 0h4m1 0h2m1 0h6m9 0h1m1 0h1m3 0h4m1 0h2m-176 1h1m2 0h3m3 0h1m3 0h4m1 0h1m2 0h2m1 0h1m1 0h1m1 0h1m4 0h3m2 0h5m1 0h3m1 0h3m5 0h3m9 0h2m2 0h3m4 0h4m1 0h2m1 0h2m4 0h1m5 0h2m3 0h4m3 0h1m1 0h5m1 0h3m2 0h4m1 0h1m2 0h2m1 0h1m3 0h3m3 0h2m1 0h2m2 0h1m4 0h2m2 0h3m1 0h1m4 0h1m1 0h1m1 0h3m-176 1h2m1 0h7m1 0h1m1 0h5m4 0h1m2 0h1m1 0h1m1 0h1m5 0h1m1 0h2m1 0h4m3 0h1m3 0h1m2 0h1m2 0h4m1 0h1m1 0h2m4 0h2m2 0h1m1 0h1m4 0h4m5 0h2m3 0h1m1 0h2m1 0h2m3 0h1m1 0h1m1 0h1m1 0h1m3 0h4m3 0h1m1 0h5m1 0h1m1 0h1m1 0h2m1 0h3m1 0h1m1 0h3m1 0h2m2 0h1m2 0h1m2 0h1m2 0h4m2 0h1m1 0h1m1 0h6m-176 1h5m1 0h1m2 0h1m2 0h2m3 0h2m2 0h5m1 0h2m1 0h2m1 0h2m1 0h1m1 0h1m5 0h1m11 0h2m2 0h2m1 0h1m1 0h1m1 0h2m2 0h3m2 0h1m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m2 0h3m1 0h2m1 0h1m1 0h2m1 0h2m3 0h4m1 0h3m1 0h1m1 0h3m3 0h1m1 0h1m1 0h1m1 0h3m4 0h1m2 0h2m3 0h3m1 0h1m2 0h2m2 0h1m2 0h1m2 0h2m1 0h1m2 0h1m1 0h1m-173 1h2m4 0h3m3 0h1m1 0h1m1 0h1m1 0h7m2 0h1m2 0h1m1 0h1m1 0h2m3 0h1m3 0h1m5 0h3m1 0h1m1 0h3m1 0h1m2 0h4m1 0h4m1 0h3m1 0h1m3 0h4m3 0h1m2 0h1m2 0h7m2 0h3m2 0h2m1 0h2m4 0h1m1 0h1m2 0h1m4 0h2m1 0h2m3 0h1m1 0h4m1 0h4m5 0h1m1 0h2m2 0h1m1 0h1m3 0h3m1 0h1m4 0h1m2 0h1m1 0h1m-175 1h2m5 0h1m1 0h2m5 0h1m1 0h3m3 0h1m4 0h3m7 0h3m1 0h1m2 0h2m1 0h1m1 0h1m1 0h3m1 0h3m6 0h1m4 0h1m1 0h1m3 0h1m1 0h2m1 0h5m1 0h1m1 0h1m7 0h1m5 0h1m2 0h5m3 0h1m1 0h1m2 0h1m3 0h1m1 0h1m2 0h1m1 0h4m2 0h1m1 0h2m1 0h2m1 0h1m4 0h2m1 0h1m2 0h2m2 0h4m2 0h2m2 0h1m1 0h2m-176 1h2m2 0h1m1 0h1m1 0h2m1 0h5m2 0h1m2 0h3m2 0h1m2 0h4m4 0h1m3 0h2m1 0h2m3 0h1m2 0h3m2 0h2m1 0h1m2 0h2m1 0h4m1 0h4m7 0h2m2 0h2m1 0h2m3 0h3m2 0h4m1 0h2m3 0h2m2 0h1m7 0h1m1 0h1m3 0h2m1 0h1m2 0h6m2 0h6m1 0h2m12 0h3m2 0h1m2 0h1m1 0h1m2 0h1m-175 1h2m1 0h2m3 0h2m5 0h3m5 0h1m1 0h2m1 0h1m2 0h1m1 0h2m2 0h1m4 0h1m3 0h3m1 0h2m2 0h1m2 0h2m3 0h2m2 0h1m3 0h1m2 0h4m1 0h1m2 0h2m1 0h2m1 0h3m3 0h3m1 0h1m3 0h1m3 0h1m1 0h1m1 0h2m1 0h3m1 0h4m1 0h1m3 0h1m3 0h1m1 0h2m5 0h1m2 0h1m2 0h2m1 0h1m2 0h2m2 0h3m2 0h1m1 0h4m3 0h1m3 0h1m1 0h2m-172 1h2m3 0h6m2 0h2m1 0h1m1 0h1m1 0h2m1 0h1m1 0h1m4 0h1m4 0h3m1 0h1m1 0h2m1 0h1m2 0h3m2 0h3m1 0h1m1 0h2m2 0h1m5 0h1m2 0h1m1 0h2m1 0h1m2 0h4m2 0h7m3 0h1m1 0h1m2 0h2m1 0h6m5 0h3m5 0h7m1 0h1m1 0h3m1 0h1m4 0h1m4 0h3m2 0h3m1 0h1m1 0h2m2 0h4m1 0h3m1 0h2m-177 1h3m1 0h1m2 0h1m5 0h1m3 0h7m2 0h1m1 0h1m1 0h2m1 0h3m2 0h2m1 0h3m3 0h3m1 0h3m1 0h2m2 0h3m1 0h2m1 0h1m1 0h1m2 0h2m2 0h1m1 0h3m1 0h6m1 0h2m1 0h1m3 0h1m1 0h1m1 0h2m1 0h1m5 0h1m1 0h1m2 0h1m2 0h1m1 0h4m2 0h2m3 0h1m1 0h1m1 0h2m2 0h2m2 0h1m2 0h2m1 0h2m1 0h2m2 0h1m1 0h2m1 0h3m2 0h1m1 0h4m2 0h2m1 0h2m-176 1h1m1 0h2m1 0h1m1 0h2m2 0h3m2 0h5m1 0h1m1 0h1m1 0h1m1 0h2m1 0h1m2 0h1m1 0h2m2 0h1m3 0h1m1 0h1m3 0h3m2 0h3m2 0h1m1 0h1m1 0h1m2 0h3m2 0h2m2 0h1m1 0h4m3 0h1m2 0h6m2 0h4m4 0h2m1 0h1m2 0h1m1 0h1m1 0h1m2 0h3m2 0h3m1 0h2m5 0h2m1 0h1m1 0h2m1 0h2m2 0h3m1 0h1m1 0h1m1 0h1m1 0h1m1 0h11m1 0h4m1 0h1m-176 1h2m1 0h2m2 0h1m2 0h2m1 0h5m3 0h1m2 0h3m2 0h1m4 0h2m1 0h4m3 0h3m1 0h3m1 0h1m1 0h1m1 0h2m2 0h4m2 0h3m4 0h1m2 0h3m1 0h1m1 0h1m1 0h1m1 0h2m2 0h4m1 0h1m1 0h1m2 0h1m1 0h1m2 0h3m1 0h1m4 0h5m1 0h1m2 0h1m1 0h2m4 0h3m4 0h1m1 0h3m1 0h1m3 0h2m4 0h4m5 0h2m1 0h2m2 0h1m1 0h2m2 0h1m-177 1h1m2 0h6m2 0h2m1 0h3m1 0h3m1 0h2m1 0h2m1 0h5m1 0h2m1 0h2m3 0h1m3 0h3m1 0h1m1 0h1m2 0h6m1 0h1m1 0h1m2 0h2m5 0h1m1 0h1m1 0h2m4 0h5m3 0h1m1 0h6m2 0h2m1 0h1m1 0h1m1 0h9m1 0h1m1 0h2m1 0h1m1 0h3m2 0h1m1 0h2m2 0h2m1 0h6m2 0h1m1 0h7m1 0h3m2 0h10m1 0h2m-174 1h1m1 0h1m3 0h3m1 0h3m2 0h1m1 0h1m1 0h1m1 0h2m3 0h1m3 0h1m1 0h2m1 0h1m3 0h2m3 0h1m2 0h2m1 0h1m3 0h1m3 0h6m2 0h1m5 0h3m3 0h2m2 0h1m3 0h1m4 0h1m3 0h5m1 0h1m1 0h1m1 0h1m2 0h1m1 0h1m3 0h1m3 0h1m1 0h1m2 0h4m3 0h1m1 0h2m1 0h1m1 0h2m3 0h1m2 0h7m1 0h4m1 0h3m3 0h1m1 0h1m3 0h1m2 0h1m-174 1h3m1 0h1m1 0h2m1 0h3m1 0h1m1 0h2m4 0h2m1 0h3m1 0h1m1 0h2m2 0h3m3 0h2m1 0h2m2 0h1m2 0h1m1 0h1m1 0h1m1 0h1m1 0h3m6 0h1m2 0h2m3 0h2m2 0h2m1 0h1m1 0h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h4m1 0h1m1 0h2m1 0h5m1 0h1m1 0h2m1 0h1m4 0h3m1 0h3m1 0h1m1 0h4m2 0h1m1 0h1m1 0h1m1 0h3m1 0h1m2 0h1m3 0h3m2 0h2m4 0h1m1 0h1m1 0h1m2 0h2m-175 1h3m3 0h1m1 0h2m1 0h1m3 0h2m4 0h4m1 0h1m3 0h1m1 0h3m3 0h1m1 0h1m2 0h2m1 0h1m1 0h2m2 0h3m3 0h1m3 0h1m2 0h2m1 0h2m1 0h1m1 0h2m1 0h2m2 0h1m1 0h1m3 0h3m3 0h1m1 0h3m5 0h3m1 0h1m1 0h1m1 0h1m3 0h2m2 0h1m2 0h1m4 0h6m3 0h1m2 0h1m3 0h1m1 0h4m1 0h1m1 0h5m2 0h1m1 0h2m1 0h1m1 0h2m3 0h2m-174 1h3m1 0h5m8 0h1m1 0h2m2 0h3m2 0h7m1 0h1m3 0h1m2 0h1m2 0h1m3 0h1m1 0h9m2 0h1m4 0h2m1 0h1m2 0h1m1 0h1m3 0h2m2 0h5m1 0h1m1 0h1m1 0h1m6 0h2m1 0h2m1 0h3m1 0h6m2 0h3m1 0h3m2 0h2m1 0h2m1 0h1m1 0h1m1 0h8m1 0h2m3 0h1m2 0h1m1 0h1m1 0h4m1 0h1m1 0h8m1 0h2m-177 1h1m1 0h1m1 0h1m2 0h4m3 0h1m1 0h1m1 0h1m2 0h1m2 0h4m1 0h2m2 0h1m3 0h1m2 0h2m3 0h4m1 0h1m3 0h2m2 0h1m2 0h1m1 0h1m2 0h3m2 0h2m2 0h5m1 0h1m1 0h2m3 0h2m1 0h6m2 0h1m2 0h3m1 0h4m1 0h2m1 0h2m2 0h2m1 0h1m1 0h2m3 0h3m3 0h2m5 0h1m1 0h2m2 0h1m1 0h2m1 0h1m4 0h3m1 0h1m1 0h1m1 0h2m1 0h2m2 0h5m-177 1h3m1 0h1m1 0h1m1 0h2m2 0h2m1 0h1m1 0h3m3 0h1m5 0h1m2 0h2m1 0h1m1 0h1m1 0h1m2 0h2m5 0h1m1 0h1m1 0h3m1 0h1m3 0h1m1 0h2m6 0h2m1 0h1m3 0h2m1 0h4m2 0h1m1 0h1m1 0h1m1 0h1m4 0h2m1 0h5m1 0h2m5 0h2m1 0h1m1 0h1m3 0h2m2 0h4m2 0h2m1 0h5m2 0h3m1 0h1m2 0h1m1 0h2m9 0h1m2 0h2m1 0h2m2 0h2m1 0h1m-177 1h2m2 0h2m4 0h5m1 0h1m2 0h2m3 0h1m1 0h1m1 0h2m3 0h1m2 0h4m8 0h2m1 0h1m2 0h3m1 0h1m1 0h1m3 0h1m2 0h1m2 0h1m2 0h1m6 0h1m6 0h1m2 0h1m1 0h2m1 0h4m1 0h2m1 0h2m1 0h2m4 0h2m1 0h2m2 0h1m2 0h1m1 0h1m1 0h7m1 0h1m1 0h1m2 0h2m1 0h1m3 0h5m1 0h1m1 0h5m1 0h1m1 0h1m1 0h1m2 0h2m4 0h1m-173 1h1m2 0h1m1 0h1m1 0h2m2 0h4m1 0h2m1 0h2m1 0h1m1 0h2m5 0h1m1 0h1m2 0h1m1 0h2m5 0h1m2 0h1m1 0h1m1 0h1m2 0h1m2 0h1m1 0h1m1 0h3m3 0h2m1 0h1m1 0h1m1 0h4m3 0h3m1 0h3m1 0h2m1 0h1m2 0h3m2 0h2m3 0h1m1 0h1m1 0h1m2 0h5m1 0h1m1 0h1m1 0h2m2 0h1m1 0h3m2 0h1m4 0h1m2 0h3m2 0h1m6 0h1m1 0h1m1 0h1m1 0h5m1 0h1m3 0h3m1 0h2m-177 1h2m6 0h1m1 0h2m1 0h1m1 0h1m1 0h1m2 0h1m3 0h1m4 0h4m1 0h1m2 0h1m1 0h4m2 0h3m3 0h1m2 0h1m2 0h1m1 0h1m1 0h6m1 0h1m4 0h2m1 0h1m3 0h2m1 0h2m2 0h3m1 0h1m1 0h1m7 0h3m1 0h9m1 0h1m2 0h1m2 0h3m2 0h1m1 0h1m3 0h3m2 0h1m1 0h2m3 0h2m2 0h1m4 0h3m1 0h3m1 0h2m1 0h1m3 0h1m4 0h2m-175 1h4m1 0h3m1 0h3m1 0h5m5 0h1m3 0h2m2 0h1m1 0h3m3 0h1m2 0h1m1 0h2m1 0h1m1 0h1m1 0h2m2 0h1m2 0h1m2 0h1m7 0h1m1 0h1m2 0h5m1 0h2m1 0h1m1 0h1m3 0h2m2 0h4m3 0h2m7 0h5m1 0h2m1 0h3m3 0h1m1 0h1m2 0h2m1 0h6m1 0h1m1 0h1m1 0h1m1 0h2m1 0h1m4 0h1m3 0h3m1 0h2m1 0h1m3 0h1m1 0h1m1 0h2m2 0h1m-176 1h1m1 0h1m3 0h1m1 0h4m2 0h3m2 0h5m1 0h6m1 0h7m1 0h6m1 0h1m1 0h1m4 0h1m2 0h1m2 0h1m1 0h1m2 0h1m1 0h1m1 0h5m1 0h2m2 0h1m3 0h1m3 0h3m3 0h1m4 0h1m1 0h2m6 0h1m2 0h4m1 0h1m2 0h1m2 0h4m5 0h2m2 0h2m3 0h4m4 0h1m2 0h2m1 0h2m2 0h1m1 0h1m2 0h2m3 0h1m1 0h1m1 0h3m-175 1h2m1 0h3m3 0h1m9 0h2m1 0h1m3 0h4m6 0h1m2 0h2m1 0h1m1 0h3m1 0h2m3 0h1m1 0h2m3 0h1m1 0h1m2 0h1m1 0h1m4 0h2m2 0h2m1 0h3m1 0h1m2 0h2m2 0h4m1 0h1m1 0h2m1 0h1m2 0h1m5 0h2m1 0h1m1 0h2m2 0h1m1 0h1m1 0h1m2 0h2m1 0h1m1 0h1m1 0h2m1 0h1m4 0h1m1 0h2m1 0h1m3 0h3m1 0h4m1 0h1m2 0h5m2 0h2m2 0h1m2 0h1m-176 1h5m2 0h2m1 0h2m2 0h3m2 0h1m5 0h1m1 0h2m1 0h2m2 0h2m1 0h1m5 0h1m1 0h2m7 0h1m1 0h1m1 0h1m1 0h1m1 0h2m1 0h1m2 0h2m3 0h1m2 0h3m2 0h2m2 0h2m1 0h1m1 0h1m2 0h3m1 0h1m1 0h2m1 0h3m2 0h2m2 0h2m2 0h1m2 0h1m1 0h1m4 0h1m2 0h1m1 0h2m3 0h1m2 0h3m1 0h2m3 0h1m1 0h1m5 0h3m2 0h2m1 0h1m1 0h2m1 0h1m4 0h1m-174 1h1m1 0h2m1 0h6m2 0h1m1 0h2m1 0h2m1 0h2m8 0h2m1 0h2m5 0h5m2 0h9m1 0h1m1 0h3m2 0h5m2 0h1m1 0h1m1 0h4m2 0h1m2 0h1m2 0h1m1 0h2m2 0h1m1 0h1m1 0h2m1 0h4m1 0h1m3 0h2m1 0h3m4 0h1m4 0h1m1 0h1m1 0h2m4 0h2m2 0h2m1 0h8m3 0h2m2 0h2m1 0h3m1 0h1m3 0h2m5 0h1m-176 1h3m3 0h2m3 0h1m1 0h4m1 0h1m1 0h1m7 0h2m1 0h3m2 0h2m1 0h2m3 0h1m1 0h6m1 0h2m1 0h2m1 0h1m2 0h4m1 0h2m1 0h1m7 0h1m1 0h1m1 0h1m1 0h2m1 0h4m1 0h2m2 0h1m1 0h1m1 0h1m1 0h1m5 0h1m1 0h5m2 0h1m2 0h2m2 0h2m3 0h1m1 0h4m1 0h1m1 0h6m1 0h1m7 0h1m4 0h2m2 0h2m1 0h2m3 0h1m4 0h1m-177 1h1m1 0h1m1 0h5m1 0h2m1 0h2m3 0h3m1 0h1m2 0h1m1 0h1m3 0h3m3 0h2m2 0h1m1 0h4m1 0h4m1 0h2m3 0h1m2 0h1m2 0h1m4 0h4m2 0h2m3 0h1m1 0h1m2 0h2m1 0h2m4 0h1m1 0h1m2 0h2m3 0h2m3 0h2m2 0h3m6 0h1m1 0h1m1 0h2m2 0h1m2 0h4m1 0h1m4 0h6m1 0h6m1 0h4m1 0h3m3 0h1m1 0h1m1 0h1m1 0h2m-176 1h2m2 0h2m2 0h4m3 0h5m1 0h1m4 0h2m3 0h5m1 0h2m1 0h3m2 0h2m2 0h1m1 0h2m1 0h8m1 0h2m1 0h2m2 0h1m6 0h2m2 0h1m1 0h1m1 0h1m6 0h2m1 0h3m1 0h1m2 0h2m1 0h1m2 0h4m2 0h3m1 0h1m3 0h1m1 0h1m2 0h3m8 0h2m3 0h3m2 0h2m4 0h1m3 0h2m1 0h2m1 0h2m1 0h4m3 0h2m-174 1h1m1 0h4m1 0h3m3 0h1m3 0h1m1 0h1m2 0h3m2 0h1m3 0h1m1 0h3m2 0h1m2 0h1m1 0h1m3 0h4m4 0h1m1 0h2m1 0h1m2 0h1m1 0h2m1 0h6m3 0h1m1 0h2m5 0h2m6 0h4m8 0h2m5 0h1m2 0h1m1 0h2m2 0h2m1 0h3m2 0h2m7 0h4m2 0h1m2 0h1m1 0h2m2 0h4m2 0h2m1 0h1m4 0h2m1 0h1m2 0h1m-177 1h1m2 0h1m1 0h1m3 0h2m3 0h1m2 0h2m1 0h1m2 0h3m2 0h3m5 0h1m6 0h3m1 0h6m2 0h1m6 0h1m2 0h2m1 0h1m1 0h1m2 0h1m2 0h4m3 0h1m1 0h3m1 0h2m2 0h4m1 0h1m3 0h1m3 0h3m1 0h1m1 0h1m1 0h3m1 0h1m4 0h1m3 0h2m1 0h4m1 0h3m1 0h1m1 0h2m1 0h2m1 0h2m3 0h3m2 0h2m2 0h4m2 0h3m-170 1h1m1 0h1m1 0h1m1 0h4m2 0h1m1 0h2m1 0h1m1 0h1m1 0h2m1 0h1m2 0h2m2 0h1m1 0h2m6 0h2m3 0h4m2 0h1m2 0h1m1 0h1m1 0h1m1 0h1m5 0h1m4 0h1m3 0h1m4 0h1m1 0h1m1 0h1m1 0h1m2 0h1m1 0h1m1 0h2m3 0h1m1 0h1m1 0h1m1 0h1m1 0h2m8 0h4m1 0h1m4 0h5m2 0h3m1 0h1m1 0h3m2 0h2m2 0h2m1 0h2m1 0h4m2 0h1m2 0h4m1 0h2m1 0h5m-176 1h1m6 0h2m3 0h3m1 0h1m2 0h1m5 0h4m1 0h2m1 0h1m2 0h1m1 0h2m1 0h4m3 0h1m1 0h1m1 0h1m2 0h1m1 0h4m3 0h2m4 0h2m2 0h2m1 0h1m2 0h1m2 0h3m1 0h1m3 0h1m2 0h3m2 0h3m2 0h1m3 0h2m1 0h2m1 0h2m2 0h3m5 0h1m1 0h1m6 0h1m3 0h1m1 0h2m3 0h1m4 0h3m3 0h1m1 0h3m1 0h1m2 0h5m3 0h1m-176 1h5m1 0h1m1 0h1m1 0h3m1 0h1m1 0h2m2 0h2m2 0h2m6 0h1m1 0h1m1 0h1m1 0h1m5 0h1m3 0h2m1 0h1m3 0h3m1 0h1m4 0h1m4 0h1m4 0h2m6 0h1m4 0h3m3 0h2m1 0h1m1 0h1m1 0h2m5 0h1m3 0h3m1 0h1m4 0h4m2 0h1m3 0h1m4 0h1m1 0h1m3 0h2m1 0h4m2 0h1m2 0h1m3 0h1m1 0h1m4 0h1m1 0h4m1 0h1m2 0h1m-175 1h3m1 0h2m1 0h1m2 0h1m2 0h3m1 0h3m2 0h2m1 0h1m1 0h3m1 0h1m1 0h1m1 0h2m5 0h3m1 0h5m3 0h1m2 0h2m1 0h3m3 0h2m1 0h6m2 0h3m1 0h1m1 0h1m3 0h4m1 0h2m2 0h3m1 0h9m2 0h1m2 0h1m1 0h1m2 0h1m5 0h1m1 0h2m2 0h1m4 0h3m1 0h3m4 0h2m1 0h3m1 0h3m5 0h1m1 0h2m1 0h1m2 0h3m3 0h1m-177 1h1m2 0h1m2 0h1m3 0h4m1 0h1m3 0h3m1 0h2m6 0h3m1 0h1m1 0h3m1 0h2m1 0h2m1 0h1m2 0h1m2 0h1m1 0h2m2 0h1m4 0h2m1 0h1m4 0h1m1 0h2m5 0h3m1 0h1m1 0h1m3 0h3m2 0h2m2 0h1m1 0h1m3 0h1m1 0h4m1 0h1m1 0h1m1 0h2m1 0h2m2 0h1m1 0h4m1 0h5m2 0h3m2 0h2m1 0h3m1 0h2m1 0h1m3 0h1m2 0h5m-164 1h1m1 0h1m3 0h1m1 0h4m1 0h1m3 0h1m4 0h5m1 0h1m1 0h4m1 0h1m1 0h6m2 0h1m1 0h1m2 0h1m1 0h1m2 0h2m1 0h1m1 0h1m1 0h1m1 0h1m2 0h1m2 0h1m2 0h5m1 0h1m2 0h1m1 0h2m1 0h2m1 0h2m2 0h1m3 0h1m1 0h2m2 0h1m1 0h3m2 0h1m1 0h1m1 0h4m3 0h1m2 0h1m7 0h2m2 0h3m1 0h2m3 0h4m1 0h1m4 0h1m1 0h8m1 0h1m3 0h1m-173 1h5m1 0h3m4 0h1m1 0h5m2 0h5m3 0h2m1 0h2m2 0h1m1 0h2m4 0h1m1 0h1m2 0h4m2 0h1m1 0h2m2 0h1m1 0h6m1 0h5m2 0h1m3 0h1m3 0h1m1 0h2m1 0h1m1 0h1m2 0h3m1 0h1m3 0h2m1 0h1m1 0h1m4 0h2m5 0h3m1 0h1m1 0h3m1 0h1m1 0h2m1 0h2m4 0h2m1 0h1m9 0h1m6 0h1m5 0h1m2 0h2m2 0h1m-176 1h5m2 0h1m1 0h1m1 0h1m1 0h2m2 0h1m1 0h1m2 0h4m1 0h1m4 0h1m1 0h1m1 0h1m2 0h1m3 0h4m2 0h2m2 0h1m3 0h1m1 0h2m2 0h1m1 0h1m3 0h1m1 0h1m1 0h1m3 0h4m2 0h1m1 0h2m1 0h1m4 0h4m1 0h3m1 0h1m2 0h1m1 0h1m1 0h1m1 0h1m4 0h1m1 0h1m3 0h4m4 0h2m1 0h1m1 0h3m5 0h1m3 0h2m1 0h1m1 0h6m2 0h1m1 0h1m3 0h1m2 0h1m1 0h5m-173 1h10m2 0h3m1 0h2m2 0h2m1 0h11m2 0h1m4 0h1m1 0h1m3 0h11m2 0h2m2 0h9m2 0h4m2 0h5m2 0h1m1 0h4m8 0h1m2 0h1m3 0h5m3 0h1m1 0h1m1 0h1m1 0h1m2 0h1m2 0h3m3 0h10m2 0h3m1 0h2m1 0h2m1 0h4m2 0h8m2 0h1m-177 1h5m3 0h1m4 0h2m1 0h3m1 0h3m1 0h2m2 0h1m3 0h2m3 0h5m3 0h3m7 0h2m3 0h2m2 0h1m3 0h1m2 0h3m2 0h1m1 0h2m2 0h1m1 0h1m3 0h1m2 0h1m1 0h1m1 0h1m1 0h1m2 0h1m3 0h1m1 0h2m1 0h1m2 0h1m3 0h1m1 0h1m1 0h2m3 0h1m1 0h2m3 0h1m4 0h4m3 0h2m1 0h4m4 0h2m1 0h3m2 0h3m2 0h1m3 0h1m2 0h2m-174 1h2m1 0h1m1 0h2m2 0h2m1 0h1m2 0h2m1 0h2m2 0h1m2 0h1m1 0h1m1 0h1m1 0h1m1 0h3m1 0h4m1 0h2m3 0h3m1 0h3m1 0h1m1 0h1m7 0h3m3 0h6m1 0h2m1 0h1m1 0h1m1 0h1m2 0h1m3 0h1m1 0h3m4 0h1m4 0h1m2 0h1m1 0h1m1 0h1m2 0h1m3 0h1m2 0h2m1 0h1m5 0h2m1 0h3m1 0h1m1 0h3m1 0h1m1 0h1m3 0h1m5 0h4m3 0h2m1 0h1m1 0h2m-173 1h4m3 0h2m3 0h1m2 0h1m2 0h3m1 0h2m3 0h1m3 0h8m1 0h2m1 0h1m1 0h3m1 0h2m2 0h3m3 0h2m1 0h2m2 0h2m3 0h8m3 0h2m3 0h1m3 0h4m2 0h2m1 0h4m3 0h1m2 0h2m3 0h1m1 0h1m1 0h1m1 0h5m1 0h3m1 0h2m1 0h1m2 0h1m1 0h1m3 0h8m4 0h1m1 0h1m4 0h1m1 0h2m1 0h1m3 0h1m3 0h1m-177 1h1m1 0h1m1 0h7m4 0h1m2 0h3m2 0h3m2 0h5m1 0h1m1 0h2m1 0h1m2 0h3m3 0h1m1 0h1m2 0h12m2 0h2m2 0h3m4 0h1m5 0h5m1 0h3m1 0h1m1 0h1m1 0h1m4 0h1m1 0h3m1 0h9m5 0h1m1 0h2m1 0h4m3 0h1m2 0h1m1 0h8m1 0h1m1 0h4m2 0h3m5 0h9m1 0h1m-176 1h1m2 0h1m3 0h4m2 0h2m1 0h2m1 0h4m1 0h1m3 0h1m1 0h1m3 0h2m1 0h2m1 0h1m1 0h4m3 0h2m1 0h1m1 0h1m1 0h2m1 0h1m3 0h4m1 0h10m3 0h1m1 0h4m1 0h1m3 0h1m2 0h2m1 0h1m1 0h4m3 0h5m2 0h3m1 0h1m2 0h1m1 0h5m2 0h3m1 0h4m2 0h5m2 0h1m1 0h1m1 0h1m1 0h1m4 0h1m2 0h1m1 0h2m3 0h3m2 0h1m1 0h2m-171 1h2m2 0h1m1 0h5m1 0h1m7 0h3m1 0h1m5 0h3m1 0h3m1 0h1m2 0h2m1 0h1m3 0h1m2 0h1m2 0h2m1 0h1m1 0h2m1 0h2m1 0h3m1 0h1m1 0h4m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m2 0h1m2 0h1m2 0h2m2 0h5m1 0h1m3 0h1m2 0h3m2 0h2m2 0h2m1 0h2m2 0h1m2 0h3m1 0h1m3 0h5m1 0h3m2 0h1m1 0h2m1 0h1m2 0h1m3 0h1m1 0h1m3 0h3m-176 1h1m1 0h1m1 0h2m1 0h1m5 0h2m2 0h1m6 0h2m2 0h5m1 0h1m1 0h2m1 0h1m4 0h1m2 0h1m1 0h1m2 0h1m2 0h3m1 0h1m2 0h2m1 0h5m1 0h3m1 0h2m1 0h2m1 0h1m1 0h2m3 0h1m1 0h1m7 0h3m1 0h4m1 0h1m3 0h3m8 0h4m1 0h1m1 0h1m2 0h1m1 0h3m4 0h3m1 0h2m4 0h1m2 0h4m3 0h4m4 0h1m3 0h2m-175 1h2m2 0h1m1 0h2m2 0h1m2 0h1m2 0h3m1 0h1m1 0h1m1 0h1m3 0h3m1 0h2m2 0h1m2 0h1m2 0h1m1 0h1m1 0h4m1 0h1m1 0h2m3 0h1m2 0h1m1 0h5m2 0h1m2 0h1m3 0h3m1 0h3m1 0h2m1 0h3m1 0h1m2 0h1m1 0h3m3 0h1m2 0h2m2 0h2m6 0h2m1 0h1m1 0h1m1 0h1m1 0h1m2 0h3m2 0h1m1 0h1m4 0h2m1 0h1m2 0h4m1 0h2m2 0h4m1 0h3m1 0h1m1 0h4m2 0h2m-175 1h1m1 0h3m1 0h2m1 0h1m1 0h3m1 0h1m1 0h3m1 0h3m2 0h3m1 0h1m1 0h1m6 0h1m1 0h3m1 0h1m3 0h1m1 0h1m1 0h3m1 0h1m2 0h2m3 0h1m2 0h1m3 0h1m2 0h1m1 0h1m2 0h1m2 0h1m3 0h1m2 0h6m2 0h1m1 0h3m1 0h2m1 0h1m2 0h4m1 0h1m2 0h1m1 0h1m1 0h1m1 0h1m2 0h1m5 0h1m4 0h1m1 0h2m1 0h1m1 0h1m6 0h1m2 0h1m2 0h3m1 0h1m5 0h1m1 0h2m1 0h1m-175 1h2m1 0h2m1 0h3m1 0h5m1 0h2m1 0h1m1 0h1m1 0h2m1 0h8m1 0h1m1 0h3m1 0h1m3 0h3m4 0h2m1 0h1m1 0h2m1 0h1m2 0h1m1 0h1m2 0h2m3 0h1m1 0h1m3 0h1m1 0h3m1 0h1m1 0h1m1 0h2m2 0h4m2 0h2m2 0h1m1 0h7m3 0h2m2 0h1m1 0h4m2 0h1m1 0h3m2 0h1m1 0h1m2 0h8m3 0h1m2 0h3m2 0h1m2 0h1m1 0h2m4 0h1m2 0h5m-177 1h2m2 0h2m4 0h1m1 0h1m1 0h1m1 0h1m4 0h3m1 0h2m2 0h2m2 0h1m1 0h2m1 0h5m2 0h1m3 0h4m2 0h1m2 0h1m2 0h1m1 0h3m1 0h3m1 0h2m1 0h1m1 0h3m6 0h4m1 0h1m1 0h3m1 0h3m1 0h1m1 0h3m2 0h3m1 0h1m1 0h2m1 0h1m4 0h2m3 0h5m3 0h1m2 0h1m1 0h1m5 0h2m1 0h1m1 0h5m2 0h1m1 0h2m1 0h4m3 0h4m2 0h2m-176 1h1m1 0h2m1 0h1m5 0h1m1 0h2m1 0h4m1 0h1m2 0h1m1 0h2m2 0h1m3 0h1m2 0h5m1 0h2m1 0h1m1 0h1m1 0h2m1 0h1m3 0h1m2 0h6m1 0h1m4 0h1m5 0h1m4 0h1m1 0h3m2 0h3m1 0h1m1 0h1m1 0h1m1 0h2m2 0h1m1 0h1m1 0h1m3 0h1m3 0h2m1 0h4m3 0h1m5 0h1m1 0h1m2 0h1m1 0h2m1 0h2m1 0h3m2 0h3m3 0h1m2 0h4m1 0h2m7 0h1m1 0h1m-175 1h2m3 0h4m2 0h1m1 0h1m1 0h2m1 0h3m1 0h1m1 0h1m1 0h1m1 0h4m2 0h2m2 0h3m1 0h2m1 0h3m1 0h2m2 0h3m2 0h3m1 0h2m2 0h1m3 0h1m1 0h1m3 0h1m2 0h1m1 0h1m2 0h1m1 0h3m6 0h1m3 0h2m3 0h1m1 0h2m2 0h1m4 0h1m1 0h1m3 0h2m1 0h4m2 0h4m2 0h1m1 0h3m2 0h2m10 0h1m1 0h1m1 0h1m5 0h5m1 0h4m-177 1h4m2 0h4m5 0h2m1 0h2m1 0h3m3 0h1m1 0h2m1 0h1m2 0h1m2 0h2m1 0h1m1 0h3m2 0h1m2 0h3m1 0h1m1 0h1m2 0h1m3 0h1m9 0h1m2 0h1m2 0h2m1 0h1m2 0h1m2 0h2m2 0h1m1 0h2m3 0h3m4 0h1m1 0h1m2 0h3m3 0h2m2 0h1m4 0h2m1 0h1m3 0h1m2 0h1m4 0h1m1 0h3m2 0h2m4 0h2m4 0h1m1 0h4m1 0h2m3 0h1m2 0h1m-177 1h1m2 0h1m1 0h1m3 0h2m1 0h2m2 0h4m1 0h1m2 0h4m2 0h2m1 0h1m1 0h1m2 0h2m1 0h4m4 0h1m2 0h1m2 0h1m5 0h2m2 0h2m1 0h1m1 0h1m1 0h1m4 0h1m1 0h1m4 0h1m1 0h2m1 0h2m1 0h2m2 0h4m1 0h4m5 0h1m2 0h1m5 0h2m1 0h1m1 0h3m2 0h2m2 0h2m1 0h2m1 0h2m1 0h1m1 0h4m1 0h2m4 0h2m1 0h1m2 0h1m3 0h1m2 0h2m4 0h1m-174 1h2m1 0h1m1 0h2m1 0h2m1 0h1m3 0h2m1 0h3m1 0h5m2 0h1m1 0h1m8 0h1m1 0h1m2 0h1m2 0h4m3 0h3m5 0h5m1 0h1m2 0h2m4 0h1m2 0h1m1 0h1m1 0h1m5 0h2m1 0h1m5 0h1m1 0h1m1 0h3m1 0h1m2 0h1m2 0h3m2 0h2m2 0h2m2 0h5m1 0h3m2 0h1m2 0h2m1 0h6m1 0h2m2 0h2m1 0h1m2 0h1m1 0h2m2 0h1m2 0h3m-171 1h1m1 0h1m1 0h1m1 0h2m1 0h1m3 0h1m2 0h2m1 0h5m3 0h3m2 0h1m2 0h1m1 0h1m2 0h1m1 0h1m1 0h2m2 0h1m3 0h2m1 0h1m2 0h1m2 0h1m2 0h2m1 0h2m3 0h3m1 0h5m1 0h8m1 0h1m3 0h1m2 0h4m1 0h1m2 0h2m1 0h1m1 0h1m4 0h2m1 0h1m1 0h1m1 0h1m1 0h1m3 0h1m1 0h1m2 0h1m2 0h1m1 0h1m2 0h1m1 0h3m2 0h2m1 0h1m1 0h1m6 0h1m1 0h2m1 0h1m1 0h1m1 0h2m1 0h1m-176 1h1m3 0h2m1 0h2m2 0h1m1 0h6m1 0h3m2 0h1m1 0h4m1 0h3m1 0h8m1 0h1m2 0h1m1 0h3m2 0h2m2 0h1m2 0h2m2 0h1m4 0h2m2 0h2m1 0h1m3 0h1m1 0h2m2 0h4m2 0h4m2 0h1m4 0h4m2 0h2m1 0h1m2 0h3m3 0h2m1 0h2m2 0h1m1 0h1m3 0h2m1 0h2m1 0h2m3 0h1m3 0h1m2 0h2m3 0h1m3 0h1m1 0h3m1 0h2m2 0h2m-175 1h1m1 0h2m2 0h2m2 0h3m1 0h2m2 0h1m1 0h1m5 0h3m1 0h2m1 0h2m2 0h2m3 0h1m2 0h5m2 0h1m1 0h1m1 0h2m1 0h6m4 0h2m1 0h2m3 0h3m1 0h1m4 0h1m3 0h2m4 0h2m1 0h3m2 0h1m1 0h1m1 0h1m2 0h2m4 0h2m1 0h1m3 0h3m3 0h1m2 0h2m2 0h2m2 0h2m1 0h1m1 0h1m1 0h1m1 0h1m1 0h2m1 0h3m1 0h1m1 0h1m2 0h1m1 0h1m1 0h1m1 0h1m1 0h2m1 0h1m-177 1h1m2 0h1m2 0h3m2 0h2m1 0h1m3 0h4m1 0h1m1 0h1m1 0h1m2 0h1m1 0h1m1 0h3m3 0h2m1 0h2m2 0h2m1 0h2m3 0h1m2 0h3m1 0h1m1 0h2m2 0h1m1 0h2m1 0h1m2 0h4m1 0h1m1 0h2m1 0h2m4 0h1m6 0h2m1 0h5m1 0h4m4 0h4m1 0h3m1 0h1m3 0h1m1 0h1m1 0h1m1 0h1m3 0h3m2 0h1m2 0h6m2 0h2m2 0h1m3 0h2m2 0h1m1 0h2m2 0h4m-177 1h5m2 0h1m1 0h5m1 0h1m3 0h2m3 0h2m1 0h1m3 0h1m6 0h2m2 0h1m3 0h1m7 0h1m1 0h1m1 0h1m5 0h5m1 0h2m1 0h1m2 0h1m1 0h1m1 0h1m2 0h4m4 0h3m1 0h1m1 0h1m5 0h1m2 0h2m2 0h1m1 0h3m1 0h2m2 0h4m2 0h2m1 0h4m1 0h3m1 0h2m2 0h2m1 0h1m2 0h1m1 0h1m1 0h1m1 0h3m1 0h1m1 0h7m1 0h4m1 0h1m1 0h1m-175 1h1m1 0h1m1 0h2m6 0h4m5 0h5m1 0h2m3 0h1m1 0h3m3 0h1m4 0h1m1 0h1m1 0h4m2 0h1m3 0h6m1 0h1m4 0h1m1 0h1m10 0h1m1 0h1m1 0h2m3 0h1m3 0h1m1 0h1m1 0h1m2 0h3m2 0h2m1 0h3m2 0h5m4 0h1m2 0h1m3 0h3m1 0h2m1 0h1m2 0h5m1 0h3m2 0h4m1 0h1m4 0h2m1 0h1m3 0h2m1 0h1m-176 1h5m3 0h1m2 0h1m2 0h4m1 0h1m1 0h2m1 0h1m1 0h1m2 0h1m1 0h1m1 0h2m2 0h2m1 0h1m2 0h1m2 0h1m6 0h1m1 0h1m3 0h1m1 0h4m3 0h6m2 0h1m7 0h5m1 0h2m1 0h2m4 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h3m2 0h8m1 0h3m1 0h2m3 0h2m2 0h3m8 0h1m1 0h1m4 0h2m1 0h1m1 0h1m1 0h10m-167 1h1m1 0h1m4 0h2m1 0h2m4 0h1m5 0h1m2 0h1m1 0h2m3 0h1m3 0h1m1 0h2m1 0h1m2 0h1m2 0h2m2 0h1m2 0h4m3 0h1m1 0h2m1 0h3m1 0h1m1 0h2m2 0h2m2 0h2m2 0h2m1 0h1m1 0h1m1 0h1m3 0h4m4 0h1m3 0h2m1 0h2m2 0h1m3 0h1m2 0h2m1 0h4m4 0h2m2 0h2m3 0h2m1 0h1m3 0h1m1 0h1m2 0h1m1 0h3m2 0h2m3 0h1m2 0h1m1 0h3m-174 1h2m3 0h1m1 0h1m4 0h1m1 0h1m3 0h2m2 0h1m1 0h1m1 0h2m1 0h2m3 0h1m2 0h2m2 0h1m2 0h5m2 0h1m4 0h1m2 0h5m2 0h2m1 0h1m1 0h2m1 0h9m2 0h1m1 0h1m1 0h1m3 0h1m2 0h2m1 0h2m1 0h1m1 0h2m1 0h4m1 0h4m1 0h4m1 0h3m4 0h1m4 0h5m3 0h4m1 0h2m2 0h2m2 0h3m1 0h1m2 0h1m1 0h2m1 0h1m1 0h3m1 0h1m-177 1h3m2 0h2m1 0h4m1 0h1m3 0h6m3 0h1m2 0h3m2 0h3m2 0h1m1 0h2m3 0h1m1 0h6m1 0h1m2 0h1m2 0h3m1 0h1m1 0h3m1 0h1m5 0h1m1 0h1m2 0h1m1 0h1m1 0h1m1 0h1m4 0h2m2 0h1m3 0h2m1 0h2m2 0h1m2 0h4m2 0h1m1 0h2m2 0h1m1 0h2m6 0h2m5 0h2m1 0h1m1 0h4m2 0h1m1 0h1m1 0h2m3 0h4m1 0h2m1 0h2m3 0h2m1 0h1m-174 1h1m5 0h1m2 0h4m2 0h1m1 0h1m2 0h2m1 0h4m1 0h4m1 0h1m1 0h1m1 0h1m1 0h3m2 0h4m1 0h3m2 0h4m7 0h1m2 0h1m3 0h3m1 0h5m1 0h1m1 0h1m4 0h1m3 0h1m1 0h2m1 0h1m14 0h1m2 0h1m3 0h6m1 0h1m13 0h1m1 0h2m1 0h1m2 0h1m1 0h2m1 0h2m1 0h1m3 0h1m2 0h4m-170 1h1m1 0h1m1 0h6m1 0h1m3 0h2m4 0h2m2 0h14m1 0h1m1 0h3m3 0h2m1 0h1m1 0h1m1 0h6m1 0h3m4 0h1m1 0h2m2 0h1m1 0h1m2 0h1m2 0h5m1 0h1m1 0h1m1 0h1m1 0h1m1 0h2m1 0h2m4 0h2m1 0h1m1 0h5m1 0h3m7 0h1m1 0h2m1 0h2m3 0h7m3 0h2m1 0h1m3 0h1m3 0h2m2 0h2m2 0h7m2 0h1m-169 1h1m2 0h3m5 0h4m3 0h1m1 0h1m3 0h1m2 0h1m1 0h2m5 0h4m1 0h1m4 0h3m3 0h1m7 0h1m1 0h4m2 0h2m1 0h1m2 0h1m1 0h1m3 0h5m3 0h2m4 0h1m1 0h1m2 0h1m3 0h2m3 0h1m1 0h3m1 0h1m1 0h1m1 0h1m2 0h2m2 0h1m2 0h1m1 0h1m1 0h1m3 0h3m1 0h4m3 0h2m1 0h4m6 0h1m3 0h5m-177 1h7m2 0h1m1 0h1m2 0h1m1 0h1m3 0h2m2 0h1m1 0h3m1 0h1m1 0h4m1 0h2m6 0h2m2 0h2m1 0h1m3 0h1m1 0h1m1 0h3m1 0h1m1 0h1m2 0h1m1 0h6m1 0h2m3 0h2m1 0h1m1 0h1m6 0h1m1 0h4m2 0h3m2 0h1m1 0h1m1 0h1m1 0h1m1 0h1m1 0h7m2 0h1m2 0h1m1 0h1m1 0h4m2 0h1m1 0h1m1 0h6m7 0h2m2 0h2m1 0h3m1 0h1m1 0h1m1 0h2m1 0h1m-176 1h1m5 0h1m1 0h1m3 0h4m1 0h1m2 0h6m2 0h1m3 0h1m2 0h3m1 0h1m1 0h1m1 0h1m3 0h2m2 0h3m1 0h2m3 0h1m2 0h1m1 0h1m1 0h3m1 0h1m1 0h1m2 0h1m1 0h1m1 0h3m1 0h1m3 0h3m6 0h1m4 0h4m3 0h1m1 0h2m3 0h2m1 0h2m3 0h3m4 0h1m1 0h3m2 0h3m3 0h2m1 0h2m2 0h1m1 0h2m2 0h1m2 0h2m1 0h3m2 0h1m3 0h2m2 0h1m-177 1h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h1m5 0h2m1 0h1m1 0h1m1 0h2m1 0h5m3 0h1m3 0h3m1 0h1m2 0h2m1 0h1m1 0h3m1 0h5m4 0h1m1 0h2m4 0h1m1 0h1m2 0h2m1 0h2m1 0h6m4 0h1m2 0h1m1 0h1m1 0h2m1 0h2m2 0h1m1 0h1m1 0h7m3 0h1m2 0h1m1 0h2m2 0h6m3 0h8m1 0h1m3 0h3m1 0h4m1 0h2m1 0h2m1 0h5m1 0h2m-176 1h1m1 0h3m1 0h1m3 0h1m1 0h1m1 0h2m1 0h2m1 0h1m5 0h1m2 0h4m2 0h1m1 0h3m3 0h4m1 0h5m2 0h3m1 0h1m1 0h3m1 0h1m2 0h1m1 0h6m2 0h1m1 0h2m1 0h1m2 0h1m2 0h4m2 0h1m1 0h1m6 0h1m2 0h1m1 0h1m7 0h3m2 0h2m2 0h2m2 0h5m1 0h2m1 0h1m1 0h1m1 0h1m1 0h1m6 0h1m1 0h1m4 0h1m1 0h3m1 0h1m1 0h1m1 0h1m1 0h1m3 0h2m-177 1h1m1 0h3m1 0h1m4 0h2m1 0h3m1 0h2m1 0h1m1 0h7m3 0h3m2 0h1m1 0h2m2 0h1m1 0h1m4 0h1m5 0h3m1 0h1m1 0h1m1 0h2m1 0h3m3 0h3m2 0h2m1 0h1m3 0h2m2 0h2m3 0h1m2 0h4m1 0h3m2 0h1m1 0h2m2 0h1m3 0h5m1 0h1m1 0h3m2 0h2m1 0h1m1 0h1m1 0h2m3 0h2m4 0h2m2 0h2m1 0h2m4 0h1m2 0h1m3 0h5m-174 1h1m5 0h1m1 0h1m1 0h1m2 0h3m1 0h4m4 0h1m1 0h4m9 0h4m1 0h1m1 0h4m1 0h1m4 0h2m2 0h1m2 0h1m3 0h3m5 0h3m3 0h1m4 0h2m2 0h7m2 0h4m1 0h3m1 0h1m1 0h2m1 0h3m3 0h2m4 0h4m3 0h3m1 0h1m2 0h1m2 0h2m2 0h1m3 0h6m2 0h2m5 0h1m2 0h1m3 0h2m-175 1h7m1 0h1m4 0h2m2 0h2m3 0h2m1 0h2m2 0h3m3 0h2m1 0h1m1 0h1m1 0h3m1 0h4m1 0h1m1 0h1m4 0h1m1 0h1m2 0h1m1 0h7m1 0h1m1 0h1m2 0h1m2 0h1m1 0h2m2 0h5m1 0h1m2 0h5m1 0h3m1 0h3m2 0h3m3 0h1m1 0h2m1 0h1m1 0h6m1 0h2m3 0h1m1 0h1m1 0h1m5 0h1m4 0h2m5 0h2m3 0h1m1 0h1m1 0h1m3 0h1m4 0h1&quot; /&gt;
    &lt;/g&gt;

  &lt;/defs&gt;
&lt;/svg&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:log&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The average number of output characters required for each input is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;log(size of input alphabet) / log(size of output alphabet)&lt;/code&gt;. For instance, for encoding bytes to decimal, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;log(256) / log(10) = log10(256) = 2.4082…&lt;/code&gt;. &lt;a href=&quot;#fnref:log&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:kanji-count&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The 8189 count was computed by this Python one-liner: &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;len({(diff &amp;gt;&amp;gt; 8) * 0xc0 + (diff &amp;amp; 0xff) for diff in [*(code - 0x8140 for code in range(0x8140, 0x9ffc+1)), *(code - 0xc140 for code in range(0xe040, 0xebbf+1))]})&lt;/code&gt;. It naively computes the number of unique outputs of Segno’s &lt;a href=&quot;https://github.com/heuer/segno/blob/cc574eb5477c248178699e4a2c675617e71b9b43/segno/encoder.py#L1089-L1105&quot;&gt;Kanji encoder&lt;/a&gt;, assuming that all inputs from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0x8140&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;09FFC&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0xE040&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0xEBBF&lt;/code&gt; are valid. &lt;a href=&quot;#fnref:kanji-count&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:other-modes&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;This only uses two of the modes: what about Alphanumeric and Kanji? According to &lt;a href=&quot;https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;encodeURIComponent&lt;/code&gt;&lt;/a&gt; the largest subset of Alphanumeric that’s URL safe is only 39 characters (0–9, A–Z, *-.), and losing 5 characters introduces an additional 3.9% overhead, similar to how going from 256 characters to 64 for base64 has 33% overhead. It seems like Kanji are similarly not URL safe, and thus violate that requirement too. &lt;a href=&quot;#fnref:other-modes&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:other-bases&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;This table shows the values for all those options, including the results on the example JSON data, sorted by overhead / storage size:&lt;/p&gt;

      &lt;table&gt;
        &lt;thead&gt;
          &lt;tr&gt;
            &lt;th&gt;base&lt;/th&gt;
            &lt;th&gt;mode&lt;/th&gt;
            &lt;th&gt;overhead&lt;/th&gt;
            &lt;th style=&quot;text-align: right&quot;&gt;example encoding&lt;/th&gt;
            &lt;th style=&quot;text-align: right&quot;&gt;example QR storage (bytes)&lt;/th&gt;
            &lt;th style=&quot;text-align: right&quot;&gt;example QR version&lt;/th&gt;
          &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
          &lt;tr&gt;
            &lt;td&gt;10&lt;/td&gt;
            &lt;td&gt;Numeric&lt;/td&gt;
            &lt;td&gt;0.35%&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;285 digits&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;119&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;14&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td&gt;39&lt;/td&gt;
            &lt;td&gt;Alphanumeric&lt;/td&gt;
            &lt;td&gt;3.9%&lt;br /&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;log(45) / log(39) - 1&lt;/code&gt;&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;179 chars&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;124&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;14&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Base36&quot;&gt;36&lt;/a&gt;&lt;/td&gt;
            &lt;td&gt;Alphanumeric&lt;/td&gt;
            &lt;td&gt;6.2%&lt;br /&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;log(45) / log(36) - 1&lt;/code&gt;&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;183 chars&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;126&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;15&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Base32&quot;&gt;32&lt;/a&gt;&lt;/td&gt;
            &lt;td&gt;Alphanumeric&lt;/td&gt;
            &lt;td&gt;10%&lt;br /&gt;5 bits into 1 char (5.5 bits)&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;189 chars&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;130&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;15&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td&gt;8&lt;br /&gt;&lt;em&gt;bits&lt;/em&gt;&lt;/td&gt;
            &lt;td&gt;Numeric&lt;/td&gt;
            &lt;td&gt;11%&lt;br /&gt;3 bits into 1 digit (3.33 bits)&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;315 digits&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;132&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;15&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td&gt;8&lt;br /&gt;&lt;em&gt;bytes&lt;/em&gt;&lt;/td&gt;
            &lt;td&gt;Numeric&lt;/td&gt;
            &lt;td&gt;25%&lt;br /&gt;8 bits into 3 digits (10 bits)&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;354 digits&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;148&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;15&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td&gt;64&lt;/td&gt;
            &lt;td&gt;Binary&lt;/td&gt;
            &lt;td&gt;33%&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;160 chars&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;160&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;16&lt;/td&gt;
          &lt;/tr&gt;
          &lt;tr&gt;
            &lt;td&gt;16&lt;/td&gt;
            &lt;td&gt;Alphanumeric&lt;/td&gt;
            &lt;td&gt;37.5%&lt;br /&gt;1 byte (8 bits) into 2 chars (11 bits)&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;236 digits&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;163&lt;/td&gt;
            &lt;td style=&quot;text-align: right&quot;&gt;16&lt;/td&gt;
          &lt;/tr&gt;
        &lt;/tbody&gt;
      &lt;/table&gt;

      &lt;p&gt;There’s two variants of base 8: encoding each byte as its own 3 digit base-8 number (&lt;em&gt;bytes&lt;/em&gt;), or ignoring byte boundaries and encoding 3 bits at a time (&lt;em&gt;bits&lt;/em&gt;) which is similar to how base 10 and base 36 work. This was &lt;a href=&quot;https://news.ycombinator.com/item?id=39905843&quot;&gt;suggested by a reader&lt;/a&gt;.&lt;/p&gt;

      &lt;p&gt;Base 39 is maximal URL-safe subset of the Alphanumeric character set&lt;sup id=&quot;fnref:other-modes:1&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:other-modes&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;. &lt;a href=&quot;#fnref:other-bases&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:optimisation&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;In the QR code standard (ISO/IEC 18004:2015(E)), Annex J “Optimisation of bit stream length” suggests a method to automatically split up an input stream to optimise the modes, so a sufficiently smart library could just take a single string and arrange the segments itself. &lt;a href=&quot;#fnref:optimisation&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Mechanical sympathy for QR codes: making NSW check-in better</title>
            <link>https://huonw.github.io/blog/2021/10/nsw-covid-qr/</link>
            <pubDate>Wed, 13 Oct 2021 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2021/10/nsw-covid-qr</guid>
            <description>&lt;p&gt;Governments here in Australia have been telling us to keep distance from each other. Surprisingly, the same government has simultaneously put out posters that required people to get close, unnecessarily. They contain QR codes for contact-tracing check-ins that are small and dense, meaning they’re hard to scan. How could they be better?&lt;/p&gt;

&lt;p&gt;Here’s how:&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;qr-poster-comparison-three.png&quot; style=&quot;text-decoration: none&quot;&gt;
      

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;1893&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 1893 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;Three pages placed horizontally. They all contain a &apos;we&apos;re covid safe&apos; logo, text like &apos;please check in before entering our premises.&apos; and a QR code. The left-most one labelled &apos;original&apos; in red has a very small QR and dense code; the centre one labelled &apos;works now&apos; in green has a much larger QR code that&apos;s slightly less dense; the right-most one labelled &apos;with planning&apos; in orange also has a large QR code, that is much less dense.&lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;619&quot;&gt;
    
    

    &lt;g transform=&quot;translate(0 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;&quot; /&gt;
      &lt;use href=&quot;#poster-page-original&quot; xlink:href=&quot;#poster-page-original&quot; class=&quot;&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v16-H-original&quot; xlink:href=&quot;#qr-code-v16-H-original&quot; class=&quot; qr-poster-original&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(619 0)&quot; data-width=&quot;619&quot;&gt;
    
    

    &lt;g transform=&quot;translate(0 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v11-Q-works-in-app&quot; xlink:href=&quot;#qr-code-v11-Q-works-in-app&quot; class=&quot; qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(1238 0)&quot; data-width=&quot;619&quot;&gt;
    
    

    &lt;g transform=&quot;translate(0 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v05-Q-optimized-offline&quot; xlink:href=&quot;#qr-code-v05-Q-optimized-offline&quot; class=&quot; qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;text class=&quot;hovering-text-poster bad&quot; dx=&quot;0&quot; filter=&quot;url(#blur-text)&quot;&gt;original&lt;/text&gt;
&lt;text class=&quot;hovering-text-poster good&quot; dx=&quot;619&quot; filter=&quot;url(#blur-text)&quot;&gt;works now&lt;/text&gt;
&lt;text class=&quot;hovering-text-poster okay&quot; dx=&quot;1238&quot; filter=&quot;url(#blur-text)&quot;&gt;optimised&lt;/text&gt;

&lt;/svg&gt;

    &lt;/a&gt;
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;p&gt;The central one labelled “works now” could be rolled out right now. The existing native app &lt;strong&gt;can understand that poster&lt;/strong&gt;, so if the NSW government switched to issuing something like that, life is magically easier for everyone. The “optimised” poster shows what could’ve been, if the QR code was optimised to the extreme, when the feature was initially deployed into the app.&lt;/p&gt;

&lt;p&gt;In this article, we’ll walk through how to get to that point, touching on:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the contents of the current check-in QR codes and how they function&lt;/li&gt;
  &lt;li&gt;the workings of QR codes in general (error correction, versions and encoding modes)&lt;/li&gt;
  &lt;li&gt;a walk-through of optimising the data stored in a QR code&lt;/li&gt;
  &lt;li&gt;the security of these QR codes&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Let’s learn some general lessons for using/designing QR codes by looking at this specific example.&lt;/p&gt;

&lt;aside data-icon=&quot;⚠️&quot;&gt;

There&apos;s been a lot written about whether these QR codes/contact tracing is government overreach and about the governmental response to the pandemic more generally, and I am not adding to that here: these QR codes serve as an easy example of the technology.

&lt;/aside&gt;

&lt;h2 id=&quot;what-are-you-writing-about&quot;&gt;What are you writing about?&lt;/h2&gt;

&lt;p&gt;Almost every shopfront here in NSW and even across Australia has an A4 page with a QR code hidden in it. Customers entering need to scan to register their presence for contact tracing, which (if they’ve installed it) pushes them into the Service NSW app. The design is clever in some ways, but seemingly not so clever in other ways.&lt;/p&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;qr-poster-original.pdf&quot; style=&quot;text-decoration: none&quot;&gt;
      

&lt;input class=&quot;poster-switch-checkbox&quot; type=&quot;checkbox&quot; id=&quot;checkbox-0&quot; checked=&quot;&quot; /&gt;
&lt;label class=&quot;poster-switch-label&quot; for=&quot;checkbox-0&quot;&gt;
  Switch to &lt;strong&gt;
    &lt;span class=&quot;poster-switch-posters&quot;&gt;poster&lt;/span&gt;
    &lt;span class=&quot;poster-switch-codes&quot;&gt;code only&lt;/span&gt;
  &lt;/strong&gt;
&lt;/label&gt;

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;1376&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 1376 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;An image with two panels. On the left, a page as above with text like &apos;please check in before entering our premises&apos;. On the right, a screenshot of a mobile app: the page is titled &apos;COVID Safe Check-in&apos;, there&apos;s an info box saying &apos;Checking in to Test NSW Government QR code&apos;  &lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-original&quot; xlink:href=&quot;#poster-page-original&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v16-H-original&quot; xlink:href=&quot;#qr-code-v16-H-original&quot; class=&quot;switchable-qr qr-poster-original&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;image x=&quot;866&quot; height=&quot;842&quot; width=&quot;474&quot; xlink:href=&quot;service-nsw-scan.png&quot; href=&quot;service-nsw-scan.png&quot; /&gt;

&lt;/svg&gt;

    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;The check-in poster and the view of the Service NSW app after scanning it. &lt;a href=&quot;qr-poster-original.pdf&quot;&gt;Tap to view the poster alone (PDF)&lt;/a&gt;.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The QR code encodes a rather long URL: &lt;a href=&quot;https://www.service.nsw.gov.au/campaign/service-nsw-mobile-app?data=eyJ0IjoiY292aWQxOV9idXNpbmVzcyIsImJpZCI6IjEyMTMyMSIsImJuYW1lIjoiVGVzdCBOU1cgR292ZXJubWVudCBRUiBjb2RlIiwiYmFkZHJlc3MiOiJCdXNpbmVzcyBhZGRyZXNzIGdvZXMgaGVyZSAifQ==&quot;&gt;&lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;https://www.service.nsw.gov.au/campaign/service-nsw-mobile-app?data=eyJ0IjoiY292aWQxOV9idXNpbmVzcyIsImJpZCI6IjEyMTMyMSIsImJuYW1lIjoiVGVzdCBOU1cgR292ZXJubWVudCBRUiBjb2RlIiwiYmFkZHJlc3MiOiJCdXNpbmVzcyBhZGRyZXNzIGdvZXMgaGVyZSAifQ==&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To fit all this in, it has to be dense: it has 81 modules (little squares) along each side, meaning it’s version 16.&lt;/p&gt;

&lt;aside data-icon=&quot;ℹ️&quot;&gt;

QR codes come in 40 different sizes, called &lt;strong&gt;versions&lt;/strong&gt;, starting with only 21 modules along each side at version 1 and increasing by four for each version: 25 for version 2, 29 for version 3, …, up to 177 for version 40.

&lt;/aside&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eyJ0…fQ==&lt;/code&gt; value of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;data&lt;/code&gt; parameter looks like it might be encoded with &lt;a href=&quot;https://en.wikipedia.org/wiki/Base64&quot;&gt;base64&lt;/a&gt;, and indeed, if we try decoding it under that assumption, we find some structured JSON:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;t&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;covid19_business&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;bid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;121321&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;bname&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Test NSW Government QR code&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;baddress&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Business address goes here &quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Putting those keys into words, we can guess that each QR code tells us:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;t&lt;/code&gt;: it’s a COVID-19 check-in code&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bid&lt;/code&gt;: an identifier for the business&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bname&lt;/code&gt;: the business name&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;baddress&lt;/code&gt;: the business address (this is a test QR code, but in real QR codes it looks something like “123 Street, Suburb NSW”)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;evaluation&quot;&gt;Evaluation&lt;/h2&gt;

&lt;p&gt;These QR code posters have some great attributes:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;They &lt;strong&gt;exist&lt;/strong&gt; at all: the contact tracing situation was a mess until the Service NSW codes were rolled out and made mandatory. Some venues would require hand written entries, others would require entering personal information into random websites (of varying ease-of-use). Now, it’s a single app that remembers your details.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Using a URL&lt;/strong&gt; (rather than just raw data) means they can be usefully interpreted by any scanner, such as a phone’s camera, rather than requiring scanning with a specific app.&lt;/li&gt;
  &lt;li&gt;There’s a native app that could theoretically be used to do an &lt;strong&gt;offline check-in&lt;/strong&gt; when there’s no internet access, for later syncing… although this doesn’t actually work in practice, with the current app. The QR code contains enough info to still &lt;strong&gt;display a confirmation&lt;/strong&gt; to the user, so they know they scanned what they expected.&lt;/li&gt;
  &lt;li&gt;The use of &lt;strong&gt;high error correction&lt;/strong&gt; means they’re theoretically resilient to ‘damage’, like reflections off lamination or windows, or even dirt and holes.&lt;/li&gt;
  &lt;li&gt;The poster &lt;strong&gt;explains&lt;/strong&gt; how to scan the code (it seems unthinkable now, but these codes were introduced into a world where QR codes were &lt;em&gt;not&lt;/em&gt; instantly recognisable).&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;service-nsw-scan-header.png&quot;&gt;
      &lt;img src=&quot;service-nsw-scan-header.png&quot; alt=&quot;An image containing a crop of only the top region of the Service NSW app screenshot above. It focuses on the page title &apos;COVID Safe Check-in&apos; and a box that says &apos;Checking in to Test NSW Government QR code&apos; and &apos;Not the right venue? scan again&apos;.&quot; width=&quot;800&quot; height=&quot;392&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;The Service NSW app shows the venue name when checking in, even offline.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;On the other hand, they could be better:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;The QR code is physically tiny.&lt;/li&gt;
  &lt;li&gt;Using the highest level of error correction might be taking things a little far.&lt;/li&gt;
  &lt;li&gt;The URL could be formatted better to take advantage of how QR codes are constructed.&lt;/li&gt;
  &lt;li&gt;There’s unnecessary data stored in the URL.&lt;/li&gt;
  &lt;li&gt;The URL could be much shorter overall.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Let’s go through these, and see what difference they can make. We’ll ignore the realities of actually implementing these in the context of a real and existing app/infrastructure, which can change the appropriate technical decisions dramatically.&lt;/p&gt;

&lt;h2 id=&quot;bigger-qr-code&quot;&gt;Bigger QR code&lt;/h2&gt;

&lt;p&gt;The QR code is small in the poster. When printed at the default A4&lt;sup id=&quot;fnref:a4&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:a4&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;, it’s only ~5cm (2 inches) on each side, which means about &lt;strong&gt;less than 5%&lt;/strong&gt; of the total page area is QR code, but that’s what people need to interact with.&lt;/p&gt;

&lt;p&gt;Making it larger would make it much easier to scan, and doesn’t change anything about the QR code itself, so will definitely continue to work with the existing app. I imagine that most people in NSW are familiar with how to use the codes now, so the instructions could be de-emphasised.&lt;/p&gt;

&lt;p&gt;I did some really quick shuffling and resizing of the page elements, without editing or reflowing text (just deleting the blue box around the code&lt;sup id=&quot;fnref:quiet-zone&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:quiet-zone&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;), and it’s definitely possible to have the code be bigger. It could be even larger still with a little more editing elbow-grease applied.&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    
      

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;1274&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 1274 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;Two pages placed horizontally. As above, they both contain a &apos;we&apos;re covid safe&apos; logo, text like &apos;please check in before entering our premises.&apos; and a QR code. The left-most one labelled &apos;original&apos; has a very small QR and dense code; the right one labelled &apos;rearranged&apos; has a much larger QR code with the surrounding text rearranged slightly.&lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;619&quot;&gt;
    
    

    &lt;g transform=&quot;translate(0 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;&quot; /&gt;
      &lt;use href=&quot;#poster-page-original&quot; xlink:href=&quot;#poster-page-original&quot; class=&quot;&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v16-H-original&quot; xlink:href=&quot;#qr-code-v16-H-original&quot; class=&quot; qr-poster-original&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(619 0)&quot; data-width=&quot;619&quot;&gt;
    
    

    &lt;g transform=&quot;translate(0 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v16-H-original&quot; xlink:href=&quot;#qr-code-v16-H-original&quot; class=&quot; qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;text class=&quot;hovering-text-poster bad&quot; dx=&quot;0&quot; filter=&quot;url(#blur-text)&quot;&gt;original&lt;/text&gt;
&lt;text class=&quot;hovering-text-poster good&quot; dx=&quot;619&quot; filter=&quot;url(#blur-text)&quot;&gt;rearranged&lt;/text&gt;

&lt;/svg&gt;

    
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;p&gt;When printed on an A4 page, the code in the new version is 16cm on each side, more than three times larger, and so can probably be scanned from &lt;strong&gt;three times further away&lt;/strong&gt;. It now consumes ~40% of the page area.&lt;/p&gt;

&lt;p&gt;(After publishing, &lt;a href=&quot;https://news.ycombinator.com/item?id=28847827&quot;&gt;several&lt;/a&gt; &lt;a href=&quot;https://twitter.com/nickzoic/status/1448429172242587649&quot;&gt;people&lt;/a&gt; pointed out that truly huge QR codes seem to cause difficulties with scanning in practice in some cases. One would need to actually test the design in practice to validate a particular size.)&lt;/p&gt;

&lt;h2 id=&quot;better-qr-code&quot;&gt;Better QR code&lt;/h2&gt;

&lt;p&gt;We’ve done the easiest step of making the QR larger, let’s now make the QR code within the overall poster better. Here’s the sequence of changes we’ll apply, moving from left to right and top to bottom. The codes get simpler, with larger modules (little squares), and thus become easier to scan.&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    
      

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;2634&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 2634 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;Three QR codes placed horizontally. They get less dense from left to right, and are labelled: &apos;original&apos; in red, &apos;error correction Q&apos; in orange, &apos;without address&apos; in orange.&lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-original&quot; xlink:href=&quot;#poster-page-original&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v16-H-original&quot; xlink:href=&quot;#qr-code-v16-H-original&quot; class=&quot;switchable-qr qr-poster-original&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(866 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v13-Q-original&quot; xlink:href=&quot;#qr-code-v13-Q-original&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(1732 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v11-Q-works-in-app&quot; xlink:href=&quot;#qr-code-v11-Q-works-in-app&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;text class=&quot;hovering-text-qr bad&quot; dx=&quot;0&quot; filter=&quot;url(#blur-text)&quot;&gt;original&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr okay&quot; dx=&quot;866&quot; filter=&quot;url(#blur-text)&quot;&gt;error correction Q&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr okay&quot; dx=&quot;1732&quot; filter=&quot;url(#blur-text)&quot;&gt;remove address&lt;/text&gt;

&lt;/svg&gt;

    
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    
      

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;2634&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 2634 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;Three QR codes placed horizontally. They get less dense from left to right, and are labelled: &apos;better encoding&apos; in orange, &apos;short path&apos; in green, &apos;remove name&apos; in orange, &lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v07-Q-path-encoding&quot; xlink:href=&quot;#qr-code-v07-Q-path-encoding&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(866 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v05-Q-short-path&quot; xlink:href=&quot;#qr-code-v05-Q-short-path&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(1732 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v02-Q-optimized-tiny&quot; xlink:href=&quot;#qr-code-v02-Q-optimized-tiny&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;text class=&quot;hovering-text-qr okay&quot; dx=&quot;0&quot; filter=&quot;url(#blur-text)&quot;&gt;better encoding&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr good&quot; dx=&quot;866&quot; filter=&quot;url(#blur-text)&quot;&gt;short path&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr okay&quot; dx=&quot;1732&quot; filter=&quot;url(#blur-text)&quot;&gt;remove name&lt;/text&gt;

&lt;/svg&gt;

    
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;p&gt;We’ll see how the “short path” QR code in green retains all of the valuable properties we identified above, including simple offline check-in support. The “remove name” code is even simpler, and is what is possible if we compromise offline check-ins nicely.&lt;/p&gt;

&lt;h3 id=&quot;less-error-correction&quot;&gt;Less error correction&lt;/h3&gt;

&lt;p&gt;The QR code uses the highest error correction (EC) level: H. As explored in &lt;a href=&quot;/blog/2021/09/qr-error-correction/&quot;&gt;&lt;em&gt;QR error correction helps and hinders scanning&lt;/em&gt;&lt;/a&gt;, there’s four levels of error correction, and they correspond to how many modules can be corrupted and still have the QR code scannable. They also influence how much data can be stored:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;EC level&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;max damage&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;data storage (vs. L)&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;H (high)&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;30%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;43%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Q (quartile)&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;25%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;57%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;M (medium)&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;15%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;79%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;L (low)&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;7%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;100%&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;I imagine that most codes are placed in relatively non-hostile environments (indoors, or at least under cover), so the use of EC level H could be reduced, or made configurable. Dropping down one level, to Q, reduces the version from 16 to 13, making each module (small square) larger—17% more area—and thus the overall QR code easier to scan.&lt;/p&gt;

&lt;p&gt;Dropping further makes the modules larger, although the biggest win comes from moving from H to Q, and each lower level is less resilient.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;EC level&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;version&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;module size (vs. H)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;vs. previous&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;H&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;16&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;-&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;-&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Q&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;13&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;+17%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;+17%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;M&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;11&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;+33%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;+13%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;L&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;9&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;+53%&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;+15%&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This also doesn’t change anything about the data that is encoded, and so should continue to work with the existing app.&lt;/p&gt;

&lt;p&gt;We do want these codes to be reasonably resilient to damage, so let’s &lt;strong&gt;choose Q&lt;/strong&gt;.&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    
      

&lt;input class=&quot;poster-switch-checkbox&quot; type=&quot;checkbox&quot; id=&quot;checkbox-1&quot; /&gt;
&lt;label class=&quot;poster-switch-label&quot; for=&quot;checkbox-1&quot;&gt;
  Switch to &lt;strong&gt;
    &lt;span class=&quot;poster-switch-posters&quot;&gt;posters&lt;/span&gt;
    &lt;span class=&quot;poster-switch-codes&quot;&gt;codes only&lt;/span&gt;
  &lt;/strong&gt;
&lt;/label&gt;

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;3500&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 3500 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;Four QR codes placed horizontally. They get less dense from left to right, and are labelled: H in red, Q in green, M in orange and L in orange.&lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v16-H-original&quot; xlink:href=&quot;#qr-code-v16-H-original&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(866 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v13-Q-original&quot; xlink:href=&quot;#qr-code-v13-Q-original&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(1732 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v11-M-original&quot; xlink:href=&quot;#qr-code-v11-M-original&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(2598 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v09-L-original&quot; xlink:href=&quot;#qr-code-v09-L-original&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;text class=&quot;hovering-text-qr bad big&quot; dx=&quot;0&quot; filter=&quot;url(#blur-text)&quot;&gt;H&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr good big&quot; dx=&quot;866&quot; filter=&quot;url(#blur-text)&quot;&gt;Q&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr okay big&quot; dx=&quot;1732&quot; filter=&quot;url(#blur-text)&quot;&gt;M&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr okay big&quot; dx=&quot;2598&quot; filter=&quot;url(#blur-text)&quot;&gt;L&lt;/text&gt;

&lt;/svg&gt;

    
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;h3 id=&quot;structure-of-the-url&quot;&gt;Structure of the URL&lt;/h3&gt;

&lt;p&gt;We’ve done the easiest parts, now we need to actually think about the data encoded in the QR code. Less data means a smaller version, which means larger modules and thus easier scanning. This QR code stores a URL that contains a large base64 JSON snippet. We can optimise in a few ways, some of which seem to work with existing apps, and some which don’t. We can look at the parts of the URL independently:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;scheme&lt;/strong&gt;: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;domain&lt;/strong&gt;: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;www.service.nsw.gov.au&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;path&lt;/strong&gt;: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;campaign/service-nsw-mobile-app&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;query&lt;/strong&gt;: &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;data=eyJ0IjoiY292aWQxOV9idXNpbmVzcyIsImJpZCI6IjEyMTMyMSIsImJuYW1lIjoiVGVzdCBOU1cgR292ZXJubWVudCBRUiBjb2RlIiwiYmFkZHJlc3MiOiJCdXNpbmVzcyBhZGRyZXNzIGdvZXMgaGVyZSAifQ==&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The simplest part to look at is the scheme, because there’s two options &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://&lt;/code&gt; and old-school &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;http://&lt;/code&gt;: we could save a character but it doesn’t seem worth dropping the encryption. Let’s leave it, and &lt;strong&gt;choose &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;https://&lt;/code&gt;&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id=&quot;less-data-remove-unnecessary-information&quot;&gt;Less data: remove unnecessary information&lt;/h3&gt;

&lt;p&gt;The lowest hanging fruit for actual change is in 4, the query. This query is currently a single parameter &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;data&lt;/code&gt; with value base64-encoded JSON value &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eyJ0…fQ==&lt;/code&gt; . The JSON includes a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;baddress&lt;/code&gt; field… I &lt;strong&gt;cannot find any place&lt;/strong&gt; in the app or website that displays this, and indeed removing it seems to function just fine. The resulting encoded JSON is &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;eyJ0IjoiY292aWQxOV9idXNpbmVzcyIsImJpZCI6IjEyMTMyMSIsImJuYW1lIjoiVGVzdCBOU1cgR292ZXJubWVudCBRUiBjb2RlIn0=&lt;/code&gt;, which is 104 characters, down from 160.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;JSON value&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;URL length&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;version at Q&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Original with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;baddress&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;228&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;13&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;New without &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;baddress&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;172&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;11&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Sounds good. Let’s &lt;strong&gt;choose to remove the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;baddress&lt;/code&gt; field&lt;/strong&gt;.&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    
      

&lt;input class=&quot;poster-switch-checkbox&quot; type=&quot;checkbox&quot; id=&quot;checkbox-2&quot; /&gt;
&lt;label class=&quot;poster-switch-label&quot; for=&quot;checkbox-2&quot;&gt;
  Switch to &lt;strong&gt;
    &lt;span class=&quot;poster-switch-posters&quot;&gt;posters&lt;/span&gt;
    &lt;span class=&quot;poster-switch-codes&quot;&gt;codes only&lt;/span&gt;
  &lt;/strong&gt;
&lt;/label&gt;

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;2634&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 2634 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;Three QR codes placed horizontally. The left two labelled &apos;original&apos; and &apos;previous&apos; have denser patterns than the right one labelled &apos;remove address&apos;.&lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-original&quot; xlink:href=&quot;#poster-page-original&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v16-H-original&quot; xlink:href=&quot;#qr-code-v16-H-original&quot; class=&quot;switchable-qr qr-poster-original&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(866 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v13-Q-original&quot; xlink:href=&quot;#qr-code-v13-Q-original&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(1732 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v11-Q-works-in-app&quot; xlink:href=&quot;#qr-code-v11-Q-works-in-app&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;text class=&quot;hovering-text-qr bad&quot; dx=&quot;0&quot; filter=&quot;url(#blur-text)&quot;&gt;original&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr okay&quot; dx=&quot;866&quot; filter=&quot;url(#blur-text)&quot;&gt;previous&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr good&quot; dx=&quot;1732&quot; filter=&quot;url(#blur-text)&quot;&gt;remove address&lt;/text&gt;

&lt;/svg&gt;

    
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;h3 id=&quot;modes-upper-casing&quot;&gt;Modes: upper-casing&lt;/h3&gt;

&lt;p&gt;QR codes encode the data in one of &lt;a href=&quot;https://en.wikipedia.org/wiki/QR_code#Storage&quot;&gt;four modes&lt;/a&gt;, based on the characters that the data contains:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Mode&lt;/th&gt;
      &lt;th&gt;Permitted characters&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Bits per character&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Numeric&lt;/td&gt;
      &lt;td&gt;0123456789&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;3.33&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Alphanumeric&lt;/td&gt;
      &lt;td&gt;0–9, A–Z, space, $%*+-./:&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;5.5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Binary&lt;/td&gt;
      &lt;td&gt;any byte&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;8&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Kanji&lt;/td&gt;
      &lt;td&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/JIS_X_0208&quot;&gt;Shift JIS X 0208&lt;/a&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;13&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Lower bits per character is better: it means we can fit more characters in a given space. Most data in URL QR codes will use the Binary mode, because there will typically be lowercase letters, but we can do better using the Alphanumeric one: a lot of components of a URL can be upper case without causing issues or changing the behaviour. For instance, the domain name is case-insensitive, and a lot of servers treat the path case-insensitively too. Base64 encoding is case-sensitive so we cannot upper-case.&lt;/p&gt;

&lt;p&gt;Fortunately, QR codes can encode the data &lt;strong&gt;in multiple segments with different modes&lt;/strong&gt;&lt;sup id=&quot;fnref:optimal&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:optimal&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;, so we can still benefit from this: the first part can be encoded in Alphanumeric, while the second part with the base64 value can be Binary.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;url&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;works with app&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;L&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Q&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Original:&lt;br /&gt;&lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;https://www.service.nsw.gov.au/campaign/service-nsw-mobile-app?data=eyJ…&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;yes&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;11&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Upper-case domain and scheme:&lt;br /&gt;&lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;HTTPS://WWW.SERVICE.NSW.GOV.AU/campaign/service-nsw-mobile-app?data=eyJ…&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;yes&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;11&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Only data lower-case:&lt;br /&gt;&lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;HTTPS://WWW.SERVICE.NSW.GOV.AU/CAMPAIGN/SERVICE-NSW-MOBILE-APP?DATA=eyJ…&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;no&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;7&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;11&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;The second option—upper-casing only the domain and scheme—is as far as we get and still (seemingly) &lt;strong&gt;work with existing app installations&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;The upper-casing of that option doesn’t happen to make a difference for the data we have here, although it does reduce the number of bits required total, so it may make a difference for some businesses where their name/ID happens to push them just above a version boundary.&lt;/p&gt;

&lt;p&gt;The last option—upper-casing everything except for the base64 value—also doesn’t make much difference at our chosen error correction level Q, but it does at others like L.&lt;/p&gt;

&lt;p&gt;Since we’re at the limit, we’re now going off into the world of imagination, where bureaucracy is made up and existing users don’t matter. So let’s &lt;strong&gt;lock in the last one&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id=&quot;less-data-encode-better&quot;&gt;Less data: encode better&lt;/h3&gt;

&lt;p&gt;Our URL now looks like: &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;HTTPS://WWW.SERVICE.NSW.GOV.AU/CAMPAIGN/SERVICE-NSW-MOBILE-APP?DATA=eyJ0IjoiY292aWQxOV9idXNpbmVzcyIsImJpZCI6IjEyMTMyMSIsImJuYW1lIjoiVGVzdCBOU1cgR292ZXJubWVudCBRUiBjb2RlIn0=&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The base64 JSON value &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eyJ0…In0=&lt;/code&gt; looks like it’s still worth thinking about: it now contains less data, but it’s still takes 70% of the storage in the QR code (880 bits out of 1256 total). It’s stored in the URL in a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;?DATA=&lt;/code&gt; query parameter, and the data it contains is:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;t&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;covid19_business&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;bid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;121321&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;bname&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Test NSW Government QR code&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Unfortunately there’s a lot of overhead from JSON (all the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;{&quot;:,&lt;/code&gt;s), and then even more overhead from base64.&lt;/p&gt;

&lt;p&gt;We can do better, because we’ve got simple textual data and simple values (plain strings). This means that we could pass the values in the URL directly, either via a query parameters, or in the path directly, which saves us a little overhead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;?N=…&lt;/code&gt;. We’ve already got the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/C&lt;/code&gt; in the URL to indicate a check-in, so we can probably drop the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;t&quot;: &quot;covid19_business&quot;&lt;/code&gt;, and our scheme here is very hand-crafted, so we can optimise the parameters down as much as we like.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;encoding&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;length&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Q&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Original, JSON + Base64:&lt;br /&gt;&lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;...?DATA=eyJ0…&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;172&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;11&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;URL parameters:&lt;br /&gt;&lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;...?T=COVID19_BUSINESS&amp;amp;BID=121321&amp;amp;BNAME=name…&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;126&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;8&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Better URL parameters:&lt;br /&gt;&lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;...?I=121321&amp;amp;N=name…&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;101&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;7&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ID in path:&lt;br /&gt;&lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;.../121321&amp;amp;N=name…&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;99&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;7&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Everything in path:&lt;br /&gt;&lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;.../121321/name…&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;67&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;7&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This makes a huge difference. Our URL is now down to 97 characters (from 228 originally): &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;HTTPS://WWW.SERVICE.NSW.GOV.AU/CAMPAIGN/SERVICE-NSW-MOBILE-APP/121321/Test+NSW+Government+QR+code&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Let’s lock that last option in, &lt;strong&gt;choosing to encode things efficiently in the path&lt;/strong&gt;.&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    
      

&lt;input class=&quot;poster-switch-checkbox&quot; type=&quot;checkbox&quot; id=&quot;checkbox-4&quot; /&gt;
&lt;label class=&quot;poster-switch-label&quot; for=&quot;checkbox-4&quot;&gt;
  Switch to &lt;strong&gt;
    &lt;span class=&quot;poster-switch-posters&quot;&gt;posters&lt;/span&gt;
    &lt;span class=&quot;poster-switch-codes&quot;&gt;codes only&lt;/span&gt;
  &lt;/strong&gt;
&lt;/label&gt;

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;2634&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 2634 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;Three QR codes placed horizontally. The left two labelled &apos;original&apos; and &apos;previous&apos; have denser patterns than the right one labelled &apos;better encoding&apos;.&lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-original&quot; xlink:href=&quot;#poster-page-original&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v16-H-original&quot; xlink:href=&quot;#qr-code-v16-H-original&quot; class=&quot;switchable-qr qr-poster-original&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(866 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v11-Q-works-in-app&quot; xlink:href=&quot;#qr-code-v11-Q-works-in-app&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(1732 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v07-Q-path-encoding&quot; xlink:href=&quot;#qr-code-v07-Q-path-encoding&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;text class=&quot;hovering-text-qr bad&quot; dx=&quot;0&quot; filter=&quot;url(#blur-text)&quot;&gt;original&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr okay&quot; dx=&quot;866&quot; filter=&quot;url(#blur-text)&quot;&gt;previous&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr good&quot; dx=&quot;1732&quot; filter=&quot;url(#blur-text)&quot;&gt;better encoding&lt;/text&gt;

&lt;/svg&gt;

    
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;p&gt;Look at how much simpler that QR code is.&lt;/p&gt;

&lt;h3 id=&quot;less-data-a-better-path&quot;&gt;Less data: a better path&lt;/h3&gt;

&lt;p&gt;Next, the initial &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CAMPAIGN/SERVICE-NSW-MOBILE-APP&lt;/code&gt; components of the path are rather long… do we really need to spell out “campaign” and “mobile app”? At least it’s not “mobile telephone application”!&lt;/p&gt;

&lt;p&gt;Let’s just cut that down. There’s two nice options here: no path at all, or a very short one.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;path&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;length&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Q&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Original &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;CAMPAIGN/SERVICE-NSW-MOBILE-APP&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;97&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;7&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;67&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Empty&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;65&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;5&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;There’s not much difference here, so it feels better to include the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;C&lt;/code&gt; to distinguish when a link is for a check-in. If the path is empty, the URL looks like &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;HTTPS://WWW.SERVICE.NSW.GOV.AU/121321/...&lt;/code&gt;, which means the front page of &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;HTTPS://WWW.SERVICE.NSW.GOV.AU&lt;/code&gt; needs to be detecting whether the path looks like a check-in ID and redirect to the appropriate page (when loaded in a web browser), and that sounds annoying and would require relatively unusual code.&lt;/p&gt;

&lt;p&gt;Let’s choose this &lt;strong&gt;short single-character path&lt;/strong&gt;.&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    
      

&lt;input class=&quot;poster-switch-checkbox&quot; type=&quot;checkbox&quot; id=&quot;checkbox-5&quot; /&gt;
&lt;label class=&quot;poster-switch-label&quot; for=&quot;checkbox-5&quot;&gt;
  Switch to &lt;strong&gt;
    &lt;span class=&quot;poster-switch-posters&quot;&gt;posters&lt;/span&gt;
    &lt;span class=&quot;poster-switch-codes&quot;&gt;codes only&lt;/span&gt;
  &lt;/strong&gt;
&lt;/label&gt;

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;2634&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 2634 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;Three QR codes placed horizontally. The left two labelled &apos;original&apos; and &apos;previous&apos; have denser patterns than the right one labelled &apos;shorter path&apos;.&lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-original&quot; xlink:href=&quot;#poster-page-original&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v16-H-original&quot; xlink:href=&quot;#qr-code-v16-H-original&quot; class=&quot;switchable-qr qr-poster-original&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(866 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v07-Q-path-encoding&quot; xlink:href=&quot;#qr-code-v07-Q-path-encoding&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(1732 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v05-Q-short-path&quot; xlink:href=&quot;#qr-code-v05-Q-short-path&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;text class=&quot;hovering-text-qr bad&quot; dx=&quot;0&quot; filter=&quot;url(#blur-text)&quot;&gt;original&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr okay&quot; dx=&quot;866&quot; filter=&quot;url(#blur-text)&quot;&gt;previous&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr good&quot; dx=&quot;1732&quot; filter=&quot;url(#blur-text)&quot;&gt;shorter path&lt;/text&gt;

&lt;/svg&gt;

    
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;h3 id=&quot;less-data-better-domain&quot;&gt;Less data: better domain&lt;/h3&gt;

&lt;p&gt;The domain being used is long: &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;WWW.SERVICE.NSW.GOV.AU&lt;/code&gt;. We definitely don’t need to be spelling that all out. There’s a variety of options here: shortenings of the current URL like &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;Q.SERVICE.NSW.GOV.AU&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;S.NSW.GOV.AU&lt;/code&gt;; or something really short, like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NSW.AU&lt;/code&gt; (this domain doesn’t exist, but any 6 character domain would be equivalent). The best choice probably depends on the bureaucracy and dev/sys-ops requirements with the relevant organisations.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;domain&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;length&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;L&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Q&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Original&lt;br /&gt;&lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;WWW.SERVICE.NSW.GOV.AU&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;67&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;4&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;Q.SERVICE.NSW.GOV.AU&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;65&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;4&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;S.NSW.GOV.AU&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;57&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;3&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;5&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;NSW.AU&lt;/code&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;51&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;3&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;4&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Most of these choices don’t a difference at level Q, but they do reduce the overall data (and thus may make a difference in some cases) and reduce the version at level L. Let’s &lt;strong&gt;choose &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;S.NSW.GOV.AU&lt;/code&gt;&lt;/strong&gt;, because being scoped within the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;GOV.AU&lt;/code&gt; second-level domain seems more trustworthy: &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;HTTPS://S.NSW.GOV.AU/C/121321/Test+NSW+Government+QR+code&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;This 57-character URL still contains all the same useful information as the original 228-character one. Here’s the four pieces of data that were in the JSON snippet:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;t&quot;: &quot;covid19_business&quot;&lt;/code&gt; ⇒ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/C/&lt;/code&gt; in the path&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;bid&quot;: &quot;121321&quot;&lt;/code&gt; ⇒ first path parameter&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;bname&quot;: &quot;Test NSW Government QR code&quot;&lt;/code&gt; ⇒ second path parameter&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;baddress&quot;: &quot;…&quot;&lt;/code&gt; ⇒ removed, because it is not used&lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    
      

&lt;input class=&quot;poster-switch-checkbox&quot; type=&quot;checkbox&quot; id=&quot;checkbox-6&quot; /&gt;
&lt;label class=&quot;poster-switch-label&quot; for=&quot;checkbox-6&quot;&gt;
  Switch to &lt;strong&gt;
    &lt;span class=&quot;poster-switch-posters&quot;&gt;posters&lt;/span&gt;
    &lt;span class=&quot;poster-switch-codes&quot;&gt;codes only&lt;/span&gt;
  &lt;/strong&gt;
&lt;/label&gt;

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;2634&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 2634 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;Three QR codes placed horizontally. The left one labelled &apos;original&apos; has denser patterns than the right two labelled &apos;previous&apos; and &apos;better domain&apos;.&lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-original&quot; xlink:href=&quot;#poster-page-original&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v16-H-original&quot; xlink:href=&quot;#qr-code-v16-H-original&quot; class=&quot;switchable-qr qr-poster-original&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(866 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v05-Q-short-path&quot; xlink:href=&quot;#qr-code-v05-Q-short-path&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(1732 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v05-Q-optimized-offline&quot; xlink:href=&quot;#qr-code-v05-Q-optimized-offline&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;text class=&quot;hovering-text-qr bad&quot; dx=&quot;0&quot; filter=&quot;url(#blur-text)&quot;&gt;original&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr okay&quot; dx=&quot;866&quot; filter=&quot;url(#blur-text)&quot;&gt;previous&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr good&quot; dx=&quot;1732&quot; filter=&quot;url(#blur-text)&quot;&gt;better domain&lt;/text&gt;

&lt;/svg&gt;

    
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;p&gt;These final two QR codes look similar because they’re both version 5; the density and size of modules hasn’t changed, but their exact arrangement has.&lt;/p&gt;

&lt;h3 id=&quot;reducing-offline-support&quot;&gt;Reducing offline support&lt;/h3&gt;

&lt;p&gt;We’re pretty much at the limit of what is possible when the URL includes the business name to enable offline check-ins&lt;sup id=&quot;fnref:compression&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:compression&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;. What if we drop the requirement to encode this? For instance, the app could say “you’re checking into a business” rather than show the name for confirmation, or even have the app stores its own database mapping IDs to business names&lt;sup id=&quot;fnref:database&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:database&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;If we do that, the URL can be 29 characters: &lt;code class=&quot;language-plaintext break-all highlighter-rouge&quot;&gt;HTTPS://S.NSW.GOV.AU/C/121321&lt;/code&gt;. This fits in a version 2 QR code!&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    
      

&lt;input class=&quot;poster-switch-checkbox&quot; type=&quot;checkbox&quot; id=&quot;checkbox-7&quot; /&gt;
&lt;label class=&quot;poster-switch-label&quot; for=&quot;checkbox-7&quot;&gt;
  Switch to &lt;strong&gt;
    &lt;span class=&quot;poster-switch-posters&quot;&gt;posters&lt;/span&gt;
    &lt;span class=&quot;poster-switch-codes&quot;&gt;codes only&lt;/span&gt;
  &lt;/strong&gt;
&lt;/label&gt;

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;2634&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 2634 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;Three QR codes placed horizontally. The left two labelled &apos;original&apos; and &apos;previous&apos; have denser patterns than the right one labelled &apos;without name&apos;.&lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-original&quot; xlink:href=&quot;#poster-page-original&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v16-H-original&quot; xlink:href=&quot;#qr-code-v16-H-original&quot; class=&quot;switchable-qr qr-poster-original&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(866 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v05-Q-optimized-offline&quot; xlink:href=&quot;#qr-code-v05-Q-optimized-offline&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(1732 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v02-Q-optimized-tiny&quot; xlink:href=&quot;#qr-code-v02-Q-optimized-tiny&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;text class=&quot;hovering-text-qr bad&quot; dx=&quot;0&quot; filter=&quot;url(#blur-text)&quot;&gt;original&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr okay&quot; dx=&quot;866&quot; filter=&quot;url(#blur-text)&quot;&gt;previous&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr good&quot; dx=&quot;1732&quot; filter=&quot;url(#blur-text)&quot;&gt;without name&lt;/text&gt;

&lt;/svg&gt;

    
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;p&gt;(@dhsysusbsjsi on the orange site &lt;a href=&quot;https://news.ycombinator.com/item?id=28691747&quot;&gt;points out&lt;/a&gt; that one can even get to version 1, with some further tweaks, but these do require dropping error correction further, to L or M.)&lt;/p&gt;

&lt;h2 id=&quot;is-this-hacking-do-the-changes-lose-security&quot;&gt;Is this hacking? Do the changes lose security?&lt;/h2&gt;

&lt;p&gt;&lt;strong&gt;No&lt;/strong&gt;. The current NSW QR codes are &lt;strong&gt;inherently insecure&lt;/strong&gt;, and none of the changes we’ve walk through make them more or less secure.&lt;/p&gt;

&lt;p&gt;There’s lots of people who will have the skills to pull them apart and generate new ones with different values for the business ID, name or address. The base64 encoding is &lt;strong&gt;not encryption&lt;/strong&gt;, because there’s no secret key/password required to encode or decode it. Base64 is a very common way to store and communicate data on the internet, to the point that some people would likely even instantly recognise the three character prefix &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;eyJ&lt;/code&gt; as “this is base64’d JSON”.&lt;/p&gt;

&lt;p&gt;One way to make these secure&lt;sup id=&quot;fnref:threat-model&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:threat-model&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;5&lt;/a&gt;&lt;/sup&gt; would be to &lt;strong&gt;cryptographically sign&lt;/strong&gt; the URLs, adding extra information that is computed from the data using a secret key held by Service NSW. When loading the URL for a check-in, the app validates that the signature matches. If someone tries to tamper with the data, they’ll need to update the signature, but without knowing the key, they’ll need a &lt;em&gt;very&lt;/em&gt; lucky guess.&lt;/p&gt;

&lt;p&gt;For instance, a 200 bit &lt;a href=&quot;https://en.wikipedia.org/wiki/BLS_digital_signature&quot;&gt;BLS signature&lt;/a&gt; may give sufficient security. To get a sense of the overhead this might impose, we can pretend we’ve generated a signature of this size somehow and add it to the URL (this &lt;strong&gt;isn’t&lt;/strong&gt; a real cryptographic protocol, don’t take my word for it). First, encode it as a 61 digit number to benefit from the Numeric QR mode, and, then, add it as an extra query parameter &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;…?…&amp;amp;S=16069…&lt;/code&gt;. This does make the URLs longer, and thus requires higher versions, but our optimisations have made room for this, meaning that the QR codes are still easier to scan while having better security:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;QR code&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;unsigned version&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;signed version&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;original&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;16&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;17&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;optimised for app&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;11&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;12&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;fully optimised&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;5&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;7&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    
      

&lt;input class=&quot;poster-switch-checkbox&quot; type=&quot;checkbox&quot; id=&quot;checkbox-8&quot; /&gt;
&lt;label class=&quot;poster-switch-label&quot; for=&quot;checkbox-8&quot;&gt;
  Switch to &lt;strong&gt;
    &lt;span class=&quot;poster-switch-posters&quot;&gt;posters&lt;/span&gt;
    &lt;span class=&quot;poster-switch-codes&quot;&gt;codes only&lt;/span&gt;
  &lt;/strong&gt;
&lt;/label&gt;

&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; width=&quot;2634&quot; height=&quot;890&quot; viewBox=&quot;-12 -12 2634 890&quot; role=&quot;img&quot; aria-label=&quot;[description]&quot;&gt;
  &lt;desc&gt;Three QR codes placed horizontally. The left two labelled are labelled &apos;original&apos; and &apos;insecure&apos;, while the right one is labelled &apos;signed&apos;. The right one is slightly denser than the center, but much less dense than the first.&lt;/desc&gt;
  &lt;filter id=&quot;blur-text&quot; width=&quot;130%&quot; height=&quot;130%&quot;&gt;
    &lt;feOffset result=&quot;offOut&quot; in=&quot;SourceAlpha&quot; dx=&quot;4&quot; dy=&quot;8&quot; /&gt;
    &lt;feColormatrix result=&quot;lightened&quot; in=&quot;offOut&quot; values=&quot;0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 0 0.1  0 0 0 1 0&quot; /&gt;
    &lt;feGaussianBlur result=&quot;blurOut&quot; in=&quot;lightened&quot; stdDeviation=&quot;12&quot; /&gt;
    &lt;feBlend in=&quot;SourceGraphic&quot; in2=&quot;blurOut&quot; mode=&quot;normal&quot; /&gt;
  &lt;/filter&gt;
  
  
    
    
  &lt;g transform=&quot;translate(0 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-original&quot; xlink:href=&quot;#poster-page-original&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v16-H-original&quot; xlink:href=&quot;#qr-code-v16-H-original&quot; class=&quot;switchable-qr qr-poster-original&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(866 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v05-Q-optimized-offline&quot; xlink:href=&quot;#qr-code-v05-Q-optimized-offline&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
    
    
  &lt;g transform=&quot;translate(1732 0)&quot; data-width=&quot;866&quot;&gt;
    
    

    &lt;g transform=&quot;translate(123.5 0)&quot;&gt;
      &lt;use href=&quot;#poster-page-background&quot; xlink:href=&quot;#poster-page-background&quot; class=&quot;switchable-poster&quot; /&gt;
      &lt;use href=&quot;#poster-page-new&quot; xlink:href=&quot;#poster-page-new&quot; class=&quot;switchable-poster&quot; /&gt;
    &lt;/g&gt;

    &lt;use href=&quot;#qr-code-v07-Q-signed&quot; xlink:href=&quot;#qr-code-v07-Q-signed&quot; class=&quot;switchable-qr qr-poster-new&quot; /&gt;
  &lt;/g&gt;
  
  
&lt;text class=&quot;hovering-text-qr bad&quot; dx=&quot;0&quot; filter=&quot;url(#blur-text)&quot;&gt;original, unsigned&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr okay&quot; dx=&quot;866&quot; filter=&quot;url(#blur-text)&quot;&gt;unsigned&lt;/text&gt;
&lt;text class=&quot;hovering-text-qr good&quot; dx=&quot;1732&quot; filter=&quot;url(#blur-text)&quot;&gt;signed&lt;/text&gt;

&lt;/svg&gt;

    
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;h2 id=&quot;other-states&quot;&gt;Other states&lt;/h2&gt;

&lt;p&gt;Every other state in Australia has a similar check-in process, including apps and QR codes on posters. Most of these use simpler QR codes than NSW, but they make other trade-offs:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;South Australia and Victoria include the venue name, and thus potentially nicely support offline check-ins too. However, SA definitely requires internet to check-in, and I’m unsure about Victoria.&lt;/li&gt;
  &lt;li&gt;Victoria and Western Australia seem to have real security in their QR codes (for instance, WA uses a &lt;a href=&quot;https://jwt.io/&quot;&gt;JSON Web Token&lt;/a&gt;, which includes a cryptographic signature, however, &lt;a href=&quot;https://twitter.com/JamesHenstridge/status/1448516012379238404&quot;&gt;it was pointed out&lt;/a&gt; that the choice of a symmetric signature makes the value questionable).&lt;/li&gt;
  &lt;li&gt;ACT, Queensland, Northern Territory and Tasmania all have essentially the same app and QR codes, and use efficient URLs (with a lot of Numeric data), but have some seemingly unnecessary redundancy.&lt;/li&gt;
  &lt;li&gt;Most states use error correction level Q, but Victoria and Western Australia drop one level to M: it’s probably not a coincidence these two states also have the longest URLs, similar to or longer than the NSW URLs.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;what-did-we-learn&quot;&gt;What did we learn?&lt;/h2&gt;

&lt;p&gt;Throughout this article we’ve stepped through a process of optimising QR codes for the real world, by looking at the check-in posters used here in NSW. We turned those posters into something that would be much easier to use, and in the process touched on:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the contents of the current check-in QR codes and how they function&lt;/li&gt;
  &lt;li&gt;the workings of QR codes in general (error correction, versions and encoding modes)&lt;/li&gt;
  &lt;li&gt;a walk-through of optimising the data stored in a QR code, moving from version 16 to version 5 &lt;strong&gt;without compromising functionality&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;the security of these QR codes, observing how it’s possible to &lt;strong&gt;improve security&lt;/strong&gt; and have codes that are still easier to scan&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We didn’t consider the realities of actually implementing these, within an existing app and/or support infrastructure. The appropriate technical trade-off can change dramatically.&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Mechanical%20sympathy%20for%20QR%20codes:%20making%20NSW%20check-in%20better&amp;amp;url=https://huonw.github.io/blog/2021/10/nsw-covid-qr/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2021/10/nsw-covid-qr/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2021/10/nsw-covid-qr/&amp;amp;title=Mechanical%20sympathy%20for%20QR%20codes:%20making%20NSW%20check-in%20better&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;svg height=&quot;0&quot; viewBox=&quot;-20 -20 1270 882&quot; width=&quot;0&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; style=&quot;margin-top: 0&quot;&gt;
  &lt;defs&gt;
    &lt;rect id=&quot;poster-page-background&quot; width=&quot;594.960022&quot; height=&quot;841.919983&quot; fill=&quot;#fff&quot; /&gt;
    &lt;g id=&quot;poster-page-new&quot;&gt;
      &lt;use xlink:href=&quot;#covid-safe-logo&quot; x=&quot;64.124374&quot; y=&quot;30&quot; /&gt;
      &lt;use xlink:href=&quot;#poster-check-in&quot; x=&quot;67.414962&quot; y=&quot;-121.92558&quot; /&gt;
      &lt;use xlink:href=&quot;#poster-community&quot; x=&quot;66.460506&quot; y=&quot;-126.12689&quot; /&gt;
      &lt;use xlink:href=&quot;#poster-easy&quot; transform=&quot;matrix(0.73782341,0,0,0.73821084,83.57544,253.53852)&quot; /&gt;
      &lt;use xlink:href=&quot;#poster-privacy&quot; x=&quot;0&quot; y=&quot;62.846437&quot; /&gt;
    &lt;/g&gt;
    &lt;g id=&quot;poster-page-original&quot;&gt;
      &lt;use xlink:href=&quot;#covid-safe-logo&quot; x=&quot;243.852&quot; y=&quot;24.012&quot; /&gt;
      &lt;use xlink:href=&quot;#poster-check-in&quot; /&gt;
      &lt;use xlink:href=&quot;#poster-community&quot; /&gt;
      &lt;path d=&quot;m280.002122 385.999217h233.995414v234.00062h-233.995414zm0 0&quot; fill=&quot;none&quot; stroke=&quot;#01a0d5&quot; stroke-width=&quot;16&quot; transform=&quot;matrix(.750315 0 0 .750315 0 .00002)&quot; /&gt;
      &lt;use xlink:href=&quot;#poster-easy&quot; /&gt;
      &lt;use xlink:href=&quot;#poster-privacy&quot; /&gt;
    &lt;/g&gt;
    &lt;!-- try to order these nicely for progressive rendering of the first image --&gt;
    &lt;g id=&quot;qr-code-v05-Q-optimized-offline&quot; transform=&quot;scale(27.02702702)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;37&quot; width=&quot;37&quot; /&gt;&lt;path d=&quot;m18 26v1h1v-1zm0 9v1h1v-1zm-10-35v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-1 32v1h1v-1zm-29-27v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm22 0v1h1v-1zm-30 5v1h1v-1zm10 4v1h1v-1zm23 2v1h1v-1zm-29-27v1h1v-1zm30 1v1h1v-1zm-32 29v1h1v-1zm23 2v1h1v-1zm-22-28v1h1v-1zm31 15v1h1v-1zm-12 7v1h1v-1zm-19 5v1h1v-1zm11 0v1h1v-1zm12-26v1h1v-1zm-11 9v1h1v-1zm3-4v1h1v-1zm-3 13v1h1v-1zm3 5v1h1v-1zm1-26v1h1v-1zm11 0v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm19 13v1h1v-1zm-24 21v1h1v-1zm23 2v1h1v-1zm-18-27v1h1v-1zm22-3v1h1v-1zm0 9v1h1v-1zm-23 7v1h1v-1zm15-2v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm-23 7v1h1v-1zm32-20v1h1v-1zm-31-6v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm22 6v1h1v-1zm-21-23v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm22 6v1h1v-1zm-8-4v1h1v-1zm0 9v1h1v-1zm-10-23v1h1v-1zm10 32v1h1v-1zm12-26v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm0 9v1h1v-1zm24-33v1h1v-1zm-9 31v1h1v-1zm-3-15v1h1v-1zm0 9v1h1v-1zm-19-4v1h1v-1zm33 6v1h1v-1zm-10-23v1h1v-1zm-9 19v1h1v-1zm11 0v1h1v-1zm-10-23v1h1v-1zm-9 28v1h1v-1zm20-22v1h1v-1zm-23 16v1h1v-1zm15-2v1h1v-1zm-15 11v1h1v-1zm15-2v1h1v-1zm-11-28v1h1v-1zm15-2v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm-8 5v1h1v-1zm20-22v1h1v-1zm12 2v1h1v-1zm-31-6v1h1v-1zm29 36v1h1v-1zm-29-27v1h1v-1zm0 9v1h1v-1zm33-3v1h1v-1zm-10-14v1h1v-1zm-21 26v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-23 7v1h1v-1zm1-26v1h1v-1zm23 11v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm15 7v1h1v-1zm12-35v1h1v-1zm0 9v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm30 1v1h1v-1zm-30 8v1h1v-1zm30 1v1h1v-1zm-29-27v1h1v-1zm21 32v1h1v-1zm12-35v1h1v-1zm-20 31v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm0 9v1h1v-1zm-31-6v1h1v-1zm12 2v1h1v-1zm-8 5v1h1v-1zm-3-24v1h1v-1zm15-2v1h1v-1zm-15 11v1h1v-1zm23 11v1h1v-1zm-23 7v1h1v-1zm27-28v1h1v-1zm-8-4v1h1v-1zm-5 34v1h1v-1zm-10-23v1h1v-1zm15-2v1h1v-1zm7 8v1h1v-1zm-8-4v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-3 13v1h1v-1zm23-26v1h1v-1zm-8-4v1h1v-1zm-23 7v1h1v-1zm31 15v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm-3-24v1h1v-1zm15 7v1h1v-1zm-15 11v1h1v-1zm14 2v1h1v-1zm0 9v1h1v-1zm-10-23v1h1v-1zm2 19v1h1v-1zm-10-23v1h1v-1zm30 1v1h1v-1zm-20 31v1h1v-1zm-8-4v1h1v-1zm9-22v1h1v-1zm11 0v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-31-6v1h1v-1zm12 2v1h1v-1zm23-26v1h1v-1zm-20 31v1h1v-1zm20-22v1h1v-1zm-19-4v1h1v-1zm0 9v1h1v-1zm11 0v1h1v-1zm-23 7v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-23 7v1h1v-1zm1-26v1h1v-1zm15-2v1h1v-1zm6 34v1h1v-1zm-7-21v1h1v-1zm0 9v1h1v-1zm0 9v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm-19-4v1h1v-1zm9-22v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm-3-24v1h1v-1zm12 2v1h1v-1zm22 0v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-15 11v1h1v-1zm34 2v1h1v-1zm1-26v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-23 7v1h1v-1zm4-2v1h1v-1zm10 13v1h1v-1zm0 9v1h1v-1zm1-35v1h1v-1zm10 35v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm1-26v1h1v-1zm11 9v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm-28 18v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm-8-4v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm-8-4v1h1v-1zm-11-10v1h1v-1zm22 6v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-16-17v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm1-26v1h1v-1zm-20 31v1h1v-1zm12-35v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm-27-8v1h1v-1zm27 26v1h1v-1zm-19-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm-3-24v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-20 31v1h1v-1zm-3-24v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-34 7v1h1v-1zm14 2v1h1v-1zm0 9v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm22-3v1h1v-1zm-9 31v1h1v-1zm9-22v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-30-4v1h1v-1zm27 17v1h1v-1zm-19-4v1h1v-1zm22 0v1h1v-1zm-3 13v1h1v-1zm-27-17v1h1v-1zm8 13v1h1v-1zm3-4v1h1v-1zm-3 13v1h1v-1zm12-35v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm31-22v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm11-3v1h1v-1zm-30 8v1h1v-1zm30 1v1h1v-1zm-10-23v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm6 34v1h1v-1zm-19-4v1h1v-1zm23 1v1h1v-1zm-8-4v1h1v-1zm-10-26v1h1v-1zm22 0v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm3-4v1h1v-1zm-30-4v1h1v-1zm8 13v1h1v-1zm22 0v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm-20 31v1h1v-1zm12-35v1h1v-1zm19 13v1h1v-1zm-8 5v1h1v-1zm-19-4v1h1v-1zm30 1v1h1v-1zm-12 7v1h1v-1zm12 2v1h1v-1zm-31 3v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm15-30v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm-18-21v1h1v-1zm-8-4v1h1v-1zm30 13v1h1v-1zm-30-4v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm11 9v1h1v-1zm1-26v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm6 34v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm9-22v1h1v-1zm-31 3v1h1v-1zm19 13v1h1v-1zm12 2v1h1v-1zm-31-6v1h1v-1zm11 9v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-3 13v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm1-26v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-1 32v1h1v-1zm-10-23v1h1v-1zm11 0v1h1v-1zm-30 5v1h1v-1zm11 0v1h1v-1zm22-3v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm15-2v1h1v-1zm-3-24v1h1v-1zm-20 31v1h1v-1zm23 2v1h1v-1zm9-22v1h1v-1zm-31-6v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm8 13v1h1v-1zm-8 5v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm9-4v1h1v-1zm3 5v1h1v-1zm-9 19v1h1v-1zm-21-23v1h1v-1zm6 34v1h1v-1zm15-2v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm15-2v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm-31-6v1h1v-1zm32-20v1h1v-1zm-31 3v1h1v-1zm19 13v1h1v-1zm12 2v1h1v-1zm-20-6v1h1v-1zm-11 18v1h1v-1zm11 0v1h1v-1zm22-3v1h1v-1zm-21-23v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm18 36v1h1v-1zm-10-23v1h1v-1zm2 19v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm3-7v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm15-2v1h1v-1zm12-26v1h1v-1zm-23 7v1h1v-1zm-8-4v1h1v-1zm31 15v1h1v-1zm-31-6v1h1v-1zm23 11v1h1v-1zm9-22v1h1v-1zm-32 29v1h1v-1zm30 1v1h1v-1zm-7 1v1h1v-1zm-3-24v1h1v-1zm-8 5v1h1v-1zm0 9v1h1v-1zm22-3v1h1v-1zm-19-4v1h1v-1zm0 9v1h1v-1zm1-23v1h1v-1zm-9 19v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-3-24v1h1v-1zm23 2v1h1v-1zm0 9v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm15-2v1h1v-1zm-11-28v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm23 2v1h1v-1zm-15 11v1h1v-1zm-8 5v1h1v-1zm30 1v1h1v-1zm-10-23v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-1 32v1h1v-1zm1-23v1h1v-1zm22-3v1h1v-1zm0 9v1h1v-1zm0 9v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-22-28v1h1v-1zm3 33v1h1v-1zm12-35v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm4-30v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm30 1v1h1v-1zm-10-14v1h1v-1zm-9 19v1h1v-1zm19 13v1h1v-1zm-31-6v1h1v-1zm12 2v1h1v-1zm1-23v1h1v-1zm10 23v1h1v-1zm-23 7v1h1v-1zm35-33v1h1v-1zm-20 31v1h1v-1zm20-22v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm-19-4v1h1v-1zm8 13v1h1v-1zm0 9v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm20-22v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm0 9v1h1v-1zm-11-19v1h1v-1zm-8-4v1h1v-1zm18 36v1h1v-1zm11 0v1h1v-1zm-29-27v1h1v-1zm30 1v1h1v-1zm0 9v1h1v-1zm3-4v1h1v-1zm-11 0v1h1v-1zm8 13v1h1v-1zm-16-17v1h1v-1zm-15 11v1h1v-1zm12 2v1h1v-1zm22 9v1h1v-1zm-19-4v1h1v-1zm20-13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-22-28v1h1v-1zm15-2v1h1v-1zm6 34v1h1v-1zm-21-14v1h1v-1zm6-2v1h1v-1zm0 9v1h1v-1zm-10-23v1h1v-1zm2 19v1h1v-1zm8 13v1h1v-1zm12-35v1h1v-1zm8 13v1h1v-1zm-28 18v1h1v-1zm-3-24v1h1v-1zm23 2v1h1v-1zm8 13v1h1v-1zm-16-17v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm8 13v1h1v-1zm4-30v1h1v-1zm-20 31v1h1v-1zm20-22v1h1v-1zm-19-4v1h1v-1zm-8-4v1h1v-1zm-4 11v1h1v-1zm23 2v1h1v-1zm-22-10v1h1v-1zm2 19v1h1v-1zm13-21v1h1v-1zm9 30v1h1v-1zm-30-4v1h1v-1zm20-22v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm-11 9v1h1v-1zm20-22v1h1v-1zm-20 31v1h1v-1zm11 0v1h1v-1zm-19 5v1h1v-1zm9-22v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-15 11v1h1v-1zm34 2v1h1v-1zm-19-4v1h1v-1zm20-22v1h1v-1zm-31-6v1h1v-1zm12 2v1h1v-1zm11 9v1h1v-1zm-19-4v1h1v-1zm-4 11v1h1v-1zm1-17v1h1v-1zm2 19v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-22 9v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm-11 9v1h1v-1zm20-22v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm-3 13v1h1v-1zm-16-17v1h1v-1zm16 26v1h1v-1zm-16-17v1h1v-1zm19 13v1h1v-1zm9-22v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm-34 7v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm14 2v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm3-4v1h1v-1zm9-22v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-19-4v1h1v-1zm8 13v1h1v-1zm0 9v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-10-26v1h1v-1zm3-4v1h1v-1zm-3 22v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-8-4v1h1v-1zm0 9v1h1v-1zm20-22v1h1v-1zm10 32v1h1v-1zm-33-16v1h1v-1zm14 11v1h1v-1zm11 0v1h1v-1zm4-30v1h1v-1zm0 9v1h1v-1zm-3 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm11 0v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm9-22v1h1v-1zm-20 31v1h1v-1zm11 0v1h1v-1zm12-26v1h1v-1zm-19-4v1h1v-1zm8 13v1h1v-1zm22-3v1h1v-1zm-30 8v1h1v-1zm30 1v1h1v-1zm-12 7v1h1v-1zm12 2v1h1v-1zm-33-25v1h1v-1zm2 28v1h1v-1zm12-17v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm-3 13v1h1v-1zm12-26v1h1v-1zm-19-4v1h1v-1zm22 0v1h1v-1zm-3 13v1h1v-1zm-27-17v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm22-3v1h1v-1zm-30 8v1h1v-1zm30 1v1h1v-1zm-31 3v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm4-30v1h1v-1zm-19 5v1h1v-1z&quot; /&gt;

    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v11-Q-works-in-app&quot; transform=&quot;scale(16.39344262)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;61&quot; width=&quot;61&quot; /&gt;&lt;path fill=&quot;#000&quot; d=&quot;m26 21v1h1v-1zm24-15v1h1v-1zm-33 52v1h1v-1zm25-56v1h1v-1zm-13 30v1h1v-1zm-29-27v1h1v-1zm11 9v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm27-10v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm45 8v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm-2 39v1h1v-1zm1-35v1h1v-1zm-30 8v1h1v-1zm-13 30v1h1v-1zm25-56v1h1v-1zm-1 41v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm35-6v1h1v-1zm-5 34v1h1v-1zm-29-27v1h1v-1zm32 32v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm33 34v1h1v-1zm-31 12v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-10-14v1h1v-1zm-5 34v1h1v-1zm4-30v1h1v-1zm23 20v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm20-22v1h1v-1zm37 4v1h1v-1zm-42 3v1h1v-1zm11 9v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm45 8v1h1v-1zm-10-14v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-5 34v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm32-11v1h1v-1zm17 52v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm52 10v1h1v-1zm-29-27v1h1v-1zm33 34v1h1v-1zm-54-8v1h1v-1zm4 7v1h1v-1zm31-13v1h1v-1zm-34 7v1h1v-1zm48 13v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-5 34v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm3 11v1h1v-1zm38 26v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm52 47v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-2 39v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm44 43v1h1v-1zm-3-6v1h1v-1zm-27-17v1h1v-1zm-8-4v1h1v-1zm39-9v1h1v-1zm-54 29v1h1v-1zm4-30v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-49-5v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm-23 16v1h1v-1zm24 28v1h1v-1zm12 11v1h1v-1zm-42 3v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-1 41v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-21 26v1h1v-1zm24-15v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm31 24v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-9 37v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-23 16v1h1v-1zm12-26v1h1v-1zm11 46v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-42 3v1h1v-1zm39-9v1h1v-1zm-16-8v1h1v-1zm-1 41v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-54 29v1h1v-1zm25-56v1h1v-1zm-13 30v1h1v-1zm31 24v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm4-30v1h1v-1zm-11 27v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-43 38v1h1v-1zm32-11v1h1v-1zm4-30v1h1v-1zm-50-1v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-3 31v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-1-45v1h1v-1zm-33 52v1h1v-1zm24-15v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm32-11v1h1v-1zm-8-4v1h1v-1zm6 43v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-5 34v1h1v-1zm25-56v1h1v-1zm-8-4v1h1v-1zm10 50v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm-22 18v1h1v-1zm12-26v1h1v-1zm-28-19v1h1v-1zm19 50v1h1v-1zm-1 4v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm18 54v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-11 27v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm3 5v1h1v-1zm24-15v1h1v-1zm-34 7v1h1v-1zm33-3v1h1v-1zm-35 42v1h1v-1zm4-30v1h1v-1zm15 16v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm12-26v1h1v-1zm22 24v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-20-58v1h1v-1zm3 5v1h1v-1zm-1 41v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm31-13v1h1v-1zm-34 7v1h1v-1zm12 11v1h1v-1zm-10 35v1h1v-1zm-21-23v1h1v-1zm14 20v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-42 3v1h1v-1zm46-33v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm31 24v1h1v-1zm12-26v1h1v-1zm11 9v1h1v-1zm-54 29v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-42 40v1h1v-1zm-4-34v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm12 10v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-5 34v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-19 23v1h1v-1zm19 13v1h1v-1zm-35-21v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm12 11v1h1v-1zm-42 3v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm31-13v1h1v-1zm-54 29v1h1v-1zm4-30v1h1v-1zm15 16v1h1v-1zm-5 34v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm10-36v1h1v-1zm-1 41v1h1v-1zm4-30v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm2 46v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm24-21v1h1v-1zm-33 52v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-28 18v1h1v-1zm-21-23v1h1v-1zm52 47v1h1v-1zm-42 3v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-30 14v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm24 28v1h1v-1zm9 5v1h1v-1zm-8-4v1h1v-1zm-27-17v1h1v-1zm47-5v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm33 34v1h1v-1zm12-26v1h1v-1zm-29-27v1h1v-1zm40 36v1h1v-1zm-42 3v1h1v-1zm-10-14v1h1v-1zm13 19v1h1v-1zm40-7v1h1v-1zm-50-1v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm40-44v1h1v-1zm-39 45v1h1v-1zm-8-4v1h1v-1zm52 10v1h1v-1zm-21-23v1h1v-1zm-30-23v1h1v-1zm33 34v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm-7-39v1h1v-1zm-27 46v1h1v-1zm-7-39v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-31 49v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-42 3v1h1v-1zm33 34v1h1v-1zm3 5v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm43-2v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm-18-12v1h1v-1zm-9 31v1h1v-1zm52 10v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm43-2v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-51 34v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm18 48v1h1v-1zm12-26v1h1v-1zm-30 14v1h1v-1zm41 1v1h1v-1zm19 13v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-50-1v1h1v-1zm-1-45v1h1v-1zm33 34v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm12-26v1h1v-1zm27-10v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm52 10v1h1v-1zm-11 27v1h1v-1zm-7-39v1h1v-1zm-9 31v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm4-30v1h1v-1zm41 38v1h1v-1zm-21-23v1h1v-1zm-23 16v1h1v-1zm13 19v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm-9 31v1h1v-1zm42 2v1h1v-1zm-56-44v1h1v-1zm41 1v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-53-6v1h1v-1zm19 13v1h1v-1zm15 16v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm3 11v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm4-30v1h1v-1zm23 20v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-17-53v1h1v-1zm33 34v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm31-13v1h1v-1zm-27 19v1h1v-1zm19 13v1h1v-1zm4-30v1h1v-1zm-42 3v1h1v-1zm45 8v1h1v-1zm-43 38v1h1v-1zm39-9v1h1v-1zm-37-31v1h1v-1zm41 38v1h1v-1zm-54-8v1h1v-1zm12 11v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm38-37v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm30 28v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-30 14v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-43 38v1h1v-1zm37 4v1h1v-1zm12-26v1h1v-1zm-15 20v1h1v-1zm12-26v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-11 27v1h1v-1zm-16-8v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-38 10v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm39-9v1h1v-1zm-54 29v1h1v-1zm33-3v1h1v-1zm-9 31v1h1v-1zm24-15v1h1v-1zm-42 3v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm58-22v1h1v-1zm-13 30v1h1v-1zm-30 8v1h1v-1zm1-35v1h1v-1zm32 32v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm53 12v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm32-48v1h1v-1zm-39 45v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm4-30v1h1v-1zm33 34v1h1v-1zm20-22v1h1v-1zm-49-5v1h1v-1zm12-26v1h1v-1zm-13 30v1h1v-1zm11 9v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-11 27v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm41 37v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm40 36v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm-9 31v1h1v-1zm40-7v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm11 15v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-31 12v1h1v-1zm-21-23v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm31 24v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm12-26v1h1v-1zm-28 18v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm32 32v1h1v-1zm-55-16v1h1v-1zm33 34v1h1v-1zm12-26v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm20-22v1h1v-1zm-32 47v1h1v-1zm4-30v1h1v-1zm20 15v1h1v-1zm4-30v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm32 32v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm2 46v1h1v-1zm21-57v1h1v-1zm10 44v1h1v-1zm-7-39v1h1v-1zm-27 46v1h1v-1zm-7-39v1h1v-1zm11 9v1h1v-1zm20 15v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-16-8v1h1v-1zm19 13v1h1v-1zm30 28v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm-22 18v1h1v-1zm3 5v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm23-17v1h1v-1zm1-35v1h1v-1zm2 46v1h1v-1zm31-13v1h1v-1zm-8-4v1h1v-1zm-29-27v1h1v-1zm10 50v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm-5 7v1h1v-1zm11 9v1h1v-1zm12-26v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm-31 49v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-7-39v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm32-11v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-26-16v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm19-14v1h1v-1zm-23 16v1h1v-1zm1-35v1h1v-1zm32 32v1h1v-1zm-34 7v1h1v-1zm27-10v1h1v-1zm12-26v1h1v-1zm20-22v1h1v-1zm-50-1v1h1v-1zm11 46v1h1v-1zm20-22v1h1v-1zm-16-8v1h1v-1zm6 43v1h1v-1zm25-56v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-1 41v1h1v-1zm11 9v1h1v-1zm-7-39v1h1v-1zm30 22v1h1v-1zm-7-39v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm52 47v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-40 49v1h1v-1zm25-56v1h1v-1zm-33 52v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm23 20v1h1v-1zm-54-8v1h1v-1zm31 24v1h1v-1zm-8-4v1h1v-1zm14 20v1h1v-1zm12-26v1h1v-1zm-29-27v1h1v-1zm-5 34v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-30 8v1h1v-1zm-1 4v1h1v-1zm15 16v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm53 12v1h1v-1zm-49-5v1h1v-1zm20-22v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm31-13v1h1v-1zm-13 30v1h1v-1zm-8-4v1h1v-1zm-29-27v1h1v-1zm10 50v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm39-9v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-1 41v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-21 26v1h1v-1zm23 20v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-42 3v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-23 16v1h1v-1zm15 16v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm30 28v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm10 44v1h1v-1zm-7-39v1h1v-1zm-3 31v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-34 7v1h1v-1zm4-30v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm-20-58v1h1v-1zm13 19v1h1v-1zm-1 35v1h1v-1zm-10-8v1h1v-1zm46-33v1h1v-1zm-15 20v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm41 1v1h1v-1zm-17-53v1h1v-1zm-22 18v1h1v-1zm24 28v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-41-32v1h1v-1zm11 9v1h1v-1zm12 11v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-2 39v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-16-8v1h1v-1zm10 50v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm40 36v1h1v-1zm-34 7v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm23 20v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm23 20v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm12-26v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-27-17v1h1v-1zm30 28v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-53-6v1h1v-1zm19 13v1h1v-1zm-15-43v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm41 38v1h1v-1zm-21-23v1h1v-1zm12-26v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm39-9v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm11 15v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm6 43v1h1v-1zm4-30v1h1v-1zm32-11v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm12-26v1h1v-1zm11 9v1h1v-1zm-5 7v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm3 5v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-23 53v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-2 39v1h1v-1zm-37-31v1h1v-1zm-1 41v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm-49-5v1h1v-1zm30 28v1h1v-1zm3 5v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-1 41v1h1v-1zm46-33v1h1v-1zm-4 29v1h1v-1zm-27-17v1h1v-1zm1 1v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm-4-34v1h1v-1zm20-22v1h1v-1zm15 16v1h1v-1zm-5 34v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm41 38v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm32-48v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm44 43v1h1v-1zm-21-23v1h1v-1zm-23 16v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-29-27v1h1v-1zm-1 41v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-23 16v1h1v-1zm1-35v1h1v-1zm35-6v1h1v-1zm-35 42v1h1v-1zm33-3v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm52 47v1h1v-1zm-22-19v1h1v-1zm-28 18v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm12 11v1h1v-1zm-54-8v1h1v-1zm41 38v1h1v-1zm-18-18v1h1v-1zm-16-3v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm12 11v1h1v-1zm3 5v1h1v-1zm1-35v1h1v-1zm-12 25v1h1v-1zm1-35v1h1v-1zm15 16v1h1v-1zm-13 30v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-28 18v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm11 46v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm-34 7v1h1v-1zm4-30v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-9-49v1h1v-1zm-21 26v1h1v-1zm-11 27v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm39-9v1h1v-1zm-7-39v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm12 11v1h1v-1zm33-3v1h1v-1zm-30 8v1h1v-1zm20-22v1h1v-1zm-10 35v1h1v-1zm-21-23v1h1v-1zm33 34v1h1v-1zm20-22v1h1v-1zm-50-1v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm18 48v1h1v-1zm-7-39v1h1v-1zm-11 27v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm32 32v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm24-15v1h1v-1zm12-26v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-7-39v1h1v-1zm-34 7v1h1v-1zm10 44v1h1v-1zm1-35v1h1v-1zm20-22v1h1v-1zm15 16v1h1v-1zm-54 29v1h1v-1zm60 14v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm11 15v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm23 20v1h1v-1zm-8-41v1h1v-1zm12 11v1h1v-1zm-34 7v1h1v-1zm52 10v1h1v-1zm-30 8v1h1v-1zm11 15v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-30-23v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm-42 3v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm11 9v1h1v-1zm-30 14v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm32 32v1h1v-1zm-34 7v1h1v-1zm24-15v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm10 44v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm41 37v1h1v-1zm-48-40v1h1v-1zm11 9v1h1v-1zm-5 34v1h1v-1zm27-10v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm4-30v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm56 17v1h1v-1zm-31 12v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm11 15v1h1v-1zm31-13v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm43-2v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm6 43v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm-1 41v1h1v-1zm31-13v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm2 46v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm12-26v1h1v-1zm14 47v1h1v-1zm-48-40v1h1v-1zm56 17v1h1v-1zm-42 3v1h1v-1zm11 9v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-34 7v1h1v-1zm35-6v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-27-17v1h1v-1zm14 47v1h1v-1zm-37-31v1h1v-1zm20-22v1h1v-1zm-9 37v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm3 5v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-29-27v1h1v-1zm18 54v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm31-13v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm10 50v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-29-27v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm46-33v1h1v-1zm12 11v1h1v-1zm-50-1v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm3 42v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm25-56v1h1v-1zm-2 39v1h1v-1zm20-22v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-30 14v1h1v-1zm-9 31v1h1v-1zm47-5v1h1v-1zm-8-4v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-9 37v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-18-18v1h1v-1zm-28 23v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-23 16v1h1v-1zm12 11v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-30-23v1h1v-1zm52 47v1h1v-1zm-4-34v1h1v-1zm-54 29v1h1v-1zm39-9v1h1v-1zm-37-31v1h1v-1zm-1 4v1h1v-1zm11 46v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-9 37v1h1v-1zm20-22v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-7-39v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm3 5v1h1v-1zm1-35v1h1v-1zm11 46v1h1v-1zm12-26v1h1v-1zm-54 29v1h1v-1zm31-13v1h1v-1zm-27-17v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-9 37v1h1v-1zm12-26v1h1v-1zm-9 31v1h1v-1zm-20-58v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm-9 31v1h1v-1zm40-7v1h1v-1zm-8-4v1h1v-1zm4-30v1h1v-1zm-15 20v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm-26-52v1h1v-1zm19 13v1h1v-1zm11 15v1h1v-1zm-30 8v1h1v-1zm53-25v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm32-11v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm-9 31v1h1v-1zm-7-39v1h1v-1zm43-2v1h1v-1zm-31 12v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm33 34v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-11 27v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm2 46v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm31-13v1h1v-1zm-34 7v1h1v-1zm-4-34v1h1v-1zm40-7v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm11 15v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-7-39v1h1v-1zm11 9v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm23 20v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm11 9v1h1v-1zm41 1v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm12 11v1h1v-1zm-13 30v1h1v-1zm-29-27v1h1v-1zm60 14v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm38-37v1h1v-1zm-19 23v1h1v-1zm31-13v1h1v-1zm-53-6v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-4-34v1h1v-1zm41 38v1h1v-1zm-42 3v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm12-26v1h1v-1zm-49-5v1h1v-1zm-5 34v1h1v-1zm24-21v1h1v-1zm11 15v1h1v-1zm11 9v1h1v-1zm-27-17v1h1v-1zm-15 20v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm10 50v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-13 30v1h1v-1zm23 20v1h1v-1zm-42 3v1h1v-1zm4-30v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm44 43v1h1v-1zm-20-58v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-13 30v1h1v-1zm-30 8v1h1v-1zm20-22v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm3 11v1h1v-1zm38 26v1h1v-1zm-27-17v1h1v-1zm1-35v1h1v-1zm-23 16v1h1v-1zm27-10v1h1v-1zm19 13v1h1v-1zm-13 30v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm10 50v1h1v-1zm-16-8v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm4 7v1h1v-1zm-54-8v1h1v-1zm53 12v1h1v-1zm-30 8v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm4-30v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm52 47v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-48-40v1h1v-1zm32 32v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm12 11v1h1v-1zm23-17v1h1v-1zm-31 12v1h1v-1zm1-35v1h1v-1zm48 13v1h1v-1zm-21-23v1h1v-1zm-33 52v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-30 14v1h1v-1zm3 5v1h1v-1zm39-9v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm33 34v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm-29-27v1h1v-1zm6 43v1h1v-1zm12-26v1h1v-1zm15 16v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm12 11v1h1v-1zm-43 38v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm20-22v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm12 54v1h1v-1zm40-7v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-42 3v1h1v-1zm11 46v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm-29-27v1h1v-1zm20-22v1h1v-1zm10 50v1h1v-1zm4-30v1h1v-1zm-11-10v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm23 20v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm23-11v1h1v-1zm-37-31v1h1v-1zm40 36v1h1v-1zm-22-19v1h1v-1zm-9 31v1h1v-1zm32-11v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-9 31v1h1v-1zm-26-52v1h1v-1zm47-5v1h1v-1zm-28 18v1h1v-1zm-22-19v1h1v-1zm33 34v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm10 44v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm-10-14v1h1v-1zm33 34v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm3 11v1h1v-1zm19 13v1h1v-1zm4-30v1h1v-1zm-54 29v1h1v-1zm-1-45v1h1v-1zm48 13v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-22 18v1h1v-1zm12-26v1h1v-1zm40 36v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm10 50v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm11 9v1h1v-1zm-7-39v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm20 15v1h1v-1zm12-26v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm30 28v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm20-22v1h1v-1zm27-10v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm30 28v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-50-1v1h1v-1zm31 24v1h1v-1zm1-35v1h1v-1zm-2 39v1h1v-1zm24-21v1h1v-1zm-53-6v1h1v-1zm11 9v1h1v-1zm45 8v1h1v-1zm-50-1v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-23 16v1h1v-1zm46-33v1h1v-1zm-23 53v1h1v-1zm-8-4v1h1v-1zm4-30v1h1v-1zm20-22v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-53-6v1h1v-1zm19 13v1h1v-1zm-7-3v1h1v-1zm13 19v1h1v-1zm27 17v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-30 8v1h1v-1zm41 38v1h1v-1zm-1 4v1h1v-1zm-49-5v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm12-26v1h1v-1zm-23 16v1h1v-1zm24-15v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-13 30v1h1v-1zm11 9v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm4 7v1h1v-1zm-42 3v1h1v-1zm-8-4v1h1v-1zm38 26v1h1v-1zm-41-32v1h1v-1zm15 16v1h1v-1zm20-22v1h1v-1zm-16-8v1h1v-1zm14 47v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm45 8v1h1v-1zm-27 46v1h1v-1zm-15-43v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-23 16v1h1v-1zm1-35v1h1v-1zm52 47v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-5 34v1h1v-1zm15 16v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm23 20v1h1v-1zm-23 16v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-34 7v1h1v-1zm44 43v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm58-22v1h1v-1zm-35 42v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-23 16v1h1v-1zm53 12v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm20-22v1h1v-1zm3 42v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-1 41v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm-1-45v1h1v-1zm12 54v1h1v-1zm40-7v1h1v-1zm-28-19v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-42 3v1h1v-1zm33 34v1h1v-1zm-30 8v1h1v-1zm41 1v1h1v-1zm-9-49v1h1v-1zm-33 52v1h1v-1zm25-56v1h1v-1zm18 54v1h1v-1zm-4-34v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27 19v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-34 7v1h1v-1zm24-15v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-42 3v1h1v-1zm11 9v1h1v-1zm11 9v1h1v-1zm12 11v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm22 24v1h1v-1zm-7-39v1h1v-1zm-8-4v1h1v-1zm18 48v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm-7-39v1h1v-1zm31 24v1h1v-1zm20-22v1h1v-1zm-16-8v1h1v-1zm-27 46v1h1v-1zm-7-39v1h1v-1zm-8-4v1h1v-1zm41 37v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm20 15v1h1v-1zm-8-41v1h1v-1zm12 11v1h1v-1zm11 9v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm2 46v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm-29-27v1h1v-1zm-1 4v1h1v-1zm12 11v1h1v-1zm19 13v1h1v-1zm3 5v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm12-26v1h1v-1z&quot; /&gt;

    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v16-H-original&quot; transform=&quot;scale(12.34567901)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;81&quot; width=&quot;81&quot; /&gt;&lt;path fill=&quot;#000&quot; d=&quot;m26 21v1h1v-1zm41 38v1h1v-1zm-49-42v1h1v-1zm32-11v1h1v-1zm13 19v1h1v-1zm-46 33v1h1v-1zm25-56v1h1v-1zm-14 65v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-34 7v1h1v-1zm57 13v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm32-11v1h1v-1zm-33 52v1h1v-1zm19 13v1h1v-1zm47-68v1h1v-1zm-55 64v1h1v-1zm46-33v1h1v-1zm-21-23v1h1v-1zm-33 52v1h1v-1zm-9-49v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-29-27v1h1v-1zm61 16v1h1v-1zm-74 14v1h1v-1zm65 17v1h1v-1zm1-35v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm-27-17v1h1v-1zm47-5v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm4-30v1h1v-1zm60 51v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-1-45v1h1v-1zm-28 18v1h1v-1zm41 1v1h1v-1zm-35 42v1h1v-1zm25-56v1h1v-1zm-21 26v1h1v-1zm-21-23v1h1v-1zm-13 67v1h1v-1zm65-20v1h1v-1zm-15-43v1h1v-1zm-54 29v1h1v-1zm38 26v1h1v-1zm-26-52v1h1v-1zm39-9v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-8-4v1h1v-1zm-35 79v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm52 10v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm20-22v1h1v-1zm-14 65v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-5 34v1h1v-1zm16-19v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm6-69v1h1v-1zm40 36v1h1v-1zm-7-39v1h1v-1zm-23 53v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm41 1v1h1v-1zm19 13v1h1v-1zm-36-66v1h1v-1zm11 9v1h1v-1zm-14 65v1h1v-1zm-20-58v1h1v-1zm52 47v1h1v-1zm-28-62v1h1v-1zm40 36v1h1v-1zm-62 25v1h1v-1zm11 9v1h1v-1zm47-68v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-34 44v1h1v-1zm46-33v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm-54 29v1h1v-1zm41 1v1h1v-1zm-48-40v1h1v-1zm68 18v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm52 47v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-53-6v1h1v-1zm17-60v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm31-13v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm-54 29v1h1v-1zm58-22v1h1v-1zm-55 64v1h1v-1zm74-51v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-5 34v1h1v-1zm-30 8v1h1v-1zm1-35v1h1v-1zm-27-17v1h1v-1zm46 30v1h1v-1zm-27-17v1h1v-1zm40 36v1h1v-1zm8 4v1h1v-1zm-28-62v1h1v-1zm-47 68v1h1v-1zm45 8v1h1v-1zm-40-73v1h1v-1zm3 42v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm-72-19v1h1v-1zm11 9v1h1v-1zm25-56v1h1v-1zm-14 65v1h1v-1zm24-15v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-27-17v1h1v-1zm56 44v1h1v-1zm-71-24v1h1v-1zm58-22v1h1v-1zm-42 3v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm59 49v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-73 16v1h1v-1zm19 13v1h1v-1zm-20-58v1h1v-1zm52 47v1h1v-1zm3 5v1h1v-1zm12-26v1h1v-1zm-7-39v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm21-57v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm10 50v1h1v-1zm25-56v1h1v-1zm-55 64v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-6 69v1h1v-1zm-48-40v1h1v-1zm60 14v1h1v-1zm1-35v1h1v-1zm-74 51v1h1v-1zm77-46v1h1v-1zm-42 40v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm-7-39v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-7-39v1h1v-1zm31-13v1h1v-1zm3 42v1h1v-1zm-21 26v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-49-5v1h1v-1zm19 13v1h1v-1zm41 1v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm25-56v1h1v-1zm-13 67v1h1v-1zm3 5v1h1v-1zm1-35v1h1v-1zm31-13v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm61 16v1h1v-1zm-40-73v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm40 73v1h1v-1zm-42 3v1h1v-1zm-10-14v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm41 1v1h1v-1zm-20-58v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm52 47v1h1v-1zm-40-73v1h1v-1zm-10 72v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm12-26v1h1v-1zm-73 16v1h1v-1zm19 13v1h1v-1zm6-69v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-53-6v1h1v-1zm65-20v1h1v-1zm-54 29v1h1v-1zm20 15v1h1v-1zm33-3v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-14 65v1h1v-1zm-30 8v1h1v-1zm2-70v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-7-39v1h1v-1zm52 47v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-39-71v1h1v-1zm12 54v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-55 64v1h1v-1zm6-69v1h1v-1zm-14 65v1h1v-1zm20-22v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm20 15v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-7-39v1h1v-1zm-27 46v1h1v-1zm32 32v1h1v-1zm-47-75v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm60 51v1h1v-1zm-49-42v1h1v-1zm33 34v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm6-69v1h1v-1zm-33 52v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-21-23v1h1v-1zm32 32v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm68 18v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-20 22v1h1v-1zm-34 7v1h1v-1zm64 21v1h1v-1zm-21-23v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-7-39v1h1v-1zm18 48v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm66-55v1h1v-1zm-13 67v1h1v-1zm12-26v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-14 65v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm-5 34v1h1v-1zm17-60v1h1v-1zm52 47v1h1v-1zm-54 29v1h1v-1zm31-13v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm47-5v1h1v-1zm-62 25v1h1v-1zm66-55v1h1v-1zm-54 29v1h1v-1zm12 11v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm-28-19v1h1v-1zm19 50v1h1v-1zm1-35v1h1v-1zm41 1v1h1v-1zm-9 31v1h1v-1zm-1-45v1h1v-1zm-33 52v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-29-27v1h1v-1zm1-35v1h1v-1zm60 51v1h1v-1zm-68-55v1h1v-1zm60 51v1h1v-1zm-62 25v1h1v-1zm20-22v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm68 18v1h1v-1zm-8-4v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm18 54v1h1v-1zm-29-27v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm13 19v1h1v-1zm-46 33v1h1v-1zm25-56v1h1v-1zm-54 29v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-33 52v1h1v-1zm-9-49v1h1v-1zm-8-4v1h1v-1zm41 38v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm6-69v1h1v-1zm-13 30v1h1v-1zm31-13v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm38-37v1h1v-1zm19 50v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm1-35v1h1v-1zm39 71v1h1v-1zm-20-58v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-5 34v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm63 56v1h1v-1zm-40-73v1h1v-1zm33 34v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm1-35v1h1v-1zm-16 55v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm11 46v1h1v-1zm-54-8v1h1v-1zm25-56v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm32 69v1h1v-1zm12-26v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm25-56v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm25-56v1h1v-1zm13 19v1h1v-1zm-46 33v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-20-58v1h1v-1zm-2 76v1h1v-1zm5-71v1h1v-1zm41 38v1h1v-1zm11 9v1h1v-1zm-7-39v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm-8-4v1h1v-1zm60 51v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-34 7v1h1v-1zm6-69v1h1v-1zm-14 65v1h1v-1zm25-56v1h1v-1zm-5 34v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm-42 40v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm33-3v1h1v-1zm-67-53v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-43 38v1h1v-1zm58-22v1h1v-1zm14 47v1h1v-1zm-48-40v1h1v-1zm12-26v1h1v-1zm-14 65v1h1v-1zm6-69v1h1v-1zm-8-4v1h1v-1zm14 47v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm52 47v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm19 13v1h1v-1zm47-68v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-1 41v1h1v-1zm19 13v1h1v-1zm6-69v1h1v-1zm-14 65v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-74-29v1h1v-1zm4-30v1h1v-1zm32 69v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm17-60v1h1v-1zm14 47v1h1v-1zm-27-17v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm11 9v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm12 11v1h1v-1zm-8-4v1h1v-1zm-55 64v1h1v-1zm74-51v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm7 8v1h1v-1zm-49-5v1h1v-1zm20-22v1h1v-1zm32 32v1h1v-1zm-42 40v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-7-39v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm25-56v1h1v-1zm-5 34v1h1v-1zm-28 18v1h1v-1zm-1-45v1h1v-1zm33-3v1h1v-1zm11 46v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm19 13v1h1v-1zm6-69v1h1v-1zm-55 64v1h1v-1zm32-48v1h1v-1zm-50-1v1h1v-1zm33 34v1h1v-1zm-17-53v1h1v-1zm19 13v1h1v-1zm-33 52v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm46-33v1h1v-1zm-67 10v1h1v-1zm12 54v1h1v-1zm12-26v1h1v-1zm20 15v1h1v-1zm12-26v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-28 18v1h1v-1zm2-70v1h1v-1zm59 49v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-22 18v1h1v-1zm46-33v1h1v-1zm-6 69v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-46 33v1h1v-1zm25-56v1h1v-1zm40 36v1h1v-1zm-53-6v1h1v-1zm11 9v1h1v-1zm20 15v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm65-20v1h1v-1zm-73 16v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-2 76v1h1v-1zm-8-4v1h1v-1zm-1-45v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-30 8v1h1v-1zm33-3v1h1v-1zm-67 10v1h1v-1zm13 19v1h1v-1zm20 15v1h1v-1zm-29-64v1h1v-1zm41 38v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm21 23v1h1v-1zm-29-27v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-16 55v1h1v-1zm1-35v1h1v-1zm12-26v1h1v-1zm-9 31v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm74-51v1h1v-1zm-33 52v1h1v-1zm19 13v1h1v-1zm-28-62v1h1v-1zm12 54v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm44 43v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm47-68v1h1v-1zm19 13v1h1v-1zm-73 16v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm20 15v1h1v-1zm-8-41v1h1v-1zm12 11v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm-14 65v1h1v-1zm24-21v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm10 50v1h1v-1zm19 13v1h1v-1zm-39-71v1h1v-1zm-9 31v1h1v-1zm41 1v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-20 22v1h1v-1zm-34 7v1h1v-1zm6-69v1h1v-1zm-14 65v1h1v-1zm74-51v1h1v-1zm-73 16v1h1v-1zm11 9v1h1v-1zm20 15v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm12 54v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm6-69v1h1v-1zm-27 46v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm18 48v1h1v-1zm61 16v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm12-26v1h1v-1zm20-22v1h1v-1zm-75 6v1h1v-1zm32 69v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm-14 65v1h1v-1zm24-21v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-13 30v1h1v-1zm25-56v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm32 69v1h1v-1zm-29-64v1h1v-1zm41 38v1h1v-1zm-54 29v1h1v-1zm12-26v1h1v-1zm46-33v1h1v-1zm-64 15v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm57 13v1h1v-1zm-1 4v1h1v-1zm-37-31v1h1v-1zm20-22v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-47 68v1h1v-1zm12-26v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm41 38v1h1v-1zm-29-27v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm13 19v1h1v-1zm-16 55v1h1v-1zm-7-39v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm-55 64v1h1v-1zm58-22v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm47-68v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm12 11v1h1v-1zm40 36v1h1v-1zm-7-39v1h1v-1zm-21-23v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-46 33v1h1v-1zm-29-27v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm52 47v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm14 47v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm52 47v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-28 18v1h1v-1zm-5 34v1h1v-1zm-10-14v1h1v-1zm46-33v1h1v-1zm20-22v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm19 50v1h1v-1zm-8-4v1h1v-1zm-40-73v1h1v-1zm33 34v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm47-68v1h1v-1zm-55 64v1h1v-1zm1-35v1h1v-1zm38 26v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-31 49v1h1v-1zm46-33v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm-5 34v1h1v-1zm25-56v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm32 69v1h1v-1zm12-26v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm46-33v1h1v-1zm-66 55v1h1v-1zm32-48v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm1-35v1h1v-1zm-31 49v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm32 32v1h1v-1zm-20-58v1h1v-1zm-54 29v1h1v-1zm19-14v1h1v-1zm-5 34v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm47-68v1h1v-1zm-75 6v1h1v-1zm-2 39v1h1v-1zm12 11v1h1v-1zm46-33v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm41 1v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-7-39v1h1v-1zm-35 42v1h1v-1zm4 7v1h1v-1zm68 18v1h1v-1zm-8-4v1h1v-1zm6-69v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-20-58v1h1v-1zm13 19v1h1v-1zm-46 33v1h1v-1zm25-56v1h1v-1zm41 1v1h1v-1zm-55 64v1h1v-1zm1-35v1h1v-1zm24-21v1h1v-1zm-33 52v1h1v-1zm20-22v1h1v-1zm36-41v1h1v-1zm-54 29v1h1v-1zm-9 31v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm24-15v1h1v-1zm-54 29v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm27 17v1h1v-1zm-50-1v1h1v-1zm-21-23v1h1v-1zm24 28v1h1v-1zm-30 14v1h1v-1zm74-51v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm66-18v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-55 64v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm68 18v1h1v-1zm-49-5v1h1v-1zm20-22v1h1v-1zm-43 38v1h1v-1zm33 34v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-49-5v1h1v-1zm33-3v1h1v-1zm-34 7v1h1v-1zm65 17v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm59 49v1h1v-1zm6-69v1h1v-1zm-14 65v1h1v-1zm6-69v1h1v-1zm-54 29v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-27-17v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-25 56v1h1v-1zm24-15v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-72-19v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm12 11v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm40 36v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-16-8v1h1v-1zm-34 7v1h1v-1zm33 34v1h1v-1zm12-26v1h1v-1zm12-26v1h1v-1zm-55 64v1h1v-1zm65-20v1h1v-1zm12-26v1h1v-1zm-53-6v1h1v-1zm-9 31v1h1v-1zm20 15v1h1v-1zm20-22v1h1v-1zm3 5v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm-9 31v1h1v-1zm19 13v1h1v-1zm3 11v1h1v-1zm1-35v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-49-5v1h1v-1zm68 18v1h1v-1zm-47 5v1h1v-1zm-1-45v1h1v-1zm41 1v1h1v-1zm-28 18v1h1v-1zm-21-23v1h1v-1zm60 14v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-34 44v1h1v-1zm46-70v1h1v-1zm-54 29v1h1v-1zm41 38v1h1v-1zm-62-61v1h1v-1zm32 69v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-16 55v1h1v-1zm1-35v1h1v-1zm-27-17v1h1v-1zm39-9v1h1v-1zm-28 18v1h1v-1zm60 51v1h1v-1zm-40-73v1h1v-1zm-8-4v1h1v-1zm52 47v1h1v-1zm-54 29v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-20-58v1h1v-1zm-28 18v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-21-23v1h1v-1zm-33 52v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm33 34v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-54 29v1h1v-1zm41 1v1h1v-1zm6-69v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm60 51v1h1v-1zm-49-42v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-14 65v1h1v-1zm6-69v1h1v-1zm-34 7v1h1v-1zm40 36v1h1v-1zm-54 29v1h1v-1zm6-69v1h1v-1zm40 36v1h1v-1zm23 20v1h1v-1zm-42 3v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm40-44v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm74-51v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-53-6v1h1v-1zm11 9v1h1v-1zm41 38v1h1v-1zm-21-23v1h1v-1zm-28-19v1h1v-1zm41 38v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm12 54v1h1v-1zm-21-23v1h1v-1zm-7-39v1h1v-1zm6 43v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm52 47v1h1v-1zm-23 16v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm-8-4v1h1v-1zm74-51v1h1v-1zm-54 29v1h1v-1zm-8-4v1h1v-1zm60 51v1h1v-1zm-28-62v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm41 38v1h1v-1zm11 9v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm66-55v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm66-55v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm-35 79v1h1v-1zm33-3v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-10-14v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-5 34v1h1v-1zm-49-5v1h1v-1zm74-51v1h1v-1zm-73 16v1h1v-1zm19 13v1h1v-1zm46-33v1h1v-1zm-25 56v1h1v-1zm-29-27v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm41 38v1h1v-1zm19 13v1h1v-1zm-61-10v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm39 71v1h1v-1zm-28-62v1h1v-1zm33-3v1h1v-1zm19 50v1h1v-1zm4-30v1h1v-1zm-34 7v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm53 12v1h1v-1zm-21-23v1h1v-1zm-14 65v1h1v-1zm6-69v1h1v-1zm-14 65v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-36-66v1h1v-1zm40 36v1h1v-1zm-30 14v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-27-17v1h1v-1zm-15 20v1h1v-1zm44 43v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-53-6v1h1v-1zm25-56v1h1v-1zm-33 52v1h1v-1zm25-56v1h1v-1zm41 1v1h1v-1zm-76 41v1h1v-1zm1-35v1h1v-1zm65-20v1h1v-1zm-33 52v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm65 17v1h1v-1zm-40-73v1h1v-1zm41 38v1h1v-1zm11 9v1h1v-1zm-54 29v1h1v-1zm47-68v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm46 30v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-27-17v1h1v-1zm29 63v1h1v-1zm-40-73v1h1v-1zm65 17v1h1v-1zm-54 29v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-33 52v1h1v-1zm25-56v1h1v-1zm41 1v1h1v-1zm-35 42v1h1v-1zm-17-53v1h1v-1zm-9 37v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-26-52v1h1v-1zm38 26v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm65 17v1h1v-1zm-33 52v1h1v-1zm-29-27v1h1v-1zm20-22v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm-8-4v1h1v-1zm60 51v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm-27-17v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm46-33v1h1v-1zm-67 10v1h1v-1zm40 36v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20 15v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm-5 34v1h1v-1zm-49-5v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm67 53v1h1v-1zm-48-40v1h1v-1zm-2 39v1h1v-1zm24-15v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm6-69v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-73 16v1h1v-1zm66-55v1h1v-1zm-27 46v1h1v-1zm12-26v1h1v-1zm-28 18v1h1v-1zm31 24v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-74 51v1h1v-1zm12-26v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm67 53v1h1v-1zm-48-40v1h1v-1zm-27 46v1h1v-1zm4-30v1h1v-1zm41 38v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm18 48v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm-29-27v1h1v-1zm32 69v1h1v-1zm-40-73v1h1v-1zm-2 76v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm30 28v1h1v-1zm-9 31v1h1v-1zm-20-58v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm31 24v1h1v-1zm-28-19v1h1v-1zm12 11v1h1v-1zm-15 20v1h1v-1zm-27-17v1h1v-1zm74-51v1h1v-1zm-55 64v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm30 28v1h1v-1zm19 13v1h1v-1zm6-69v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-8-4v1h1v-1zm-20-58v1h1v-1zm-14 65v1h1v-1zm6-69v1h1v-1zm19 13v1h1v-1zm11 15v1h1v-1zm-9 31v1h1v-1zm-28-62v1h1v-1zm40 36v1h1v-1zm19 13v1h1v-1zm-26-52v1h1v-1zm-54 29v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm45 8v1h1v-1zm-75 6v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-14 65v1h1v-1zm1-35v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-28 18v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm-21 63v1h1v-1zm11 9v1h1v-1zm-40-73v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm6-69v1h1v-1zm41 1v1h1v-1zm18 48v1h1v-1zm-53-6v1h1v-1zm65-20v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm-21-23v1h1v-1zm44 43v1h1v-1zm-42 3v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm20-22v1h1v-1zm-48-40v1h1v-1zm-8-4v1h1v-1zm68 18v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-2 76v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm74-51v1h1v-1zm-9 31v1h1v-1zm-1 41v1h1v-1zm-49-42v1h1v-1zm20 15v1h1v-1zm41 1v1h1v-1zm-9 31v1h1v-1zm-20-58v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-53-6v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-27-17v1h1v-1zm11 9v1h1v-1zm60 51v1h1v-1zm-8-4v1h1v-1zm-40-73v1h1v-1zm37 67v1h1v-1zm-7-39v1h1v-1zm-49-5v1h1v-1zm68 18v1h1v-1zm-28 18v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-54 29v1h1v-1zm6-69v1h1v-1zm19 13v1h1v-1zm-33 52v1h1v-1zm-1-45v1h1v-1zm13 19v1h1v-1zm32-11v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm40 36v1h1v-1zm-1-45v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-73 16v1h1v-1zm11 9v1h1v-1zm61 16v1h1v-1zm-49-42v1h1v-1zm41 38v1h1v-1zm-29-27v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm8 4v1h1v-1zm-28-62v1h1v-1zm-9 31v1h1v-1zm-5 34v1h1v-1zm-2-73v1h1v-1zm68 18v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-31 49v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm40-44v1h1v-1zm-27-17v1h1v-1zm18 48v1h1v-1zm-54 29v1h1v-1zm74-51v1h1v-1zm-27-17v1h1v-1zm-46 33v1h1v-1zm65-20v1h1v-1zm-46 33v1h1v-1zm-8-4v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm41 38v1h1v-1zm19 13v1h1v-1zm-28-62v1h1v-1zm-22 61v1h1v-1zm20-22v1h1v-1zm-9-49v1h1v-1zm-28 18v1h1v-1zm60 51v1h1v-1zm-11-10v1h1v-1zm-56-44v1h1v-1zm41 1v1h1v-1zm27 17v1h1v-1zm-28 18v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm52 47v1h1v-1zm1-35v1h1v-1zm-29-27v1h1v-1zm19 13v1h1v-1zm13 19v1h1v-1zm-67 10v1h1v-1zm46-33v1h1v-1zm-25 56v1h1v-1zm45-78v1h1v-1zm-22 61v1h1v-1zm-20-58v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm60 51v1h1v-1zm-74 14v1h1v-1zm4 7v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm66-55v1h1v-1zm-28 18v1h1v-1zm12-26v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm32 69v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-13 30v1h1v-1zm25-56v1h1v-1zm-14 65v1h1v-1zm6-69v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-54 29v1h1v-1zm17-60v1h1v-1zm41 38v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm46 30v1h1v-1zm-26-52v1h1v-1zm18 48v1h1v-1zm-47-75v1h1v-1zm40 36v1h1v-1zm12-26v1h1v-1zm11 46v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm12-26v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-25 56v1h1v-1zm-29-27v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm52 47v1h1v-1zm-15-43v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-55 64v1h1v-1zm39-9v1h1v-1zm-38 10v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm6 43v1h1v-1zm6-69v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm18 54v1h1v-1zm4-30v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm66-55v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-29-27v1h1v-1zm-13 30v1h1v-1zm25-56v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-55 64v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-55 64v1h1v-1zm53 12v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm-54 29v1h1v-1zm74-51v1h1v-1zm-21-23v1h1v-1zm-33 52v1h1v-1zm11 9v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm19 50v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm11 46v1h1v-1zm46-33v1h1v-1zm-5 34v1h1v-1zm19 13v1h1v-1zm-56-44v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm12-26v1h1v-1zm-67 10v1h1v-1zm56 17v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-26-52v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm47-5v1h1v-1zm21 23v1h1v-1zm-2-73v1h1v-1zm-27 46v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm58-22v1h1v-1zm-10 35v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm13 19v1h1v-1zm40-7v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-62 25v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-16-8v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm12 11v1h1v-1zm46-33v1h1v-1zm-6 69v1h1v-1zm-29-27v1h1v-1zm46-33v1h1v-1zm-5 34v1h1v-1zm-48-40v1h1v-1zm30 22v1h1v-1zm-41-32v1h1v-1zm52 47v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-72-19v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm-20-58v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm32 69v1h1v-1zm-75 6v1h1v-1zm20-22v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm40 36v1h1v-1zm12-26v1h1v-1zm-21-23v1h1v-1zm-54 29v1h1v-1zm33 34v1h1v-1zm-29-64v1h1v-1zm60 51v1h1v-1zm-27-17v1h1v-1zm38 26v1h1v-1zm1-35v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm19 13v1h1v-1zm-53-6v1h1v-1zm25-56v1h1v-1zm40 36v1h1v-1zm-73 16v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm41 38v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm-27-17v1h1v-1zm74-51v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-55 64v1h1v-1zm1-35v1h1v-1zm48 40v1h1v-1zm-29-27v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm48 40v1h1v-1zm-29-27v1h1v-1zm-13 61v1h1v-1zm4-24v1h1v-1zm19 13v1h1v-1zm17-60v1h1v-1zm-5 34v1h1v-1zm11 9v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm6-69v1h1v-1zm40 36v1h1v-1zm-54 29v1h1v-1zm12-26v1h1v-1zm31 24v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm47-68v1h1v-1zm-55 64v1h1v-1zm1-35v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm-12 62v1h1v-1zm41 1v1h1v-1zm25-56v1h1v-1zm-33 52v1h1v-1zm-1-45v1h1v-1zm13 19v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm19 13v1h1v-1zm41 1v1h1v-1zm-74 51v1h1v-1zm53-74v1h1v-1zm13 19v1h1v-1zm-46 33v1h1v-1zm23 20v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-62 25v1h1v-1zm6-69v1h1v-1zm68 18v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm65-20v1h1v-1zm-72-19v1h1v-1zm-1 35v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm60 51v1h1v-1zm-49-42v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm-1-45v1h1v-1zm-54 29v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm52 10v1h1v-1zm-8-4v1h1v-1zm-29-27v1h1v-1zm-2 76v1h1v-1zm13-61v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm20-22v1h1v-1zm-55 64v1h1v-1zm46-33v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm1-35v1h1v-1zm44 43v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm32 69v1h1v-1zm-40-73v1h1v-1zm52 47v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-54 29v1h1v-1zm11 9v1h1v-1zm20 15v1h1v-1zm33-3v1h1v-1zm-30 8v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm7-41v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm-34 7v1h1v-1zm40 36v1h1v-1zm25-56v1h1v-1zm-72-19v1h1v-1zm39 71v1h1v-1zm-20-58v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm60 51v1h1v-1zm-68-55v1h1v-1zm60 51v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-48-40v1h1v-1zm60 14v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-54 29v1h1v-1zm12-26v1h1v-1zm11 46v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm-35 42v1h1v-1zm20-22v1h1v-1zm46-33v1h1v-1zm-53-6v1h1v-1zm11 9v1h1v-1zm33 34v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm18 54v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-73 16v1h1v-1zm65-20v1h1v-1zm-54 29v1h1v-1zm53 12v1h1v-1zm-54 29v1h1v-1zm5-71v1h1v-1zm20 15v1h1v-1zm32 32v1h1v-1zm-54 29v1h1v-1zm-1-45v1h1v-1zm13 19v1h1v-1zm27 17v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm11 46v1h1v-1zm-40-73v1h1v-1zm60 51v1h1v-1zm-4-34v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm47-5v1h1v-1zm-70 21v1h1v-1zm20-22v1h1v-1zm12 11v1h1v-1zm3 5v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm17-60v1h1v-1zm-48 72v1h1v-1zm46-33v1h1v-1zm-21-23v1h1v-1zm41 38v1h1v-1zm-49-42v1h1v-1zm41 38v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-61-10v1h1v-1zm38 26v1h1v-1zm1-35v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm20-22v1h1v-1zm-55 64v1h1v-1zm5-65v1h1v-1zm52 47v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-53-6v1h1v-1zm19 13v1h1v-1zm-2-73v1h1v-1zm19 13v1h1v-1zm-5 34v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm52 47v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-61-10v1h1v-1zm18 48v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm65 17v1h1v-1zm-54 29v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm33-3v1h1v-1zm-67 10v1h1v-1zm46-33v1h1v-1zm-27-17v1h1v-1zm47-5v1h1v-1zm-33 52v1h1v-1zm-37-31v1h1v-1zm60 51v1h1v-1zm5-65v1h1v-1zm-55 64v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm12 11v1h1v-1zm-54 29v1h1v-1zm5-71v1h1v-1zm41 38v1h1v-1zm-13 30v1h1v-1zm24-21v1h1v-1zm-7-39v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-2 76v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-74 51v1h1v-1zm25-56v1h1v-1zm-13 30v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm32 32v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm66-18v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-42 3v1h1v-1zm3 42v1h1v-1zm60 14v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-53-6v1h1v-1zm19 13v1h1v-1zm47-68v1h1v-1zm-63 60v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm11 46v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm74-51v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm41 38v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm6-69v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm40 36v1h1v-1zm-53-6v1h1v-1zm6-69v1h1v-1zm19 13v1h1v-1zm40 36v1h1v-1zm-53-6v1h1v-1zm35-6v1h1v-1zm-54 29v1h1v-1zm66-55v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm-16-8v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm58-22v1h1v-1zm-35 42v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-54 29v1h1v-1zm6-69v1h1v-1zm37 67v1h1v-1zm-40-73v1h1v-1zm32 69v1h1v-1zm39-9v1h1v-1zm-28 18v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm19 13v1h1v-1zm-53-6v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-10-14v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm-35 79v1h1v-1zm32-48v1h1v-1zm-28 18v1h1v-1zm68 18v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-8-4v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-75 6v1h1v-1zm46-33v1h1v-1zm-13 67v1h1v-1zm-29-64v1h1v-1zm60 51v1h1v-1zm-27-17v1h1v-1zm38 26v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-53-6v1h1v-1zm10 44v1h1v-1zm12-26v1h1v-1zm32-11v1h1v-1zm-8-4v1h1v-1zm-54 29v1h1v-1zm74-51v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-14 65v1h1v-1zm-20-58v1h1v-1zm-28 18v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm48 40v1h1v-1zm-71-24v1h1v-1zm44 43v1h1v-1zm1-35v1h1v-1zm10 44v1h1v-1zm-39-71v1h1v-1zm41 1v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-54 29v1h1v-1zm12-26v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm20 15v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm40 36v1h1v-1zm25-56v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm52 47v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm-39-71v1h1v-1zm12 54v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm39-9v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-21-23v1h1v-1zm-33 52v1h1v-1zm20 15v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm1-35v1h1v-1zm30 22v1h1v-1zm-72-19v1h1v-1zm19 13v1h1v-1zm-9 31v1h1v-1zm61 16v1h1v-1zm-68-55v1h1v-1zm64 21v1h1v-1zm-55-16v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm11 46v1h1v-1zm-40-73v1h1v-1zm-13 30v1h1v-1zm12 11v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm39-9v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm46-33v1h1v-1zm-21-23v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm39-9v1h1v-1zm-8-4v1h1v-1zm32 69v1h1v-1zm-22-19v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm74-51v1h1v-1zm-27-17v1h1v-1zm-46 33v1h1v-1zm19 13v1h1v-1zm24-15v1h1v-1zm-28-19v1h1v-1zm20 15v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm12 54v1h1v-1zm-20-58v1h1v-1zm-14 65v1h1v-1zm19 13v1h1v-1zm6-69v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm60 51v1h1v-1zm-68-55v1h1v-1zm19 13v1h1v-1zm41 38v1h1v-1zm4-30v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm6-69v1h1v-1zm40 36v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm12 11v1h1v-1zm32 32v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-75 6v1h1v-1zm12-26v1h1v-1zm65-20v1h1v-1zm-13 67v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm-40-73v1h1v-1zm-13 67v1h1v-1zm25-56v1h1v-1zm-33 52v1h1v-1zm19 13v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm11 9v1h1v-1zm41 1v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm-10-8v1h1v-1zm40 36v1h1v-1zm-30 8v1h1v-1zm-7-39v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-43 44v1h1v-1zm46-33v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-54 29v1h1v-1zm31-13v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm24-21v1h1v-1zm-13 67v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm66-55v1h1v-1zm-54 29v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm47-68v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm-34 7v1h1v-1zm24-15v1h1v-1zm40 36v1h1v-1zm-61-10v1h1v-1zm65-20v1h1v-1zm-8-4v1h1v-1zm-67 10v1h1v-1zm46-33v1h1v-1zm-33 52v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm33 34v1h1v-1zm20-22v1h1v-1zm-74 14v1h1v-1zm58-22v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm10 50v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-21-23v1h1v-1zm-33 52v1h1v-1zm20-22v1h1v-1zm24-21v1h1v-1zm-5 34v1h1v-1zm-48-40v1h1v-1zm52 10v1h1v-1zm-54 29v1h1v-1zm65 17v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm20-22v1h1v-1zm-55 64v1h1v-1zm41 1v1h1v-1zm6-69v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm19 13v1h1v-1zm-26-52v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm52 47v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm8 4v1h1v-1zm-28-62v1h1v-1zm11 9v1h1v-1zm-33 52v1h1v-1zm25-56v1h1v-1zm20-22v1h1v-1zm-13 30v1h1v-1zm-49-5v1h1v-1zm60 51v1h1v-1zm-40-73v1h1v-1zm44 43v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm66-18v1h1v-1zm-33 52v1h1v-1zm25-56v1h1v-1zm-5 34v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm32 69v1h1v-1zm-40-73v1h1v-1zm52 47v1h1v-1zm-54 29v1h1v-1zm74-51v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm20 15v1h1v-1zm-33 52v1h1v-1zm25-56v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm59 49v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-14 65v1h1v-1zm-20-58v1h1v-1zm52 47v1h1v-1zm19 13v1h1v-1zm-35-21v1h1v-1zm-21-23v1h1v-1zm59 49v1h1v-1zm-72-19v1h1v-1zm65-20v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm-21-23v1h1v-1zm64 21v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm20-22v1h1v-1zm46-33v1h1v-1zm-74 51v1h1v-1zm19 13v1h1v-1zm49 5v1h1v-1zm-29-27v1h1v-1zm-27-17v1h1v-1zm60 14v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm-1 41v1h1v-1zm19 13v1h1v-1zm-2-73v1h1v-1zm14 47v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm-14 65v1h1v-1zm6-69v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm19 13v1h1v-1zm-73 16v1h1v-1zm32-48v1h1v-1zm-9 31v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm74-51v1h1v-1zm-63 60v1h1v-1zm41 1v1h1v-1zm-39-71v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm68 18v1h1v-1zm-48-40v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-10 72v1h1v-1zm-20-58v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm-62 25v1h1v-1zm11 9v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm12 54v1h1v-1zm28 19v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-61-10v1h1v-1zm19 13v1h1v-1zm-16-8v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm20-22v1h1v-1zm24 65v1h1v-1zm-40-73v1h1v-1zm-34 7v1h1v-1zm32 69v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-28-62v1h1v-1zm40 36v1h1v-1zm-34 44v1h1v-1zm46-70v1h1v-1zm-75 6v1h1v-1zm41 38v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm65-20v1h1v-1zm-72-19v1h1v-1zm10 44v1h1v-1zm2-70v1h1v-1zm19 13v1h1v-1zm24 65v1h1v-1zm-55-16v1h1v-1zm58-59v1h1v-1zm-14 65v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-28 18v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-19 23v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-27-17v1h1v-1zm38 26v1h1v-1zm-73 16v1h1v-1zm47-68v1h1v-1zm18 48v1h1v-1zm-54 29v1h1v-1zm47-68v1h1v-1zm19 13v1h1v-1zm-73 16v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm60 51v1h1v-1zm-31 12v1h1v-1zm6-69v1h1v-1zm19 13v1h1v-1zm-73 16v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-33 52v1h1v-1zm-2-73v1h1v-1zm68 18v1h1v-1zm-21-23v1h1v-1zm24 65v1h1v-1zm-34 7v1h1v-1zm-40-73v1h1v-1zm32 69v1h1v-1zm1-35v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm1-35v1h1v-1zm-2 70v1h1v-1zm12-26v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm65-20v1h1v-1zm-54 29v1h1v-1zm41 38v1h1v-1zm-62-61v1h1v-1zm33 34v1h1v-1zm31-13v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-26-52v1h1v-1zm18 48v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm32 69v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm46-33v1h1v-1zm-34 44v1h1v-1zm-9 31v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm10 44v1h1v-1zm1-35v1h1v-1zm20-22v1h1v-1zm-55 64v1h1v-1zm39-72v1h1v-1zm6 80v1h1v-1zm-8-4v1h1v-1zm-29-64v1h1v-1zm41 38v1h1v-1zm-54 29v1h1v-1zm25-56v1h1v-1zm-33 52v1h1v-1zm66-55v1h1v-1zm-67 10v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-29-27v1h1v-1zm1-35v1h1v-1zm32 32v1h1v-1zm20-22v1h1v-1zm-12 62v1h1v-1zm-7-39v1h1v-1zm-8-4v1h1v-1zm14 47v1h1v-1zm-29-27v1h1v-1zm46-33v1h1v-1zm10 50v1h1v-1zm1-35v1h1v-1zm-21-23v1h1v-1zm12 54v1h1v-1zm-20-58v1h1v-1zm-14 65v1h1v-1zm6-69v1h1v-1zm19 13v1h1v-1zm-33 52v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm41 1v1h1v-1zm11 46v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm31-13v1h1v-1zm-8-4v1h1v-1zm-48-40v1h1v-1zm68 18v1h1v-1zm-28 18v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm32-11v1h1v-1zm3 5v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm52 10v1h1v-1zm25-56v1h1v-1zm-54 29v1h1v-1zm41 38v1h1v-1zm-49-42v1h1v-1zm41 38v1h1v-1zm20-22v1h1v-1zm-16-8v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm19 50v1h1v-1zm33-3v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-1-45v1h1v-1zm-14 65v1h1v-1zm-49-5v1h1v-1zm74-51v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-53-6v1h1v-1zm40 36v1h1v-1zm12 11v1h1v-1zm-54 29v1h1v-1zm65-20v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-8 59v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm6-69v1h1v-1zm-5 34v1h1v-1zm3 42v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-6 69v1h1v-1zm25-56v1h1v-1zm-61-10v1h1v-1zm71 60v1h1v-1zm-7-39v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm12-26v1h1v-1zm-7-39v1h1v-1zm-30 8v1h1v-1zm61 16v1h1v-1zm-74 14v1h1v-1zm66-18v1h1v-1zm-13 30v1h1v-1zm19 13v1h1v-1zm-48-40v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm59 49v1h1v-1zm-20-58v1h1v-1zm-50-1v1h1v-1zm-8-4v1h1v-1zm32-11v1h1v-1zm-9 31v1h1v-1zm-5 34v1h1v-1zm25-56v1h1v-1zm-14 65v1h1v-1zm47-68v1h1v-1zm-54 29v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-29-27v1h1v-1zm-13 30v1h1v-1zm58-22v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm-7-39v1h1v-1zm60 14v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm2 46v1h1v-1zm65-20v1h1v-1zm-29-27v1h1v-1zm-5 34v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm32 69v1h1v-1zm13-61v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-74 51v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm41 1v1h1v-1zm-48-40v1h1v-1zm20-22v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm40 73v1h1v-1zm-29-27v1h1v-1zm46-33v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-13 30v1h1v-1zm46-33v1h1v-1zm-21-23v1h1v-1zm10 50v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-47 5v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-15 20v1h1v-1zm46-33v1h1v-1zm-13 67v1h1v-1zm-21-23v1h1v-1zm-8-41v1h1v-1zm41 38v1h1v-1zm-30 8v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm19 13v1h1v-1zm-67-53v1h1v-1zm59 49v1h1v-1zm-39-71v1h1v-1zm11 9v1h1v-1zm-14 65v1h1v-1zm-20-58v1h1v-1zm12 54v1h1v-1zm40-7v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm-8-4v1h1v-1zm66-55v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-49-5v1h1v-1zm-1 4v1h1v-1zm11 46v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm74-51v1h1v-1zm-43 38v1h1v-1zm41 1v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-67 10v1h1v-1zm4-30v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-35-21v1h1v-1zm-27 46v1h1v-1zm6-69v1h1v-1zm59 49v1h1v-1zm-72-19v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-16-8v1h1v-1zm20-22v1h1v-1zm31 24v1h1v-1zm13 19v1h1v-1zm-34 7v1h1v-1zm-29-27v1h1v-1zm19 13v1h1v-1zm41 1v1h1v-1zm-28 18v1h1v-1zm7-41v1h1v-1zm-27-17v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-1 41v1h1v-1zm-9 31v1h1v-1zm-20-58v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm8 4v1h1v-1zm4-30v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm-21-23v1h1v-1zm32 69v1h1v-1zm1-72v1h1v-1zm-9 31v1h1v-1zm41 38v1h1v-1zm-29-27v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm21-57v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm-10-8v1h1v-1zm40 36v1h1v-1zm-49-5v1h1v-1zm68 18v1h1v-1zm-8-4v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-20-58v1h1v-1zm-33 52v1h1v-1zm25-56v1h1v-1zm40 36v1h1v-1zm-54 29v1h1v-1zm66-55v1h1v-1zm-75 6v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-53-6v1h1v-1zm65-20v1h1v-1zm-54 29v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm52 47v1h1v-1zm-15 20v1h1v-1zm6-69v1h1v-1zm-54 29v1h1v-1zm-8-4v1h1v-1zm68 18v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm19 13v1h1v-1zm41 1v1h1v-1zm-74 51v1h1v-1zm-1-45v1h1v-1zm45 8v1h1v-1zm10 44v1h1v-1zm2-70v1h1v-1zm-49-5v1h1v-1zm68 18v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm-1 41v1h1v-1zm19 13v1h1v-1zm6-69v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-27-17v1h1v-1zm68 18v1h1v-1zm-21-23v1h1v-1zm-28 18v1h1v-1zm18 54v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm10 44v1h1v-1zm20-22v1h1v-1zm1-35v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-53-6v1h1v-1zm65-20v1h1v-1zm-73 16v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm60 51v1h1v-1zm1-35v1h1v-1zm-49-42v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-53-6v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm60 51v1h1v-1zm-68-55v1h1v-1zm19 13v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm-27-17v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm-27 46v1h1v-1zm4-30v1h1v-1zm20 15v1h1v-1zm-9 31v1h1v-1zm1-72v1h1v-1zm19 50v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm-35 42v1h1v-1zm47-68v1h1v-1zm19 13v1h1v-1zm-33 52v1h1v-1zm-29-27v1h1v-1zm41 38v1h1v-1zm-48-77v1h1v-1zm52 47v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-28-62v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-54 29v1h1v-1zm12-26v1h1v-1zm19 50v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-49-5v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm1-35v1h1v-1zm-36 77v1h1v-1zm41 1v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm-15-43v1h1v-1z&quot; /&gt;

    &lt;/g&gt;
    &lt;image id=&quot;covid-safe-logo&quot; height=&quot;108.7&quot; preserveAspectRatio=&quot;none&quot; width=&quot;108.7&quot; xlink:href=&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARgAAAEYCAYAAACHjumMAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TpSoVBzuoCGaoThZERRy1CkWoEGqFVh1MXvojNGlIUlwcBdeCgz+LVQcXZ10dXAVB8AfEzc1J0UVKvC8ptIjxwuN9nHfP4b37AKFWYprVNgZoum2mEnExk10RQ6/oRD8EBDAkM8uYlaQkfOvrnvqo7mI8y7/vz+pWcxYDAiLxDDNMm3ideGrTNjjvE0dYUVaJz4lHTbog8SPXFY/fOBdcFnhmxEyn5ogjxGKhhZUWZkVTI54kjqqaTvlCxmOV8xZnrVRhjXvyF4Zz+vIS12kNIoEFLEKCCAUVbKAEGzHadVIspOg87uMfcP0SuRRybYCRYx5laJBdP/gf/J6tlZ8Y95LCcaD9xXE+hoHQLlCvOs73sePUT4DgM3ClN/3lGjD9SXq1qUWPgJ5t4OK6qSl7wOUO0PdkyKbsSkFaQj4PvJ/RN2WB3luga9WbW+Mcpw9AmmaVvAEODoGRAmWv+by7o3Vu//Y05vcDFsJygkx8thgAABm/elRYdFJhdyBwcm9maWxlIHR5cGUgZXhpZgAAaIHt2kuS5LqSJNA5V9FLIAkCIJcD4iPSO6jl9zFG3k+9uvI+9XpQg8qQzIj0cCdBg5maqhq2+R//d23/x59yndd25XqXp5Tdn+u5nrP54d7/+DN/ff957div79/f/hy//j22v/zF6XvyPf28WK9fv02/Xv/t/eX37y70F7848t98IP1+m/PPN67t1+vnfv6nFT338eeH+nmcX3/XGvda8+fp2lWEofw81M8ttt8u442vKKXvY8VX9Tf7uX5fj697b3s/rn3sfX999eM5ziPt67iOsR3tWMc8hu/96NZ4nfOsvp9nP9P32p3q+Zw97elIV3wd66zpSSPd6Uz9nCmla0vn72s5vvs+3/26hxz7OLz1PFzs8JG/+7X9ozf8M19r9V2MjsPTH79iZV3nGftwRBhT/OttNuRYv/YtfwH+7ev3P9ufNjbZwfyF+faAbX9/LvHm44/cSl8CJO/Lvv/k11FH7Nr5Zcnl3tlijmQL9nKkfJRjr+dZj+NK522DmpWf6TpfO3DkfA6LPK+Uir255ZF7+0w9vvee+fx5XanYn5xKqvbmSc1mXVeWP/W65VDLKV8555JrvvOT21ZSuUoupdQSNddqqlfNtdRa7/rUdqf7uvNd7nrf93O353ySksxPeepzP8/Tmnu2a2u5+XTzjtbe803v9ea3vPW93+dtXfr0q+deeu13f3ob50jjGnmUUcc9ntHmMaXSNq+ZZ5l13vOZbcm1lda18iqrrns9q/2+a7929b98/Qu7dvzatfPbqXhf/X3XvFprXOi7xBE4k2PP7Nh5HXa8xg5I6DP2bL+P6zpj52LP9udUFfm0yBx7M469bUexhdc8zryO3/fuj537p/dtE+t/tG/nP7NzW2zd/4edO7eZ/mbf/mLXRiBh/3bspwojpntSfbmddzvfOfq2+nvFf25v/ne+b//uBf73Qv/uhd5Uc3pblWzneY/enl5mOfc1c2657/N6+n70J837fJ/+ytKtr7qv81lTY9mXBtVeuTfXsc9nnPma58pPnde9xl57mr3NdLtuX1DyyDNJzEfWbVOar8d1pXVJfZwnInFFVe7rbems8nM+uU716mq9vfke9Z3pLMphzv5OdZjvrSqMst53Pc9KT7+k/F2i4/nE+Sgfqz3bW0aR+CO9/uw/6fzua/8jl7dfP+wrXfm4lGV62m+pr+X/09+3v/+GU/VBg6eWlgMS0lvX3vr7QoQ5DoBy1zlXLmtre3veLJ519PvuaMBe55vLez13LV0J69ivArdDaUUJq9/2zlzau8SoAK0FhTYRyK89q7OPG7rN7637m1pfV3tSrvH/t4KZy81zSb/isporHM9va9/+3tOnXkUOLEf4/vw9j1VuoT7aWPduWWDkup5llbW3G3EqF3wq2SJWP9/7aBaInLTWc5MBQW5qOluv+zWf/gBhdEp29Gez213mTbu7jlrXe6/rPVt7jluOPvJol8F3pMfI5RlTxDztHfgNbo+r+GzxaC/0t4i916djdvWQp/tolwSodi0/s97ZDqWgD0dx7z1b6oL9ba6u3aikeY7tFgdJe16XqD/PBTHvYs/XniKP2wNvtQkA/q43Zdt3DYvy0NmzlL7f7q9UtpLTneuTL69We75SWr26ns+f78ig/3yuaQGvyB/pPofO4O/qHcp3tahKU9pa7fI/0q2qOKEXOc8yLPwaJc0W6bjLAhVcytg984v+CuMtQOsRbSxn3Vu5hBA2YL/Xikgeb7WrHhN4HOec5z3f967HUDtTWef3GLrU9XqMpGsN+iFXfe2IyEy3qqJ7TA9SpHcfWSPz7rLW8wrDBTFOzaoc45q7XD7q22vL7yzV0s/N8uuayavHoStjxVnR1o+Kv3XvGmGpaUTHa/cY83mTjjuz/SoITdXsxGyv26GE1Fa3O3tZotWj0J76tgeCAUSd8ZzjloE2Zxz4/93mPq68MkYBVfrt122LojoSLN0DNOXKEqCuEJ5+lolR2u+nvE0Xrs0LPWiV3Gz5eOJ3E2oVmLip41rVpBy+67qmhLmE8yrpLkPGAwRFcfaCwdvfZIWPeh6CZ6FK8W0wtKetvCWYwXv1ARIeGzJ3N7WNGNaUgI/yrMFNDstGcYe43MeJilUgPPYmeL3nrTzuuiiydSskIH+dXaJIycfDX3RfbcPn1wStz8oK7g02U8tIcwnAQ42cwB/QWNxlK6+xrlFzlG1av1jG7fpuWl7sJgf6D/WCa8nXNy14uGDfuwOcLdoS5v7BF/jQL1DUoq7Q71OlVeGbMuqAoUAIxlzvPkZs14osX/2IXCqbyAp6PtXsnANYJHvs7vfd9ALr9GPTXJKiIl+OBKkluHLL09IyQvjkUsfmnStuLMCBJvrbPQV6yKQeqwxQtfn9N3w9Eir2F3C6/c0LWm3kRXoHWlZ+etX1B8S2t0UGe14k7ZGJvWiEFTBtd21n3Hnl+WoYykQ0JVvR6uWBlyWfp1cR92rXdZQX9X3JwnEqj4WNLsXbt4AvpZ/VjT995fcUfhWovU4ssiS8/TmeVPLck44+JFBUHsowusLTva6zDcGeKnNvin1/pdmcgZk5VwFXDJkefVTgIJyeMp9be5jC1PZVe81N3WAWLr9N5WLfx3vZudg7jxT9ElLeSWrj++pC3xitlTVRXJeYDdCfL9ocMBYJNzeoOfL9TNW6n/2BM2mM8vSujqTpexU5KC/LcnsdADMq+4SXrxhF39qPMWDQVmJdp+v6IH6+0o5c0636hOKkia7yUIBQKUcQQdUN15TPKbmfiVhZ9z2PbQrsnXcM7djhpoTVX/EzxsDIlTpp9ENt71jvua5zBHzRQ9BXkfoU3dFSmdya67V0ZZtwtTbul23AS7jIoXx7LqtAuwq081P0LZ0GDVSzL8HUst1/daF3GyHKzuGlF9sglWQg9b48zxlcI4356juaQoU2yRo940sivQdZhhRmHfN4uhgpsDxeu9Q05mAi6UOg44kdTGWcVUtGGWUTDJujamOv3D4kjF5TFmtGjM4sVhVTGLXKyrqUq/SUyN57w8ovN2mi012CVUiKDEUOEbzGA5e18bvmzRZwY17QBZVp+uPOgRvqBUzpChdk1esBOKYlHJ0se9YYlhvaSRcNu+A5tpCXyFpztYewnEeAwk0Xuo96unGeQOjWZXeK3a2HFPEcryZ8t6xoZNB1MxAiLhRcsDot33J0GQ+XxKWod0oTj3miFPGp9Dw17qGocaPo92c4c7Nt0fKi39CBSxVpI88K6tylK+8J2EJtHU144dpzCP71DORfNxyRkjfrCRXatN6JcHac1AreAWEk4EAmtSOtW09livjEna9vT1sgbI/o4Gj6Fc1deslb4OLD3aIeInKCUe4RgACLiGRNjvYlhTs9UI4HHQ5wQPBag16xjNkgYt4qpnNHh7qyNhT3pHRPze7Cl+6r08E32NSIAnFrn70yyFYqnv0IZL+FSFVsa8DVUy+oKLKnC7xHsscBM3awDxoQKYJbrPsKasPGaWvP0Q1rQy9yl/Z9a4zAgtOUnlC0tit5uMgpDOAXY0iBctk2CatfS91bk0N2IgpfE1NSIWp0BiQcOlXekdasx2udQwTtPYPiPoOH0fqvDPM5FEohrNSni+G6OVASTmvZbCtlFfzV45Bq1v7BLEgZ+v95vQVxnLt8fdRhuTos187sRzzzPmB3y5u1X7v3XQSLIoL97XKnJrePjHuXAmf1aAuHsvPRGRC3IkpLq2KQhWUhvNupDpeSWO+V1pBmsIfHogjsVXBRSHTk+o4LWArTHhT2hJMSDkPSWfOk64ZHi4BprFhCt8vpDS4YWY9sPwAXdqCXq39kq59BOfpFJCih9xRcK2YA3ZsUJpt+emkIoLv8IWHCvJGs118oQaAHCygONc3WudaGWleLwmCsX/cFOdwa3N+C3IGXiKsQscCN7KVtohD3jNL1PVx0pGuFn7Mxe1CMdMNZtGyk4Og1RER3YX7zqvxGO/7I8zfkTD/VRSAqN0chLi3uPU6YHT01SRg07oUYdLASh2rBq6hMkQnYxgnRew+hwpt26rLlVDszgCQ6wEZsqSaVOHbkgdxQFdrcRD8nmdJChVf1Cm20JGRdh401HnrXCiQdPurq212qjq6dN9QcGMIfOYkqZAvqVIzKw2ytjEzKHqf+tE1dG8UaxD+yrcg2slVtR+cUN/s7YvOIPeXRMnZSg0Zw2BURcJxQf8aDVcAdcC29UM7e10YLglOXGpjgWUisVlRm5BmDLFRlLsN/AswQ2cYZoAqtff9yscYrHV3YrjN9nfHgYpAzaPtwSxSGy4551SvYNWX0RikkJgDQiDbfWlgVIKQND9fnNuUmtbxyWIUP1YIvX+vqQZEL6LWN8ptSvdNuP6nbDswPwkkFQ0OF2YJJbEKgApsOjSh9nLb3LpOZtjc6hCQcUTqq8Q7kJC14i/IKb0DnyISoXqR6G6c+1DSmZVkH0/HVHjw4pAGrD1JN5T7RKvutsfSgFWzUSOcaZFiOqclZaJE7GEoNNoCLHFGdemvHXmzZFSxmTup2hU3+vAYfYYnMFxL4oQ8u50jAYtPodt2EsirQCKMlazgbQyKN66nDeoXXpUM3UrdiT0YjcDgWLR5rv3AEjxZ+wghnha+kgZ69hg8lW23T1SO2bxZrMf90OXSwMPwY5j1gDQAAnpE2LhgUij5E1LGWfSI6sg6hFNTEoE0Uv+HZn3rW17E6nRRGWvoQbTtRYGg+eNcI1EQROurdouAJGFaIoHmIM2Q+S+dk/ZDzwRVm5AX2N/CwQ2a7koJcwfzNUth4zJXyrzck7nH/evr7AMwHTUXlPUIJXhl6ByuoHZyvgMqPDuceOp+bFz6MnPIh7YB/xPsLTctfxNqf/WwhYOthlBViE3e5oy+4L8LCWOgoaTpxTr4RA9BtpFldHHYKJNF6mEWndVMF5u/B4k7pC6gL8jePm4iAOx/pAzFF9w9tqtgXnlpJUWHuQ51VYF4+B+3MLMiPjGKxfi8aORqyrqNOtMrqB8hytK+uUSh7urUZWo/KhFDyUdp3ky5lgXbdwbGYqLdLEmkorO3LEUleCQ8B4TCCa9jUm+GRW/80Iw1/GVb8raH2Xww2Uolmvk91coR5KoLEMdU3X44IMI+fhu585BSNL/QDJwiYmF20PhkPVyB3uoKaAjhEkZTQAIpa3mQvKX5He8Kv+Tk9P/b8fBQBTsZ9MSMpr1bQgm6in3xDLhTuW2I/mKn4K4+tfm9DKrNmD17Rv5AN+OUKPwIRuV2Jx4mIKuqP+mGILzXZyHPmwqWz7Gs7w9ux2OjMTCdexbwEijqjSll0ZH0LeUNpsive0EMaarcjpOjBQCrhah9tg4zToCThisdP3nLJXFSFTaSrmEUZzIB7hoEKwS4ZAYOvpfjzhIiSxgOPTb84YhMWFJaoYcVpZUQ1FoBYj1DEPeT5GwNdDADdpg/at8aOe4ZKFZyNh1JAAwWFlT7h0e/5jrDIrQB3yUcCMgsNgSeoCTVHnJTD7BixsZkjaNS1US21kM2xEp3l82503ejxnLMv00NFKhDtgImIKtGtJVQ+Ibc0i/EZ0RtkNVCbWK3eicycWsTnJoPIEymEsLGvwwMzOUswJpbmi0dIpoJ0sNrNyM9N/AkPEib5VfScEDUG7YgAtYkJ5ejtCA31HH4LzR0ah/LFoAzRhA2ItnsjFRS80ng8AsAL/FKS8finOxabLxNFglEECMAt8hqDPDylG47rshVMCjaNBrVD1lEGen/O3rAPbrv0BF2INH+MFFmPNwgHmuRRWowm7AuF5m99thTU6v3mmUTLxSxEN3KYhGcNXisn8LdHE93TKYNgBkl7hq0h0DkYnLlLYLZ9CRn8we1iGTEEIABRoGHYVjMB8jksYDMOiywBvBKtx0wPMVW1OmAMD/hniwULfkcKVGZ4ys4HHkJKkMfrvRS62UOKVm+1YYtHs/nag1wbXzsSXcsrdjEkT7lT1NYIRfHuRao7J0ETsVej/NRsp1GQTycicmhzFBEsQ4qNLcrz9cJUBBritw1IEn71JjHICpVEdN/Jd55cABtQIzzzCV8IQo4QZtsR75uKlDu9u+G3fmYJvgeO94dw04Chk2Ag41e4KxwixrS/FCnfjmxgjf3E/C9CHlscs9kzKFj0biCh2rvTE4CJJgvqMYOeYrstbccXKnoP9f+Ct1BIMoffUBQTFU++wUUqBSbaDbWJg0RX5mOu0G64NpMlTKr4OKD98Oi33zpUE7+PX6f4n6jpFzwcvV3aBg5e4JsUUawKc5OdjDcWNSLMcmBmMvZ6MA42ucLmwA4nUVClOMhAcudI3PAQCHNkmicbg+1nA/MwsUgTySyBM2hHlJQPgLijA8kHavr76Qpy+dfft99fIGlwpOs8wFDMGIvpYfTJj+CO2CJcS2/icTArJTthUqItEQEedDMMCLiM0y7hmxvuX+FeMx2jB1EumA3YOQ1NcjaDAVsGggYD7329WsxFb2kd6LHswnhjKHk62cSIHWiCRvJwRvWM8JMvbFE/JBuQVBqDcWaUmJFEyatRR0puqYR/TqthrCPGQO4bMSvaj9JkPtLezPXAtcmeJsnUKw+YLBkyTTstodptP0MJvKtbUgWLB9tRPxCawUkM4bRhAoaEQmtAQghCHN9LqhzIhK97H5va7iHeUBQKGisK2YkgkyQwmdlhFBdDGzQ+HGDp7F/Ph53TeQtj5Zb0yCNeGN8b94GmmDJae0Y+kiI2yX338fWSNw4T3NFOS3QqbCqQ8viQWUUnp8ZMltQj554hRJjDW11M7jrf4KBCQJRRjMExAcuBSpG0g045poEQ/lvwCYxi06277IgZyBEeZ4k46q0heXIccYjCzCGvW4gGVHlGJjwxjuYriWoL0x6HXOu8gl+kMBoi1B2RQMQMJUNDBV0GrmAJETSssgFBWUOSpJg9stNCwBj5DO6MK6cwjUM9gbQjZosTHMty2MPI4Y6nsBv7JZzy/UVv8hk2gV1gRB1hQ3/+pXMvsC5c8bAfwwnVXvbPlgyddkpr6uYTC1Qfn+cNvQqJwBHuFCuiDtSzCkrRaCEBxiOzZJreFA46qKp/8cnXyMuAkHf7xmmTDXBx5jCh8US2Cg3ChcTY6BU2N1UHkolb+/HlGEl/fhh2X5FY6wqqsMaWU5yqwSxqnGCjPtGaEnFROTGpQJ1HyCk4OOZPRrH26Yy7B+VGShKGYuBL9dEGNpAFY9wETPnLUDowK65g58kangAXNg7mGF3RudfXpvbQSGl+6+P6mWaY/cQ5AFnsj+jeOhF2e5NWD+2QwhS3zeHT/unT4Tv9+vDYzWk1VSCK6MYxBh3SnCq4QA1vC0wQiGG3kT6cMesCezncEo5D/WIGED4ngmbmN3xSSxh13Sf8KLa2YsUDTpa4USSIenhpgDRKMUZsn4nOXlKEPDljsWANIbnY9UZNwqE4z9DQ2qs+esSppxzTLtoskJQ3ewXLjabRfvJKjfZw2O/AQ2NDPdnsLWqJ46BfeFCQR+tLXQTu1zBr/nZy4E/DKfR/06kM8szZf5td/cVxlBaDMOrYRLYHAcUzzx7y9g17BQKgPptjE0gMYzXHoQIQzdMxVCUaaKv5GelnOI/Q9sQqYxBiVBxuTLS3FvMAv7wq4Wf8x8XjTHNF3q85QxVExABeXuGxYkySOWrC4QrNlGNscvPqnO1ytIDoF8YNcWfZG4W28ItBFxxzRqoGuZChNbKELDNbipEtBYL5HSEKuSeWUszXOUezbzGf8awaTnjpZ/jOKiRG3vZMrVLcfA4MisvsygjweUCMGiakdkEHl7BOOBFeqXw1IwUJ4ujcCC4fNnrMQ50b0cEYBTFkG5SDUzNRA9ovJhFTU/ZlkLux7TyOMA29CTo67fh+gkJG1NDD4bUbzZ9xNDC6nD4DYhr3Sw9D9smhHgYMcWwcFT72CBOjAXc7UL4Tk4bXSgS3zyHneNCqXdoeIbkfkBt5bSYdlpeM3NjF3iPfapwo4n8zp6V0VIXA1yBy4fum9+c4EVwN599EUjbQ+Dl8VbTr3dyHnAtEo4AQOetSjECQkOAgzTgZS3+jAl4eQeM0Mc7KCJJFY6t/0pehafjlKIUDOSYCx6O9YVYxxMYXaW1Ob8Shhxsa0G9kCJtSTMWfsMH1IMpX7TybvY1P9Din4LgMu8nt3fS52CPArbk7FHVmxnkE1L2ELXFY5nfIAKclecyBjA7dIsxEU27DNCcHcnhgMRHwMwSJg1MIIHZOs1KHpnFsUTlsaE5VxvnIxfU0F6HCII+xYyoI14zRU2yb7GRZhKHNwLnjDLJxYJxKcoYDBB0cTUaoCx+xdt5IiTbhweJAiYhGZclVdBxPdmBkxflD7WwCwBajJYwjWCa2Fm6esgSWMWLfsB3JegQ3Cf8UInkIgldMPt59x0GwmHW7LXulRe3aMnyAhTttzB32aKHXaHtGrcOO32xphEV+hKym1s2qIUI4Jc7e0HEwDAsC/MR3zj8np5DkDycdrWI4hOcfZ6iMqGycmRXOs2C59uPwQgmv9Byhi4wdJHrMlrhShFl4Z89H9Flj4Y+HmG3Hr/b3SYD/9HK8WOJ0LJcSU45mGQc45/qmQHuk0qcgEYUVGwxMRoy9V0xAiVvxBt0wIQZbz2dVrzjP8I4f0KclviMxuv/j+JlxuqOoxvjsmBVHoiyeJo+HibGQynanJ1hZHC9wAYfzzP3sa9QATfXG0SRFSwn/4Ly8/UMY0Hn/0tG67V8+i/ePLpRYX//AXPu737f/7gf/90L/My+kiPXF7f8BfZGYAjrY4vwAAB6NSURBVHja7V1diFVXlj5PRvJQDD6YUTLQ8yCEBEIJ/dAIifUgHR+EUgsRXzSMohjbToTuIMS/F7VpGFJDaCI2UgpNoOuee6/OQ9UEJmZ6EiLiDKEx1Ig+dKNWC9a992SmNFVlSjNrnaprbt0659y9ztnnZ5/9Lfjyo7du7bP3Xt9Za+211nYciD1S91YS1jkVb8AZ9XbRfx9xKs0zTrV5nuA6tdZnjtu64VRbtwj3CA3CI8Ic4Snhh0U8XfyzR4ufuef/TI1+lr+j2nL97+Tv5t/Bv2vhd66j71+JhYBAzCWRF0iR+wk7ScGPk6JfIqX+kpT+fgdB5I37REQ8pkv+GF0eK42Zxw6BQApDJqtJOTfTv4+Ssn5CuFkgEokH13+GT4h4jhLpbPafEQKBZCCj3npSuHd8q6TamjCeTNQx4Vs7/OwVmgMIBKKFUF4npTpM7kSFFOyBRYTSCw/8OeG54TmCQCBKLk8fKcwQWSjnSIlug0iUcdufM5fmjucQAoE8J5WXCQfojXyZFGUGZJEYM/5c1mhOeW4hEAtJZS3hICnCGAghZfAc12iuec4hkBKTygo/H6TGOSKteSh/5pj3575Ga1BtrcCGhJRDKt4Gx20M06aehJIXBrQWzWF/bSAQA62VFwn76I15FcpceFwlq2afv2YQSMGJ5RUCpd637kJxjQOtmV/a8Ao2MqRobtBGslZGaJM+g6IaD1rD5oi/phBIzsSyhYilDqUs7QlU3V9jCCRjYtlGm28cSmgNxilOsw0bH5I2sQwid8VqcE7NIBQBoptYNhGx1KBgwKLrVKNg8CYoBiTpqdB62kwXoFRAMJoX/D0CgQiJ5SXCadpE01AioAem/b3CewYCUSCX/Zb1WgF09ayp0d6BQEKIZYDcoStQFCAhrvh7CQJZJJZVi+7QLJQD0ITZhT3VXAUFs/t0iJo7ta5BIYCUcM2pTA1B0eyzWrgfyzAUAMjotGnYGUE/Gluslu206Nex6YGMcZ2sme1QwLJKtdVHVstZFCQCuRZS8h6stdA3uGQu0Zt03w5qh4Di1DbxnoSUglwOoZscUNCueoegoOYSyxrCR9jIQMEDwLxH10BhzSKXN8gl+hSbFzAEn/p7FmLEKdFuWrA72LSAYbhDzeF3Q4ELfVLkHaOFmsNmBQzFHFkyx6DIRUycq3ofY4MCJYnL8F5GYl5ByKWf4i1oBgWUC67f1KofCp4vuWyixfgCGxIoKb5A57z8yGUHLcA32IRAyfGNM/pwBxQ+S3Ebe3G5GWDVpXC85yEZSM37JU14E5sOsAxNf+9DUj2Gfp8m+jE2G2ApHlNo4H0QQTrk8gFN8PfYZIDl+J5I5gMQgl5yOYE2CwCwpO3DCRADyAUAQDIFd4tALgAQTjJwlxIEdBFzAYDeMRkEfmMcReO0CABUT5dwhC1KokOeCwBI82SQjKeU/o8MXQCIm/GLsoJQctmE2iIA0FC7hALJZeTSj6poANBahd0PYvFPi6ixDvq5AID+fjK4TdK3XtCJDgDS6oxnea7LMWwCAEgR1vb45Q7qaNANAGljju7E3m2bW/SGg6tFACH+efCkEjBXy3DHnnuXanSLXRWXogEy/Ow3f/rh7t+/0RPjP92N+QoO+n5KQd81NlgvuM4VkFsvW08qEcyOX1cwX+FB34/KTi6HsMhAHHzzj5uVCObl87cwX9Ekc6is5PImPeAkFhiQYsevXSVy+eMbBzFfvTHp62LJkun6CONYXCAOmDjgHmmNx4z7OlmifJezWFggDtjlUSEXRt8f7mHO1F2ls+Ugl4q3HV3pgLjY+4uLSuTCQWDMl7AbXmVqu+lxF7qUvnUdiwnExVevDSkRzFsnxjBfclw3u16p7g1jEYG0c1++enUI8xXfVRo21TUawuIBWeS+wD1KiMrUkGF1Rq1VNPBrWDwgi9yXn/3mPzFfyXCNXKVVJp0ancaiAVnkvsA90uYqnTYl7jJAA57FggFZ5L6c3PVbzJcezFI/3wETkuquYLGArHJfUBqgETXS3WKTS2M/FgrIKvcFldNpkIy3v6iu0Us0wAksEpBV7gtKA1LBBAV8XyoiwSCwC2SW+wL3yKaAb91bTwObxsIAWeW+oHI6VUz7Ol2g/roXsChAlrkvcI9SD/heKIr1sgkLAmSZ+8IkhMrpTDJ8C3BDJC5NAzLOfUFpQGZWTC1ncvEGsRBA1rkvKA3I1IoZzDOpbgyLAGSZ+4LSgMytmLG8kuq2YQGArHNf4B7lYsVsy8N6QY9dIPPcF7hHuVgx41n3etmCiQeyzn2Be5SrFbMly5OjOiYdyDr35cg//Q7zlZ8VU8/KetmICQeyzn1BaUAhrJiNWWTtjmCygaxzX1AaUAgrZiTtrN1XHFxBAuSQ+4LSgELgmc8BKVovZzDJQNa5L3CPClVpfSYt6+VF+gV3McFA1rkvv//5rzBfRYFLHDBCXJBCYt0+TDCQR+4L3KOiBXub+9JIrLuKyQWyzn3hI2zMV+FwVffR9IYiPeDJiZkfPn/4/XPUJ58Efm7rteklnxv40/8t+8xPxr9d8pnOzw3fmV32d1E4ReNqf2+3vP1fj/w/7//3/+35Pfw8pya+88fWPV7pmMLmxpTcF5QGFPbIeoPO4G6hroB9+8ajZQocpIx/efR0yWdG/jq77DPv/fnxsu/6u3/1/L9jBZVI5/eHEQyTl0ROdpBWnDH95fFTo3NfUBpQWDdJ05WzbnMFfeFkkR6OCcB78myJIjFRdH6GLYVu4Z9pk0cbX387v+QzlyfnYitzGgTT/WxlIBjV3BeUBhQ62DtJwd4VOoK7u4r4gN2Kxv/f+fcX/zoXqHCdbhJbPd2yZ5EIgn4HExRbRWEYvp0OwXQSo3RM3fNiUu4L3KOig7hBQ92RW8SHC3KTOq2TbvcoyMpgpY/6jm5l5riIZHwX6Xe1ZfCr6VCC6XTv+Pfz7wkjqO4xBbl9ZSkNePVf/htKXGy4SXNf1tKXzBfx4YLcJBUrIcoa6HSPkhJMtxXVJpFeBNNG97O1f7fpBKOa+wL3yAjMk5u0Nol7dLDIDxjmJoW5R51uEpNMlHsU9P0cz4g6semM/3SOofN0SYVggly3tgUkHVMQeZmQ+7L30EUosBnB3oNJ3KNCt8TsdpPa1km3e1SfXEo4fNTLR9hR7lGcgGonifBYPn/4ZBlpBREMkwf/OYOf6WtvPpSEpGMqEsGo5r6gNMAojMV1j14u+sMFuUl8rNvt9nQrNf9Mt5UT5GrEJZgoxAnydlpAJhOMqnuEymnDMEJcEcM9OmDCw9X/Fu0O7QkJjnYTU9sFiXSRHqm5SDoJ5lSPPJgFSyl8TN1WmQnBXZQGGOcmHYjjHl024eF6KWxbwYJOZjqVVCXGIw3yJiWYbvfK5CCvau4L3CMjcVnqHvXRD82Y8HBBblKQ8gUFdXspaVYE03ZjumNFQYmBJhKMJPcFldNGYobcpD5JacCQSQ/YmW8S5faExS+C3KO0ktqiCCaILLtriaRjYsA9AjJIuhuSEMw5kx4uSGmD3J6g5Lww9yittPxex9RBtVFbOwhQOibV4HMRgruonDYZ3jlJa4bbJj1c0Js/yHVQ/VyeBBNmpcQtwMybYCS5LygNMLo26bZq/OV1Ex/wwzszS9yCoNYMC60evlvyuTD3aKE1woyoNYJKPCSoXUN3nCWohUS74FE6prxrkSS5L6icNhyjxB29rZfmYUwWgNIAIMZx9WGV4+kKJgvIOrgL96gUqKjEXx5govKLJbELxUFdDkgzti6WERQlYS6t3BdUTpciDvOgV2vM9WV7aI5nvEvxC46PcI1PUBuH9hEzHwnzZ8PiN2mdgHFtVFh7ie5gL4+RE/CKVAKQNPclzD1iUm3XaPVC1HyofkcUmPhNJPkc4jDro+Iv75TFEmCiiHPi0nki9CEpfhqKzOPjmqmwBEH1DnpzhSUaHbkvkqznqCRIndIuzfALZsm6BOksi8O8E+UeXTL9AZlYkipuN9F098VNAh3EEodo+OJ4VfT94V5mwd2o0oAiEkyQMOEElXVYmg9zKYpgJkx2hZJYLCpEk8RaYBNbxQ1KIlFEKImHJO3FIsl9iaqcNoVgOvcIiIY4JCT/ZbWpD8W9XXRbBWHm8daIvJkw8KbLYnzt0oIgIuQcEx1Krzv3Jao0wDSC0fUyKkH7htVBAd7NJj7MnoC+umlL9w0G0S7Rd4XZ4Kp3ETH+4fz/5OoemUwwSV5GpUCNuGQ5wTSPmmi55CUqm+fdgLqiLEmmOwB5ZO/vlBWfYzFpB3d7VU6bTDBRLTcsCPQeDYq/fGJazCUrtyPsDRVlBgfdy5S1dJcJcPBW+ej4tXiZtZJYz1snxkpPMFaSjEtcEpDBe9Okh0g7YNpbeZ+EEgz/ed7jC3PnJAQgrQ3SkftSRoLp9TIqIW52B3hfMOkB3k4Qd+HF/tpbKEzkBk9xTp44ByK6P81c7LHxuNi14ixeVjD+b+53E5ewuje3JNh7ctdvcy0NKAvBsHCSp2WB3hc6A7z9Zbde2keIYYlRfjf/b+d7KuvbPczdoCtHVBWkV9LWezFzfLpdJdVgr7Q/iyS4q2IdZU0w/0FWaVgmLxM9v5CSuOWSw4ESZPT2dzaY2llm64UtCtWMSyaaoE2kevQotV74ezleI4k9xSHYzvIHSbBX1U2S5L6oVk5nTTCq7Ud5j8RZg6jmZiXscLez8wTpeFmtl1MxsnC7lViVoKTWS9x8CR5L0N1Jqm6dJNirmhMjyX1Rdb2KSjDttQ5r1apK9CU/STpuXImA9MoPlQ5zvU6pJGYtN4OSSJLAX9AFc73enp0kqRrsZTdJpXRAV+6LKQQTd81Nu+pXT8mA2/rShEG/J8wrSfq2kBay9Yrh6N5oQT2GVefj5yfHtZUOSIK74z/dncoLJS+C8dddYE1a4yYxp3RYMPdNGLTkxCfrqL3UPdJ1bCmxYrrdJNVgby83SXL0Lbk1wBSCkVrWkpibwQRzv00uK00ZtCSCn3VykySrWGef3FOCUgS+RjduZm+YmyTJfZFeqmYKwUj35tu2JN6NeCs5B2adKQMu8ltCoug6LnCLkzHcHZN6jbrIJS0dkLhH0iJKkwhGEvDVuf6FBnML5cAMmFIaIJGsxycJ9ul8g0XdWKkS9FZ1b8JKByTBXemlaiYRjOQFY02gtzI14DijjV0gmOSQvMF0m8hJ5mXvLy7GzomR5L5EuVkgmNLmwuziNplHQDD2Eowk2NudvyLJfYlzawAIxvhcmCOcZHemjASTda9UiYukM2U8qYvk96wh4ohTOiBxj3pVToNgSkkwZygHpnkeQd5sc3R6FUumpYRhp1eSAsi2myQJ7sa9VM0kgqn/7QmCvMuT7c7zMbVbxjKBUxobdes+ptaZbCUhtigFUg32tptESXJf4l6qZhLBSPbmoDWd7jyXs3g/M2XAkrdEkjKBLFw4XTUpko0dlRukGuxlN+lVwfF2kjunkWhnPD5jgrlhyoClpQJJk+2kcRyJsuvINJZWlkdlD0uCvZzun7Z7VNZSgaxffDln895gF+mWSW0ypcWOcYO97YpqScXzKWGD7yT3LUnbNqgQmmqwVwJp0yrTCEba1N2eI2oft5hg7pk0aGkHOr6ULKnyqlZVx2k2dTJmOwlpuwYVa04S7E2jNMA0golzY4Q17RoWcI8JpmHUTQJfyW8SCLsrSHrHksoNinFacEpIJs4FbhKzXBK81Vk5bRLB8LjirLNV7tECGkwwj0waNLs8cdoWtltmBhFE+5J1lU3T6/Y+acBP8r1xe/1KYlGSzF7dpQF5E0z7RRQEfrHxiyDJ7aEWXmHyiAlmzrSBv5fwviF2L3ijMOI20/6QclnC4jvSJkTdRMMbnXNlGCMJGn7HeWtKgr1pukdla/ptofXyg88t9I+nJg4+zXuok5rU0m5zaUnc6zJ+/9avEpNL0utny0QwFl8l+9QxdfB5X7zWa9NwrCTP8SUpSdAR7E3qHpWJYCzKe1kOkwcfN96R1RtJ2tJSpyTNZP43Qa6LjsrpMhKMyjU3NhDMU5MfIGsl5k0jeSPlQTI6yiQk3e50lQaUiWCk19GU2UWaM/1B4hzdZkEueYxPV6W25GoTHZXTZSKYqGuFbQzyPirDw6R9H3TSTRP3Hh3JyZjuN2acnJgkpQGmEwxbLZYl0ikdUzfK9FBxb93LwipoWzM6T8B0jy9psFeXe2QSwXy+eOUsCGVZLVLDuFIBCdHwJfdJNg3fR5xW46qFxLnZwo6vDWlOTNzKaZMIhvcV5zrxHsu6sZmJpQK3yvyQ7JrwRuCLy8MIh60A/jvOa2GlzTI41x4fkw1bNmFH22yV8TPw+LL07/mCNr5RQBW6s7Z5blQQtWaq3xEFJjvEVeIUOxrUrkHnxm2ngBf1DVT08QGAAm4Y1XAKAADjGk41XUxEMiujE5gXAHge5HWNavqdt1vF8Q+V4kP+e46ncLEiV+Fm6eYwyXG8oBeQBAZk0/TbkGtL8ixH0HGszL1ksjjKVD2i52CyDuLjPsl+57+M8W7A0fzzLoQ5wJ5G3gL415YYcvFaHuCWDPpzJr5PjWiktVk6SgryqmoPOpaO01FQl1hfcxRMMEeMuTo2a3dI2pIyjkWjO2YjbUilo/E4CAYEEw6+OrbiDWAisiWXztTyrZpM67jKldSaAsGAYMItmKkBx6l76zAZ6bpFafRs0TXusNseQTAgmMQYJW4hglmJychng+q8wiJJ/VWSYC8IBgQTcUy90vGl2rqPCclWWXS2UZRewKYz2AuCAcGEkMt957m4rS9hvcg3ZzvfJU7z8K0ajzWTKnmSI2sQDAgmBF92EEzzku0TIrECovp+8J9zjkaU4nECXtHcurixIBAMCCbEgrn0I8FUmsdtnxDJVSOq1kdQkynd11fEvStJV7BXlWD4ZE4lw1gVQe6lhGDQvyX1HJjjPxLMaGOn7RMi6c0ijZ3w59uKqDP3RfcbO47SqRJM0tMq3fMBgkkZNW/njwRT9/pBMOoE82FMF0f3pk4a3NVBAiAYICQHpr+TYF4AwcjySPj2xbw3qWpgWRKAlgZ7QTBAIEaIU5ZItXXT5gmJex0tn8Cw8oTde51mEaaqSC6Bkx5Zg2CAgADvTWeZVFuf2F41rSu/heuM0m7TwFXMEsVWDWJLj6xNJZj3/vxdasFmEAxxyXKCaR61fWLSuPYkDetGokh7Fo9PJQS6R3DkqkowTLy6euMWJRM77Lgc8RfikmXiNjbbPjFsdaRbGqCnglr1aLr7SDwNayPrPJio8goQTGECvJuXE0zdW43JkeXDxJWTCfuwqFpa3cooiTOpxihAMCCYgADvaidQqq0JTFA2JBO3FklyNN39/RxbUQ32srUFggHBxMCEEyooGVjytldVxiQkIw0Ef/2tWq+asGZSuoO9IBgQTHiJwPJA7zuYpOhUf90iSdrj4+akgVrZbYkzIBgQjLAHDHFIqNS99Zik4I3LJxhpKZOqFSOpO4r6TlUriK0YEAwIRhjgXe9ESrX1ABMV3VKTrQDeWLqUS8VSkChPr0ZWPHZdwV4QDAimwz164PQUt1XBZMkIh4+3LyrclxQmlyfntAZ32fLodc2GrvokUwmGrxkJujhPClztuwSV3gRTbR7GRCXLCJbGbVRaOKSRBKjDipEk2vHbPimiWmWgVCD3+Mvh3gRT917HZLX8plFJkuIkOSe9CGbrtekf8pSoBlmoRQI6mny/7ihJtXXb5ok6uRijYMXfk6BTmXK1cw+CyatrnMqRNQgGWMRtR1nc5jmbLRddKf6qeTRRF6Dl2QZSJRANggEW4J1TJ5jRxpCtx9FRpCC5X/pdgYsUFeTV1RJThxUDggEiOtgNqRNM3eujH5qxjVwkLg03nGIS6Szb50S4hRMlGSlEuWF5BndVlNJUglE5aZNA5x1XBmKG6o/6HJG4rcs2HTXnqchh7pfulphJJYgkTCWYLObGIlx2xFJtHrBlgtgayUui3nwS0mv3SokDSc0VW2kgGBBMl3t0QE4wde9lWC/pSlRFtaRmKCpIrLt6vPvIGgQDgvG5Ipa4rTFb4i9ZHwWz1RB1MiWJ4+xJeOmXhMy6j6xBMNYTzJgTW6rNgzZNFmeKpt2ioa2k3a5GkmCljnR1CcF23gIJgrGcYGrewfgEU/fW0pfMo0WDzo34pGdOjaQYUdfphSTzuNMlA8FYTTDzPkckErfl2tyiQVd8holFNfdC8jt1NROXdLvrPLIGwVhNMK6TWEYbu2xPImJ3Jk57BlZY/jkJCUiOpnVvakmwt/27QTAWE0zN25WcYOreCvqySWQrLiUcTqjjRDsmEFZMdlX43/z/bPlExVgAoAS9X5gTVjhaxG0OY1IBAOioPRp2tEllagMmFACAjtaYGxyt4rauYmIBACBcdbRLtbkPEwsAAAV39+knmLr3In35XUwwAFiNu1Q5/aKTilSaZzDBAGB1cPeMk5rUvVfolzzDJAOAlXjmc0Cq4rZGMNEAYKX1MuKkLpWpjZhoALDyaHqjk4m4rTomHABsOjkinc9MKlNbMOkAYJX1ssXJVNzWOCYeAKzAuJO5VKa2YeIBwIrEum1OLmJJS00AsBhjTm5SmRrEAgBAmdsyNAadXMVt1bAQAFDKk6Oak7tUpjZhMQCghKh7m5xCiNu6gAUBgFJl7V5wCiN1bz0NahqLAgClwLSv04WSSvM0FgYAygDS5cJJ3XuJBjeBxQEAozHh63IhpdrYjwUCAKOT6vY7hRa3dQULBQAm5ryQ7hZe6g8HaLCzWDAAMAqz5BoNOEaIi4AvACCwm17AdxUN+hoWDQCMwDUyClY5RkllaggLBwBG9HoZcowUXDkLAAUP7DaHHWOl7q2lh7iOhQSAQuK6r6NGS2Vqu4OrTgCgaHjm62YpxG2exYICQKFOjc46pZFqq496S6CHLwAUA+O+TpZK6t6b9FCTWFwAyBWTvi6WUqrNQ1hgAMjzSJp0sNTiNj/CQgNALkfSHzmll7q3huIxn2LBASBTsM6tcayQuvcGPewdLDoAZII7vs5ZJZWp3fTgc1h8AEgVc3T1yG7HSqk0j2EDAECq+S7HHKvFbXyMTQAAqQR1P3asF66FqOHyNgDQ3J2OdWotCGaBZPppMr7AxgAALfjC1ynIEpLhGyK/weYAgET4pjg3MhaOZB7uoAm6i00CALFwl8hlB4gkOui7lyaqic0CACI0fd2BqNQsNX5JE/YYmwYAlPDY1xmIKEfmfZq477F5ACASpCOkK5BYJPMBuuEBQERXuirpCCQRyZwAyQBAILmcAEGAZAAA5GKIu4SYDICYC9yiVAO/OF0CLD4tQkA3iyNs5MkA9uW54Cg602Q8ZPwC9mToIokul7IC1C4BNtQWIf0/H5LxCyRRhQ2UuSoahYs5k0w/+skApezngpYLRQn8UmMd7t6FjQmUpROd8ZfSl/MY+5iDRuKAuZhDD93inzDxbQW4EgUwDXf8mzYgRsRl+N4lXO4GmBJv+dS+e4vMj8uswTW1gAHxlo/8204hphINXfZdbU1iMwMFw2T5L6K3x2V6kxZ0HJsaKIhLNO7vSUipXKY+emOcRdsHINc2C66/B/ugkKU9yp7aTgt8HZsdyBjX/b0HscJl4sS8YWx6IKNA7jAS5+y0ZoZoA1yDEgAp4Zq/xyAWi9tcRbGZ07QZZqEQgCbM0r46TVbLKigYpO02DdDGuALlABKeEF3x9xIEEnza1NhPG2UCygIIMeHUvP1QIIiKNfOSb+JWW9NQHKAHpn0Xm/cMBCIkmvVENBegRECIO3TB3yMQSEKi2eQ3AIJSAe1mUJUpdJqD6D5xagzSBhuDkllLLGNELINQBEjageBtqG2yrHaoMrUNGx+SrVSmttDmq0MJS0ssdX+NIZCciWYjBYNHUEhZloLE1oi/phBIwYLBrxDRnMGlcIZeblahteM1hEAKTjQvUpxmH23aq1DcwrtBV2m99vlrBoEY6D5t8KtpXXTVKxCpcDe5YX9tIJBSiNtcQVbNLtrcLm3yeSh65pj3536U1qDurcCGhJTZhVpLZHPQz6uA4qefu1L3DqIfC8RWsnmZyOYAKcJlUogZkEJizPhzWfcO+HMLgUCek00fZQsPkTt1jhTlNshC2UqhuaI5G6W54zmEQCAqhPPwdVKYw6RAFcIDkMlzQnngz0mN5obnCAKBaJDK1HoinHfobX3Jsp41E/4z1+jZ6w9RvQyBZORSrSbS2UxHrkdJAT+ht/rNEpDJTf9Zat5Rp9LY7D8jBAIpDOm8QKTTT7GcnUQ8x/03v9v6knC/QC7OfX9MPDYe4x9prPWH/f7YIRCIoVJtriRFXkcENLCYD3LET4+vNs8TXFL6zwg3iARuEe7Rfzfo348Ic4SnHSTxdPHP+O8a/mf5Z/hn+Tv4u/g7F1Lvj/i/i39n/cE6+v+VWAh75P8Bk+fHJ5ES0I0AAAAASUVORK5CYII=&quot; /&gt;
&lt;path id=&quot;a&quot; d=&quot;m10.96875-6.734375-2.203125 6.734375h-1.671875l-1.484375-4.5625-1.53125 4.5625h-1.65625l-2.203125-6.734375h1.609375l1.515625 4.734375 1.578125-4.734375h1.453125l1.53125 4.78125 1.5625-4.78125zm0 0&quot; /&gt;&lt;path id=&quot;b&quot; d=&quot;m5.75-2.5625c0 .023438-.007812.15625-.015625.40625h-3.921875c.070312.3125.238281.5625.5.75.257812.1875.585938.28125.984375.28125.269531 0 .507813-.035156.71875-.109375.207031-.082031.398437-.210937.578125-.390625l.796875.859375c-.492187.5625-1.203125.84375-2.140625.84375-.574219 0-1.089844-.1132812-1.546875-.34375-.449219-.226563-.792969-.539063-1.03125-.9375-.242187-.40625-.359375-.863281-.359375-1.375 0-.507813.117188-.96875.359375-1.375.238281-.40625.566406-.722656.984375-.953125.414062-.226562.882812-.34375 1.40625-.34375.507812 0 .96875.109375 1.375.328125s.722656.53125.953125.9375c.238281.40625.359375.882813.359375 1.421875zm-2.671875-1.546875c-.34375 0-.632813.101563-.859375.296875-.230469.1875-.371094.449219-.421875.78125h2.546875c-.054688-.332031-.195312-.59375-.421875-.78125-.230469-.195312-.511719-.296875-.84375-.296875zm0 0&quot; /&gt;&lt;path id=&quot;c&quot; d=&quot;m2.125-4.484375c.175781-.25.414062-.4375.71875-.5625.3125-.132813.664062-.203125 1.0625-.203125v1.390625c-.167969-.007813-.28125-.015625-.34375-.015625-.429688 0-.765625.121094-1.015625.359375-.242187.242187-.359375.601563-.359375 1.078125v2.4375h-1.5v-5.171875h1.4375zm0 0&quot; /&gt;&lt;path id=&quot;d&quot; d=&quot;m2.4375.078125c-.4375 0-.859375-.0546875-1.265625-.15625-.40625-.101563-.734375-.238281-.984375-.40625l.5-1.078125c.226562.15625.503906.28125.828125.375.332031.085938.65625.125.96875.125.632813 0 .953125-.15625.953125-.46875 0-.144531-.089844-.25-.265625-.3125-.167969-.0625-.429687-.117188-.78125-.171875-.429687-.0625-.78125-.132813-1.0625-.21875-.273437-.082031-.511719-.226563-.71875-.4375-.199219-.207031-.296875-.507813-.296875-.90625 0-.320313.09375-.609375.28125-.859375.195312-.257812.472656-.457031.828125-.59375.363281-.144531.789063-.21875 1.28125-.21875.363281 0 .726563.042969 1.09375.125.363281.085938.664063.195312.90625.328125l-.5 1.0625c-.460937-.25-.960937-.375-1.5-.375-.3125 0-.554687.046875-.71875.140625-.15625.085938-.234375.199219-.234375.34375 0 .15625.082031.265625.25.328125.175781.0625.453125.125.828125.1875.425781.074219.773437.152344 1.046875.234375.269531.074219.503906.214844.703125.421875.195313.210937.296875.507813.296875.890625 0 .324219-.101562.609375-.296875.859375-.1875.242187-.46875.433594-.84375.578125-.367187.1328125-.796875.203125-1.296875.203125zm0 0&quot; /&gt;&lt;path id=&quot;e&quot; d=&quot;m3.75-5.25c.476562 0 .914062.117188 1.3125.34375.394531.21875.703125.53125.921875.9375.226563.398438.34375.859375.34375 1.390625s-.117187.996094-.34375 1.390625c-.21875.398438-.527344.710938-.921875.9375-.398438.21875-.835938.328125-1.3125.328125-.65625 0-1.179688-.207031-1.5625-.625v2.40625h-1.5v-7.03125h1.4375v.59375c.375-.445313.914062-.671875 1.625-.671875zm-.265625 4.09375c.382813 0 .703125-.128906.953125-.390625.25-.257813.375-.601563.375-1.03125 0-.4375-.125-.785156-.375-1.046875-.25-.257812-.570312-.390625-.953125-.390625-.386719 0-.703125.132813-.953125.390625-.242188.261719-.359375.609375-.359375 1.046875 0 .429687.117187.773437.359375 1.03125.25.261719.566406.390625.953125.390625zm0 0&quot; /&gt;&lt;path id=&quot;f&quot; d=&quot;m3.1875.078125c-.554688 0-1.046875-.1132812-1.484375-.34375-.4375-.226563-.78125-.539063-1.03125-.9375-.242187-.40625-.359375-.863281-.359375-1.375 0-.519531.117188-.976563.359375-1.375.25-.40625.59375-.722656 1.03125-.953125.4375-.226562.929687-.34375 1.484375-.34375.539062 0 1.015625.117188 1.421875.34375.414063.230469.710937.554688.890625.96875l-1.15625.625c-.273438-.46875-.65625-.703125-1.15625-.703125-.398438 0-.726562.132813-.984375.390625-.25.25-.375.601562-.375 1.046875 0 .4375.125.789063.375 1.046875.257813.25.585937.375.984375.375.507812 0 .894531-.234375 1.15625-.703125l1.15625.625c-.179688.417969-.476562.742187-.890625.96875-.40625.2304688-.882813.34375-1.421875.34375zm0 0&quot; /&gt;&lt;path id=&quot;g&quot; d=&quot;m4.03125-.25c-.148438.105469-.328125.1875-.546875.25-.21875.0507812-.445313.078125-.671875.078125-.617188 0-1.09375-.15625-1.4375-.46875-.335938-.3125-.5-.773437-.5-1.390625v-2.125h-.796875v-1.140625h.796875v-1.265625h1.5v1.265625h1.28125v1.140625h-1.28125v2.109375c0 .21875.050781.390625.15625.515625.113281.117188.273438.171875.484375.171875.238281 0 .441406-.066406.609375-.203125zm0 0&quot; /&gt;&lt;path id=&quot;h&quot; d=&quot;m5.828125-5.171875-2.34375 5.484375c-.242187.59375-.539063 1.007812-.890625 1.25-.34375.25-.761719.375-1.25.375-.273438 0-.539062-.042969-.796875-.125-.261719-.085938-.4765625-.199219-.640625-.34375l.546875-1.0625c.113281.101562.242187.179688.390625.234375.15625.0625.304688.09375.453125.09375.207031 0 .375-.054687.5-.15625.125-.09375.238281-.257813.34375-.484375l.015625-.0625-2.234375-5.203125h1.546875l1.453125 3.515625 1.453125-3.515625zm0 0&quot; /&gt;&lt;path id=&quot;i&quot; d=&quot;m3.15625.078125c-.554688 0-1.046875-.1132812-1.484375-.34375-.429687-.226563-.761719-.539063-1-.9375-.242187-.40625-.359375-.863281-.359375-1.375 0-.519531.117188-.976563.359375-1.375.238281-.40625.570313-.722656 1-.953125.4375-.226562.929687-.34375 1.484375-.34375.539062 0 1.023438.117188 1.453125.34375.425781.230469.757813.546875 1 .953125.25.398437.375.855469.375 1.375 0 .511719-.125.96875-.375 1.375-.242187.398437-.574219.710937-1 .9375-.429687.2304688-.914063.34375-1.453125.34375zm0-1.234375c.382812 0 .695312-.128906.9375-.390625.25-.257813.375-.601563.375-1.03125 0-.4375-.125-.785156-.375-1.046875-.242188-.257812-.554688-.390625-.9375-.390625-.386719 0-.703125.132813-.953125.390625-.25.261719-.375.609375-.375 1.046875 0 .429687.125.773437.375 1.03125.25.261719.566406.390625.953125.390625zm0 0&quot; /&gt;&lt;path id=&quot;j&quot; d=&quot;m5.90625-5.171875v5.171875h-1.421875v-.609375c-.199219.21875-.4375.390625-.71875.515625-.273437.1132812-.570313.171875-.890625.171875-.679688 0-1.21875-.191406-1.625-.578125-.398438-.394531-.59375-.976562-.59375-1.75v-2.921875h1.5v2.703125c0 .835938.347656 1.25 1.046875 1.25.363281 0 .65625-.113281.875-.34375.21875-.238281.328125-.585938.328125-1.046875v-2.5625zm0 0&quot; /&gt;&lt;path id=&quot;k&quot; d=&quot;m.6875-5.171875h1.5v5.171875h-1.5zm.75-.71875c-.273438 0-.496094-.078125-.671875-.234375-.167969-.164062-.25-.367188-.25-.609375 0-.226563.082031-.421875.25-.578125.175781-.164062.398437-.25.671875-.25.28125 0 .503906.078125.671875.234375.175781.15625.265625.351563.265625.578125 0 .25-.089844.460938-.265625.625-.167969.15625-.390625.234375-.671875.234375zm0 0&quot; /&gt;&lt;path id=&quot;l&quot; d=&quot;m5.828125-5.171875-2.1875 5.171875h-1.546875l-2.171875-5.171875h1.546875l1.4375 3.515625 1.46875-3.515625zm0 0&quot; /&gt;&lt;path id=&quot;m&quot; d=&quot;m2.78125-5.25c.800781 0 1.414062.195312 1.84375.578125.425781.375.640625.949219.640625 1.71875v2.953125h-1.40625v-.640625c-.28125.480469-.808594.71875-1.578125.71875-.398438 0-.742188-.0703125-1.03125-.203125-.292969-.132812-.515625-.316406-.671875-.546875-.148437-.238281-.21875-.507813-.21875-.8125 0-.476563.175781-.851563.53125-1.125.363281-.28125.925781-.421875 1.6875-.421875h1.1875c0-.332031-.101563-.585938-.296875-.765625-.199219-.175781-.496094-.265625-.890625-.265625-.28125 0-.558594.046875-.828125.140625-.261719.085937-.484375.199219-.671875.34375l-.53125-1.046875c.28125-.195312.617187-.347656 1.015625-.453125.394531-.113281.800781-.171875 1.21875-.171875zm-.125 4.3125c.257812 0 .488281-.054688.6875-.171875.195312-.113281.335938-.289063.421875-.53125v-.515625h-1.03125c-.617187 0-.921875.199219-.921875.59375 0 .199219.070312.355469.21875.46875.15625.105469.363281.15625.625.15625zm0 0&quot; /&gt;&lt;path id=&quot;n&quot; d=&quot;m6.453125-4.203125-1.421875 4.203125h-.46875l-1.21875-3.578125-1.25 3.578125h-.453125l-1.421875-4.203125h.453125l1.21875 3.609375 1.25-3.609375h.421875l1.234375 3.640625 1.234375-3.640625zm0 0&quot; /&gt;&lt;path id=&quot;o&quot; d=&quot;m2.203125-3.1875c.394531 0 .707031.121094.9375.359375.238281.230469.359375.5625.359375 1v1.828125h-.421875v-1.78125c0-.332031-.085937-.582031-.25-.75-.167969-.175781-.402344-.265625-.703125-.265625-.34375 0-.617188.105469-.8125.3125-.199219.199219-.296875.476563-.296875.828125v1.65625h-.421875v-4.453125h.421875v1.84375c.113281-.175781.273437-.316406.484375-.421875.207031-.101562.441406-.15625.703125-.15625zm0 0&quot; /&gt;&lt;path id=&quot;p&quot; d=&quot;m3.34375-1.453125h-2.640625c.019531.335937.144531.605469.375.8125.226563.199219.515625.296875.859375.296875.195312 0 .378906-.035156.546875-.109375.164063-.070313.304687-.175781.421875-.3125l.25.28125c-.148438.167969-.324219.296875-.53125.390625-.210938.0859375-.4375.125-.6875.125-.324219 0-.609375-.0664062-.859375-.203125-.25-.144531-.449219-.335937-.59375-.578125-.136719-.238281-.203125-.515625-.203125-.828125s.0625-.585937.1875-.828125c.132812-.238281.316406-.425781.546875-.5625.238281-.144531.503906-.21875.796875-.21875.289062 0 .550781.074219.78125.21875.238281.136719.421875.324219.546875.5625.132813.242188.203125.515625.203125.828125zm-1.53125-1.359375c-.304688 0-.558594.101562-.765625.296875-.199219.1875-.3125.4375-.34375.75h2.234375c-.03125-.3125-.152344-.5625-.359375-.75-.199219-.195313-.453125-.296875-.765625-.296875zm0 0&quot; /&gt;&lt;path id=&quot;q&quot; d=&quot;m2.203125-3.1875c.394531 0 .707031.121094.9375.359375.238281.230469.359375.5625.359375 1v1.828125h-.421875v-1.78125c0-.332031-.085937-.582031-.25-.75-.167969-.175781-.402344-.265625-.703125-.265625-.34375 0-.617188.105469-.8125.3125-.199219.199219-.296875.476563-.296875.828125v1.65625h-.421875v-3.15625h.40625v.578125c.113281-.1875.273438-.332031.484375-.4375.207031-.113281.445313-.171875.71875-.171875zm0 0&quot; /&gt;&lt;path id=&quot;r&quot; d=&quot;m3.25-3.15625-1.578125 3.53125c-.136719.300781-.289063.507812-.453125.625-.167969.125-.367188.1875-.59375.1875-.15625 0-.304688-.027344-.4375-.078125-.125-.042969-.2382812-.109375-.34375-.203125l.203125-.3125c.15625.15625.347656.234375.578125.234375.144531 0 .265625-.042969.359375-.125.101563-.074219.203125-.210937.296875-.40625l.140625-.296875-1.421875-3.15625h.453125l1.1875 2.6875 1.1875-2.6875zm0 0&quot; /&gt;&lt;path id=&quot;s&quot; d=&quot;m1.890625.03125c-.3125 0-.589844-.0664062-.828125-.203125-.242188-.144531-.433594-.335937-.578125-.578125-.136719-.238281-.203125-.515625-.203125-.828125s.066406-.585937.203125-.828125c.144531-.238281.335937-.425781.578125-.5625.238281-.144531.515625-.21875.828125-.21875.300781 0 .570313.074219.8125.21875.25.136719.441406.324219.578125.5625.132812.242188.203125.515625.203125.828125s-.070313.589844-.203125.828125c-.136719.242188-.328125.433594-.578125.578125-.242187.1367188-.511719.203125-.8125.203125zm0-.375c.21875 0 .414063-.050781.59375-.15625.175781-.101562.3125-.25.40625-.4375.101563-.1875.15625-.398438.15625-.640625 0-.238281-.054687-.453125-.15625-.640625-.09375-.1875-.230469-.332031-.40625-.4375-.179687-.101562-.375-.15625-.59375-.15625-.230469 0-.433594.054688-.609375.15625-.179688.105469-.320312.25-.421875.4375-.105469.1875-.15625.402344-.15625.640625 0 .242187.050781.453125.15625.640625.101563.1875.242187.335938.421875.4375.175781.105469.378906.15625.609375.15625zm0 0&quot; /&gt;&lt;path id=&quot;t&quot; d=&quot;m3.4375-3.15625v3.15625h-.40625v-.578125c-.117188.199219-.273438.351563-.46875.453125-.1875.1054688-.414062.15625-.671875.15625-.40625 0-.730469-.1132812-.96875-.34375-.242187-.226562-.359375-.566406-.359375-1.015625v-1.828125h.421875v1.78125c0 .335938.082031.589844.25.765625.164063.167969.398437.25.703125.25.332031 0 .59375-.097656.78125-.296875.195312-.195312.296875-.476562.296875-.84375v-1.65625zm0 0&quot; /&gt;&lt;path id=&quot;u&quot; d=&quot;m1.4375.03125c-.25 0-.496094-.03515625-.734375-.109375-.230469-.070313-.414063-.164063-.546875-.28125l.1875-.34375c.132812.105469.300781.195313.5.265625.195312.0625.40625.09375.625.09375.289062 0 .503906-.039062.640625-.125.132813-.09375.203125-.222656.203125-.390625 0-.113281-.039062-.203125-.109375-.265625-.074219-.070312-.171875-.125-.296875-.15625-.117188-.03125-.265625-.0625-.453125-.09375-.261719-.050781-.46875-.101562-.625-.15625-.15625-.050781-.292969-.132812-.40625-.25-.105469-.125-.15625-.289062-.15625-.5 0-.257812.109375-.472656.328125-.640625.226562-.175781.535156-.265625.921875-.265625.207031 0 .410156.03125.609375.09375.207031.054688.378906.121094.515625.203125l-.1875.34375c-.261719-.175781-.574219-.265625-.9375-.265625-.273437 0-.476563.046875-.609375.140625-.136719.09375-.203125.21875-.203125.375 0 .125.035156.226563.109375.296875.082031.074219.179688.125.296875.15625.113281.03125.269531.070312.46875.109375.257813.042969.460937.089844.609375.140625.15625.042969.285156.125.390625.25.101563.117188.15625.273438.15625.46875 0 .28125-.117187.507812-.34375.671875-.230469.15625-.546875.234375-.953125.234375zm0 0&quot; /&gt;&lt;path id=&quot;v&quot; d=&quot;m1.90625.03125c-.3125 0-.59375-.0664062-.84375-.203125-.242188-.132813-.433594-.320313-.578125-.5625-.136719-.25-.203125-.53125-.203125-.84375s.066406-.585937.203125-.828125c.144531-.238281.335937-.425781.578125-.5625.25-.144531.53125-.21875.84375-.21875.269531 0 .507812.058594.71875.171875.21875.105469.390625.257813.515625.453125l-.328125.21875c-.105469-.15625-.234375-.269531-.390625-.34375-.15625-.082031-.328125-.125-.515625-.125-.230469 0-.4375.054688-.625.15625-.179688.105469-.320312.25-.421875.4375-.105469.1875-.15625.402344-.15625.640625 0 .242187.050781.453125.15625.640625.101563.1875.242187.335938.421875.4375.1875.105469.394531.15625.625.15625.1875 0 .359375-.035156.515625-.109375.15625-.082031.285156-.203125.390625-.359375l.328125.21875c-.125.210938-.296875.367188-.515625.46875-.21875.1054688-.460938.15625-.71875.15625zm0 0&quot; /&gt;&lt;path id=&quot;w&quot; d=&quot;m1.703125-3.1875c.40625 0 .71875.105469.9375.3125.21875.210938.328125.515625.328125.921875v1.953125h-.40625v-.484375c-.09375.15625-.234375.28125-.421875.375s-.40625.140625-.65625.140625c-.355469 0-.636719-.0820312-.84375-.25-.210937-.164062-.3125-.390625-.3125-.671875 0-.269531.09375-.484375.28125-.640625.195313-.164062.507813-.25.9375-.25h1v-.1875c0-.269531-.078125-.476562-.234375-.625-.148438-.144531-.367188-.21875-.65625-.21875-.199219 0-.390625.039062-.578125.109375-.1875.0625-.34375.152344-.46875.265625l-.203125-.3125c.164062-.132812.359375-.238281.578125-.3125.226563-.082031.46875-.125.71875-.125zm-.15625 2.875c.238281 0 .441406-.050781.609375-.15625.175781-.113281.304688-.273438.390625-.484375v-.515625h-.984375c-.542969 0-.8125.1875-.8125.5625 0 .1875.066406.335938.203125.4375.144531.105469.34375.15625.59375.15625zm0 0&quot; /&gt;&lt;path id=&quot;x&quot; d=&quot;m2.25-.1875c-.074219.074219-.171875.1328125-.296875.171875-.117187.03125-.234375.046875-.359375.046875-.304688 0-.53125-.078125-.6875-.234375-.15625-.164063-.234375-.394531-.234375-.6875v-1.90625h-.5625v-.359375h.5625v-.6875h.421875v.6875h.953125v.359375h-.953125v1.890625c0 .1875.046875.328125.140625.421875s.226563.140625.40625.140625c.082031 0 .164063-.007812.25-.03125.082031-.03125.15625-.070312.21875-.125zm0 0&quot; /&gt;&lt;path id=&quot;y&quot; d=&quot;m4.90625.359375c-.125.15625-.277344.269531-.453125.34375-.167969.082031-.355469.125-.5625.125-.25 0-.484375-.0625-.703125-.1875-.21875-.117187-.46875-.320313-.75-.609375-.398438-.0117188-.761719-.109375-1.09375-.296875-.324219-.1875-.578125-.4375-.765625-.75-.179687-.320313-.265625-.679687-.265625-1.078125 0-.40625.09375-.769531.28125-1.09375.1875-.320312.445312-.578125.78125-.765625.34375-.1875.722656-.28125 1.140625-.28125.414063 0 .789063.09375 1.125.28125.332031.179687.59375.433594.78125.765625.195313.324219.296875.6875.296875 1.09375 0 .34375-.074219.667969-.21875.96875-.148438.292969-.351562.539062-.609375.734375-.261719.1875-.5625.3203125-.90625.390625.3125.320312.617187.484375.921875.484375.3125 0 .578125-.132813.796875-.390625zm-4.15625-2.453125c0 .324219.078125.621094.234375.890625.15625.261719.363281.46875.625.625.269531.148437.570313.21875.90625.21875.332031 0 .632813-.070313.90625-.21875.269531-.15625.476563-.363281.625-.625.15625-.269531.234375-.566406.234375-.890625 0-.332031-.078125-.628906-.234375-.890625-.148437-.269531-.355469-.476563-.625-.625-.273437-.15625-.574219-.234375-.90625-.234375-.335937 0-.636719.078125-.90625.234375-.261719.148437-.46875.355469-.625.625-.15625.261719-.234375.558594-.234375.890625zm0 0&quot; /&gt;&lt;path id=&quot;z&quot; d=&quot;m3.546875 0-.953125-1.34375c-.105469.011719-.21875.015625-.34375.015625h-1.125v1.328125h-.4375v-4.203125h1.5625c.539062 0 .960938.132813 1.265625.390625.300781.25.453125.601562.453125 1.046875 0 .335937-.085938.617187-.25.84375-.167969.21875-.402344.382813-.703125.484375l1.015625 1.4375zm-1.296875-1.703125c.414062 0 .734375-.09375.953125-.28125s.328125-.445313.328125-.78125c0-.332031-.109375-.585937-.328125-.765625-.21875-.1875-.539063-.28125-.953125-.28125h-1.125v2.109375zm0 0&quot; /&gt;&lt;path id=&quot;A&quot; d=&quot;m3.46875-4.453125v4.453125h-.40625v-.625c-.125.210938-.292969.371094-.5.484375-.210938.1171875-.449219.171875-.71875.171875-.292969 0-.558594-.0664062-.796875-.203125-.242187-.132813-.429687-.320313-.5625-.5625-.136719-.25-.203125-.53125-.203125-.84375s.066406-.585937.203125-.828125c.132813-.25.320313-.441406.5625-.578125.238281-.132813.503906-.203125.796875-.203125.257812 0 .488281.058594.6875.171875.207031.105469.378906.257813.515625.453125v-1.890625zm-1.578125 4.109375c.21875 0 .414063-.050781.59375-.15625.175781-.101562.3125-.25.40625-.4375.101563-.1875.15625-.398438.15625-.640625 0-.238281-.054687-.453125-.15625-.640625-.09375-.1875-.230469-.332031-.40625-.4375-.179687-.101562-.375-.15625-.59375-.15625-.230469 0-.433594.054688-.609375.15625-.179688.105469-.320312.25-.421875.4375-.105469.1875-.15625.402344-.15625.640625 0 .242187.050781.453125.15625.640625.101563.1875.242187.335938.421875.4375.175781.105469.378906.15625.609375.15625zm0 0&quot; /&gt;&lt;path id=&quot;B&quot; d=&quot;m.640625-.625c.09375 0 .164063.03125.21875.09375.0625.0625.09375.140625.09375.234375 0 .042969-.007813.09375-.015625.15625-.011719.0546875-.03125.1171875-.0625.1875l-.25.828125h-.28125l.203125-.875c-.074219-.0195312-.132813-.0546875-.171875-.109375-.03125-.050781-.046875-.113281-.046875-.1875 0-.09375.023437-.171875.078125-.234375.0625-.0625.140625-.09375.234375-.09375zm0 0&quot; /&gt;&lt;path id=&quot;C&quot; d=&quot;m.59375-4.453125h.421875v4.453125h-.421875zm0 0&quot; /&gt;&lt;path id=&quot;D&quot; d=&quot;m2.21875-3.1875c.289062 0 .554688.070312.796875.203125.25.136719.441406.328125.578125.578125.132812.242188.203125.515625.203125.828125s-.070313.59375-.203125.84375c-.136719.242187-.324219.429687-.5625.5625-.242188.1367188-.511719.203125-.8125.203125-.25 0-.480469-.0507812-.6875-.15625-.210938-.101562-.382812-.257812-.515625-.46875v1.75h-.421875v-4.3125h.40625v.625c.125-.207031.289062-.367188.5-.484375.21875-.113281.457031-.171875.71875-.171875zm-.03125 2.84375c.21875 0 .414062-.050781.59375-.15625.1875-.101562.328125-.25.421875-.4375.101563-.1875.15625-.398438.15625-.640625 0-.238281-.054687-.453125-.15625-.640625-.09375-.1875-.234375-.332031-.421875-.4375-.179688-.101562-.375-.15625-.59375-.15625s-.421875.054688-.609375.15625c-.179687.105469-.320313.25-.421875.4375-.09375.1875-.140625.402344-.140625.640625 0 .242187.046875.453125.140625.640625.101562.1875.242188.335938.421875.4375.1875.105469.390625.15625.609375.15625zm0 0&quot; /&gt;&lt;path id=&quot;E&quot; d=&quot;m1-2.53125c.101562-.21875.253906-.378906.453125-.484375.195313-.113281.441406-.171875.734375-.171875v.421875h-.109375c-.335937 0-.59375.105469-.78125.3125-.1875.199219-.28125.480469-.28125.84375v1.609375h-.421875v-3.15625h.40625zm0 0&quot; /&gt;&lt;path id=&quot;F&quot; d=&quot;m.59375-3.15625h.421875v3.15625h-.421875zm.21875-.6875c-.09375 0-.171875-.03125-.234375-.09375-.054687-.0625-.078125-.132812-.078125-.21875 0-.070312.023438-.140625.078125-.203125.0625-.0625.140625-.09375.234375-.09375.082031 0 .15625.03125.21875.09375.0625.054687.09375.121094.09375.203125 0 .085938-.03125.15625-.09375.21875s-.136719.09375-.21875.09375zm0 0&quot; /&gt;&lt;path id=&quot;G&quot; d=&quot;m1.640625-4.125c-.1875 0-.328125.054688-.421875.15625-.09375.09375-.140625.242188-.140625.4375v.375h.96875v.359375h-.953125v2.796875h-.421875v-2.796875h-.5625v-.359375h.5625v-.390625c0-.289063.078125-.519531.234375-.6875.164062-.164063.40625-.25.71875-.25.113281 0 .226562.023437.34375.0625.113281.03125.207031.078125.28125.140625l-.140625.3125c-.125-.101562-.28125-.15625-.46875-.15625zm0 0&quot; /&gt;&lt;path id=&quot;H&quot; d=&quot;m4.53125-3.1875c.394531 0 .703125.117188.921875.34375.226563.230469.34375.570312.34375 1.015625v1.828125h-.421875v-1.78125c0-.332031-.078125-.582031-.234375-.75-.15625-.175781-.382813-.265625-.671875-.265625-.324219 0-.585938.105469-.78125.3125-.1875.199219-.28125.476563-.28125.828125v1.65625h-.421875v-1.78125c0-.332031-.078125-.582031-.234375-.75-.15625-.175781-.382812-.265625-.671875-.265625-.324219 0-.585937.105469-.78125.3125-.1875.199219-.28125.476563-.28125.828125v1.65625h-.421875v-3.15625h.40625v.578125c.113281-.195313.269531-.347656.46875-.453125.195312-.101562.425781-.15625.6875-.15625.269531 0 .5.058594.6875.171875.195312.117187.34375.28125.4375.5.113281-.207031.28125-.367187.5-.484375.21875-.125.46875-.1875.75-.1875zm0 0&quot; /&gt;&lt;path id=&quot;I&quot; d=&quot;m1.84375.03125c-.3125 0-.617188-.046875-.90625-.140625-.28125-.101563-.5-.238281-.65625-.40625l.171875-.34375c.15625.15625.359375.28125.609375.375s.507812.140625.78125.140625c.375 0 .65625-.066406.84375-.203125.1875-.132813.28125-.316406.28125-.546875 0-.164062-.054688-.296875-.15625-.390625-.105469-.101563-.230469-.179687-.375-.234375-.148438-.050781-.351562-.109375-.609375-.171875-.324219-.082031-.578125-.160156-.765625-.234375-.1875-.070312-.351562-.179688-.484375-.328125-.125-.15625-.1875-.363281-.1875-.625 0-.21875.050781-.410156.15625-.578125.113281-.175781.285156-.316406.515625-.421875.238281-.101563.53125-.15625.875-.15625.238281 0 .472656.039063.703125.109375.226563.0625.425781.152344.59375.265625l-.15625.34375c-.179687-.113281-.367187-.195313-.5625-.25-.199219-.0625-.390625-.09375-.578125-.09375-.375 0-.65625.074219-.84375.21875-.179688.136719-.265625.320313-.265625.546875 0 .167969.046875.304688.140625.40625.101562.105469.234375.183594.390625.234375.15625.054687.363281.109375.625.171875.300781.074219.546875.152344.734375.234375.195312.074219.359375.183594.484375.328125.132813.148438.203125.351562.203125.609375 0 .210937-.058594.402344-.171875.578125-.117187.179688-.292969.320312-.53125.421875-.230469.09375-.515625.140625-.859375.140625zm0 0&quot; /&gt;&lt;path id=&quot;J&quot; d=&quot;m3.25-3.15625-1.40625 3.15625h-.4375l-1.40625-3.15625h.453125l1.171875 2.6875 1.203125-2.6875zm0 0&quot; /&gt;&lt;path id=&quot;K&quot; d=&quot;m4.1875-4.203125v4.203125h-.359375l-2.703125-3.40625v3.40625h-.4375v-4.203125h.359375l2.703125 3.40625v-3.40625zm0 0&quot; /&gt;&lt;path id=&quot;L&quot; d=&quot;m2.515625.03125c-.417969 0-.796875-.0859375-1.140625-.265625-.335938-.1875-.59375-.441406-.78125-.765625-.1875-.332031-.28125-.695312-.28125-1.09375 0-.40625.09375-.769531.28125-1.09375.1875-.332031.445312-.585938.78125-.765625.34375-.1875.722656-.28125 1.140625-.28125.3125 0 .597656.054687.859375.15625.269531.105469.492188.257813.671875.453125l-.28125.28125c-.324219-.332031-.734375-.5-1.234375-.5-.335938 0-.636719.078125-.90625.234375-.273438.148437-.484375.355469-.640625.625-.15625.261719-.234375.558594-.234375.890625 0 .324219.078125.621094.234375.890625.15625.261719.367187.46875.640625.625.269531.148437.570312.21875.90625.21875.5 0 .910156-.164063 1.234375-.5l.28125.28125c-.179687.199219-.402344.351563-.671875.453125-.273438.1054688-.558594.15625-.859375.15625zm0 0&quot; /&gt;&lt;path id=&quot;M&quot; d=&quot;m.6875-4.203125h.4375v4.203125h-.4375zm0 0&quot; /&gt;&lt;path id=&quot;N&quot; d=&quot;m.6875-4.203125h1.703125c.445313 0 .835937.089844 1.171875.265625.34375.179688.609375.429688.796875.75.1875.3125.28125.679688.28125 1.09375 0 .40625-.09375.773438-.28125 1.09375-.1875.3125-.453125.558594-.796875.734375-.335938.1796875-.726562.265625-1.171875.265625h-1.703125zm1.6875 3.8125c.363281 0 .679688-.070313.953125-.21875.28125-.144531.492187-.34375.640625-.59375.15625-.257813.234375-.554687.234375-.890625 0-.34375-.078125-.640625-.234375-.890625-.148438-.257813-.359375-.460937-.640625-.609375-.273437-.144531-.589844-.21875-.953125-.21875h-1.25v3.421875zm0 0&quot; /&gt;&lt;path id=&quot;O&quot; d=&quot;m2.21875-3.1875c.289062 0 .554688.070312.796875.203125.25.136719.441406.328125.578125.578125.132812.242188.203125.515625.203125.828125s-.070313.59375-.203125.84375c-.136719.242187-.328125.429687-.578125.5625-.242187.1367188-.507813.203125-.796875.203125-.261719 0-.5-.0546875-.71875-.171875-.210938-.113281-.375-.273437-.5-.484375v.625h-.40625v-4.453125h.421875v1.890625c.132813-.195312.304687-.347656.515625-.453125.207031-.113281.4375-.171875.6875-.171875zm-.03125 2.84375c.21875 0 .414062-.050781.59375-.15625.1875-.101562.328125-.25.421875-.4375.101563-.1875.15625-.398438.15625-.640625 0-.238281-.054687-.453125-.15625-.640625-.09375-.1875-.234375-.332031-.421875-.4375-.179688-.101562-.375-.15625-.59375-.15625s-.421875.054688-.609375.15625c-.179687.105469-.320313.25-.421875.4375-.09375.1875-.140625.402344-.140625.640625 0 .242187.046875.453125.140625.640625.101562.1875.242188.335938.421875.4375.1875.105469.390625.15625.609375.15625zm0 0&quot; /&gt;&lt;path id=&quot;P&quot; d=&quot;m3.515625-3.15625v2.765625c0 .539063-.132813.9375-.390625 1.1875-.261719.257813-.65625.390625-1.1875.390625-.292969 0-.570312-.042969-.828125-.125-.261719-.085938-.476563-.203125-.640625-.359375l.21875-.3125c.144531.132813.328125.238281.546875.3125.21875.070313.445313.109375.6875.109375.40625 0 .703125-.09375.890625-.28125.1875-.179688.28125-.4648438.28125-.859375v-.40625c-.136719.199219-.3125.351563-.53125.453125-.210938.105469-.445312.15625-.703125.15625-.292969 0-.5625-.0625-.8125-.1875-.242187-.132812-.429687-.316406-.5625-.546875-.136719-.238281-.203125-.503906-.203125-.796875 0-.289062.066406-.550781.203125-.78125.132813-.238281.320313-.421875.5625-.546875.238281-.132813.507813-.203125.8125-.203125.269531 0 .507813.058594.71875.171875.21875.105469.394531.261719.53125.46875v-.609375zm-1.609375 2.65625c.226562 0 .429688-.046875.609375-.140625.1875-.101563.332031-.238281.4375-.40625.101563-.175781.15625-.378906.15625-.609375 0-.21875-.054687-.414062-.15625-.59375-.105469-.175781-.25-.3125-.4375-.40625-.179687-.101562-.382813-.15625-.609375-.15625-.230469 0-.4375.054688-.625.15625-.179688.09375-.320312.230469-.421875.40625-.105469.179688-.15625.375-.15625.59375 0 .230469.050781.433594.15625.609375.101563.167969.242187.304687.421875.40625.1875.09375.394531.140625.625.140625zm0 0&quot; /&gt;&lt;path id=&quot;Q&quot; d=&quot;m.640625.03125c-.09375 0-.171875-.03125-.234375-.09375s-.09375-.140625-.09375-.234375.03125-.171875.09375-.234375.140625-.09375.234375-.09375c.082031 0 .15625.03125.21875.09375s.09375.140625.09375.234375-.03125.171875-.09375.234375-.136719.09375-.21875.09375zm0 0&quot; /&gt;&lt;path id=&quot;R&quot; d=&quot;m1.5-3.8125h-1.46875v-.390625h3.390625v.390625h-1.484375v3.8125h-.4375zm0 0&quot; /&gt;&lt;path id=&quot;S&quot; d=&quot;m5.21875-3.15625-1.1875 3.15625h-.40625l-.984375-2.59375-1 2.59375h-.40625l-1.1875-3.15625h.40625l1 2.6875 1-2.6875h.375l1 2.6875 1.015625-2.6875zm0 0&quot; /&gt;&lt;path id=&quot;T&quot; d=&quot;m1.765625-1.578125-.75.671875v.90625h-.421875v-4.453125h.421875v3.015625l1.890625-1.71875h.53125l-1.359375 1.296875 1.484375 1.859375h-.53125zm0 0&quot; /&gt;&lt;path id=&quot;U&quot; d=&quot;m3.1875-.390625v.390625h-2.953125v-.3125l1.75-1.703125c.21875-.21875.363281-.40625.4375-.5625.082031-.15625.125-.3125.125-.46875 0-.25-.089844-.441406-.265625-.578125-.167969-.144531-.40625-.21875-.71875-.21875-.492188 0-.875.15625-1.15625.46875l-.296875-.265625c.164063-.1875.375-.332031.625-.4375.25-.101563.535156-.15625.859375-.15625.425781 0 .765625.105469 1.015625.3125.25.199219.375.46875.375.8125 0 .21875-.046875.433594-.140625.640625-.09375.199219-.277344.429688-.546875.6875l-1.421875 1.390625zm0 0&quot; /&gt;&lt;path id=&quot;V&quot; d=&quot;m2.71875-2.203125c.257812.09375.460938.230469.609375.40625.144531.167969.21875.375.21875.625s-.070313.464844-.203125.640625c-.136719.179688-.328125.320312-.578125.421875-.242187.09375-.527344.140625-.859375.140625-.5 0-.898438-.1015625-1.1875-.3125-.292969-.21875-.4375-.515625-.4375-.890625 0-.25.066406-.457031.203125-.625.144531-.175781.347656-.3125.609375-.40625-.210938-.082031-.371094-.203125-.484375-.359375-.117187-.15625-.171875-.34375-.171875-.5625 0-.34375.128906-.613281.390625-.8125.269531-.195312.628906-.296875 1.078125-.296875.300781 0 .5625.046875.78125.140625.21875.085938.390625.210938.515625.375.125.167969.1875.367188.1875.59375 0 .21875-.058594.40625-.171875.5625-.117188.15625-.28125.277344-.5.359375zm-1.84375-.90625c0 .230469.085938.414063.265625.546875.1875.136719.441406.203125.765625.203125.320312 0 .578125-.066406.765625-.203125.1875-.132812.28125-.316406.28125-.546875 0-.238281-.101563-.425781-.296875-.5625-.1875-.132813-.4375-.203125-.75-.203125-.324219 0-.578125.070312-.765625.203125-.179687.136719-.265625.324219-.265625.5625zm1.03125 2.78125c.375 0 .664062-.070313.875-.21875.207031-.15625.3125-.363281.3125-.625 0-.257813-.105469-.460937-.3125-.609375-.210938-.15625-.5-.234375-.875-.234375-.367188 0-.65625.078125-.875.234375-.210938.148438-.3125.351562-.3125.609375 0 .261719.101562.46875.3125.625.207031.148437.5.21875.875.21875zm0 0&quot; /&gt;&lt;path id=&quot;W&quot; d=&quot;m3.46875-3.15625v4.3125h-.421875v-1.75c-.136719.210938-.308594.367188-.515625.46875-.199219.1054688-.429688.15625-.6875.15625-.304688 0-.574219-.0664062-.8125-.203125-.230469-.132813-.414062-.320313-.546875-.5625-.136719-.25-.203125-.53125-.203125-.84375s.066406-.585937.203125-.828125c.132813-.25.320313-.441406.5625-.578125.238281-.132813.503906-.203125.796875-.203125.269531 0 .507812.058594.71875.171875.207031.117187.375.277344.5.484375v-.625zm-1.578125 2.8125c.21875 0 .414063-.050781.59375-.15625.175781-.101562.3125-.25.40625-.4375.101563-.1875.15625-.398438.15625-.640625 0-.238281-.054687-.453125-.15625-.640625-.09375-.1875-.230469-.332031-.40625-.4375-.179687-.101562-.375-.15625-.59375-.15625-.230469 0-.433594.054688-.609375.15625-.179688.105469-.320312.25-.421875.4375-.105469.1875-.15625.402344-.15625.640625 0 .242187.050781.453125.15625.640625.101563.1875.242187.335938.421875.4375.175781.105469.378906.15625.609375.15625zm0 0&quot; /&gt;&lt;path id=&quot;X&quot; d=&quot;m2.515625.03125c-.417969 0-.796875-.0859375-1.140625-.265625-.335938-.1875-.59375-.441406-.78125-.765625-.1875-.332031-.28125-.695312-.28125-1.09375 0-.40625.09375-.769531.28125-1.09375.1875-.320312.445312-.578125.78125-.765625.34375-.1875.722656-.28125 1.140625-.28125.414063 0 .789063.09375 1.125.28125.332031.179687.59375.433594.78125.765625.195313.324219.296875.6875.296875 1.09375 0 .398438-.101562.761719-.296875 1.09375-.1875.324219-.449219.578125-.78125.765625-.335937.1796875-.710937.265625-1.125.265625zm0-.390625c.332031 0 .632813-.070313.90625-.21875.269531-.15625.476563-.363281.625-.625.15625-.269531.234375-.566406.234375-.890625 0-.332031-.078125-.628906-.234375-.890625-.148437-.269531-.355469-.476563-.625-.625-.273437-.15625-.574219-.234375-.90625-.234375-.335937 0-.636719.078125-.90625.234375-.261719.148437-.46875.355469-.625.625-.15625.261719-.234375.558594-.234375.890625 0 .324219.078125.621094.234375.890625.15625.261719.363281.46875.625.625.269531.148437.570313.21875.90625.21875zm0 0&quot; /&gt;&lt;path id=&quot;Y&quot; d=&quot;m4.171875-4.203125-1.859375 4.203125h-.4375l-1.859375-4.203125h.484375l1.609375 3.65625 1.609375-3.65625zm0 0&quot; /&gt;&lt;path id=&quot;Z&quot; d=&quot;m.359375-1.8125h1.578125v.375h-1.578125zm0 0&quot; /&gt;&lt;path id=&quot;aa&quot; d=&quot;m1.46875-4.203125v4.203125h-.421875v-3.8125h-1v-.390625zm0 0&quot; /&gt;&lt;path id=&quot;ab&quot; d=&quot;m1.625-4.234375c.550781 0 .972656.183594 1.265625.546875.300781.367188.453125.882812.453125 1.546875 0 .46875-.085938.867187-.25 1.1875-.15625.324219-.382812.570313-.671875.734375-.28125.1679688-.617187.25-1 .25-.417969 0-.75-.0703125-1-.21875l.171875-.359375c.207031.136719.484375.203125.828125.203125.457031 0 .816406-.144531 1.078125-.4375.269531-.289062.40625-.71875.40625-1.28125 0-.101562-.007812-.21875-.015625-.34375-.105469.230469-.273437.40625-.5.53125-.230469.125-.492187.1875-.78125.1875-.28125 0-.53125-.050781-.75-.15625-.210937-.101562-.375-.25-.5-.4375-.117187-.1875-.171875-.410156-.171875-.671875 0-.25.0625-.472656.1875-.671875.125-.195312.296875-.347656.515625-.453125.21875-.101563.460937-.15625.734375-.15625zm.046875 2.1875c.207031 0 .390625-.039063.546875-.125.164062-.082031.296875-.191406.390625-.328125.09375-.144531.140625-.300781.140625-.46875 0-.15625-.046875-.300781-.140625-.4375-.085937-.144531-.210937-.257812-.375-.34375-.167969-.082031-.367187-.125-.59375-.125-.304687 0-.554687.085938-.75.25-.1875.167969-.28125.390625-.28125.671875 0 .273437.09375.492187.28125.65625.195313.167969.457031.25.78125.25zm0 0&quot; /&gt;&lt;path id=&quot;ac&quot; d=&quot;m2.25-4.203125c.539062 0 .960938.132813 1.265625.390625.300781.25.453125.601562.453125 1.046875 0 .449219-.152344.804687-.453125 1.0625-.304687.25-.726563.375-1.265625.375h-1.125v1.328125h-.4375v-4.203125zm0 2.484375c.414062 0 .734375-.085938.953125-.265625.21875-.1875.328125-.445313.328125-.78125 0-.332031-.109375-.585937-.328125-.765625-.21875-.1875-.539063-.28125-.953125-.28125h-1.125v2.09375zm0 0&quot; /&gt;&lt;path id=&quot;ad&quot; d=&quot;m17.8125-10.921875-3.578125 10.921875h-2.71875l-2.40625-7.40625-2.46875 7.40625h-2.703125l-3.59375-10.921875h2.625l2.46875 7.671875 2.5625-7.671875h2.34375l2.5 7.734375 2.546875-7.734375zm0 0&quot; /&gt;&lt;path id=&quot;ae&quot; d=&quot;m9.34375-4.171875c0 .03125-.015625.25-.046875.65625h-6.34375c.113281.523437.382813.933594.8125 1.234375.425781.304688.957031.453125 1.59375.453125.4375 0 .820313-.0625 1.15625-.1875.34375-.132813.660156-.34375.953125-.625l1.28125 1.40625c-.78125.90625-1.933594 1.359375-3.453125 1.359375-.949219 0-1.789063-.1796875-2.515625-.546875-.730469-.375-1.292969-.890625-1.6875-1.546875-.398438-.65625-.59375-1.398438-.59375-2.234375 0-.820313.191406-1.5625.578125-2.21875.394531-.664063.929687-1.179687 1.609375-1.546875.6875-.363281 1.453125-.546875 2.296875-.546875.820313 0 1.5625.179687 2.21875.53125.664063.34375 1.1875.851563 1.5625 1.515625.382813.65625.578125 1.421875.578125 2.296875zm-4.34375-2.515625c-.554688 0-1.015625.15625-1.390625.46875s-.605469.742188-.6875 1.28125h4.140625c-.085938-.53125-.3125-.953125-.6875-1.265625-.375-.320313-.835938-.484375-1.375-.484375zm0 0&quot; /&gt;&lt;path id=&quot;af&quot; d=&quot;m2.0625-11.703125c.4375 0 .796875.140625 1.078125.421875.28125.273438.421875.632812.421875 1.078125 0 .210937-.027344.417969-.078125.625-.054687.210937-.164063.523437-.328125.9375l-.90625 2.234375h-1.546875l.671875-2.453125c-.261719-.113281-.464844-.285156-.609375-.515625-.148437-.226562-.21875-.503906-.21875-.828125 0-.445313.140625-.804687.421875-1.078125.289062-.28125.65625-.421875 1.09375-.421875zm0 0&quot; /&gt;&lt;path id=&quot;ag&quot; d=&quot;m3.453125-7.296875c.289063-.394531.679687-.695313 1.171875-.90625.5-.207031 1.070312-.3125 1.71875-.3125v2.234375c-.273438-.019531-.453125-.03125-.546875-.03125-.699219 0-1.246094.199219-1.640625.59375-.398438.386719-.59375.96875-.59375 1.75v3.96875h-2.4375v-8.390625h2.328125zm0 0&quot; /&gt;&lt;path id=&quot;ah&quot; d=&quot;m6.234375-8.515625c1.03125 0 1.863281.3125 2.5.9375.644531.617187.96875 1.539063.96875 2.765625v4.8125h-2.421875v-4.4375c0-.664062-.148438-1.160156-.4375-1.484375-.292969-.332031-.714844-.5-1.265625-.5-.617187 0-1.105469.195313-1.46875.578125-.367187.375-.546875.9375-.546875 1.6875v4.15625h-2.4375v-11.578125h2.4375v4.046875c.320312-.3125.710938-.550781 1.171875-.71875.457031-.175781.957031-.265625 1.5-.265625zm0 0&quot; /&gt;&lt;path id=&quot;ai&quot; d=&quot;m1.125-11.578125h2.4375v11.578125h-2.4375zm0 0&quot; /&gt;&lt;path id=&quot;aj&quot; d=&quot;m6.09375-8.515625c.78125 0 1.488281.179687 2.125.53125.632812.355469 1.132812.859375 1.5 1.515625.363281.648438.546875 1.402344.546875 2.265625 0 .867187-.183594 1.625-.546875 2.28125-.367188.648437-.867188 1.152344-1.5 1.515625-.636719.3554688-1.34375.53125-2.125.53125-1.074219 0-1.917969-.335938-2.53125-1.015625v3.921875h-2.4375v-11.421875h2.328125v.953125c.601563-.71875 1.484375-1.078125 2.640625-1.078125zm-.421875 6.640625c.625 0 1.132813-.207031 1.53125-.625.394531-.425781.59375-.992188.59375-1.703125 0-.707031-.199219-1.269531-.59375-1.6875-.398437-.425781-.90625-.640625-1.53125-.640625s-1.140625.214844-1.546875.640625c-.398438.417969-.59375.980469-.59375 1.6875 0 .710937.195312 1.277344.59375 1.703125.40625.417969.921875.625 1.546875.625zm0 0&quot; /&gt;&lt;path id=&quot;ak&quot; d=&quot;m1.125-8.390625h2.4375v8.390625h-2.4375zm1.21875-1.171875c-.449219 0-.8125-.128906-1.09375-.390625-.28125-.257813-.421875-.582031-.421875-.96875 0-.382813.140625-.707031.421875-.96875.28125-.257813.644531-.390625 1.09375-.390625.445312 0 .8125.125 1.09375.375s.421875.5625.421875.9375c0 .40625-.140625.746094-.421875 1.015625-.28125.261719-.648438.390625-1.09375.390625zm0 0&quot; /&gt;&lt;path id=&quot;al&quot; d=&quot;m6.234375-8.515625c1.03125 0 1.863281.3125 2.5.9375.644531.617187.96875 1.539063.96875 2.765625v4.8125h-2.421875v-4.4375c0-.664062-.148438-1.160156-.4375-1.484375-.292969-.332031-.714844-.5-1.265625-.5-.617187 0-1.105469.195313-1.46875.578125-.367187.375-.546875.9375-.546875 1.6875v4.15625h-2.4375v-8.390625h2.328125v.96875c.320313-.34375.722656-.609375 1.203125-.796875.476562-.195312 1.003906-.296875 1.578125-.296875zm0 0&quot; /&gt;&lt;path id=&quot;am&quot; d=&quot;m9.78125-8.390625v6.984375c0 1.539062-.402344 2.6875-1.203125 3.4375-.792969.75-1.960937 1.125-3.5 1.125-.8125 0-1.585937-.101562-2.3125-.296875-.730469-.199219-1.335937-.484375-1.8125-.859375l.96875-1.75c.351563.289062.800781.519531 1.34375.6875.539063.175781 1.082031.265625 1.625.265625.84375 0 1.460937-.195313 1.859375-.578125.40625-.375.609375-.945312.609375-1.71875v-.359375c-.636719.699219-1.523437 1.046875-2.65625 1.046875-.773437 0-1.480469-.164062-2.125-.5-.636719-.34375-1.140625-.820312-1.515625-1.4375-.375-.613281-.5625-1.320312-.5625-2.125 0-.800781.1875-1.507812.5625-2.125.375-.613281.878906-1.085938 1.515625-1.421875.644531-.332031 1.351563-.5 2.125-.5 1.21875 0 2.144531.398437 2.78125 1.1875v-1.0625zm-4.59375 5.984375c.644531 0 1.171875-.1875 1.578125-.5625.414063-.382812.625-.882812.625-1.5 0-.613281-.210937-1.109375-.625-1.484375-.40625-.382813-.933594-.578125-1.578125-.578125-.648438 0-1.179688.195312-1.59375.578125-.417969.375-.625.871094-.625 1.484375 0 .617188.207031 1.117188.625 1.5.414062.375.945312.5625 1.59375.5625zm0 0&quot; /&gt;&lt;path id=&quot;an&quot; d=&quot;m4.734375-3.296875-1.171875 1.15625v2.140625h-2.4375v-11.578125h2.4375v6.546875l3.5625-3.359375h2.890625l-3.484375 3.546875 3.796875 4.84375h-2.9375zm0 0&quot; /&gt;&lt;path id=&quot;ao&quot; d=&quot;m5.125.125c-.886719 0-1.683594-.1796875-2.390625-.546875-.699219-.375-1.246094-.890625-1.640625-1.546875-.398438-.65625-.59375-1.398438-.59375-2.234375 0-.832031.195312-1.578125.59375-2.234375.394531-.65625.941406-1.164062 1.640625-1.53125.707031-.363281 1.503906-.546875 2.390625-.546875.882812 0 1.671875.183594 2.359375.546875.695313.367188 1.242187.875 1.640625 1.53125.394531.65625.59375 1.402344.59375 2.234375 0 .835937-.199219 1.578125-.59375 2.234375-.398438.65625-.945312 1.171875-1.640625 1.546875-.6875.3671875-1.476563.546875-2.359375.546875zm0-2c.625 0 1.132812-.207031 1.53125-.625.40625-.425781.609375-.992188.609375-1.703125 0-.707031-.203125-1.269531-.609375-1.6875-.398438-.425781-.90625-.640625-1.53125-.640625s-1.140625.214844-1.546875.640625c-.40625.417969-.609375.980469-.609375 1.6875 0 .710937.203125 1.277344.609375 1.703125.40625.417969.921875.625 1.546875.625zm0 0&quot; /&gt;&lt;path id=&quot;ap&quot; d=&quot;m9.578125-8.390625v8.390625h-2.296875v-1c-.324219.367188-.710938.648438-1.15625.84375-.449219.1875-.933594.28125-1.453125.28125-1.105469 0-1.980469-.316406-2.625-.953125-.648437-.632813-.96875-1.578125-.96875-2.828125v-4.734375h2.4375v4.375c0 1.355469.566406 2.03125 1.703125 2.03125.582031 0 1.050781-.1875 1.40625-.5625.351562-.382813.53125-.953125.53125-1.703125v-4.140625zm0 0&quot; /&gt;&lt;path id=&quot;aq&quot; d=&quot;m5.1875.125c-.898438 0-1.703125-.1796875-2.421875-.546875-.710937-.375-1.265625-.890625-1.671875-1.546875-.398438-.65625-.59375-1.398438-.59375-2.234375 0-.832031.195312-1.578125.59375-2.234375.40625-.65625.960938-1.164062 1.671875-1.53125.71875-.363281 1.523437-.546875 2.421875-.546875.882812 0 1.65625.183594 2.3125.546875.65625.367188 1.132812.890625 1.4375 1.578125l-1.875 1.015625c-.4375-.769531-1.070312-1.15625-1.890625-1.15625-.636719 0-1.164063.210938-1.578125.625-.417969.417969-.625.984375-.625 1.703125s.207031 1.289063.625 1.703125c.414062.417969.941406.625 1.578125.625.832031 0 1.460937-.382812 1.890625-1.15625l1.875 1.03125c-.304688.667969-.78125 1.1875-1.4375 1.5625s-1.429688.5625-2.3125.5625zm0 0&quot; /&gt;&lt;path id=&quot;ar&quot; d=&quot;m11.875-8.515625c1.050781 0 1.882812.308594 2.5.921875.625.617188.9375 1.542969.9375 2.78125v4.8125h-2.4375v-4.4375c0-.664062-.140625-1.160156-.421875-1.484375-.273437-.332031-.664063-.5-1.171875-.5-.574219 0-1.027344.1875-1.359375.5625-.335937.367187-.5.914063-.5 1.640625v4.21875h-2.421875v-4.4375c0-1.320312-.53125-1.984375-1.59375-1.984375-.5625 0-1.011719.1875-1.34375.5625-.335938.367187-.5.914063-.5 1.640625v4.21875h-2.4375v-8.390625h2.328125v.953125c.3125-.34375.691406-.609375 1.140625-.796875.457031-.1875.957031-.28125 1.5-.28125.59375 0 1.125.121094 1.59375.359375.476562.230469.863281.5625 1.15625 1 .34375-.425781.773438-.757812 1.296875-1 .53125-.238281 1.109375-.359375 1.734375-.359375zm0 0&quot; /&gt;&lt;path id=&quot;as&quot; d=&quot;m6.546875-.40625c-.242187.179688-.539063.3125-.890625.40625-.34375.0820312-.710938.125-1.09375.125-1 0-1.777344-.253906-2.328125-.765625-.542969-.507813-.8125-1.257813-.8125-2.25v-3.453125h-1.296875v-1.859375h1.296875v-2.046875h2.4375v2.046875h2.09375v1.859375h-2.09375v3.421875c0 .355469.085937.632813.265625.828125.1875.1875.445312.28125.78125.28125.382812 0 .710938-.101562.984375-.3125zm0 0&quot; /&gt;&lt;path id=&quot;at&quot; d=&quot;m9.453125-8.390625-3.78125 8.90625c-.386719.96875-.867187 1.648437-1.4375 2.046875-.5625.394531-1.246094.59375-2.046875.59375-.4375 0-.871094-.070312-1.296875-.203125-.429687-.136719-.777344-.324219-1.046875-.5625l.890625-1.734375c.1875.164062.398437.296875.640625.390625.25.09375.492188.140625.734375.140625.332031 0 .601563-.085938.8125-.25.207031-.15625.394531-.421875.5625-.796875l.03125-.078125-3.640625-8.453125h2.515625l2.359375 5.6875 2.375-5.6875zm0 0&quot; /&gt;&lt;path id=&quot;au&quot; d=&quot;m6.53125.1875c-1.117188 0-2.125-.2382812-3.03125-.71875-.898438-.488281-1.605469-1.160156-2.125-2.015625-.511719-.863281-.765625-1.835937-.765625-2.921875 0-1.082031.253906-2.050781.765625-2.90625.519531-.851562 1.226562-1.519531 2.125-2 .90625-.488281 1.921875-.734375 3.046875-.734375.9375 0 1.785156.167969 2.546875.5.769531.335937 1.414062.8125 1.9375 1.4375l-1.625 1.484375c-.742188-.84375-1.652344-1.265625-2.734375-1.265625-.679687 0-1.28125.152344-1.8125.453125-.53125.292969-.949219.703125-1.25 1.234375-.292969.523437-.4375 1.121094-.4375 1.796875 0 .679688.144531 1.28125.4375 1.8125.300781.53125.71875.949219 1.25 1.25.53125.292969 1.132813.4375 1.8125.4375 1.082031 0 1.992187-.429688 2.734375-1.296875l1.625 1.5c-.523438.636719-1.167969 1.121094-1.9375 1.453125-.773438.3320312-1.625.5-2.5625.5zm0 0&quot; /&gt;&lt;path id=&quot;av&quot; d=&quot;m6.59375.1875c-1.136719 0-2.164062-.2421875-3.078125-.734375-.90625-.488281-1.621094-1.160156-2.140625-2.015625-.511719-.863281-.765625-1.832031-.765625-2.90625 0-1.070312.253906-2.035156.765625-2.890625.519531-.851563 1.234375-1.523437 2.140625-2.015625.914063-.488281 1.941406-.734375 3.078125-.734375 1.125 0 2.140625.246094 3.046875.734375.90625.492188 1.617187 1.164062 2.140625 2.015625.519531.855469.78125 1.820313.78125 2.890625 0 1.074219-.261719 2.042969-.78125 2.90625-.523438.855469-1.234375 1.527344-2.140625 2.015625-.90625.4921875-1.921875.734375-3.046875.734375zm0-2.15625c.644531 0 1.222656-.144531 1.734375-.4375.519531-.300781.925781-.71875 1.21875-1.25.300781-.53125.453125-1.132812.453125-1.8125 0-.675781-.152344-1.273438-.453125-1.796875-.292969-.53125-.699219-.941406-1.21875-1.234375-.511719-.300781-1.089844-.453125-1.734375-.453125-.648438 0-1.230469.152344-1.75.453125-.523438.292969-.933594.703125-1.234375 1.234375-.292969.523437-.4375 1.121094-.4375 1.796875 0 .679688.144531 1.28125.4375 1.8125.300781.53125.710937.949219 1.234375 1.25.519531.292969 1.101562.4375 1.75.4375zm0 0&quot; /&gt;&lt;path id=&quot;aw&quot; d=&quot;m11.796875-10.921875-4.71875 10.921875h-2.5l-4.71875-10.921875h2.734375l3.328125 7.796875 3.359375-7.796875zm0 0&quot; /&gt;&lt;path id=&quot;ax&quot; d=&quot;m1.296875-10.921875h2.53125v10.921875h-2.53125zm0 0&quot; /&gt;&lt;path id=&quot;ay&quot; d=&quot;m1.296875-10.921875h4.96875c1.175781 0 2.21875.230469 3.125.6875.914063.449219 1.625 1.085937 2.125 1.90625.507813.8125.765625 1.765625.765625 2.859375s-.257812 2.054688-.765625 2.875c-.5.824219-1.210937 1.464844-2.125 1.921875-.90625.449219-1.949219.671875-3.125.671875h-4.96875zm4.84375 8.84375c1.082031 0 1.945313-.300781 2.59375-.90625.65625-.613281.984375-1.441406.984375-2.484375 0-1.039062-.328125-1.863281-.984375-2.46875-.648437-.601562-1.511719-.90625-2.59375-.90625h-2.3125v6.765625zm0 0&quot; /&gt;&lt;path id=&quot;az&quot; d=&quot;m3.953125.125c-.699219 0-1.382813-.0859375-2.046875-.25-.667969-.175781-1.199219-.394531-1.59375-.65625l.8125-1.75c.375.242188.828125.4375 1.359375.59375.53125.148438 1.050781.21875 1.5625.21875 1.03125 0 1.546875-.253906 1.546875-.765625 0-.238281-.140625-.410156-.421875-.515625-.28125-.101562-.714844-.191406-1.296875-.265625-.6875-.101563-1.257812-.222656-1.703125-.359375-.449219-.132812-.839844-.375-1.171875-.71875-.324219-.34375-.484375-.832031-.484375-1.46875 0-.53125.148437-1 .453125-1.40625.3125-.40625.757812-.722656 1.34375-.953125.59375-.226563 1.289062-.34375 2.09375-.34375.59375 0 1.179688.070313 1.765625.203125.59375.125 1.082031.304688 1.46875.53125l-.8125 1.71875c-.742187-.414062-1.546875-.625-2.421875-.625-.523438 0-.914062.074219-1.171875.21875-.261719.148438-.390625.335938-.390625.5625 0 .261719.140625.445312.421875.546875.28125.105469.726563.203125 1.34375.296875.6875.117188 1.25.242188 1.6875.375.4375.125.8125.359375 1.125.703125.320313.34375.484375.824219.484375 1.4375 0 .523437-.15625.984375-.46875 1.390625-.304688.40625-.757812.726562-1.359375.953125-.59375.21875-1.304687.328125-2.125.328125zm0 0&quot; /&gt;&lt;path id=&quot;aA&quot; d=&quot;m4.515625-8.515625c1.300781 0 2.296875.308594 2.984375.921875.695312.617188 1.046875 1.546875 1.046875 2.796875v4.796875h-2.265625v-1.046875c-.460938.78125-1.3125 1.171875-2.5625 1.171875-.648438 0-1.210938-.109375-1.6875-.328125-.46875-.21875-.828125-.519531-1.078125-.90625-.25-.382813-.375-.820313-.375-1.3125 0-.78125.289063-1.394531.875-1.84375.59375-.445313 1.503906-.671875 2.734375-.671875h1.9375c0-.53125-.164062-.9375-.484375-1.21875-.324219-.289062-.808594-.4375-1.453125-.4375-.449219 0-.890625.074219-1.328125.21875-.429687.136719-.792969.324219-1.09375.5625l-.875-1.703125c.457031-.3125 1.003906-.554687 1.640625-.734375.644531-.175781 1.304688-.265625 1.984375-.265625zm-.1875 7c.414063 0 .785156-.09375 1.109375-.28125.320312-.195313.550781-.484375.6875-.859375v-.859375h-1.671875c-1 0-1.5.328125-1.5.984375 0 .3125.117187.5625.359375.75.25.179688.585938.265625 1.015625.265625zm0 0&quot; /&gt;&lt;path id=&quot;aB&quot; d=&quot;m3.796875-8.203125h2.15625v1.859375h-2.09375v6.34375h-2.4375v-6.34375h-1.296875v-1.859375h1.296875v-.375c0-.957031.28125-1.71875.84375-2.28125.570313-.5625 1.375-.84375 2.40625-.84375.363281 0 .707031.042969 1.03125.125.332031.074219.609375.183594.828125.328125l-.640625 1.765625c-.28125-.195313-.609375-.296875-.984375-.296875-.742188 0-1.109375.40625-1.109375 1.21875zm0 0&quot; /&gt;&lt;path id=&quot;aC&quot; d=&quot;m6.09375-8.515625c.78125 0 1.488281.179687 2.125.53125.632812.355469 1.132812.859375 1.5 1.515625.363281.648438.546875 1.402344.546875 2.265625 0 .867187-.183594 1.625-.546875 2.28125-.367188.648437-.867188 1.152344-1.5 1.515625-.636719.3554688-1.34375.53125-2.125.53125-1.15625 0-2.039062-.363281-2.640625-1.09375v.96875h-2.328125v-11.578125h2.4375v4.0625c.613281-.664063 1.457031-1 2.53125-1zm-.421875 6.640625c.625 0 1.132813-.207031 1.53125-.625.394531-.425781.59375-.992188.59375-1.703125 0-.707031-.199219-1.269531-.59375-1.6875-.398437-.425781-.90625-.640625-1.53125-.640625s-1.140625.214844-1.546875.640625c-.398438.417969-.59375.980469-.59375 1.6875 0 .710937.195312 1.277344.59375 1.703125.40625.417969.921875.625 1.546875.625zm0 0&quot; /&gt;&lt;path id=&quot;aD&quot; d=&quot;m9.671875-11.578125v11.578125h-2.3125v-.96875c-.605469.730469-1.480469 1.09375-2.625 1.09375-.792969 0-1.511719-.1757812-2.15625-.53125-.636719-.351562-1.136719-.859375-1.5-1.515625-.367187-.65625-.546875-1.414063-.546875-2.28125 0-.863281.179688-1.625.546875-2.28125.363281-.65625.863281-1.15625 1.5-1.5.644531-.351563 1.363281-.53125 2.15625-.53125 1.070313 0 1.910156.335937 2.515625 1v-4.0625zm-4.515625 9.703125c.613281 0 1.125-.207031 1.53125-.625.40625-.425781.609375-.992188.609375-1.703125 0-.707031-.203125-1.269531-.609375-1.6875-.40625-.425781-.917969-.640625-1.53125-.640625-.625 0-1.140625.214844-1.546875.640625-.40625.417969-.609375.980469-.609375 1.6875 0 .710937.203125 1.277344.609375 1.703125.40625.417969.921875.625 1.546875.625zm0 0&quot; /&gt;&lt;path id=&quot;aE&quot; d=&quot;m2.046875.125c-.429687 0-.789063-.1445312-1.078125-.4375-.292969-.289062-.4375-.65625-.4375-1.09375 0-.445312.144531-.804688.4375-1.078125.289062-.28125.648438-.421875 1.078125-.421875.425781 0 .785156.140625 1.078125.421875.289062.273437.4375.632813.4375 1.078125 0 .4375-.148438.804688-.4375 1.09375-.292969.2929688-.652344.4375-1.078125.4375zm0 0&quot; /&gt;&lt;path id=&quot;aF&quot; d=&quot;m2.046875-5.484375c-.429687 0-.789063-.144531-1.078125-.4375-.292969-.289063-.4375-.65625-.4375-1.09375 0-.445313.144531-.804687.4375-1.078125.289062-.28125.648438-.421875 1.078125-.421875.425781 0 .785156.140625 1.078125.421875.289062.273438.4375.632812.4375 1.078125 0 .4375-.148438.804687-.4375 1.09375-.292969.292969-.652344.4375-1.078125.4375zm0 5.609375c-.429687 0-.789063-.1445312-1.078125-.4375-.292969-.289062-.4375-.65625-.4375-1.09375 0-.445312.144531-.804688.4375-1.078125.289062-.28125.648438-.421875 1.078125-.421875.425781 0 .785156.140625 1.078125.421875.289062.273437.4375.632813.4375 1.078125 0 .4375-.148438.804688-.4375 1.09375-.292969.2929688-.652344.4375-1.078125.4375zm0 0&quot; /&gt;&lt;path id=&quot;aG&quot; d=&quot;m10.8125-19.609375c1.738281 0 3.242188.292969 4.515625.875 1.28125.574219 2.265625 1.390625 2.953125 2.453125.695312 1.0625 1.046875 2.324219 1.046875 3.78125 0 1.4375-.351563 2.699219-1.046875 3.78125-.6875 1.074219-1.671875 1.898438-2.953125 2.46875-1.273437.5625-2.777344.84375-4.515625.84375h-3.953125v5.40625h-4.53125v-19.609375zm-.25 10.5c1.363281 0 2.398438-.289063 3.109375-.875.707031-.59375 1.0625-1.429687 1.0625-2.515625 0-1.09375-.355469-1.929688-1.0625-2.515625-.710937-.59375-1.746094-.890625-3.109375-.890625h-3.703125v6.796875zm0 0&quot; /&gt;&lt;path id=&quot;aH&quot; d=&quot;m2.015625-20.78125h4.375v20.78125h-4.375zm0 0&quot; /&gt;&lt;path id=&quot;aI&quot; d=&quot;m16.78125-7.484375c0 .0625-.027344.460937-.078125 1.1875h-11.40625c.207031.929687.691406 1.664063 1.453125 2.203125.769531.542969 1.722656.8125 2.859375.8125.78125 0 1.472656-.113281 2.078125-.34375.613281-.238281 1.179688-.609375 1.703125-1.109375l2.328125 2.515625c-1.417969 1.625-3.492188 2.4375-6.21875 2.4375-1.699219 0-3.203125-.328125-4.515625-.984375-1.304687-.664063-2.3125-1.585937-3.03125-2.765625-.710937-1.175781-1.0625-2.507812-1.0625-4 0-1.476562.347656-2.8125 1.046875-4 .707031-1.1875 1.671875-2.109375 2.890625-2.765625 1.226563-.664063 2.597656-1 4.109375-1 1.476562 0 2.8125.320313 4 .953125 1.195312.636719 2.132812 1.546875 2.8125 2.734375.6875 1.1875 1.03125 2.5625 1.03125 4.125zm-7.8125-4.5c-.992188 0-1.824219.28125-2.5.84375-.667969.554687-1.078125 1.3125-1.234375 2.28125h7.421875c-.148438-.945313-.558594-1.703125-1.234375-2.265625-.667969-.570312-1.484375-.859375-2.453125-.859375zm0 0&quot; /&gt;&lt;path id=&quot;aJ&quot; d=&quot;m8.09375-15.296875c2.332031 0 4.125.558594 5.375 1.671875 1.257812 1.105469 1.890625 2.78125 1.890625 5.03125v8.59375h-4.09375v-1.875c-.824219 1.398438-2.355469 2.09375-4.59375 2.09375-1.15625 0-2.164063-.1953125-3.015625-.578125-.855469-.394531-1.507812-.9375-1.953125-1.625-.449219-.695313-.671875-1.484375-.671875-2.359375 0-1.394531.523438-2.492188 1.578125-3.296875 1.0625-.8125 2.695313-1.21875 4.90625-1.21875h3.46875c0-.945313-.292969-1.675781-.875-2.1875-.574219-.519531-1.4375-.78125-2.59375-.78125-.8125 0-1.605469.132813-2.375.390625-.773437.25-1.429687.589844-1.96875 1.015625l-1.578125-3.046875c.820312-.582031 1.804688-1.03125 2.953125-1.34375 1.15625-.320312 2.335937-.484375 3.546875-.484375zm-.328125 12.578125c.738281 0 1.398437-.171875 1.984375-.515625.582031-.34375.992188-.851563 1.234375-1.53125v-1.53125h-3c-1.792969 0-2.6875.589844-2.6875 1.765625 0 .554688.21875.996094.65625 1.328125.4375.324219 1.039063.484375 1.8125.484375zm0 0&quot; /&gt;&lt;path id=&quot;aK&quot; d=&quot;m7.09375.21875c-1.261719 0-2.492188-.1523438-3.6875-.453125-1.1875-.3125-2.136719-.703125-2.84375-1.171875l1.453125-3.125c.675781.429688 1.488281.777344 2.4375 1.046875.957031.273437 1.890625.40625 2.796875.40625 1.851562 0 2.78125-.457031 2.78125-1.375 0-.425781-.257812-.734375-.765625-.921875-.5-.1875-1.273437-.347656-2.3125-.484375-1.242187-.1875-2.261719-.398437-3.0625-.640625-.804687-.238281-1.5-.664062-2.09375-1.28125-.585937-.625-.875-1.503906-.875-2.640625 0-.945313.273437-1.789063.828125-2.53125.550781-.738281 1.351562-1.3125 2.40625-1.71875 1.0625-.414063 2.3125-.625 3.75-.625 1.0625 0 2.117188.121094 3.171875.359375 1.050781.230469 1.925781.546875 2.625.953125l-1.453125 3.109375c-1.335938-.738281-2.78125-1.109375-4.34375-1.109375-.9375 0-1.640625.132813-2.109375.390625-.46875.261719-.703125.59375-.703125 1 0 .46875.25.796875.75.984375.507812.1875 1.316406.367187 2.421875.53125 1.226563.210937 2.234375.433594 3.015625.671875.789062.230469 1.472656.652344 2.046875 1.265625.582031.617187.875 1.476563.875 2.578125 0 .929688-.28125 1.757812-.84375 2.484375-.5625.730469-1.382813 1.296875-2.453125 1.703125-1.074219.3945312-2.34375.59375-3.8125.59375zm0 0&quot; /&gt;&lt;path id=&quot;aL&quot; d=&quot;m9.296875.21875c-1.605469 0-3.046875-.328125-4.328125-.984375-1.28125-.664063-2.28125-1.585937-3-2.765625-.71875-1.175781-1.078125-2.507812-1.078125-4 0-1.5.359375-2.835938 1.078125-4.015625.71875-1.175781 1.71875-2.09375 3-2.75 1.28125-.664063 2.722656-1 4.328125-1 1.59375 0 2.976563.335937 4.15625 1 1.1875.65625 2.050781 1.605469 2.59375 2.84375l-3.390625 1.8125c-.78125-1.375-1.914062-2.0625-3.390625-2.0625-1.136719 0-2.078125.375-2.828125 1.125-.742188.742187-1.109375 1.757813-1.109375 3.046875 0 1.28125.367187 2.296875 1.109375 3.046875.75.75 1.691406 1.125 2.828125 1.125 1.5 0 2.628906-.691406 3.390625-2.078125l3.390625 1.84375c-.542969 1.199219-1.40625 2.136719-2.59375 2.8125-1.179687.667969-2.5625 1-4.15625 1zm0 0&quot; /&gt;&lt;path id=&quot;aM&quot; d=&quot;m11.171875-15.296875c1.875 0 3.382813.5625 4.53125 1.6875 1.144531 1.117187 1.71875 2.777344 1.71875 4.984375v8.625h-4.359375v-7.953125c0-1.195313-.265625-2.085937-.796875-2.671875-.523437-.59375-1.277344-.890625-2.265625-.890625-1.105469 0-1.984375.34375-2.640625 1.03125-.648437.679687-.96875 1.6875-.96875 3.03125v7.453125h-4.375v-20.78125h4.375v7.28125c.570313-.582031 1.269531-1.023438 2.09375-1.328125.820313-.3125 1.71875-.46875 2.6875-.46875zm0 0&quot; /&gt;&lt;path id=&quot;aN&quot; d=&quot;m8.484375-5.90625-2.09375 2.0625v3.84375h-4.375v-20.78125h4.375v11.765625l6.390625-6.0625h5.203125l-6.28125 6.390625 6.84375 8.6875h-5.296875zm0 0&quot; /&gt;&lt;path id=&quot;aO&quot; d=&quot;m2.015625-15.078125h4.375v15.078125h-4.375zm2.1875-2.09375c-.804687 0-1.460937-.234375-1.96875-.703125-.5-.46875-.75-1.046875-.75-1.734375s.25-1.265625.75-1.734375c.507813-.46875 1.164063-.703125 1.96875-.703125.800781 0 1.453125.226563 1.953125.671875.507812.449219.765625 1.011719.765625 1.6875 0 .71875-.257813 1.320312-.765625 1.796875-.5.480469-1.152344.71875-1.953125.71875zm0 0&quot; /&gt;&lt;path id=&quot;aP&quot; d=&quot;m11.171875-15.296875c1.875 0 3.382813.5625 4.53125 1.6875 1.144531 1.117187 1.71875 2.777344 1.71875 4.984375v8.625h-4.359375v-7.953125c0-1.195313-.265625-2.085937-.796875-2.671875-.523437-.59375-1.277344-.890625-2.265625-.890625-1.105469 0-1.984375.34375-2.640625 1.03125-.648437.679687-.96875 1.6875-.96875 3.03125v7.453125h-4.375v-15.078125h4.171875v1.765625c.582031-.632812 1.300781-1.125 2.15625-1.46875.863281-.34375 1.804688-.515625 2.828125-.515625zm0 0&quot; /&gt;&lt;path id=&quot;aQ&quot; d=&quot;m10.921875-15.296875c1.40625 0 2.679687.324219 3.828125.96875 1.144531.648437 2.046875 1.554687 2.703125 2.71875.65625 1.167969.984375 2.527344.984375 4.078125 0 1.554688-.328125 2.914062-.984375 4.078125-.65625 1.167969-1.558594 2.074219-2.703125 2.71875-1.148438.6367188-2.421875.953125-3.828125.953125-2.074219 0-3.652344-.648438-4.734375-1.953125v1.734375h-4.171875v-20.78125h4.375v7.3125c1.101563-1.21875 2.613281-1.828125 4.53125-1.828125zm-.75 11.9375c1.113281 0 2.03125-.375 2.75-1.125.71875-.757813 1.078125-1.773437 1.078125-3.046875 0-1.269531-.359375-2.28125-1.078125-3.03125-.71875-.757812-1.636719-1.140625-2.75-1.140625-1.125 0-2.046875.382813-2.765625 1.140625-.71875.75-1.078125 1.761719-1.078125 3.03125 0 1.273438.359375 2.289062 1.078125 3.046875.71875.75 1.640625 1.125 2.765625 1.125zm0 0&quot; /&gt;&lt;path id=&quot;aR&quot; d=&quot;m6.8125-14.734375h3.859375v3.359375h-3.75v11.375h-4.375v-11.375h-2.328125v-3.359375h2.328125v-.671875c0-1.71875.507813-3.082031 1.53125-4.09375 1.019531-1.007812 2.453125-1.515625 4.296875-1.515625.65625 0 1.273438.074219 1.859375.21875.59375.136719 1.082031.335937 1.46875.59375l-1.140625 3.171875c-.5-.351562-1.089844-.53125-1.765625-.53125-1.324219 0-1.984375.730469-1.984375 2.1875zm0 0&quot; /&gt;&lt;path id=&quot;aS&quot; d=&quot;m9.1875.21875c-1.585938 0-3.007812-.328125-4.265625-.984375-1.261719-.664063-2.25-1.585937-2.96875-2.765625-.710937-1.175781-1.0625-2.507812-1.0625-4 0-1.5.351563-2.835938 1.0625-4.015625.71875-1.175781 1.707031-2.09375 2.96875-2.75 1.257813-.664063 2.679687-1 4.265625-1 1.59375 0 3.015625.335937 4.265625 1 1.25.65625 2.226563 1.574219 2.9375 2.75.707031 1.179687 1.0625 2.515625 1.0625 4.015625 0 1.492188-.355469 2.824219-1.0625 4-.710937 1.179688-1.6875 2.101562-2.9375 2.765625-1.25.65625-2.671875.984375-4.265625.984375zm0-3.578125c1.125 0 2.046875-.375 2.765625-1.125.71875-.757813 1.078125-1.773437 1.078125-3.046875 0-1.269531-.359375-2.28125-1.078125-3.03125-.71875-.757812-1.640625-1.140625-2.765625-1.140625-1.117188 0-2.039062.382813-2.765625 1.140625-.730469.75-1.09375 1.761719-1.09375 3.03125 0 1.273438.363281 2.289062 1.09375 3.046875.726563.75 1.648437 1.125 2.765625 1.125zm0 0&quot; /&gt;&lt;path id=&quot;aT&quot; d=&quot;m6.1875-13.078125c.519531-.726563 1.222656-1.28125 2.109375-1.65625.894531-.375 1.921875-.5625 3.078125-.5625v4.03125c-.492188-.03125-.820312-.046875-.984375-.046875-1.25 0-2.230469.351562-2.9375 1.046875-.710937.699219-1.0625 1.75-1.0625 3.15625v7.109375h-4.375v-15.078125h4.171875zm0 0&quot; /&gt;&lt;path id=&quot;aU&quot; d=&quot;m11.734375-.734375c-.429687.324219-.953125.5625-1.578125.71875s-1.28125.234375-1.96875.234375c-1.804688 0-3.195312-.453125-4.171875-1.359375-.980469-.914063-1.46875-2.265625-1.46875-4.046875v-6.1875h-2.328125v-3.359375h2.328125v-3.671875h4.375v3.671875h3.75v3.359375h-3.75v6.140625c0 .636719.160156 1.125.484375 1.46875.332031.34375.796875.515625 1.390625.515625.6875 0 1.273437-.1875 1.765625-.5625zm0 0&quot; /&gt;&lt;path id=&quot;aV&quot; d=&quot;m17.5625-15.078125v12.5625c0 2.757813-.71875 4.8125-2.15625 6.15625s-3.539062 2.015625-6.296875 2.015625c-1.460937 0-2.84375-.179688-4.15625-.53125-1.304687-.355469-2.386719-.867188-3.25-1.53125l1.75-3.140625c.632813.519531 1.4375.929687 2.40625 1.234375.96875.3125 1.9375.46875 2.90625.46875 1.507813 0 2.625-.34375 3.34375-1.03125.726563-.679688 1.09375-1.707031 1.09375-3.09375v-.640625c-1.148437 1.25-2.734375 1.875-4.765625 1.875-1.386719 0-2.65625-.300781-3.8125-.90625-1.148438-.601563-2.058594-1.457031-2.734375-2.5625-.667969-1.101563-1-2.375-1-3.8125s.332031-2.703125 1-3.796875c.675781-1.101562 1.585937-1.957031 2.734375-2.5625 1.15625-.613281 2.425781-.921875 3.8125-.921875 2.175781 0 3.835938.71875 4.984375 2.15625v-1.9375zm-8.265625 10.765625c1.15625 0 2.101563-.335938 2.84375-1.015625.738281-.6875 1.109375-1.582031 1.109375-2.6875 0-1.101563-.371094-1.992187-1.109375-2.671875-.742187-.675781-1.6875-1.015625-2.84375-1.015625s-2.109375.339844-2.859375 1.015625c-.742188.679688-1.109375 1.570312-1.109375 2.671875 0 1.105469.367187 2 1.109375 2.6875.75.679687 1.703125 1.015625 2.859375 1.015625zm0 0&quot; /&gt;&lt;path id=&quot;aW&quot; d=&quot;m17.203125-15.078125v15.078125h-4.140625v-1.796875c-.585938.65625-1.277344 1.15625-2.078125 1.5-.804687.34375-1.671875.515625-2.609375.515625-1.980469 0-3.546875-.566406-4.703125-1.703125-1.15625-1.132813-1.734375-2.828125-1.734375-5.078125v-8.515625h4.359375v7.875c0 2.429687 1.019531 3.640625 3.0625 3.640625 1.039063 0 1.878906-.335938 2.515625-1.015625.632812-.6875.953125-1.703125.953125-3.046875v-7.453125zm0 0&quot; /&gt;&lt;path id=&quot;aX&quot; d=&quot;m10.921875-15.296875c1.40625 0 2.679687.324219 3.828125.96875 1.144531.648437 2.046875 1.554687 2.703125 2.71875.65625 1.167969.984375 2.527344.984375 4.078125 0 1.554688-.328125 2.914062-.984375 4.078125-.65625 1.167969-1.558594 2.074219-2.703125 2.71875-1.148438.6367188-2.421875.953125-3.828125.953125-1.917969 0-3.429687-.601562-4.53125-1.8125v7.03125h-4.375v-20.515625h4.171875v1.75c1.082031-1.3125 2.660156-1.96875 4.734375-1.96875zm-.75 11.9375c1.113281 0 2.03125-.375 2.75-1.125.71875-.757813 1.078125-1.773437 1.078125-3.046875 0-1.269531-.359375-2.28125-1.078125-3.03125-.71875-.757812-1.636719-1.140625-2.75-1.140625-1.125 0-2.046875.382813-2.765625 1.140625-.71875.75-1.078125 1.761719-1.078125 3.03125 0 1.273438.359375 2.289062 1.078125 3.046875.71875.75 1.640625 1.125 2.765625 1.125zm0 0&quot; /&gt;&lt;path id=&quot;aY&quot; d=&quot;m21.3125-15.296875c1.894531 0 3.394531.558594 4.5 1.671875 1.113281 1.105469 1.671875 2.773438 1.671875 5v8.625h-4.375v-7.953125c0-1.195313-.25-2.085937-.75-2.671875-.492187-.59375-1.195313-.890625-2.109375-.890625-1.023438 0-1.835938.335937-2.4375 1-.59375.65625-.890625 1.640625-.890625 2.953125v7.5625h-4.375v-7.953125c0-2.375-.953125-3.5625-2.859375-3.5625-1 0-1.804688.335937-2.40625 1-.59375.65625-.890625 1.640625-.890625 2.953125v7.5625h-4.375v-15.078125h4.171875v1.75c.5625-.632813 1.25-1.117187 2.0625-1.453125.8125-.34375 1.703125-.515625 2.671875-.515625 1.0625 0 2.019531.214844 2.875.640625.863281.417969 1.5625 1.027344 2.09375 1.828125.613281-.78125 1.390625-1.382813 2.328125-1.8125.945312-.4375 1.976562-.65625 3.09375-.65625zm0 0&quot; /&gt;&lt;path id=&quot;aZ&quot; d=&quot;m3.671875.21875c-.773437 0-1.417969-.2578125-1.9375-.78125-.523437-.519531-.78125-1.171875-.78125-1.953125 0-.800781.257813-1.445313.78125-1.9375.519531-.5 1.164063-.75 1.9375-.75.757813 0 1.398437.25 1.921875.75.53125.492187.796875 1.136719.796875 1.9375 0 .78125-.265625 1.433594-.796875 1.953125-.523438.5234375-1.164062.78125-1.921875.78125zm0 0&quot; /&gt;&lt;path id=&quot;a0&quot; d=&quot;m4.046875.078125c-.679687 0-1.335937-.109375-1.96875-.328125-.625-.21875-1.109375-.507812-1.453125-.875l.375-.75c.332031.335938.773438.605469 1.328125.8125.5625.210938 1.132813.3125 1.71875.3125.832031 0 1.453125-.148438 1.859375-.453125.414062-.300781.625-.695313.625-1.1875 0-.363281-.117188-.65625-.34375-.875-.21875-.226563-.492188-.398437-.8125-.515625-.324219-.125-.777344-.253906-1.359375-.390625-.699219-.175781-1.257813-.34375-1.671875-.5-.40625-.164063-.761719-.414063-1.0625-.75-.292969-.332031-.4375-.785156-.4375-1.359375 0-.46875.117188-.894531.359375-1.28125.25-.382812.628906-.691406 1.140625-.921875.507812-.226563 1.144531-.34375 1.90625-.34375.53125 0 1.046875.074219 1.546875.21875.507813.148437.945313.351563 1.3125.609375l-.328125.78125c-.386719-.257812-.796875-.453125-1.234375-.578125s-.871094-.1875-1.296875-.1875c-.8125 0-1.421875.15625-1.828125.46875s-.609375.714844-.609375 1.203125c0 .367188.109375.664062.328125.890625.226563.230469.507813.402344.84375.515625.34375.117188.800781.246094 1.375.390625.675781.167969 1.222656.335937 1.640625.5.414062.15625.769531.402344 1.0625.734375.289062.335938.4375.78125.4375 1.34375 0 .460938-.125.882812-.375 1.265625-.25.386719-.636719.695313-1.15625.921875-.523438.21875-1.164062.328125-1.921875.328125zm0 0&quot; /&gt;&lt;path id=&quot;a1&quot; d=&quot;m4.1875.0625c-.6875 0-1.304688-.1445312-1.84375-.4375-.542969-.300781-.96875-.722656-1.28125-1.265625-.304688-.539063-.453125-1.148437-.453125-1.828125 0-.675781.148437-1.28125.453125-1.8125.3125-.539062.738281-.960938 1.28125-1.265625.539062-.300781 1.15625-.453125 1.84375-.453125.59375 0 1.125.121094 1.59375.359375.476562.230469.851562.570313 1.125 1.015625l-.703125.46875c-.230469-.34375-.523437-.597656-.875-.765625-.34375-.164063-.726563-.25-1.140625-.25-.5 0-.953125.117187-1.359375.34375-.398437.21875-.710937.539063-.9375.953125-.21875.40625-.328125.875-.328125 1.40625s.109375 1.007812.328125 1.421875c.226563.40625.539063.726563.9375.953125.40625.21875.859375.328125 1.359375.328125.414062 0 .796875-.082031 1.140625-.25.351563-.164063.644531-.421875.875-.765625l.703125.46875c-.273438.449219-.648438.792969-1.125 1.03125-.480469.2304688-1.011719.34375-1.59375.34375zm0 0&quot; /&gt;&lt;path id=&quot;a2&quot; d=&quot;m3.734375-7c.90625 0 1.597656.230469 2.078125.6875.488281.449219.734375 1.121094.734375 2.015625v4.296875h-.890625v-1.078125c-.21875.355469-.53125.636719-.9375.84375-.40625.1992188-.890625.296875-1.453125.296875-.78125 0-1.402344-.179688-1.859375-.546875-.460938-.375-.6875-.863281-.6875-1.46875 0-.59375.210938-1.066406.640625-1.421875.425781-.363281 1.109375-.546875 2.046875-.546875h2.203125v-.421875c0-.59375-.167969-1.046875-.5-1.359375-.335937-.3125-.824219-.46875-1.46875-.46875-.4375 0-.859375.074219-1.265625.21875-.40625.136719-.757812.335937-1.046875.59375l-.421875-.703125c.351562-.300781.773438-.53125 1.265625-.6875.5-.164062 1.019531-.25 1.5625-.25zm-.328125 6.328125c.53125 0 .984375-.117187 1.359375-.359375.375-.25.65625-.601562.84375-1.0625v-1.125h-2.171875c-1.1875 0-1.78125.414062-1.78125 1.234375 0 .40625.148438.730469.453125.96875.3125.230469.742187.34375 1.296875.34375zm0 0&quot; /&gt;&lt;path id=&quot;a3&quot; d=&quot;m4.84375-7c.875 0 1.566406.257812 2.078125.765625.519531.5.78125 1.234375.78125 2.203125v4.03125h-.9375v-3.9375c0-.71875-.183594-1.265625-.546875-1.640625-.367188-.382813-.882812-.578125-1.546875-.578125-.75 0-1.34375.226562-1.78125.671875-.429687.449219-.640625 1.0625-.640625 1.84375v3.640625h-.9375v-6.9375h.890625v1.265625c.257813-.414063.613281-.738281 1.0625-.96875.457031-.238281.984375-.359375 1.578125-.359375zm0 0&quot; /&gt;&lt;path id=&quot;a4&quot; d=&quot;m4.96875-.421875c-.179688.15625-.398438.277344-.65625.359375-.261719.0820312-.53125.125-.8125.125-.65625 0-1.164062-.171875-1.515625-.515625-.34375-.351563-.515625-.851563-.515625-1.5v-4.203125h-1.25v-.78125h1.25v-1.53125h.9375v1.53125h2.109375v.78125h-2.109375v4.15625c0 .40625.101562.71875.3125.9375.207031.21875.503906.328125.890625.328125.1875 0 .367187-.03125.546875-.09375.1875-.0625.347656-.148437.484375-.265625zm0 0&quot; /&gt;&lt;path id=&quot;a5&quot; d=&quot;m4.84375-7c.875 0 1.566406.257812 2.078125.765625.519531.5.78125 1.234375.78125 2.203125v4.03125h-.9375v-3.9375c0-.71875-.183594-1.265625-.546875-1.640625-.367188-.382813-.882812-.578125-1.546875-.578125-.75 0-1.34375.226562-1.78125.671875-.429687.449219-.640625 1.0625-.640625 1.84375v3.640625h-.9375v-9.796875h.9375v4.0625c.25-.40625.597656-.71875 1.046875-.9375.445313-.21875.960937-.328125 1.546875-.328125zm0 0&quot; /&gt;&lt;path id=&quot;a6&quot; d=&quot;m7.359375-3.1875h-5.8125c.050781.730469.328125 1.320312.828125 1.765625.5.4375 1.132812.65625 1.90625.65625.425781 0 .816406-.078125 1.171875-.234375.363281-.15625.679687-.378906.953125-.671875l.53125.609375c-.3125.367188-.703125.648438-1.171875.84375-.460937.1875-.964844.28125-1.515625.28125-.710938 0-1.339844-.1484375-1.890625-.453125-.554687-.300781-.984375-.71875-1.296875-1.25-.304688-.539063-.453125-1.148437-.453125-1.828125 0-.675781.144531-1.28125.4375-1.8125.289063-.539062.691406-.960938 1.203125-1.265625.519531-.300781 1.101562-.453125 1.75-.453125.644531 0 1.222656.152344 1.734375.453125.507813.304687.910156.71875 1.203125 1.25.289062.53125.4375 1.140625.4375 1.828125zm-3.359375-3c-.667969 0-1.230469.214844-1.6875.640625-.449219.429687-.703125.984375-.765625 1.671875h4.921875c-.0625-.6875-.324219-1.242188-.78125-1.671875-.449219-.425781-1.011719-.640625-1.6875-.640625zm0 0&quot; /&gt;&lt;path id=&quot;a7&quot; d=&quot;m10.8125.78125c-.28125.34375-.617188.601562-1 .78125-.375.175781-.792969.265625-1.25.265625-.542969 0-1.058594-.136719-1.546875-.40625-.492187-.261719-1.039063-.710937-1.640625-1.34375-.886719-.0234375-1.6875-.238281-2.40625-.65625-.710938-.414063-1.265625-.972656-1.671875-1.671875-.40625-.707031-.609375-1.5-.609375-2.375 0-.882812.207031-1.679688.625-2.390625.414062-.71875.992188-1.28125 1.734375-1.6875.75-.414063 1.582031-.625 2.5-.625.914063 0 1.738281.203125 2.46875.609375.738281.40625 1.316406.96875 1.734375 1.6875.425781.71875.640625 1.523438.640625 2.40625 0 .78125-.164063 1.496094-.484375 2.140625-.324219.648437-.773438 1.1875-1.34375 1.625-.574219.429687-1.234375.710937-1.984375.84375.675781.71875 1.34375 1.078125 2 1.078125.6875 0 1.273437-.28125 1.765625-.84375zm-9.15625-5.40625c0 .730469.164062 1.386719.5 1.96875.34375.574219.8125 1.027344 1.40625 1.359375.59375.335937 1.253906.5 1.984375.5.726563 0 1.382813-.164063 1.96875-.5.59375-.332031 1.054687-.785156 1.390625-1.359375.332031-.582031.5-1.238281.5-1.96875 0-.71875-.167969-1.367188-.5-1.953125-.335938-.582031-.796875-1.039063-1.390625-1.375-.585937-.332031-1.242187-.5-1.96875-.5-.730469 0-1.390625.167969-1.984375.5-.59375.335937-1.0625.792969-1.40625 1.375-.335938.585937-.5 1.234375-.5 1.953125zm0 0&quot; /&gt;&lt;path id=&quot;a8&quot; d=&quot;m7.8125 0-2.109375-2.96875c-.242187.023438-.484375.03125-.734375.03125h-2.484375v2.9375h-.984375v-9.25h3.46875c1.175781 0 2.097656.289062 2.765625.859375.664063.5625 1 1.335937 1 2.3125 0 .730469-.183594 1.34375-.546875 1.84375-.367188.492187-.886719.84375-1.5625 1.0625l2.265625 3.171875zm-2.875-3.765625c.914062 0 1.613281-.203125 2.09375-.609375.488281-.40625.734375-.972656.734375-1.703125 0-.75-.246094-1.320313-.734375-1.71875-.480469-.394531-1.179688-.59375-2.09375-.59375h-2.453125v4.625zm0 0&quot; /&gt;&lt;path id=&quot;a9&quot; d=&quot;m4.140625.0625c-.667969 0-1.273437-.1484375-1.8125-.453125-.53125-.300781-.953125-.71875-1.265625-1.25-.304688-.539063-.453125-1.148437-.453125-1.828125 0-.675781.148437-1.28125.453125-1.8125.3125-.539062.734375-.960938 1.265625-1.265625.539063-.300781 1.144531-.453125 1.8125-.453125.675781 0 1.28125.152344 1.8125.453125.539063.304687.960937.726563 1.265625 1.265625.300781.53125.453125 1.136719.453125 1.8125 0 .679688-.152344 1.289062-.453125 1.828125-.304688.53125-.726562.949219-1.265625 1.25-.53125.3046875-1.136719.453125-1.8125.453125zm0-.828125c.5 0 .941406-.109375 1.328125-.328125.394531-.226562.703125-.550781.921875-.96875.21875-.414062.328125-.882812.328125-1.40625 0-.53125-.109375-1-.328125-1.40625-.21875-.414062-.527344-.734375-.921875-.953125-.386719-.226563-.828125-.34375-1.328125-.34375-.492187 0-.933594.117187-1.328125.34375-.386719.21875-.695312.539063-.921875.953125-.21875.40625-.328125.875-.328125 1.40625 0 .523438.109375.992188.328125 1.40625.226563.417969.535156.742188.921875.96875.394531.21875.835938.328125 1.328125.328125zm0 0&quot; /&gt;&lt;path id=&quot;ba&quot; d=&quot;m7.640625-9.796875v9.796875h-.890625v-1.375c-.28125.46875-.65625.828125-1.125 1.078125-.460938.2421875-.980469.359375-1.5625.359375-.648438 0-1.234375-.1445312-1.765625-.4375-.53125-.300781-.949219-.71875-1.25-1.25-.292969-.539062-.4375-1.15625-.4375-1.84375s.144531-1.296875.4375-1.828125c.300781-.539063.71875-.957031 1.25-1.25.53125-.300781 1.117187-.453125 1.765625-.453125.5625 0 1.066406.121094 1.515625.359375.457031.230469.832031.570313 1.125 1.015625v-4.171875zm-3.5 9.03125c.488281 0 .925781-.109375 1.3125-.328125.394531-.226562.703125-.550781.921875-.96875.226562-.414062.34375-.882812.34375-1.40625 0-.53125-.117188-1-.34375-1.40625-.21875-.414062-.527344-.734375-.921875-.953125-.386719-.226563-.824219-.34375-1.3125-.34375-.492187 0-.933594.117187-1.328125.34375-.386719.21875-.695312.539063-.921875.953125-.21875.40625-.328125.875-.328125 1.40625 0 .523438.109375.992188.328125 1.40625.226563.417969.535156.742188.921875.96875.394531.21875.835938.328125 1.328125.328125zm0 0&quot; /&gt;&lt;path id=&quot;bb&quot; d=&quot;m11.5-6.9375-2.625 6.9375h-.890625l-2.1875-5.6875-2.1875 5.6875h-.890625l-2.609375-6.9375h.890625l2.1875 5.890625 2.21875-5.890625h.8125l2.21875 5.890625 2.203125-5.890625zm0 0&quot; /&gt;&lt;path id=&quot;bc&quot; d=&quot;m1.3125-6.9375h.9375v6.9375h-.9375zm.46875-1.53125c-.1875 0-.351562-.0625-.484375-.1875-.125-.132812-.1875-.296875-.1875-.484375 0-.175781.0625-.328125.1875-.453125.132813-.132812.296875-.203125.484375-.203125.195312 0 .359375.070313.484375.203125.132813.125.203125.273438.203125.4375 0 .199219-.070312.367188-.203125.5-.125.125-.289063.1875-.484375.1875zm0 0&quot; /&gt;&lt;path id=&quot;bd&quot; d=&quot;m7.140625-6.9375-3.46875 7.765625c-.28125.65625-.609375 1.117187-.984375 1.390625-.367188.269531-.808594.40625-1.328125.40625-.335937 0-.648437-.054688-.9375-.15625-.292969-.105469-.539063-.261719-.75-.46875l.4375-.703125c.351563.351563.773437.53125 1.265625.53125.3125 0 .578125-.089844.796875-.265625.226563-.179688.441406-.480469.640625-.90625l.296875-.671875-3.09375-6.921875h.96875l2.625 5.890625 2.609375-5.890625zm0 0&quot; /&gt;&lt;path id=&quot;be&quot; d=&quot;m7.5625-6.9375v6.9375h-.890625v-1.265625c-.25.417969-.59375.746094-1.03125.984375-.429687.2304688-.917969.34375-1.46875.34375-.90625 0-1.625-.25-2.15625-.75-.523437-.507812-.78125-1.253906-.78125-2.234375v-4.015625h.9375v3.921875c0 .730469.179687 1.289063.546875 1.671875.363281.375.878906.5625 1.546875.5625.726563 0 1.300781-.21875 1.71875-.65625.425781-.445312.640625-1.066406.640625-1.859375v-3.640625zm0 0&quot; /&gt;&lt;path id=&quot;bf&quot; d=&quot;m2.203125-5.578125c.21875-.46875.546875-.820313.984375-1.0625.4375-.238281.976562-.359375 1.625-.359375v.90625h-.234375c-.730469 0-1.304687.226562-1.71875.671875-.40625.449219-.609375 1.078125-.609375 1.890625v3.53125h-.9375v-6.9375h.890625zm0 0&quot; /&gt;&lt;path id=&quot;bg&quot; d=&quot;m3.171875.0625c-.5625 0-1.105469-.078125-1.625-.234375-.511719-.164063-.914063-.375-1.203125-.625l.421875-.734375c.289063.230469.65625.417969 1.09375.5625.4375.148438.894531.21875 1.375.21875.632813 0 1.101563-.097656 1.40625-.296875.300781-.195313.453125-.476563.453125-.84375 0-.25-.085938-.445313-.25-.59375-.167969-.144531-.382812-.253906-.640625-.328125-.25-.082031-.589844-.15625-1.015625-.21875-.5625-.101562-1.015625-.210938-1.359375-.328125-.335937-.113281-.625-.300781-.875-.5625-.242187-.257813-.359375-.625-.359375-1.09375 0-.582031.238281-1.054687.71875-1.421875.488281-.375 1.164062-.5625 2.03125-.5625.445312 0 .894531.0625 1.34375.1875.445312.117188.816406.273438 1.109375.46875l-.40625.75c-.574219-.394531-1.257813-.59375-2.046875-.59375-.605469 0-1.058594.105469-1.359375.3125-.304687.210938-.453125.484375-.453125.828125 0 .273437.082031.484375.25.640625.175781.15625.390625.273438.640625.34375.257813.074219.613281.152344 1.0625.234375.550781.105469.992187.210937 1.328125.3125.34375.105469.628906.289063.859375.546875.238281.25.359375.601562.359375 1.046875 0 .617187-.257812 1.101563-.765625 1.453125-.5.355469-1.199219.53125-2.09375.53125zm0 0&quot; /&gt;&lt;path id=&quot;bh&quot; d=&quot;m9.96875-7c.875 0 1.554688.25 2.046875.75.5.5.75 1.242188.75 2.21875v4.03125h-.9375v-3.9375c0-.71875-.179687-1.265625-.53125-1.640625-.34375-.382813-.828125-.578125-1.453125-.578125-.730469 0-1.304688.226562-1.71875.671875-.40625.449219-.609375 1.0625-.609375 1.84375v3.640625h-.9375v-3.9375c0-.71875-.179687-1.265625-.53125-1.640625-.34375-.382813-.839844-.578125-1.484375-.578125-.710938 0-1.273438.226562-1.6875.671875-.417969.449219-.625 1.0625-.625 1.84375v3.640625h-.9375v-6.9375h.890625v1.265625c.25-.425781.59375-.753906 1.03125-.984375.4375-.226562.941406-.34375 1.515625-.34375.582031 0 1.085938.125 1.515625.375.425781.242188.742187.605469.953125 1.09375.257812-.457031.628906-.816406 1.109375-1.078125.476563-.257813 1.023437-.390625 1.640625-.390625zm0 0&quot; /&gt;&lt;path id=&quot;bi&quot; d=&quot;m4.890625-7c.644531 0 1.234375.152344 1.765625.453125.53125.292969.941406.710937 1.234375 1.25.300781.53125.453125 1.140625.453125 1.828125 0 .699219-.152344 1.320312-.453125 1.859375-.292969.53125-.703125.945313-1.234375 1.234375-.523438.2929688-1.109375.4375-1.765625.4375-.5625 0-1.074219-.1132812-1.53125-.34375-.449219-.238281-.820313-.582031-1.109375-1.03125v3.875h-.9375v-9.5h.890625v1.359375c.28125-.457031.648437-.804687 1.109375-1.046875.46875-.25.992188-.375 1.578125-.375zm-.078125 6.234375c.488281 0 .929688-.109375 1.328125-.328125.394531-.226562.703125-.550781.921875-.96875.226562-.414062.34375-.882812.34375-1.40625 0-.53125-.117188-1-.34375-1.40625-.21875-.414062-.527344-.734375-.921875-.953125-.398437-.226563-.839844-.34375-1.328125-.34375-.492188 0-.933594.117187-1.328125.34375-.386719.21875-.695313.539063-.921875.953125-.21875.40625-.328125.875-.328125 1.40625 0 .523438.109375.992188.328125 1.40625.226562.417969.535156.742188.921875.96875.394531.21875.835937.328125 1.328125.328125zm0 0&quot; /&gt;&lt;path id=&quot;bj&quot; d=&quot;m1.40625.0625c-.199219 0-.367188-.06640625-.5-.203125-.136719-.144531-.203125-.316406-.203125-.515625 0-.207031.066406-.378906.203125-.515625.132812-.132813.300781-.203125.5-.203125.1875 0 .347656.070312.484375.203125.144531.136719.21875.308594.21875.515625 0 .199219-.074219.371094-.21875.515625-.136719.13671875-.296875.203125-.484375.203125zm0 0&quot; /&gt;&lt;path id=&quot;bk&quot; d=&quot;m2.484375-8.390625v3.625h4.78125v.84375h-4.78125v3.921875h-.984375v-9.25h6.34375v.859375zm0 0&quot; /&gt;&lt;path id=&quot;bl&quot; d=&quot;m1.3125-9.796875h.9375v9.796875h-.9375zm0 0&quot; /&gt;&lt;path id=&quot;bm&quot; d=&quot;m7.140625-6.9375-3.09375 6.9375h-.953125l-3.078125-6.9375h.96875l2.609375 5.90625 2.625-5.90625zm0 0&quot; /&gt;&lt;path id=&quot;bn&quot; d=&quot;m9.234375-9.25v9.25h-.8125l-5.9375-7.5v7.5h-.984375v-9.25h.8125l5.953125 7.5v-7.5zm0 0&quot; /&gt;&lt;path id=&quot;bo&quot; d=&quot;m14.1875-9.25-3.109375 9.25h-1.03125l-2.703125-7.875-2.71875 7.875h-1.015625l-3.125-9.25h1l2.671875 7.953125 2.765625-7.953125h.90625l2.71875 8 2.703125-8zm0 0&quot; /&gt;&lt;path id=&quot;bp&quot; d=&quot;m4.890625-7c.644531 0 1.234375.152344 1.765625.453125.53125.292969.941406.710937 1.234375 1.25.300781.53125.453125 1.140625.453125 1.828125s-.152344 1.304688-.453125 1.84375c-.292969.53125-.703125.949219-1.234375 1.25-.53125.2929688-1.121094.4375-1.765625.4375-.585937 0-1.109375-.1171875-1.578125-.359375-.460938-.25-.828125-.609375-1.109375-1.078125v1.375h-.890625v-9.796875h.9375v4.171875c.289062-.445312.660156-.785156 1.109375-1.015625.457031-.238281.96875-.359375 1.53125-.359375zm-.078125 6.234375c.488281 0 .929688-.109375 1.328125-.328125.394531-.226562.703125-.550781.921875-.96875.226562-.414062.34375-.882812.34375-1.40625 0-.53125-.117188-1-.34375-1.40625-.21875-.414062-.527344-.734375-.921875-.953125-.398437-.226563-.839844-.34375-1.328125-.34375-.492188 0-.933594.117187-1.328125.34375-.386719.21875-.695313.539063-.921875.953125-.21875.40625-.328125.875-.328125 1.40625 0 .523438.109375.992188.328125 1.40625.226562.417969.535156.742188.921875.96875.394531.21875.835937.328125 1.328125.328125zm0 0&quot; /&gt;&lt;path id=&quot;bq&quot; d=&quot;m3.609375-9.078125c-.40625 0-.714844.117187-.921875.34375-.210938.21875-.3125.542969-.3125.96875v.828125h2.140625v.78125h-2.109375v6.15625h-.9375v-6.15625h-1.25v-.78125h1.25v-.859375c0-.632813.179688-1.132813.546875-1.5.363281-.375.878906-.5625 1.546875-.5625.269531 0 .523438.039063.765625.109375.25.074219.457031.183594.625.328125l-.3125.6875c-.28125-.226563-.625-.34375-1.03125-.34375zm0 0&quot; /&gt;&lt;path id=&quot;br&quot; d=&quot;m1.40625-9.859375c.207031 0 .375.070313.5.203125.132812.136719.203125.304688.203125.5 0 .117188-.015625.230469-.046875.34375-.03125.117188-.074219.257812-.125.421875l-.5625 1.8125h-.640625l.46875-1.890625c-.148437-.050781-.265625-.132812-.359375-.25-.085938-.125-.125-.269531-.125-.4375 0-.207031.0625-.375.1875-.5.132812-.132812.300781-.203125.5-.203125zm0 0&quot; /&gt;&lt;path id=&quot;bs&quot; d=&quot;m7.734375-6.9375v6.09375c0 1.175781-.292969 2.046875-.875 2.609375-.574219.570313-1.4375.859375-2.59375.859375-.648437 0-1.257813-.09375-1.828125-.28125-.574219-.1875-1.042969-.449219-1.40625-.78125l.46875-.71875c.332031.300781.738281.535156 1.21875.703125.488281.164063.992188.25 1.515625.25.882813 0 1.53125-.210937 1.9375-.625.414063-.40625.625-1.039063.625-1.890625v-.890625c-.292969.4375-.671875.773437-1.140625 1-.46875.230469-.992188.34375-1.5625.34375-.65625 0-1.25-.140625-1.78125-.421875-.53125-.289062-.949219-.691406-1.25-1.203125-.304688-.519531-.453125-1.101563-.453125-1.75 0-.65625.148437-1.238281.453125-1.75.300781-.507813.71875-.90625 1.25-1.1875s1.125-.421875 1.78125-.421875c.59375 0 1.125.121094 1.59375.359375.476562.242187.863281.585937 1.15625 1.03125v-1.328125zm-3.546875 5.84375c.5 0 .953125-.109375 1.359375-.328125s.71875-.519531.9375-.90625c.226563-.382813.34375-.820313.34375-1.3125 0-.5-.117187-.9375-.34375-1.3125-.21875-.382813-.53125-.679687-.9375-.890625-.398437-.21875-.851563-.328125-1.359375-.328125-.5 0-.953125.105469-1.359375.3125-.398437.210937-.710937.507813-.9375.890625-.21875.386719-.328125.828125-.328125 1.328125 0 .492187.109375.929687.328125 1.3125.226563.386719.539063.6875.9375.90625.40625.21875.859375.328125 1.359375.328125zm0 0&quot; /&gt;&lt;path id=&quot;bt&quot; d=&quot;m3.78125-9.25v9.25h-1.71875v-7.796875h-1.953125v-1.453125zm0 0&quot; /&gt;&lt;path id=&quot;bu&quot; d=&quot;m7.28125-1.453125v1.453125h-6.8125v-1.15625l3.65625-3.484375c.414062-.394531.695312-.738281.84375-1.03125.144531-.289063.21875-.582031.21875-.875 0-.4375-.148438-.765625-.4375-.984375-.292969-.226562-.71875-.34375-1.28125-.34375-.9375 0-1.65625.320312-2.15625.953125l-1.203125-.921875c.351563-.476562.835937-.851562 1.453125-1.125.613281-.269531 1.300781-.40625 2.0625-.40625 1 0 1.796875.242188 2.390625.71875.601563.46875.90625 1.117188.90625 1.9375 0 .5-.109375.976562-.328125 1.421875-.210938.4375-.609375.9375-1.203125 1.5l-2.46875 2.34375zm0 0&quot; /&gt;&lt;path id=&quot;bv&quot; d=&quot;m4.515625-5.421875c.851563.105469 1.503906.398437 1.953125.875.445312.46875.671875 1.0625.671875 1.78125 0 .53125-.136719 1.023437-.40625 1.46875-.273437.4375-.683594.789063-1.234375 1.046875-.554688.25-1.226562.375-2.015625.375-.65625 0-1.292969-.09375-1.90625-.28125-.617187-.1875-1.136719-.445312-1.5625-.78125l.734375-1.328125c.332031.28125.738281.507813 1.21875.671875.476562.15625.972656.234375 1.484375.234375.613281 0 1.09375-.125 1.4375-.375s.515625-.59375.515625-1.03125c0-.425781-.167969-.757813-.5-1-.324219-.238281-.824219-.359375-1.5-.359375h-.84375v-1.1875l2.09375-2.484375h-4.1875v-1.453125h6.296875v1.15625zm0 0&quot; /&gt;
&lt;g id=&quot;poster-privacy&quot;&gt;&lt;use x=&quot;36.015129&quot; xlink:href=&quot;#a&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;46.65639&quot; xlink:href=&quot;#b&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;55.434469&quot; xlink:href=&quot;#c&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;59.487368&quot; xlink:href=&quot;#b&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;65.547512&quot; xlink:href=&quot;#d&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;70.647253&quot; xlink:href=&quot;#e&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;77.274026&quot; xlink:href=&quot;#b&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;83.33417&quot; xlink:href=&quot;#f&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;89.086968&quot; xlink:href=&quot;#g&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;95.982653&quot; xlink:href=&quot;#h&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;101.581795&quot; xlink:href=&quot;#i&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;107.872428&quot; xlink:href=&quot;#j&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;114.470395&quot; xlink:href=&quot;#c&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;121.327669&quot; xlink:href=&quot;#e&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;127.954442&quot; xlink:href=&quot;#c&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;132.055358&quot; xlink:href=&quot;#k&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;134.946171&quot; xlink:href=&quot;#l&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;140.516497&quot; xlink:href=&quot;#m&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;146.499807&quot; xlink:href=&quot;#f&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;152.098949&quot; xlink:href=&quot;#h&quot; y=&quot;688.039044&quot; /&gt;&lt;use x=&quot;36.015129&quot; xlink:href=&quot;#n&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;42.683919&quot; xlink:href=&quot;#o&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;46.759613&quot; xlink:href=&quot;#p&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;50.385126&quot; xlink:href=&quot;#q&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;56.021477&quot; xlink:href=&quot;#r&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;59.184797&quot; xlink:href=&quot;#s&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;62.948371&quot; xlink:href=&quot;#t&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;68.560714&quot; xlink:href=&quot;#u&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;71.495937&quot; xlink:href=&quot;#v&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;74.875355&quot; xlink:href=&quot;#w&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;78.416833&quot; xlink:href=&quot;#q&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;84.053184&quot; xlink:href=&quot;#x&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;86.490197&quot; xlink:href=&quot;#o&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;90.565891&quot; xlink:href=&quot;#p&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;95.764059&quot; xlink:href=&quot;#y&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;100.800167&quot; xlink:href=&quot;#z&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;106.712643&quot; xlink:href=&quot;#v&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;110.038033&quot; xlink:href=&quot;#s&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;113.801608&quot; xlink:href=&quot;#A&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;117.871314&quot; xlink:href=&quot;#p&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;121.496826&quot; xlink:href=&quot;#B&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;124.342016&quot; xlink:href=&quot;#x&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;126.779029&quot; xlink:href=&quot;#o&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;130.854723&quot; xlink:href=&quot;#p&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;136.05289&quot; xlink:href=&quot;#s&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;139.816465&quot; xlink:href=&quot;#q&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;143.880161&quot; xlink:href=&quot;#C&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;145.494834&quot; xlink:href=&quot;#r&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;150.320854&quot; xlink:href=&quot;#D&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;154.390561&quot; xlink:href=&quot;#p&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;158.016073&quot; xlink:href=&quot;#E&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;160.399059&quot; xlink:href=&quot;#u&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;163.334282&quot; xlink:href=&quot;#s&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;167.097857&quot; xlink:href=&quot;#q&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;171.161553&quot; xlink:href=&quot;#w&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;174.70303&quot; xlink:href=&quot;#C&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;177.890358&quot; xlink:href=&quot;#F&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;179.505031&quot; xlink:href=&quot;#q&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;183.568727&quot; xlink:href=&quot;#G&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;185.549547&quot; xlink:href=&quot;#s&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;189.313121&quot; xlink:href=&quot;#E&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;191.672099&quot; xlink:href=&quot;#H&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;198.040767&quot; xlink:href=&quot;#w&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;201.582245&quot; xlink:href=&quot;#x&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;204.019258&quot; xlink:href=&quot;#F&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;205.63393&quot; xlink:href=&quot;#s&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;209.397505&quot; xlink:href=&quot;#q&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;215.033856&quot; xlink:href=&quot;#u&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;217.96908&quot; xlink:href=&quot;#p&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;221.594592&quot; xlink:href=&quot;#q&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;225.658287&quot; xlink:href=&quot;#x&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;229.667956&quot; xlink:href=&quot;#x&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;231.990915&quot; xlink:href=&quot;#s&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;237.327156&quot; xlink:href=&quot;#I&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;241.018694&quot; xlink:href=&quot;#p&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;244.644195&quot; xlink:href=&quot;#E&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;247.141246&quot; xlink:href=&quot;#J&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;250.394611&quot; xlink:href=&quot;#F&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;252.009273&quot; xlink:href=&quot;#v&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;255.334675&quot; xlink:href=&quot;#p&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;260.532842&quot; xlink:href=&quot;#K&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;265.412891&quot; xlink:href=&quot;#I&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;269.104451&quot; xlink:href=&quot;#n&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;277.34592&quot; xlink:href=&quot;#F&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;278.960581&quot; xlink:href=&quot;#u&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;283.468472&quot; xlink:href=&quot;#r&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;286.631803&quot; xlink:href=&quot;#s&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;290.395377&quot; xlink:href=&quot;#t&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;294.435053&quot; xlink:href=&quot;#E&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;298.414737&quot; xlink:href=&quot;#L&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;302.622483&quot; xlink:href=&quot;#t&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;306.662159&quot; xlink:href=&quot;#u&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;309.597383&quot; xlink:href=&quot;#x&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;311.920342&quot; xlink:href=&quot;#s&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;315.683916&quot; xlink:href=&quot;#H&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;322.064595&quot; xlink:href=&quot;#p&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;325.690096&quot; xlink:href=&quot;#E&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;329.669779&quot; xlink:href=&quot;#M&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;331.48253&quot; xlink:href=&quot;#N&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;336.320538&quot; xlink:href=&quot;#B&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;339.165727&quot; xlink:href=&quot;#x&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;341.60274&quot; xlink:href=&quot;#o&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;345.678434&quot; xlink:href=&quot;#p&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;350.866138&quot; xlink:href=&quot;#C&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;352.480811&quot; xlink:href=&quot;#s&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;356.244386&quot; xlink:href=&quot;#v&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;359.623803&quot; xlink:href=&quot;#w&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;363.165281&quot; xlink:href=&quot;#x&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;365.602294&quot; xlink:href=&quot;#F&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;367.216967&quot; xlink:href=&quot;#s&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;370.980541&quot; xlink:href=&quot;#q&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;376.616892&quot; xlink:href=&quot;#s&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;380.380467&quot; xlink:href=&quot;#G&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;383.987969&quot; xlink:href=&quot;#x&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;386.424983&quot; xlink:href=&quot;#o&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;390.500677&quot; xlink:href=&quot;#p&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;395.698844&quot; xlink:href=&quot;#O&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;399.768551&quot; xlink:href=&quot;#t&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;403.808238&quot; xlink:href=&quot;#u&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;406.743462&quot; xlink:href=&quot;#F&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;408.358135&quot; xlink:href=&quot;#q&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;412.433829&quot; xlink:href=&quot;#p&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;416.059341&quot; xlink:href=&quot;#u&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;418.994565&quot; xlink:href=&quot;#u&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;423.502443&quot; xlink:href=&quot;#r&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;426.665763&quot; xlink:href=&quot;#s&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;430.429338&quot; xlink:href=&quot;#t&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;436.041681&quot; xlink:href=&quot;#w&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;439.583158&quot; xlink:href=&quot;#E&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;441.912128&quot; xlink:href=&quot;#p&quot; y=&quot;709.04787&quot; /&gt;&lt;use x=&quot;36.015129&quot; xlink:href=&quot;#J&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;39.268494&quot; xlink:href=&quot;#F&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;40.883167&quot; xlink:href=&quot;#u&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;43.818391&quot; xlink:href=&quot;#F&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;45.433064&quot; xlink:href=&quot;#x&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;47.870077&quot; xlink:href=&quot;#F&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;49.48475&quot; xlink:href=&quot;#q&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;53.560444&quot; xlink:href=&quot;#P&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;57.678167&quot; xlink:href=&quot;#B&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;60.523356&quot; xlink:href=&quot;#x&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;62.960369&quot; xlink:href=&quot;#F&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;64.575042&quot; xlink:href=&quot;#H&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;70.955709&quot; xlink:href=&quot;#p&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;76.153877&quot; xlink:href=&quot;#w&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;79.695354&quot; xlink:href=&quot;#q&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;83.771048&quot; xlink:href=&quot;#A&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;89.41341&quot; xlink:href=&quot;#x&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;91.850423&quot; xlink:href=&quot;#o&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;95.926118&quot; xlink:href=&quot;#p&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;101.124285&quot; xlink:href=&quot;#A&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;105.193992&quot; xlink:href=&quot;#w&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;108.735469&quot; xlink:href=&quot;#x&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;111.058428&quot; xlink:href=&quot;#p&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;116.256596&quot; xlink:href=&quot;#s&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;120.02017&quot; xlink:href=&quot;#G&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;123.627673&quot; xlink:href=&quot;#r&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;126.790993&quot; xlink:href=&quot;#s&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;130.554567&quot; xlink:href=&quot;#t&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;134.594255&quot; xlink:href=&quot;#E&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;138.573916&quot; xlink:href=&quot;#J&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;141.827281&quot; xlink:href=&quot;#F&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;143.441954&quot; xlink:href=&quot;#u&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;146.377177&quot; xlink:href=&quot;#F&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;147.99185&quot; xlink:href=&quot;#x&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;150.488879&quot; xlink:href=&quot;#Q&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;153.334068&quot; xlink:href=&quot;#R&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;156.779512&quot; xlink:href=&quot;#o&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;160.855206&quot; xlink:href=&quot;#p&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;166.053373&quot; xlink:href=&quot;#O&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;170.12308&quot; xlink:href=&quot;#t&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;174.162767&quot; xlink:href=&quot;#u&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;177.097991&quot; xlink:href=&quot;#F&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;178.712664&quot; xlink:href=&quot;#q&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;182.788358&quot; xlink:href=&quot;#p&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;186.41387&quot; xlink:href=&quot;#u&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;189.349094&quot; xlink:href=&quot;#u&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;193.856972&quot; xlink:href=&quot;#S&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;199.133187&quot; xlink:href=&quot;#F&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;200.74786&quot; xlink:href=&quot;#C&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;202.362533&quot; xlink:href=&quot;#C&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;205.549861&quot; xlink:href=&quot;#q&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;209.625555&quot; xlink:href=&quot;#s&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;213.38913&quot; xlink:href=&quot;#x&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;217.398798&quot; xlink:href=&quot;#u&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;220.334022&quot; xlink:href=&quot;#p&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;223.959534&quot; xlink:href=&quot;#p&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;229.157701&quot; xlink:href=&quot;#s&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;232.921276&quot; xlink:href=&quot;#E&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;236.9003&quot; xlink:href=&quot;#v&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;240.22569&quot; xlink:href=&quot;#s&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;243.989265&quot; xlink:href=&quot;#C&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;245.603937&quot; xlink:href=&quot;#C&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;247.21861&quot; xlink:href=&quot;#p&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;250.844122&quot; xlink:href=&quot;#v&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;254.259547&quot; xlink:href=&quot;#x&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;258.269216&quot; xlink:href=&quot;#x&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;260.706229&quot; xlink:href=&quot;#o&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;264.769925&quot; xlink:href=&quot;#F&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;266.384597&quot; xlink:href=&quot;#u&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;270.892476&quot; xlink:href=&quot;#F&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;272.507149&quot; xlink:href=&quot;#q&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;276.570845&quot; xlink:href=&quot;#G&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;278.551665&quot; xlink:href=&quot;#s&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;282.31524&quot; xlink:href=&quot;#E&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;284.674217&quot; xlink:href=&quot;#H&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;291.042886&quot; xlink:href=&quot;#w&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;294.584363&quot; xlink:href=&quot;#x&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;297.021376&quot; xlink:href=&quot;#F&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;298.636049&quot; xlink:href=&quot;#s&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;302.399623&quot; xlink:href=&quot;#q&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;308.035974&quot; xlink:href=&quot;#w&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;311.577452&quot; xlink:href=&quot;#q&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;315.653146&quot; xlink:href=&quot;#A&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;321.295508&quot; xlink:href=&quot;#F&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;322.910181&quot; xlink:href=&quot;#x&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;326.919849&quot; xlink:href=&quot;#S&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;332.196064&quot; xlink:href=&quot;#F&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;333.810737&quot; xlink:href=&quot;#C&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;335.42541&quot; xlink:href=&quot;#C&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;338.612738&quot; xlink:href=&quot;#s&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;342.376312&quot; xlink:href=&quot;#q&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;346.440008&quot; xlink:href=&quot;#C&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;348.054681&quot; xlink:href=&quot;#r&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;352.880702&quot; xlink:href=&quot;#O&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;356.950408&quot; xlink:href=&quot;#p&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;362.148576&quot; xlink:href=&quot;#t&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;366.188263&quot; xlink:href=&quot;#u&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;369.123487&quot; xlink:href=&quot;#p&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;372.748999&quot; xlink:href=&quot;#A&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;378.391361&quot; xlink:href=&quot;#G&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;380.372181&quot; xlink:href=&quot;#s&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;384.135755&quot; xlink:href=&quot;#E&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;388.115416&quot; xlink:href=&quot;#v&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;391.440807&quot; xlink:href=&quot;#s&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;395.204381&quot; xlink:href=&quot;#q&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;399.268077&quot; xlink:href=&quot;#x&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;401.70509&quot; xlink:href=&quot;#w&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;405.258566&quot; xlink:href=&quot;#v&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;408.67399&quot; xlink:href=&quot;#x&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;412.683659&quot; xlink:href=&quot;#x&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;415.120672&quot; xlink:href=&quot;#E&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;417.47365&quot; xlink:href=&quot;#w&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;421.027126&quot; xlink:href=&quot;#v&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;424.406544&quot; xlink:href=&quot;#F&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;426.021217&quot; xlink:href=&quot;#q&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;430.096911&quot; xlink:href=&quot;#P&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;434.214646&quot; xlink:href=&quot;#Q&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;437.059835&quot; xlink:href=&quot;#n&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;443.398496&quot; xlink:href=&quot;#p&quot; y=&quot;715.800706&quot; /&gt;&lt;use x=&quot;36.015129&quot; xlink:href=&quot;#s&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;39.778703&quot; xlink:href=&quot;#q&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;43.842399&quot; xlink:href=&quot;#C&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;45.457072&quot; xlink:href=&quot;#r&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;50.283093&quot; xlink:href=&quot;#T&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;53.764543&quot; xlink:href=&quot;#p&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;57.390055&quot; xlink:href=&quot;#p&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;61.015568&quot; xlink:href=&quot;#D&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;66.65793&quot; xlink:href=&quot;#x&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;69.094943&quot; xlink:href=&quot;#o&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;73.158638&quot; xlink:href=&quot;#F&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;74.773311&quot; xlink:href=&quot;#u&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;79.28119&quot; xlink:href=&quot;#F&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;80.895863&quot; xlink:href=&quot;#q&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;84.959559&quot; xlink:href=&quot;#G&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;86.940379&quot; xlink:href=&quot;#s&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;90.703953&quot; xlink:href=&quot;#E&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;93.062931&quot; xlink:href=&quot;#H&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;99.4316&quot; xlink:href=&quot;#w&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;102.973077&quot; xlink:href=&quot;#x&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;105.41009&quot; xlink:href=&quot;#F&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;107.024763&quot; xlink:href=&quot;#s&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;110.788337&quot; xlink:href=&quot;#q&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;116.424688&quot; xlink:href=&quot;#G&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;118.405508&quot; xlink:href=&quot;#s&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;122.169083&quot; xlink:href=&quot;#E&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;126.148744&quot; xlink:href=&quot;#U&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;129.558169&quot; xlink:href=&quot;#V&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;134.951224&quot; xlink:href=&quot;#A&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;139.02093&quot; xlink:href=&quot;#w&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;142.502381&quot; xlink:href=&quot;#r&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;145.719728&quot; xlink:href=&quot;#u&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;150.227607&quot; xlink:href=&quot;#t&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;154.267295&quot; xlink:href=&quot;#q&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;158.330991&quot; xlink:href=&quot;#C&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;159.945663&quot; xlink:href=&quot;#p&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;163.571176&quot; xlink:href=&quot;#u&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;166.506399&quot; xlink:href=&quot;#u&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;171.014278&quot; xlink:href=&quot;#E&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;173.343248&quot; xlink:href=&quot;#p&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;176.96876&quot; xlink:href=&quot;#W&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;181.038466&quot; xlink:href=&quot;#t&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;185.078154&quot; xlink:href=&quot;#F&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;186.692827&quot; xlink:href=&quot;#E&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;189.021796&quot; xlink:href=&quot;#p&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;192.647309&quot; xlink:href=&quot;#A&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;198.28967&quot; xlink:href=&quot;#G&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;200.270491&quot; xlink:href=&quot;#s&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;204.034065&quot; xlink:href=&quot;#E&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;208.013726&quot; xlink:href=&quot;#v&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;211.339117&quot; xlink:href=&quot;#s&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;215.102691&quot; xlink:href=&quot;#q&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;219.166387&quot; xlink:href=&quot;#x&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;221.6034&quot; xlink:href=&quot;#w&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;225.156875&quot; xlink:href=&quot;#v&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;228.5723&quot; xlink:href=&quot;#x&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;232.581969&quot; xlink:href=&quot;#x&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;235.018982&quot; xlink:href=&quot;#E&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;237.37196&quot; xlink:href=&quot;#w&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;240.925435&quot; xlink:href=&quot;#v&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;244.304853&quot; xlink:href=&quot;#F&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;245.919526&quot; xlink:href=&quot;#q&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;249.995221&quot; xlink:href=&quot;#P&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;255.685599&quot; xlink:href=&quot;#E&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;258.014569&quot; xlink:href=&quot;#p&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;261.640081&quot; xlink:href=&quot;#C&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;263.254754&quot; xlink:href=&quot;#w&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;266.796231&quot; xlink:href=&quot;#x&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;269.11919&quot; xlink:href=&quot;#p&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;272.744702&quot; xlink:href=&quot;#A&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;278.387064&quot; xlink:href=&quot;#x&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;280.710023&quot; xlink:href=&quot;#s&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;286.046253&quot; xlink:href=&quot;#w&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;291.160386&quot; xlink:href=&quot;#L&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;295.386152&quot; xlink:href=&quot;#X&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;300.296197&quot; xlink:href=&quot;#Y&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;304.395911&quot; xlink:href=&quot;#M&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;306.208661&quot; xlink:href=&quot;#N&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;311.21475&quot; xlink:href=&quot;#Z&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;313.405669&quot; xlink:href=&quot;#aa&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;315.572568&quot; xlink:href=&quot;#ab&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;320.800755&quot; xlink:href=&quot;#o&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;324.876449&quot; xlink:href=&quot;#s&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;328.640023&quot; xlink:href=&quot;#x&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;331.077037&quot; xlink:href=&quot;#u&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;334.01226&quot; xlink:href=&quot;#D&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;338.081978&quot; xlink:href=&quot;#s&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;341.845552&quot; xlink:href=&quot;#x&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;344.342581&quot; xlink:href=&quot;#Q&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;347.187793&quot; xlink:href=&quot;#ac&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;351.497594&quot; xlink:href=&quot;#C&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;353.112279&quot; xlink:href=&quot;#p&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;356.647745&quot; xlink:href=&quot;#w&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;360.189211&quot; xlink:href=&quot;#u&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;363.124434&quot; xlink:href=&quot;#p&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;368.322602&quot; xlink:href=&quot;#E&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;370.651583&quot; xlink:href=&quot;#p&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;374.277084&quot; xlink:href=&quot;#G&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;376.257904&quot; xlink:href=&quot;#p&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;379.883427&quot; xlink:href=&quot;#E&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;383.863111&quot; xlink:href=&quot;#x&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;386.18607&quot; xlink:href=&quot;#s&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;391.522289&quot; xlink:href=&quot;#x&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;393.959302&quot; xlink:href=&quot;#o&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;398.034996&quot; xlink:href=&quot;#p&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;403.233186&quot; xlink:href=&quot;#v&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;406.558588&quot; xlink:href=&quot;#s&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;410.322163&quot; xlink:href=&quot;#C&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;411.936824&quot; xlink:href=&quot;#C&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;413.551485&quot; xlink:href=&quot;#p&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;417.176986&quot; xlink:href=&quot;#v&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;420.592422&quot; xlink:href=&quot;#x&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;423.029435&quot; xlink:href=&quot;#F&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;424.644097&quot; xlink:href=&quot;#s&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;428.407671&quot; xlink:href=&quot;#q&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;434.139404&quot; xlink:href=&quot;#q&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;438.215098&quot; xlink:href=&quot;#s&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;441.978673&quot; xlink:href=&quot;#x&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;444.415686&quot; xlink:href=&quot;#F&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;446.030358&quot; xlink:href=&quot;#v&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;449.355749&quot; xlink:href=&quot;#p&quot; y=&quot;722.553543&quot; /&gt;&lt;use x=&quot;36.015129&quot; xlink:href=&quot;#F&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;37.629802&quot; xlink:href=&quot;#q&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;43.266153&quot; xlink:href=&quot;#x&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;45.703166&quot; xlink:href=&quot;#o&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;49.77886&quot; xlink:href=&quot;#p&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;54.977028&quot; xlink:href=&quot;#w&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;58.518505&quot; xlink:href=&quot;#D&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;62.588212&quot; xlink:href=&quot;#D&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;68.230573&quot; xlink:href=&quot;#G&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;70.211394&quot; xlink:href=&quot;#s&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;73.974968&quot; xlink:href=&quot;#E&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;77.954629&quot; xlink:href=&quot;#H&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;84.335296&quot; xlink:href=&quot;#s&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;88.09887&quot; xlink:href=&quot;#E&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;90.42784&quot; xlink:href=&quot;#p&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;95.626008&quot; xlink:href=&quot;#F&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;97.240681&quot; xlink:href=&quot;#q&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;101.304376&quot; xlink:href=&quot;#G&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;103.285197&quot; xlink:href=&quot;#s&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;107.048771&quot; xlink:href=&quot;#E&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;109.407748&quot; xlink:href=&quot;#H&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;115.776417&quot; xlink:href=&quot;#w&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;119.317894&quot; xlink:href=&quot;#x&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;121.754907&quot; xlink:href=&quot;#F&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;123.36958&quot; xlink:href=&quot;#s&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;127.133155&quot; xlink:href=&quot;#q&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;131.19685&quot; xlink:href=&quot;#Q&quot; y=&quot;729.30638&quot; /&gt;&lt;use x=&quot;36.015129&quot; xlink:href=&quot;#R&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;39.460573&quot; xlink:href=&quot;#o&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;43.524268&quot; xlink:href=&quot;#F&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;45.138941&quot; xlink:href=&quot;#u&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;49.64682&quot; xlink:href=&quot;#y&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;54.682928&quot; xlink:href=&quot;#z&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;60.595404&quot; xlink:href=&quot;#v&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;63.920795&quot; xlink:href=&quot;#s&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;67.684369&quot; xlink:href=&quot;#A&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;71.754076&quot; xlink:href=&quot;#p&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;76.952243&quot; xlink:href=&quot;#F&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;78.566916&quot; xlink:href=&quot;#u&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;83.074795&quot; xlink:href=&quot;#G&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;85.055615&quot; xlink:href=&quot;#s&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;88.81919&quot; xlink:href=&quot;#E&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;143.706115&quot; xlink:href=&quot;#B&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;146.551304&quot; xlink:href=&quot;#C&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;148.165977&quot; xlink:href=&quot;#s&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;151.929551&quot; xlink:href=&quot;#v&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;155.308969&quot; xlink:href=&quot;#w&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;158.850446&quot; xlink:href=&quot;#x&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;161.173405&quot; xlink:href=&quot;#p&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;164.798917&quot; xlink:href=&quot;#A&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;170.438784&quot; xlink:href=&quot;#w&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;173.980261&quot; xlink:href=&quot;#x&quot; y=&quot;748.064259&quot; /&gt;&lt;use x=&quot;263.591668&quot; xlink:href=&quot;#Q&quot; y=&quot;748.064259&quot; /&gt;&lt;/g&gt;
&lt;g id=&quot;poster-community&quot;&gt;&lt;use x=&quot;152.32571&quot; xlink:href=&quot;#ad&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;169.617764&quot; xlink:href=&quot;#ae&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;179.481095&quot; xlink:href=&quot;#af&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;183.570002&quot; xlink:href=&quot;#ag&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;190.155959&quot; xlink:href=&quot;#ae&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;204.42034&quot; xlink:href=&quot;#ah&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;215.29809&quot; xlink:href=&quot;#ae&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;225.145816&quot; xlink:href=&quot;#ai&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;229.843381&quot; xlink:href=&quot;#aj&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;240.611896&quot; xlink:href=&quot;#ak&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;245.309461&quot; xlink:href=&quot;#al&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;256.18721&quot; xlink:href=&quot;#am&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;271.528452&quot; xlink:href=&quot;#an&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;281.469819&quot; xlink:href=&quot;#ae&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;291.317545&quot; xlink:href=&quot;#ae&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;301.165272&quot; xlink:href=&quot;#aj&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;316.350442&quot; xlink:href=&quot;#ao&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;326.57273&quot; xlink:href=&quot;#ap&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;337.294432&quot; xlink:href=&quot;#ag&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;348.43751&quot; xlink:href=&quot;#aq&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;357.551705&quot; xlink:href=&quot;#ao&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;367.773994&quot; xlink:href=&quot;#ar&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;384.145258&quot; xlink:href=&quot;#ar&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;400.516546&quot; xlink:href=&quot;#ap&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;411.238259&quot; xlink:href=&quot;#al&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;422.022391&quot; xlink:href=&quot;#ak&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;426.719967&quot; xlink:href=&quot;#as&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;433.352727&quot; xlink:href=&quot;#at&quot; y=&quot;243.10214&quot; /&gt;&lt;use x=&quot;132.325121&quot; xlink:href=&quot;#au&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;143.530618&quot; xlink:href=&quot;#av&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;156.343587&quot; xlink:href=&quot;#aw&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;167.751971&quot; xlink:href=&quot;#ax&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;172.870912&quot; xlink:href=&quot;#ay&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;190.17857&quot; xlink:href=&quot;#az&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;198.465651&quot; xlink:href=&quot;#aA&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;208.094887&quot; xlink:href=&quot;#aB&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;214.02536&quot; xlink:href=&quot;#ae&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;228.289741&quot; xlink:href=&quot;#aC&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;238.824149&quot; xlink:href=&quot;#at&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;252.573513&quot; xlink:href=&quot;#ag&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;259.15947&quot; xlink:href=&quot;#ae&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;269.007197&quot; xlink:href=&quot;#aq&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;278.121403&quot; xlink:href=&quot;#ao&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;288.343692&quot; xlink:href=&quot;#ag&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;294.92965&quot; xlink:href=&quot;#aD&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;305.729375&quot; xlink:href=&quot;#ak&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;310.42694&quot; xlink:href=&quot;#al&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;321.304689&quot; xlink:href=&quot;#am&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;336.645919&quot; xlink:href=&quot;#aq&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;345.760115&quot; xlink:href=&quot;#ao&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;355.982404&quot; xlink:href=&quot;#al&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;366.766513&quot; xlink:href=&quot;#as&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;373.555345&quot; xlink:href=&quot;#aA&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;383.278209&quot; xlink:href=&quot;#aq&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;392.626512&quot; xlink:href=&quot;#as&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;403.83201&quot; xlink:href=&quot;#aD&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;414.631735&quot; xlink:href=&quot;#ae&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;424.479462&quot; xlink:href=&quot;#as&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;431.268294&quot; xlink:href=&quot;#aA&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;440.897529&quot; xlink:href=&quot;#ak&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;445.595082&quot; xlink:href=&quot;#ai&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;450.292658&quot; xlink:href=&quot;#az&quot; y=&quot;261.860019&quot; /&gt;&lt;use x=&quot;458.579739&quot; xlink:href=&quot;#aE&quot; y=&quot;261.860019&quot; /&gt;&lt;/g&gt;&lt;path d=&quot;m280.002122 385.999217h233.995414v234.00062h-233.995414zm0 0&quot; fill=&quot;none&quot; stroke=&quot;#01a0d5&quot; stroke-width=&quot;16&quot; transform=&quot;matrix(.750315 0 0 .750315 0 .00002)&quot; /&gt;
&lt;g id=&quot;poster-check-in&quot; fill=&quot;#01a0d5&quot;&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;131.68031&quot; xlink:href=&quot;#aG&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;152.18309&quot; xlink:href=&quot;#aH&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;160.61388&quot; xlink:href=&quot;#aI&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;177.86757&quot; xlink:href=&quot;#aJ&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;195.14929&quot; xlink:href=&quot;#aK&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;210.0222&quot; xlink:href=&quot;#aI&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;235.62265&quot; xlink:href=&quot;#aL&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;252.06409&quot; xlink:href=&quot;#aM&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;271.58655&quot; xlink:href=&quot;#aI&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;289.26038&quot; xlink:href=&quot;#aL&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;305.70181&quot; xlink:href=&quot;#aN&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;332.11453&quot; xlink:href=&quot;#aO&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;340.54532&quot; xlink:href=&quot;#aP&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;367.82635&quot; xlink:href=&quot;#aQ&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;387.15274&quot; xlink:href=&quot;#aI&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;404.8266&quot; xlink:href=&quot;#aR&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;415.47009&quot; xlink:href=&quot;#aS&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;433.81616&quot; xlink:href=&quot;#aT&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;445.63605&quot; xlink:href=&quot;#aI&quot; y=&quot;174.82346&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;131.08241&quot; xlink:href=&quot;#aI&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;148.75626&quot; xlink:href=&quot;#aP&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;168.11066&quot; xlink:href=&quot;#aU&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;179.81851&quot; xlink:href=&quot;#aI&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;197.49236&quot; xlink:href=&quot;#aT&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;209.4523&quot; xlink:href=&quot;#aO&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;217.88309&quot; xlink:href=&quot;#aP&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;237.40553&quot; xlink:href=&quot;#aV&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;264.93863&quot; xlink:href=&quot;#aS&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;283.2847&quot; xlink:href=&quot;#aW&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;302.52707&quot; xlink:href=&quot;#aT&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;322.52567&quot; xlink:href=&quot;#aX&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;341.85205&quot; xlink:href=&quot;#aT&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;353.67194&quot; xlink:href=&quot;#aI&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;371.34579&quot; xlink:href=&quot;#aY&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;400.72754&quot; xlink:href=&quot;#aO&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;409.15833&quot; xlink:href=&quot;#aK&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;424.03122&quot; xlink:href=&quot;#aI&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;441.70508&quot; xlink:href=&quot;#aK&quot; y=&quot;204.83606&quot; /&gt;&lt;use height=&quot;100%&quot; width=&quot;100%&quot; x=&quot;456.57797&quot; xlink:href=&quot;#aZ&quot; y=&quot;204.83606&quot; /&gt;&lt;/g&gt;
&lt;g id=&quot;poster-easy&quot;&gt;&lt;use x=&quot;215.481142&quot; xlink:href=&quot;#ax&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;220.600083&quot; xlink:href=&quot;#as&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;227.388927&quot; xlink:href=&quot;#af&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;231.196911&quot; xlink:href=&quot;#az&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;243.900646&quot; xlink:href=&quot;#ae&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;253.514266&quot; xlink:href=&quot;#aA&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;263.143501&quot; xlink:href=&quot;#az&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;271.274511&quot; xlink:href=&quot;#at&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;285.023874&quot; xlink:href=&quot;#as&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;291.547401&quot; xlink:href=&quot;#ao&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;306.186344&quot; xlink:href=&quot;#aq&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;315.347376&quot; xlink:href=&quot;#ah&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;326.225126&quot; xlink:href=&quot;#ae&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;336.072853&quot; xlink:href=&quot;#aq&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;345.233886&quot; xlink:href=&quot;#an&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;359.950864&quot; xlink:href=&quot;#ak&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;364.648428&quot; xlink:href=&quot;#al&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;375.432549&quot; xlink:href=&quot;#aF&quot; y=&quot;504.211824&quot; /&gt;&lt;use x=&quot;126.615687&quot; xlink:href=&quot;#a0&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;134.737091&quot; xlink:href=&quot;#a1&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;142.171813&quot; xlink:href=&quot;#a2&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;149.963077&quot; xlink:href=&quot;#a3&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;162.363072&quot; xlink:href=&quot;#a4&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;167.724524&quot; xlink:href=&quot;#a5&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;176.691074&quot; xlink:href=&quot;#a6&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;188.127061&quot; xlink:href=&quot;#a7&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;199.206506&quot; xlink:href=&quot;#a8&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;212.213958&quot; xlink:href=&quot;#a1&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;219.529829&quot; xlink:href=&quot;#a9&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;227.809697&quot; xlink:href=&quot;#ba&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;236.763047&quot; xlink:href=&quot;#a6&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;248.199033&quot; xlink:href=&quot;#bb&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;259.806708&quot; xlink:href=&quot;#bc&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;263.358993&quot; xlink:href=&quot;#a4&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;268.720444&quot; xlink:href=&quot;#a5&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;281.12044&quot; xlink:href=&quot;#bd&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;288.079758&quot; xlink:href=&quot;#a9&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;296.359626&quot; xlink:href=&quot;#be&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;305.24695&quot; xlink:href=&quot;#bf&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;314.002211&quot; xlink:href=&quot;#bg&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;320.459735&quot; xlink:href=&quot;#bh&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;334.470808&quot; xlink:href=&quot;#a2&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;342.26206&quot; xlink:href=&quot;#bf&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;347.755564&quot; xlink:href=&quot;#a4&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;353.117015&quot; xlink:href=&quot;#bi&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;362.070354&quot; xlink:href=&quot;#a5&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;371.036904&quot; xlink:href=&quot;#a9&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;379.316772&quot; xlink:href=&quot;#a3&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;388.283323&quot; xlink:href=&quot;#a6&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;399.719332&quot; xlink:href=&quot;#a1&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;407.154066&quot; xlink:href=&quot;#a2&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;414.945318&quot; xlink:href=&quot;#bh&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;428.982815&quot; xlink:href=&quot;#a6&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;436.958944&quot; xlink:href=&quot;#bf&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;442.135496&quot; xlink:href=&quot;#a2&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;453.386606&quot; xlink:href=&quot;#a9&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;461.666474&quot; xlink:href=&quot;#bf&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;470.421747&quot; xlink:href=&quot;#a7&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;481.501192&quot; xlink:href=&quot;#a8&quot; y=&quot;538.726323&quot; /&gt;&lt;use x=&quot;126.615687&quot; xlink:href=&quot;#a1&quot; y=&quot;554.482942&quot; /&gt;&lt;use x=&quot;133.931558&quot; xlink:href=&quot;#a9&quot; y=&quot;554.482942&quot; /&gt;&lt;use x=&quot;142.211426&quot; xlink:href=&quot;#ba&quot; y=&quot;554.482942&quot; /&gt;&lt;use x=&quot;151.164776&quot; xlink:href=&quot;#a6&quot; y=&quot;554.482942&quot; /&gt;&lt;use x=&quot;162.600763&quot; xlink:href=&quot;#bf&quot; y=&quot;554.482942&quot; /&gt;&lt;use x=&quot;167.724501&quot; xlink:href=&quot;#a6&quot; y=&quot;554.482942&quot; /&gt;&lt;use x=&quot;175.502553&quot; xlink:href=&quot;#a2&quot; y=&quot;554.482942&quot; /&gt;&lt;use x=&quot;183.320217&quot; xlink:href=&quot;#ba&quot; y=&quot;554.482942&quot; /&gt;&lt;use x=&quot;192.273567&quot; xlink:href=&quot;#a6&quot; y=&quot;554.482942&quot; /&gt;&lt;use x=&quot;200.249707&quot; xlink:href=&quot;#bf&quot; y=&quot;554.482942&quot; /&gt;&lt;use x=&quot;205.413059&quot; xlink:href=&quot;#bj&quot; y=&quot;554.482942&quot; /&gt;&lt;path d=&quot;m90.414062 535.726562v-.75c0-.816406.074219-1.621093.222657-2.417968.148437-.796875.371093-1.570313.660156-2.320313.292969-.753906.652344-1.464843 1.074219-2.140625.425781-.675781.910156-1.300781 1.449218-1.878906.539063-.574219 1.125-1.085938 1.761719-1.539062.632813-.449219 1.304688-.832032 2.011719-1.144532.703125-.308594 1.429688-.542968 2.179688-.703125.75-.160156 1.503906-.238281 2.269531-.238281.761719 0 1.519531.078125 2.269531.238281.75.160157 1.476562.394531 2.179688.703125.707031.3125 1.375.695313 2.011718 1.144532.636719.453124 1.222656.964843 1.761719 1.539062.539063.578125 1.023437 1.203125 1.445313 1.878906.425781.675782.785156 1.386719 1.078124 2.140625.289063.75.511719 1.523438.660157 2.320313.148437.796875.222656 1.601562.222656 2.417968v.75c0 .8125-.074219 1.617188-.222656 2.414063-.148438.796875-.371094 1.570313-.660157 2.320313-.292968.753906-.652343 1.464843-1.078124 2.140624-.421876.675782-.90625 1.304688-1.445313 1.878907s-1.125 1.085937-1.761719 1.539062c-.636718.449219-1.304687.832031-2.011718 1.144531-.703126.308594-1.429688.542969-2.179688.703126-.75.160156-1.507812.238281-2.269531.238281-.765625 0-1.519531-.078125-2.269531-.238281-.75-.160157-1.476563-.394532-2.179688-.703126-.707031-.3125-1.378906-.695312-2.011719-1.144531-.636719-.453125-1.222656-.964843-1.761719-1.539062-.539062-.574219-1.023437-1.203125-1.449218-1.878907-.421875-.675781-.78125-1.386718-1.074219-2.140624-.289063-.75-.511719-1.523438-.660156-2.320313-.148438-.796875-.222657-1.601563-.222657-2.414063zm0 0&quot; fill=&quot;#fff&quot; /&gt;&lt;path d=&quot;m89.289062 535.726562v-.75c0-.886718.082032-1.765624.242188-2.636718.164062-.871094.40625-1.714844.726562-2.535156.320313-.816407.714844-1.597657 1.179688-2.332032.464844-.738281.992188-1.421875 1.585938-2.046875.59375-.628906 1.238281-1.1875 1.933593-1.679687.695313-.492188 1.429688-.910156 2.203125-1.25.773438-.339844 1.574219-.59375 2.394532-.765625.820312-.175781 1.652343-.261719 2.488281-.261719.835937 0 1.667969.085938 2.488281.261719.820312.171875 1.617188.425781 2.394531.765625.773438.339844 1.507813.757812 2.203125 1.25.695313.492187 1.339844 1.050781 1.933594 1.679687.59375.625 1.121094 1.308594 1.585938 2.046875.464843.734375.859374 1.515625 1.179687 2.332032.320313.820312.5625 1.664062.726563 2.535156.160156.871094.242187 1.75.242187 2.636718v.75c0 .886719-.082031 1.761719-.242187 2.632813-.164063.871094-.40625 1.714844-.726563 2.535156-.320313.816407-.714844 1.597657-1.179687 2.332031-.464844.738282-.992188 1.421876-1.585938 2.046876-.59375.628906-1.238281 1.1875-1.933594 1.679687-.695312.492187-1.429687.910156-2.203125 1.25-.777343.339844-1.574219.59375-2.394531.769531-.820312.171875-1.652344.257813-2.488281.257813-.835938 0-1.667969-.085938-2.488281-.257813-.820313-.175781-1.621094-.429687-2.394532-.769531-.773437-.339844-1.507812-.757813-2.203125-1.25-.695312-.492187-1.339843-1.050781-1.933593-1.679687-.59375-.625-1.121094-1.308594-1.585938-2.046876-.464844-.734374-.859375-1.515624-1.179688-2.332031-.320312-.820312-.5625-1.664062-.726562-2.535156-.160156-.871094-.242188-1.746094-.242188-2.632813zm2.25 0v-.75c0-.742187.066407-1.472656.203126-2.199218.132812-.722656.332031-1.425782.597656-2.109375.261718-.683594.585937-1.332031.96875-1.945313.382812-.617187.820312-1.183594 1.304687-1.707031.488281-.523437 1.019531-.988281 1.59375-1.398437.574219-.410157 1.179688-.757813 1.816407-1.039063.636718-.285156 1.292968-.496094 1.96875-.640625.679687-.144531 1.359374-.21875 2.050781-.21875.691406 0 1.371093.074219 2.050781.21875.675781.144531 1.332031.355469 1.96875.640625.636719.28125 1.242188.628906 1.816406 1.039063.574219.410156 1.105469.875 1.589844 1.398437.488281.523437.925781 1.089844 1.308594 1.707031.382812.613282.707031 1.261719.96875 1.945313.265625.683593.464844 1.386719.597656 2.109375.136719.726562.203125 1.457031.203125 2.199218v.75c0 .738282-.066406 1.46875-.203125 2.195313-.132812.722656-.332031 1.425781-.597656 2.109375-.261719.683594-.585938 1.332031-.96875 1.945312-.382813.617188-.820313 1.183594-1.308594 1.707032-.484375.523437-1.015625.988281-1.589844 1.398437-.574218.410157-1.179687.757813-1.816406 1.039063-.636719.285156-1.292969.5-1.96875.640625-.679688.144531-1.359375.21875-2.050781.21875-.691407 0-1.371094-.074219-2.050781-.21875-.675782-.140625-1.332032-.355469-1.96875-.640625-.636719-.28125-1.242188-.628906-1.816407-1.039063-.574219-.410156-1.105469-.875-1.59375-1.398437-.484375-.523438-.921875-1.089844-1.304687-1.707032-.382813-.613281-.707032-1.261718-.96875-1.945312-.265625-.683594-.464844-1.386719-.597656-2.109375-.136719-.726563-.203126-1.457031-.203126-2.195313zm0 0&quot; fill=&quot;#01a0d5&quot; fill-rule=&quot;evenodd&quot; /&gt;&lt;use fill=&quot;#ababab&quot; x=&quot;99.487104&quot; xlink:href=&quot;#bt&quot; y=&quot;540.226953&quot; /&gt;&lt;use x=&quot;126.615687&quot; xlink:href=&quot;#bk&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;134.737091&quot; xlink:href=&quot;#a9&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;143.01696&quot; xlink:href=&quot;#bl&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;146.569245&quot; xlink:href=&quot;#bl&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;150.121529&quot; xlink:href=&quot;#a9&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;158.203309&quot; xlink:href=&quot;#bb&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;173.27083&quot; xlink:href=&quot;#a4&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;178.632281&quot; xlink:href=&quot;#a5&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;187.598832&quot; xlink:href=&quot;#a6&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;199.034819&quot; xlink:href=&quot;#bi&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;207.988168&quot; xlink:href=&quot;#bf&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;213.111907&quot; xlink:href=&quot;#a9&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;221.391775&quot; xlink:href=&quot;#bh&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;235.40286&quot; xlink:href=&quot;#bi&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;244.356209&quot; xlink:href=&quot;#a4&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;249.717661&quot; xlink:href=&quot;#bg&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;259.63502&quot; xlink:href=&quot;#a9&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;267.914888&quot; xlink:href=&quot;#a3&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;280.314884&quot; xlink:href=&quot;#a4&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;285.676336&quot; xlink:href=&quot;#a5&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;294.642886&quot; xlink:href=&quot;#a6&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;306.078873&quot; xlink:href=&quot;#a0&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;314.200277&quot; xlink:href=&quot;#a6&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;322.176429&quot; xlink:href=&quot;#bf&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;327.669932&quot; xlink:href=&quot;#bm&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;334.827327&quot; xlink:href=&quot;#bc&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;338.3796&quot; xlink:href=&quot;#a1&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;345.695471&quot; xlink:href=&quot;#a6&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;357.131481&quot; xlink:href=&quot;#bn&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;367.867573&quot; xlink:href=&quot;#a0&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;375.988966&quot; xlink:href=&quot;#bo&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;394.120179&quot; xlink:href=&quot;#a2&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;401.911431&quot; xlink:href=&quot;#bi&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;410.864792&quot; xlink:href=&quot;#bi&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;423.278011&quot; xlink:href=&quot;#a9&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;431.557879&quot; xlink:href=&quot;#bf&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;440.313152&quot; xlink:href=&quot;#a9&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;448.59302&quot; xlink:href=&quot;#a3&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;460.993027&quot; xlink:href=&quot;#a4&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;466.354479&quot; xlink:href=&quot;#a5&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;475.321029&quot; xlink:href=&quot;#a6&quot; y=&quot;588.247125&quot; /&gt;&lt;use x=&quot;126.615687&quot; xlink:href=&quot;#a0&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;134.737091&quot; xlink:href=&quot;#a6&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;142.713232&quot; xlink:href=&quot;#bf&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;148.206724&quot; xlink:href=&quot;#bm&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;155.36413&quot; xlink:href=&quot;#bc&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;158.916415&quot; xlink:href=&quot;#a1&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;166.232286&quot; xlink:href=&quot;#a6&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;177.668273&quot; xlink:href=&quot;#bn&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;188.404377&quot; xlink:href=&quot;#a0&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;196.525781&quot; xlink:href=&quot;#bo&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;214.656982&quot; xlink:href=&quot;#bb&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;226.066567&quot; xlink:href=&quot;#a6&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;234.042708&quot; xlink:href=&quot;#bp&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;242.996057&quot; xlink:href=&quot;#bq&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;247.353876&quot; xlink:href=&quot;#a9&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;255.633744&quot; xlink:href=&quot;#bf&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;260.823508&quot; xlink:href=&quot;#bh&quot; y=&quot;604.003744&quot; /&gt;&lt;use x=&quot;274.834593&quot; xlink:href=&quot;#bj&quot; y=&quot;604.003744&quot; /&gt;&lt;path d=&quot;m90.414062 585.246094v-.75c0-.8125.074219-1.617188.222657-2.414063.148437-.800781.371093-1.574219.660156-2.324219.292969-.75.652344-1.464843 1.074219-2.140624.425781-.675782.910156-1.300782 1.449218-1.875.539063-.574219 1.125-1.089844 1.761719-1.539063.632813-.453125 1.304688-.835937 2.011719-1.144531.703125-.3125 1.429688-.546875 2.179688-.707032.75-.15625 1.503906-.234374 2.269531-.234374.761719 0 1.519531.078124 2.269531.234374.75.160157 1.476562.394532 2.179688.707032.707031.308594 1.375.691406 2.011718 1.144531.636719.449219 1.222656.964844 1.761719 1.539063.539063.574218 1.023437 1.199218 1.445313 1.875.425781.675781.785156 1.390624 1.078124 2.140624.289063.75.511719 1.523438.660157 2.324219.148437.796875.222656 1.601563.222656 2.414063v.75c0 .8125-.074219 1.617187-.222656 2.414062-.148438.796875-.371094 1.574219-.660157 2.324219-.292968.75-.652343 1.464844-1.078124 2.140625-.421876.675781-.90625 1.300781-1.445313 1.875s-1.125 1.089844-1.761719 1.539062c-.636718.453126-1.304687.832032-2.011718 1.144532-.703126.3125-1.429688.546875-2.179688.703125-.75.160156-1.507812.238281-2.269531.238281-.765625 0-1.519531-.078125-2.269531-.238281-.75-.15625-1.476563-.390625-2.179688-.703125-.707031-.3125-1.378906-.691406-2.011719-1.144532-.636719-.449218-1.222656-.964843-1.761719-1.539062-.539062-.574219-1.023437-1.199219-1.449218-1.875-.421875-.675781-.78125-1.390625-1.074219-2.140625-.289063-.75-.511719-1.527344-.660156-2.324219-.148438-.796875-.222657-1.601562-.222657-2.414062zm0 0&quot; fill=&quot;#fff&quot; /&gt;&lt;path d=&quot;m89.289062 585.246094v-.75c0-.886719.082032-1.765625.242188-2.636719.164062-.867187.40625-1.714844.726562-2.53125.320313-.820313.714844-1.597656 1.179688-2.335937.464844-.738282.992188-1.417969 1.585938-2.046876.59375-.625 1.238281-1.1875 1.933593-1.679687.695313-.492187 1.429688-.910156 2.203125-1.246094.773438-.339843 1.574219-.597656 2.394532-.769531.820312-.171875 1.652343-.261719 2.488281-.261719.835937 0 1.667969.089844 2.488281.261719s1.617188.429688 2.394531.769531c.773438.335938 1.507813.753907 2.203125 1.246094.695313.492187 1.339844 1.054687 1.933594 1.679687.59375.628907 1.121094 1.308594 1.585938 2.046876.464843.738281.859374 1.515624 1.179687 2.335937.320313.816406.5625 1.664063.726563 2.53125.160156.871094.242187 1.75.242187 2.636719v.75c0 .886718-.082031 1.765625-.242187 2.632812-.164063.871094-.40625 1.714844-.726563 2.535156-.320313.820313-.714844 1.597657-1.179687 2.335938-.464844.738281-.992188 1.417969-1.585938 2.046875-.59375.625-1.238281 1.1875-1.933594 1.679687-.695312.492188-1.429687.90625-2.203125 1.246094-.777343.339844-1.574219.597656-2.394531.769532-.820312.171874-1.652344.257812-2.488281.257812-.835938 0-1.667969-.085938-2.488281-.257812-.820313-.171876-1.621094-.429688-2.394532-.769532-.773437-.339844-1.507812-.753906-2.203125-1.246094-.695312-.492187-1.339843-1.054687-1.933593-1.679687-.59375-.628906-1.121094-1.308594-1.585938-2.046875s-.859375-1.515625-1.179688-2.335938c-.320312-.820312-.5625-1.664062-.726562-2.535156-.160156-.867187-.242188-1.746094-.242188-2.632812zm2.25 0v-.75c0-.738282.066407-1.472656.203126-2.195313.132812-.726562.332031-1.429687.597656-2.113281.261718-.683594.585937-1.332031.96875-1.945312.382812-.613282.820312-1.183594 1.304687-1.703126.488281-.523437 1.019531-.992187 1.59375-1.402343.574219-.410157 1.179688-.757813 1.816407-1.039063.636718-.28125 1.292968-.496094 1.96875-.640625.679687-.144531 1.359374-.214843 2.050781-.214843.691406 0 1.371093.070312 2.050781.214843.675781.144531 1.332031.359375 1.96875.640625s1.242188.628906 1.816406 1.039063c.574219.410156 1.105469.878906 1.589844 1.402343.488281.519532.925781 1.089844 1.308594 1.703126.382812.613281.707031 1.261718.96875 1.945312.265625.683594.464844 1.386719.597656 2.113281.136719.722657.203125 1.457031.203125 2.195313v.75c0 .738281-.066406 1.46875-.203125 2.195312-.132812.726563-.332031 1.429688-.597656 2.113282-.261719.679687-.585938 1.328124-.96875 1.945312-.382813.613281-.820313 1.179688-1.308594 1.703125-.484375.523437-1.015625.988281-1.589844 1.402344-.574218.410156-1.179687.753906-1.816406 1.039062-.636719.28125-1.292969.496094-1.96875.640625-.679688.144532-1.359375.214844-2.050781.214844-.691407 0-1.371094-.070312-2.050781-.214844-.675782-.144531-1.332032-.359375-1.96875-.640625-.636719-.285156-1.242188-.628906-1.816407-1.039062-.574219-.414063-1.105469-.878907-1.59375-1.402344-.484375-.523437-.921875-1.089844-1.304687-1.703125-.382813-.617188-.707032-1.265625-.96875-1.945312-.265625-.683594-.464844-1.386719-.597656-2.113282-.136719-.726562-.203126-1.457031-.203126-2.195312zm0 0&quot; fill=&quot;#01a0d5&quot; fill-rule=&quot;evenodd&quot; /&gt;&lt;use fill=&quot;#ababab&quot; x=&quot;98.162329&quot; xlink:href=&quot;#bu&quot; y=&quot;589.747755&quot; /&gt;&lt;use x=&quot;126.615687&quot; xlink:href=&quot;#a0&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;134.737091&quot; xlink:href=&quot;#a5&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;143.703642&quot; xlink:href=&quot;#a9&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;151.785421&quot; xlink:href=&quot;#bb&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;166.852942&quot; xlink:href=&quot;#a2&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;178.104052&quot; xlink:href=&quot;#bg&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;184.561565&quot; xlink:href=&quot;#a4&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;189.923017&quot; xlink:href=&quot;#a2&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;197.714279&quot; xlink:href=&quot;#bq&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;202.190948&quot; xlink:href=&quot;#bq&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;210.127464&quot; xlink:href=&quot;#bh&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;224.16495&quot; xlink:href=&quot;#a6&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;232.141091&quot; xlink:href=&quot;#bh&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;246.152176&quot; xlink:href=&quot;#bp&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;255.105525&quot; xlink:href=&quot;#a6&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;263.081666&quot; xlink:href=&quot;#bf&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;271.836926&quot; xlink:href=&quot;#a4&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;277.198378&quot; xlink:href=&quot;#a5&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;286.138527&quot; xlink:href=&quot;#a2&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;293.929791&quot; xlink:href=&quot;#a4&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;302.751089&quot; xlink:href=&quot;#bd&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;309.710407&quot; xlink:href=&quot;#a9&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;317.990275&quot; xlink:href=&quot;#be&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;326.877599&quot; xlink:href=&quot;#br&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;329.914855&quot; xlink:href=&quot;#bm&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;336.874161&quot; xlink:href=&quot;#a6&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;348.310148&quot; xlink:href=&quot;#bg&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;354.767649&quot; xlink:href=&quot;#bc&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;358.319922&quot; xlink:href=&quot;#bs&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;367.378934&quot; xlink:href=&quot;#a3&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;376.345484&quot; xlink:href=&quot;#a6&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;384.321613&quot; xlink:href=&quot;#ba&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;396.734832&quot; xlink:href=&quot;#bc&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;400.287106&quot; xlink:href=&quot;#a3&quot; y=&quot;637.767927&quot; /&gt;&lt;use x=&quot;409.227255&quot; xlink:href=&quot;#bj&quot; y=&quot;637.767927&quot; /&gt;&lt;path d=&quot;m90.414062 634.765625v-.75c0-.8125.074219-1.617187.222657-2.414063.148437-.796874.371093-1.570312.660156-2.324218.292969-.75.652344-1.464844 1.074219-2.140625.425781-.675781.910156-1.300781 1.449218-1.875.539063-.574219 1.125-1.085938 1.761719-1.539063.632813-.453125 1.304688-.832031 2.011719-1.144531.703125-.3125 1.429688-.546875 2.179688-.703125.75-.160156 1.503906-.238281 2.269531-.238281.761719 0 1.519531.078125 2.269531.238281.75.15625 1.476562.390625 2.179688.703125.707031.3125 1.375.691406 2.011718 1.144531.636719.453125 1.222656.964844 1.761719 1.539063s1.023437 1.199219 1.445313 1.875c.425781.675781.785156 1.390625 1.078124 2.140625.289063.753906.511719 1.527344.660157 2.324218.148437.796876.222656 1.601563.222656 2.414063v.75c0 .8125-.074219 1.617187-.222656 2.417969-.148438.796875-.371094 1.570312-.660157 2.320312-.292968.75-.652343 1.464844-1.078124 2.140625-.421876.675781-.90625 1.300781-1.445313 1.875s-1.125 1.089844-1.761719 1.539063c-.636718.453125-1.304687.835937-2.011718 1.144531-.703126.3125-1.429688.546875-2.179688.707031-.75.15625-1.507812.238282-2.269531.238282-.765625 0-1.519531-.082032-2.269531-.238282-.75-.160156-1.476563-.394531-2.179688-.707031-.707031-.308594-1.378906-.691406-2.011719-1.144531-.636719-.449219-1.222656-.964844-1.761719-1.539063-.539062-.574219-1.023437-1.199219-1.449218-1.875-.421875-.675781-.78125-1.390625-1.074219-2.140625-.289063-.75-.511719-1.523437-.660156-2.320312-.148438-.800782-.222657-1.605469-.222657-2.417969zm0 0&quot; fill=&quot;#fff&quot; /&gt;&lt;path d=&quot;m89.289062 634.765625v-.75c0-.886719.082032-1.765625.242188-2.632813.164062-.871093.40625-1.714843.726562-2.535156.320313-.820312.714844-1.597656 1.179688-2.335937.464844-.734375.992188-1.417969 1.585938-2.046875.59375-.625 1.238281-1.183594 1.933593-1.679688.695313-.492187 1.429688-.90625 2.203125-1.246094.773438-.339843 1.574219-.597656 2.394532-.769531.820312-.171875 1.652343-.257812 2.488281-.257812.835937 0 1.667969.085937 2.488281.257812s1.617188.429688 2.394531.769531c.773438.339844 1.507813.753907 2.203125 1.246094.695313.496094 1.339844 1.054688 1.933594 1.679688.59375.628906 1.121094 1.3125 1.585938 2.046875.464843.738281.859374 1.515625 1.179687 2.335937.320313.820313.5625 1.664063.726563 2.535156.160156.867188.242187 1.746094.242187 2.632813v.75c0 .886719-.082031 1.765625-.242187 2.636719-.164063.867187-.40625 1.714844-.726563 2.53125-.320313.820312-.714844 1.597656-1.179687 2.335937-.464844.738281-.992188 1.421875-1.585938 2.046875-.59375.628906-1.238281 1.1875-1.933594 1.679688-.695312.492187-1.429687.910156-2.203125 1.246094-.777343.339843-1.574219.597656-2.394531.769531-.820312.175781-1.652344.261719-2.488281.261719-.835938 0-1.667969-.085938-2.488281-.261719-.820313-.171875-1.621094-.429688-2.394532-.769531-.773437-.335938-1.507812-.753907-2.203125-1.246094-.695312-.492188-1.339843-1.050782-1.933593-1.679688-.59375-.625-1.121094-1.308594-1.585938-2.046875s-.859375-1.515625-1.179688-2.335937c-.320312-.816406-.5625-1.664063-.726562-2.53125-.160156-.871094-.242188-1.75-.242188-2.636719zm2.25 0v-.75c0-.738281.066407-1.46875.203126-2.195313.132812-.722656.332031-1.429687.597656-2.109374.261718-.683594.585937-1.332032.96875-1.949219.382812-.613281.820312-1.179688 1.304687-1.703125.488281-.523438 1.019531-.988282 1.59375-1.398438.574219-.414062 1.179688-.757812 1.816407-1.042968.636718-.28125 1.292968-.496094 1.96875-.640626.679687-.144531 1.359374-.214843 2.050781-.214843.691406 0 1.371093.070312 2.050781.214843.675781.144532 1.332031.359376 1.96875.640626.636719.285156 1.242188.628906 1.816406 1.042968.574219.410156 1.105469.875 1.589844 1.398438.488281.523437.925781 1.089844 1.308594 1.703125.382812.617187.707031 1.265625.96875 1.949219.265625.679687.464844 1.386718.597656 2.109374.136719.726563.203125 1.457032.203125 2.195313v.75c0 .738281-.066406 1.472656-.203125 2.195313-.132812.726562-.332031 1.429687-.597656 2.113281-.261719.683593-.585938 1.332031-.96875 1.945312-.382813.613281-.820313 1.183594-1.308594 1.707031-.484375.519532-1.015625.988282-1.589844 1.398438-.574218.410156-1.179687.757812-1.816406 1.039062-.636719.285157-1.292969.496094-1.96875.640626-.679688.144531-1.359375.214843-2.050781.214843-.691407 0-1.371094-.070312-2.050781-.214843-.675782-.144532-1.332032-.355469-1.96875-.640626-.636719-.28125-1.242188-.628906-1.816407-1.039062s-1.105469-.878906-1.59375-1.398438c-.484375-.523437-.921875-1.09375-1.304687-1.707031-.382813-.613281-.707032-1.261719-.96875-1.945312-.265625-.683594-.464844-1.386719-.597656-2.113281-.136719-.722657-.203126-1.457032-.203126-2.195313zm0 0&quot; fill=&quot;#01a0d5&quot; fill-rule=&quot;evenodd&quot; /&gt;&lt;use fill=&quot;#ababab&quot; x=&quot;98.162329&quot; xlink:href=&quot;#bv&quot; y=&quot;639.268557&quot; /&gt;&lt;/g&gt;

    &lt;g id=&quot;qr-code-v13-Q-original&quot; transform=&quot;scale(14.4927536232)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;69&quot; width=&quot;69&quot; /&gt;&lt;path d=&quot;m67 59v1h1v-1zm-8-4v1h1v-1zm-9-49v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm-14 65v1h1v-1zm-20-58v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-5 34v1h1v-1zm15 16v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm53 12v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm-34 7v1h1v-1zm32 32v1h1v-1zm1-35v1h1v-1zm15 16v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm11 46v1h1v-1zm20-22v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm-5 34v1h1v-1zm19 13v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-37-31v1h1v-1zm-1 41v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm11 46v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm52 47v1h1v-1zm-7-39v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-7-39v1h1v-1zm-31 49v1h1v-1zm32-48v1h1v-1zm11 9v1h1v-1zm-50-1v1h1v-1zm52 47v1h1v-1zm-20-58v1h1v-1zm-10 35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm66-18v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm56 17v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-49-5v1h1v-1zm-1 4v1h1v-1zm65 17v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm33-3v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm32 32v1h1v-1zm-21-23v1h1v-1zm-42 3v1h1v-1zm1-35v1h1v-1zm57 13v1h1v-1zm-5 34v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm-28 18v1h1v-1zm51 2v1h1v-1zm-42 3v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm58-22v1h1v-1zm-54-8v1h1v-1zm12 11v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm40 36v1h1v-1zm-34 7v1h1v-1zm25-56v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm52 47v1h1v-1zm-28-19v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm39-9v1h1v-1zm-7-39v1h1v-1zm-28 18v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm-42 3v1h1v-1zm66-18v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm41 1v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm-21 26v1h1v-1zm32-11v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-62 25v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm31 24v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-9 37v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm40 36v1h1v-1zm12-26v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm13-61v1h1v-1zm11 46v1h1v-1zm20-22v1h1v-1zm-62 25v1h1v-1zm19 13v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm10 50v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-30 8v1h1v-1zm-13 30v1h1v-1zm25-56v1h1v-1zm40 36v1h1v-1zm-22 18v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm11 9v1h1v-1zm30 28v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-3 31v1h1v-1zm-28 18v1h1v-1zm21-57v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-61-10v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm44 43v1h1v-1zm-42 3v1h1v-1zm-21-23v1h1v-1zm60 14v1h1v-1zm-48-40v1h1v-1zm-8-4v1h1v-1zm60 14v1h1v-1zm-21-23v1h1v-1zm-33 52v1h1v-1zm24-15v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-7-39v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm33 34v1h1v-1zm-29-64v1h1v-1zm-22 18v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-13 30v1h1v-1zm25-56v1h1v-1zm-8-4v1h1v-1zm18 54v1h1v-1zm19 13v1h1v-1zm-26-52v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-28 18v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm19 50v1h1v-1zm33-3v1h1v-1zm-49-42v1h1v-1zm19 50v1h1v-1zm-1 4v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm18 54v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-35-21v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm12 11v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm12-26v1h1v-1zm6 43v1h1v-1zm-48-40v1h1v-1zm60 51v1h1v-1zm-49-42v1h1v-1zm-1 41v1h1v-1zm46-33v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm31-13v1h1v-1zm-54 29v1h1v-1zm15 16v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-5 34v1h1v-1zm-49-5v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm10 50v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-7-39v1h1v-1zm-35 42v1h1v-1zm25-56v1h1v-1zm33 34v1h1v-1zm-23 16v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm12-26v1h1v-1zm-62 25v1h1v-1zm20-22v1h1v-1zm45 8v1h1v-1zm-30 8v1h1v-1zm-5 34v1h1v-1zm25-56v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-28-62v1h1v-1zm3 5v1h1v-1zm41 38v1h1v-1zm4-30v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-50-1v1h1v-1zm60 51v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm12-26v1h1v-1zm24-21v1h1v-1zm-34 7v1h1v-1zm33-3v1h1v-1zm11 46v1h1v-1zm-53-6v1h1v-1zm3 5v1h1v-1zm13-61v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm53 12v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-37-31v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm52 47v1h1v-1zm12-26v1h1v-1zm-34 7v1h1v-1zm-28 18v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm12 11v1h1v-1zm-1 4v1h1v-1zm-30 8v1h1v-1zm-7-39v1h1v-1zm40 36v1h1v-1zm-55-16v1h1v-1zm4-30v1h1v-1zm52 47v1h1v-1zm-58-5v1h1v-1zm39-9v1h1v-1zm-29-27v1h1v-1zm-13 30v1h1v-1zm46-33v1h1v-1zm-34 44v1h1v-1zm46-33v1h1v-1zm-2 39v1h1v-1zm-21-23v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm-5 7v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm19 13v1h1v-1zm17-60v1h1v-1zm-34 7v1h1v-1zm41 1v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-23 53v1h1v-1zm-16-8v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm18 54v1h1v-1zm12-26v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-20-58v1h1v-1zm32 32v1h1v-1zm-55-16v1h1v-1zm56 17v1h1v-1zm-8-4v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-26-52v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-1 41v1h1v-1zm-21-23v1h1v-1zm4-30v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm32 32v1h1v-1zm-53-6v1h1v-1zm-10-14v1h1v-1zm13 19v1h1v-1zm20 15v1h1v-1zm23-17v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-15 20v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-31 49v1h1v-1zm1-35v1h1v-1zm12 54v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm-9-49v1h1v-1zm33 34v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm33-3v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm4-30v1h1v-1zm11 46v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm60 14v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm44 43v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm65-20v1h1v-1zm-61-10v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm12-26v1h1v-1zm20 15v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm10 50v1h1v-1zm-28-62v1h1v-1zm12 54v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-62 25v1h1v-1zm65-20v1h1v-1zm-42 3v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-16-8v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm18 48v1h1v-1zm12-26v1h1v-1zm-9 37v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm-29-27v1h1v-1zm40 36v1h1v-1zm20-22v1h1v-1zm-62 25v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm52 47v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-1 41v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm60 14v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm12-26v1h1v-1zm-23 53v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm21-57v1h1v-1zm-8-4v1h1v-1zm-55 64v1h1v-1zm20-22v1h1v-1zm45 8v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-2 39v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-30 8v1h1v-1zm12-26v1h1v-1zm-9 37v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-29-27v1h1v-1zm40 36v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-53-6v1h1v-1zm19 13v1h1v-1zm3 42v1h1v-1zm13-61v1h1v-1zm-14 65v1h1v-1zm25-56v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm41 38v1h1v-1zm-49-42v1h1v-1zm41 38v1h1v-1zm-42 3v1h1v-1zm24-52v1h1v-1zm-35 42v1h1v-1zm38-37v1h1v-1zm-34 7v1h1v-1zm11 46v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm-7-39v1h1v-1zm6 43v1h1v-1zm12-26v1h1v-1zm-29-27v1h1v-1zm33 34v1h1v-1zm-42 3v1h1v-1zm46-33v1h1v-1zm-8 59v1h1v-1zm-27-17v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-31 49v1h1v-1zm11 9v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-62 25v1h1v-1zm20-22v1h1v-1zm-9 37v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-30 8v1h1v-1zm41 38v1h1v-1zm-54-8v1h1v-1zm12 11v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm39-9v1h1v-1zm-54 29v1h1v-1zm38-37v1h1v-1zm-34 7v1h1v-1zm44 43v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm-5 34v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm4-30v1h1v-1zm12 11v1h1v-1zm-43 38v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm4 7v1h1v-1zm53-25v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-46 33v1h1v-1zm25-56v1h1v-1zm-2 39v1h1v-1zm12-26v1h1v-1zm11 46v1h1v-1zm-22-19v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm10 50v1h1v-1zm25-56v1h1v-1zm-54 29v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm-9 31v1h1v-1zm-20-58v1h1v-1zm52 47v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm-23 16v1h1v-1zm46-33v1h1v-1zm20 15v1h1v-1zm-62-12v1h1v-1zm41 38v1h1v-1zm-29-27v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm59 49v1h1v-1zm-20-58v1h1v-1zm-8-4v1h1v-1zm-14 65v1h1v-1zm32-11v1h1v-1zm4-30v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm24-52v1h1v-1zm31 24v1h1v-1zm-54 29v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-9 37v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm-7-39v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm12 11v1h1v-1zm12-26v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm11 15v1h1v-1zm31-13v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm12 11v1h1v-1zm23-17v1h1v-1zm1-35v1h1v-1zm-51 34v1h1v-1zm19 13v1h1v-1zm-26-52v1h1v-1zm39-9v1h1v-1zm-39 45v1h1v-1zm20-22v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm16-19v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm11 9v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm31 24v1h1v-1zm-34 7v1h1v-1zm13 19v1h1v-1zm27 17v1h1v-1zm-7-39v1h1v-1zm-21-23v1h1v-1zm12 54v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-42 3v1h1v-1zm-21-23v1h1v-1zm33 34v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm-55 64v1h1v-1zm24-52v1h1v-1zm3 5v1h1v-1zm20 15v1h1v-1zm12-26v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm18 54v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-27-17v1h1v-1zm31-13v1h1v-1zm-54 29v1h1v-1zm12-26v1h1v-1zm20 15v1h1v-1zm-28-19v1h1v-1zm32-11v1h1v-1zm11 9v1h1v-1zm-53-6v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-9 31v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm33 34v1h1v-1zm-42 3v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm-49-5v1h1v-1zm6 43v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm15 16v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm19 13v1h1v-1zm-53-6v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm45 8v1h1v-1zm-3-6v1h1v-1zm-54 29v1h1v-1zm38-37v1h1v-1zm12-26v1h1v-1zm-15 57v1h1v-1zm12-26v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm46-33v1h1v-1zm-53-6v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm41 38v1h1v-1zm-23 16v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm11 46v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm32-11v1h1v-1zm-22 61v1h1v-1zm-21-23v1h1v-1zm12-26v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-30 8v1h1v-1zm41 38v1h1v-1zm4-30v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm19-50v1h1v-1zm29 63v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm-5 34v1h1v-1zm-29-27v1h1v-1zm40 36v1h1v-1zm25-56v1h1v-1zm-54 29v1h1v-1zm3 11v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-30-23v1h1v-1zm11 46v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm65-14v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm11 46v1h1v-1zm41 1v1h1v-1zm-30 8v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-1-45v1h1v-1zm-54 29v1h1v-1zm4-30v1h1v-1zm44 43v1h1v-1zm12-26v1h1v-1zm-53-6v1h1v-1zm19 13v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm-54-8v1h1v-1zm11 46v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm10 50v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm25-56v1h1v-1zm-33 52v1h1v-1zm39-9v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-1-45v1h1v-1zm13 19v1h1v-1zm31 24v1h1v-1zm-53-6v1h1v-1zm11 9v1h1v-1zm-7-39v1h1v-1zm18 48v1h1v-1zm-26-52v1h1v-1zm46 30v1h1v-1zm-8-4v1h1v-1zm11 15v1h1v-1zm-49-5v1h1v-1zm33-3v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm20-22v1h1v-1zm-49-5v1h1v-1zm52 47v1h1v-1zm-50-1v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm46-33v1h1v-1zm12 11v1h1v-1zm-13 30v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm-33 52v1h1v-1zm12-26v1h1v-1zm3 5v1h1v-1zm20 15v1h1v-1zm12-26v1h1v-1zm-54 29v1h1v-1zm11 9v1h1v-1zm13-61v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm-11 27v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm33 34v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-16-8v1h1v-1zm31 24v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm46-33v1h1v-1zm-62 25v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-55-16v1h1v-1zm33 34v1h1v-1zm-29-64v1h1v-1zm41 38v1h1v-1zm19 13v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-9 31v1h1v-1zm12-26v1h1v-1zm-54 29v1h1v-1zm-1-45v1h1v-1zm13 19v1h1v-1zm11 9v1h1v-1zm12 11v1h1v-1zm12-26v1h1v-1zm-34 7v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-29-27v1h1v-1zm12-26v1h1v-1zm-1 41v1h1v-1zm-21-23v1h1v-1zm32 32v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm24-15v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm10 44v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm30 28v1h1v-1zm12-26v1h1v-1zm-49-5v1h1v-1zm40 36v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-54 29v1h1v-1zm66-55v1h1v-1zm-54 29v1h1v-1zm31 24v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm46-33v1h1v-1zm19 13v1h1v-1zm-61-10v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm33 34v1h1v-1zm-34 7v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm-27-17v1h1v-1zm60 14v1h1v-1zm-11 27v1h1v-1zm-7-39v1h1v-1zm18 48v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-54 29v1h1v-1zm4-30v1h1v-1zm41 38v1h1v-1zm-21-23v1h1v-1zm12-26v1h1v-1zm-33 52v1h1v-1zm25-56v1h1v-1zm-34 7v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-1-45v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm30 28v1h1v-1zm-26-52v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-53-6v1h1v-1zm65-20v1h1v-1zm-54 29v1h1v-1zm32-11v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm4-30v1h1v-1zm18 54v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm4-30v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm31 24v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm-5 34v1h1v-1zm25-56v1h1v-1zm-55 64v1h1v-1zm12-26v1h1v-1zm53 12v1h1v-1zm-50-1v1h1v-1zm19 13v1h1v-1zm-28-62v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-23 53v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm12-26v1h1v-1zm11 9v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-5 34v1h1v-1zm-37-31v1h1v-1zm53 12v1h1v-1zm-29-27v1h1v-1zm-10 35v1h1v-1zm-23 16v1h1v-1zm12 11v1h1v-1zm4-30v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm38-37v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm12 11v1h1v-1zm-9 31v1h1v-1zm41 1v1h1v-1zm1-35v1h1v-1zm-30 8v1h1v-1zm-33 52v1h1v-1zm47-5v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-21-23v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm4-30v1h1v-1zm-16 55v1h1v-1zm-26-52v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-55 64v1h1v-1zm47-68v1h1v-1zm-42 3v1h1v-1zm43-2v1h1v-1zm-33 52v1h1v-1zm19 13v1h1v-1zm-29-27v1h1v-1zm46-33v1h1v-1zm-33 52v1h1v-1zm-20-58v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm12 11v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm-15-43v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-34 7v1h1v-1zm11 46v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm45-29v1h1v-1zm3 42v1h1v-1zm-34 7v1h1v-1zm-7-39v1h1v-1zm-9 31v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm18 54v1h1v-1zm-30 8v1h1v-1zm47-68v1h1v-1zm-14 65v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-16 55v1h1v-1zm37 4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-54 29v1h1v-1zm25-56v1h1v-1zm41 1v1h1v-1zm-34 7v1h1v-1zm-19 23v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm-41-32v1h1v-1zm36 39v1h1v-1zm19 13v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm19 13v1h1v-1zm-20-58v1h1v-1zm41 1v1h1v-1zm-28 18v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm11 46v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-2 39v1h1v-1zm-48-40v1h1v-1zm39-9v1h1v-1zm-54 29v1h1v-1zm4-30v1h1v-1zm60 51v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-21-23v1h1v-1zm-22 61v1h1v-1zm1-35v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-1 41v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-33 52v1h1v-1zm25-56v1h1v-1zm40 36v1h1v-1zm-42 3v1h1v-1zm-21-23v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm18 48v1h1v-1zm-30 14v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm13 19v1h1v-1zm-34 44v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm19 13v1h1v-1zm-26-52v1h1v-1zm19 13v1h1v-1zm-43 38v1h1v-1zm21-57v1h1v-1zm-28 18v1h1v-1zm31 24v1h1v-1zm20-22v1h1v-1zm-62 25v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-22-19v1h1v-1zm33 34v1h1v-1zm12-26v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-27-17v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm46-33v1h1v-1zm-41-32v1h1v-1zm31 24v1h1v-1zm-28-19v1h1v-1zm31 24v1h1v-1zm-42 3v1h1v-1zm41 1v1h1v-1zm-19 23v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-53-6v1h1v-1zm19 13v1h1v-1zm15 16v1h1v-1zm20-22v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm46-33v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-1 41v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm32 32v1h1v-1zm20-22v1h1v-1zm-62 25v1h1v-1zm64 21v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm41 38v1h1v-1zm-50-1v1h1v-1zm46-33v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm11 46v1h1v-1zm-22-19v1h1v-1zm-7-39v1h1v-1zm18 48v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-22 18v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm-10 35v1h1v-1zm-21-23v1h1v-1zm12-26v1h1v-1zm44 43v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-42 3v1h1v-1zm-8-4v1h1v-1zm11 46v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-5 34v1h1v-1zm-8-4v1h1v-1zm25-56v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm32 32v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm41 38v1h1v-1zm-42 3v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-7-39v1h1v-1zm-29-27v1h1v-1zm52 10v1h1v-1zm-31 49v1h1v-1zm41 1v1h1v-1zm-9-49v1h1v-1zm-33 52v1h1v-1zm25-56v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-53-6v1h1v-1zm19 13v1h1v-1zm44 43v1h1v-1zm-50-1v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-15-43v1h1v-1zm-34 7v1h1v-1zm3 42v1h1v-1zm20-22v1h1v-1zm12-26v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-27-17v1h1v-1zm14 47v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm44 43v1h1v-1zm-53-6v1h1v-1zm38 26v1h1v-1zm-27-17v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm31 24v1h1v-1zm-49-42v1h1v-1zm41 38v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm12-26v1h1v-1zm-50-1v1h1v-1zm52 47v1h1v-1zm-8-4v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm4-30v1h1v-1zm19 50v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-62-55v1h1v-1zm36 39v1h1v-1zm19 13v1h1v-1zm-17-53v1h1v-1zm-33 52v1h1v-1zm-9-49v1h1v-1zm60 51v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-27-17v1h1v-1zm-23 16v1h1v-1zm41 38v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm32 32v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm23 20v1h1v-1zm12-26v1h1v-1zm-62 25v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm39-9v1h1v-1zm12 11v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm-2 39v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm44 43v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-35 42v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-28-62v1h1v-1zm41 1v1h1v-1zm-42 3v1h1v-1zm19 50v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm29 63v1h1v-1zm-27-17v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-31 12v1h1v-1zm11 9v1h1v-1zm32-11v1h1v-1zm-54 29v1h1v-1zm12-26v1h1v-1zm46-33v1h1v-1zm-55 64v1h1v-1zm1-35v1h1v-1zm4-30v1h1v-1zm37 67v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-20-58v1h1v-1zm32 32v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm19 50v1h1v-1zm-28-19v1h1v-1zm20 15v1h1v-1zm20-22v1h1v-1zm-28-19v1h1v-1zm12 11v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm-26-52v1h1v-1zm19 13v1h1v-1zm11 15v1h1v-1zm-21-23v1h1v-1zm12 54v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm25-56v1h1v-1zm-33 52v1h1v-1zm20 15v1h1v-1zm-8-41v1h1v-1zm12 11v1h1v-1zm19 13v1h1v-1zm4-30v1h1v-1zm-54 29v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm33 34v1h1v-1zm-9-49v1h1v-1zm-54 29v1h1v-1zm41 1v1h1v-1zm19 13v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm33 34v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm24-15v1h1v-1zm-8-4v1h1v-1zm6 43v1h1v-1zm-8-4v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm25-56v1h1v-1zm-8-4v1h1v-1zm18 54v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm40 36v1h1v-1zm-53-6v1h1v-1zm19 13v1h1v-1zm24-15v1h1v-1zm-28-19v1h1v-1zm20 15v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-54 29v1h1v-1zm-7-39v1h1v-1zm18 48v1h1v-1zm45 8v1h1v-1zm-34 7v1h1v-1zm-17-53v1h1v-1zm41 1v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm52 47v1h1v-1zm-20-58v1h1v-1zm-43 38v1h1v-1zm65-20v1h1v-1zm-53-6v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm4-30v1h1v-1zm-21 63v1h1v-1zm-1-45v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm12-26v1h1v-1zm-18-12v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm46-33v1h1v-1zm-50-1v1h1v-1zm20 15v1h1v-1zm-11-10v1h1v-1zm-16-8v1h1v-1zm-5 34v1h1v-1zm57 13v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm11 9v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm20 15v1h1v-1zm32 32v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm-29-27v1h1v-1zm46-33v1h1v-1zm-33 52v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20 15v1h1v-1zm-49-42v1h1v-1zm-13 30v1h1v-1zm12 11v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm60 51v1h1v-1zm-29-27v1h1v-1zm1-35v1h1v-1zm-14 65v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm25-56v1h1v-1zm-35 42v1h1v-1zm20-22v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm12 11v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-30-23v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm57 13v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm33-3v1h1v-1zm-29-27v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm14 47v1h1v-1zm-25-57v1h1v-1zm52 47v1h1v-1zm-53-6v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm-35-21v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm-42 3v1h1v-1zm12 11v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-31 12v1h1v-1zm-20-58v1h1v-1zm-8-4v1h1v-1zm60 51v1h1v-1zm-50-1v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm58-22v1h1v-1zm6 43v1h1v-1zm-37-31v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm44 43v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-21-23v1h1v-1zm-33 52v1h1v-1zm39-9v1h1v-1zm-7-39v1h1v-1zm-30 8v1h1v-1zm41 1v1h1v-1zm-31 49v1h1v-1zm-8-4v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm41 38v1h1v-1zm12-26v1h1v-1zm-49-5v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-35 42v1h1v-1zm27-10v1h1v-1zm12-26v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-42 40v1h1v-1zm46-33v1h1v-1zm-13 30v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm10 44v1h1v-1zm-62-55v1h1v-1zm44 43v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm52 47v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm18 54v1h1v-1zm-27-17v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm10 44v1h1v-1zm12 11v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm66-55v1h1v-1zm-55 64v1h1v-1zm21-57v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-23 16v1h1v-1zm33 34v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-24 51v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-35 42v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm19 13v1h1v-1zm-26-52v1h1v-1zm47-5v1h1v-1zm-50-1v1h1v-1zm33 34v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-7-39v1h1v-1zm18 48v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-43 38v1h1v-1zm53 12v1h1v-1zm-62-61v1h1v-1zm13 19v1h1v-1zm28 19v1h1v-1zm-8-4v1h1v-1zm-23 16v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm18 48v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm30 28v1h1v-1zm-27-17v1h1v-1zm-29-27v1h1v-1zm60 14v1h1v-1zm-54 29v1h1v-1zm-8-4v1h1v-1zm66-55v1h1v-1zm-67 10v1h1v-1zm44 43v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-50-1v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm3 5v1h1v-1zm12 11v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-30 8v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-30 14v1h1v-1zm11 9v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm-8-4v1h1v-1zm41 38v1h1v-1zm-21-23v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm52 47v1h1v-1zm-34 7v1h1v-1zm31-13v1h1v-1zm-27-17v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-34 7v1h1v-1zm-7-39v1h1v-1zm31 24v1h1v-1zm33-3v1h1v-1zm-30 8v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm11 9v1h1v-1zm12-26v1h1v-1zm33 34v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm12-26v1h1v-1zm31 24v1h1v-1zm-28 18v1h1v-1zm41 1v1h1v-1zm-34 7v1h1v-1zm-10-14v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm53 12v1h1v-1zm-8-4v1h1v-1zm4-30v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-7-39v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm56 17v1h1v-1zm-29-27v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm-41-32v1h1v-1zm11 9v1h1v-1zm52 47v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-43 38v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-10-14v1h1v-1zm45 8v1h1v-1zm-5 34v1h1v-1zm-30 8v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-17-53v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm60 51v1h1v-1zm-28-62v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm32 32v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm-50-1v1h1v-1zm19 13v1h1v-1zm-22-19v1h1v-1zm36 39v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-5 34v1h1v-1zm11 9v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-1-45v1h1v-1zm-8-4v1h1v-1zm53 12v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-16 55v1h1v-1zm12-26v1h1v-1zm-54 29v1h1v-1zm47-68v1h1v-1zm-42 3v1h1v-1zm44 43v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm-13 30v1h1v-1zm25-56v1h1v-1zm-33 52v1h1v-1zm11 9v1h1v-1zm-20-58v1h1v-1zm52 47v1h1v-1zm-8-4v1h1v-1zm-41-32v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm39-9v1h1v-1zm-8-4v1h1v-1zm12 11v1h1v-1zm-13 30v1h1v-1zm-30 8v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm39-9v1h1v-1zm-42 3v1h1v-1zm52 47v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm-7-39v1h1v-1zm-54 29v1h1v-1zm25-56v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm-8-4v1h1v-1zm27 17v1h1v-1zm-28 18v1h1v-1zm12-26v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm31 24v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-28 18v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-37-31v1h1v-1zm19 13v1h1v-1zm-1 41v1h1v-1zm4-30v1h1v-1zm11 9v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm-15 20v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm20-22v1h1v-1zm-9 68v1h1v-1zm20-22v1h1v-1zm-50-1v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-9 31v1h1v-1zm12-26v1h1v-1zm30 28v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-34 7v1h1v-1zm-9-49v1h1v-1zm33-3v1h1v-1zm19 50v1h1v-1zm-28-19v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-61-10v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-29-27v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm47-5v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-30 14v1h1v-1zm40 36v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-20-58v1h1v-1zm-31 12v1h1v-1zm45 8v1h1v-1zm-35 42v1h1v-1zm47-68v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm22 24v1h1v-1zm25-56v1h1v-1zm-53-6v1h1v-1zm-9 31v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm12-26v1h1v-1zm-67 10v1h1v-1zm33 34v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-34 7v1h1v-1zm-7-39v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-16-8v1h1v-1zm19 13v1h1v-1zm32-11v1h1v-1zm-8-4v1h1v-1zm-54 29v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm47-5v1h1v-1zm-28 18v1h1v-1zm11 15v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-26-52v1h1v-1zm19 13v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm33 34v1h1v-1zm-21-23v1h1v-1zm-8-41v1h1v-1zm20 15v1h1v-1zm-35 42v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-27 19v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm1-35v1h1v-1zm-55 64v1h1v-1zm58-59v1h1v-1zm-42 3v1h1v-1zm19 50v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm-9 31v1h1v-1zm-7-39v1h1v-1zm18 54v1h1v-1zm19 13v1h1v-1zm-28-62v1h1v-1zm32 32v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-39 45v1h1v-1zm20-22v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-54 29v1h1v-1zm12-26v1h1v-1z&quot; /&gt;

    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v11-M-original&quot; transform=&quot;scale(16.39344262)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;61&quot; width=&quot;61&quot; /&gt;&lt;path d=&quot;m59 55v1h1v-1zm-9-49v1h1v-1zm-33 52v1h1v-1zm12-26v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm27-10v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm27-10v1h1v-1zm-13 30v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-43 38v1h1v-1zm25-56v1h1v-1zm-9 37v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm-8-4v1h1v-1zm32-11v1h1v-1zm3 5v1h1v-1zm-5 34v1h1v-1zm-29-27v1h1v-1zm32 32v1h1v-1zm12-26v1h1v-1zm-21-23v1h1v-1zm-9 37v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm-29-27v1h1v-1zm-5 34v1h1v-1zm38-37v1h1v-1zm-34 7v1h1v-1zm11 46v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm37 4v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-43 38v1h1v-1zm4 7v1h1v-1zm12-26v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-35-21v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm32-11v1h1v-1zm-21 26v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm12 11v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm14 20v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm18 54v1h1v-1zm-15-43v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-42 3v1h1v-1zm44 43v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm-10 35v1h1v-1zm20-22v1h1v-1zm20-22v1h1v-1zm3 42v1h1v-1zm-42 3v1h1v-1zm39-9v1h1v-1zm-8-4v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm58-22v1h1v-1zm-13 30v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-34 7v1h1v-1zm36 39v1h1v-1zm-42 3v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm12 11v1h1v-1zm4-30v1h1v-1zm11 9v1h1v-1zm-2 39v1h1v-1zm-18-12v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm31-13v1h1v-1zm20-22v1h1v-1zm-31 49v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-10-14v1h1v-1zm-27-17v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm10 50v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm4-30v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm23 20v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm47-5v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm2 46v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm46-33v1h1v-1zm-21-23v1h1v-1zm-2 39v1h1v-1zm20 15v1h1v-1zm-28-19v1h1v-1zm20 15v1h1v-1zm12-26v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-19 23v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm32 32v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm24-15v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-43 38v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm43-2v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm1-35v1h1v-1zm-30 8v1h1v-1zm-13 30v1h1v-1zm24-15v1h1v-1zm11 9v1h1v-1zm-7-39v1h1v-1zm18 48v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm32-11v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm-5 34v1h1v-1zm25-56v1h1v-1zm2 46v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-31 12v1h1v-1zm1-35v1h1v-1zm3 5v1h1v-1zm19 50v1h1v-1zm-1 4v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-15-43v1h1v-1zm19 13v1h1v-1zm-1 41v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-23 16v1h1v-1zm-8-4v1h1v-1zm-11 27v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-7-39v1h1v-1zm3 5v1h1v-1zm24-15v1h1v-1zm-33 52v1h1v-1zm-1-45v1h1v-1zm32 32v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm38-37v1h1v-1zm-34 7v1h1v-1zm31 24v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-35 42v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm37 4v1h1v-1zm-23 16v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-18-18v1h1v-1zm-9 37v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-54 29v1h1v-1zm32-11v1h1v-1zm3 5v1h1v-1zm-5 34v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-21-23v1h1v-1zm32 32v1h1v-1zm-21-23v1h1v-1zm-17 33v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm-4-34v1h1v-1zm31 24v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm37 4v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-31 49v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm31-13v1h1v-1zm-27-17v1h1v-1zm-15 20v1h1v-1zm-8-4v1h1v-1zm11 15v1h1v-1zm11 9v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm11 15v1h1v-1zm-30 8v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm4-30v1h1v-1zm44 43v1h1v-1zm-29-27v1h1v-1zm-13 30v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm11 9v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm46-33v1h1v-1zm-34 44v1h1v-1zm46-33v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm53 12v1h1v-1zm-8-4v1h1v-1zm-29-27v1h1v-1zm-13 30v1h1v-1zm36-47v1h1v-1zm-33 52v1h1v-1zm-1-45v1h1v-1zm41 1v1h1v-1zm-28 18v1h1v-1zm-21-23v1h1v-1zm52 47v1h1v-1zm-30-23v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm12 11v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm20-22v1h1v-1zm15 16v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm33 34v1h1v-1zm12-26v1h1v-1zm-10-14v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-23 16v1h1v-1zm13 19v1h1v-1zm40-7v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm40-44v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-30 14v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-34 7v1h1v-1zm13 19v1h1v-1zm-9-49v1h1v-1zm37 4v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm11 46v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm40 36v1h1v-1zm-9-49v1h1v-1zm-34 7v1h1v-1zm33 34v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-42 3v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm12 11v1h1v-1zm-8-41v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-10-8v1h1v-1zm12 54v1h1v-1zm21-57v1h1v-1zm-9 31v1h1v-1zm-21-23v1h1v-1zm10 13v1h1v-1zm31 24v1h1v-1zm-15-43v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-26-52v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm3 11v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-49-5v1h1v-1zm6 43v1h1v-1zm-8-4v1h1v-1zm-1-45v1h1v-1zm33 34v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm4-30v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm11 15v1h1v-1zm11 9v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm18 54v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm31-13v1h1v-1zm1-35v1h1v-1zm-54 29v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm3 5v1h1v-1zm41 38v1h1v-1zm-21-23v1h1v-1zm-31 12v1h1v-1zm41 1v1h1v-1zm-30 8v1h1v-1zm42-34v1h1v-1zm-49-5v1h1v-1zm18 54v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-48-40v1h1v-1zm6 43v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20 15v1h1v-1zm23-17v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm3 11v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm23 20v1h1v-1zm1-35v1h1v-1zm10 44v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-5 34v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-17-53v1h1v-1zm33 34v1h1v-1zm-23 16v1h1v-1zm-7-39v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-39 45v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm37 4v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm11 46v1h1v-1zm-54-8v1h1v-1zm12 11v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-35 42v1h1v-1zm38-37v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm23 20v1h1v-1zm-1 4v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm58-22v1h1v-1zm-50-1v1h1v-1zm39-9v1h1v-1zm-43 38v1h1v-1zm37 4v1h1v-1zm-1-45v1h1v-1zm13 19v1h1v-1zm-29-27v1h1v-1zm-5 34v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-19 23v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-18-12v1h1v-1zm31-13v1h1v-1zm-54 29v1h1v-1zm4-30v1h1v-1zm44 43v1h1v-1zm-34 7v1h1v-1zm4-30v1h1v-1zm-23 16v1h1v-1zm4-30v1h1v-1zm11 46v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-43 38v1h1v-1zm3 11v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm21-57v1h1v-1zm19 13v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm-31 49v1h1v-1zm31-13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-27 46v1h1v-1zm4-30v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-49-5v1h1v-1zm33-3v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-9 31v1h1v-1zm-18-12v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm11 15v1h1v-1zm-29-27v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-21 26v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm40-7v1h1v-1zm-28-19v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm3 11v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-49-5v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-42 3v1h1v-1zm-9-49v1h1v-1zm52 47v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-42 3v1h1v-1zm-8-4v1h1v-1zm30 22v1h1v-1zm24-15v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm32 32v1h1v-1zm-22 18v1h1v-1zm12-26v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm20-22v1h1v-1zm-51 34v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm36-41v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm22 24v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm-7-39v1h1v-1zm31 24v1h1v-1zm-8-4v1h1v-1zm-23 16v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm30 28v1h1v-1zm-8-4v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm6 43v1h1v-1zm4-30v1h1v-1zm23 20v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm11 15v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm18 54v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm4-30v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-9 37v1h1v-1zm-9-49v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm-11 27v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-51 34v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm32-11v1h1v-1zm-33 52v1h1v-1zm23-17v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-18-12v1h1v-1zm11 9v1h1v-1zm-34 7v1h1v-1zm4-30v1h1v-1zm-8-4v1h1v-1zm35-6v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm32 32v1h1v-1zm-34 7v1h1v-1zm25-56v1h1v-1zm-8-4v1h1v-1zm41 38v1h1v-1zm-50-1v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm39-9v1h1v-1zm-31 49v1h1v-1zm12-26v1h1v-1zm3 5v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm12-26v1h1v-1zm-1 41v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm31-13v1h1v-1zm-15-43v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm11 46v1h1v-1zm12-26v1h1v-1zm-23 16v1h1v-1zm38-37v1h1v-1zm-42 3v1h1v-1zm10 50v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm47-5v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm31 24v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm6 16v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm7 8v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm12 11v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm53 12v1h1v-1zm-16-8v1h1v-1zm10-36v1h1v-1zm-21 26v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm52 47v1h1v-1zm-41-32v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm12 11v1h1v-1zm-13 30v1h1v-1zm12-26v1h1v-1zm-49-5v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-33 52v1h1v-1zm12-26v1h1v-1zm3 5v1h1v-1zm20 15v1h1v-1zm-42 3v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm39-9v1h1v-1zm-42 3v1h1v-1zm23 20v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-5 7v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm-27 46v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm-7-39v1h1v-1zm31 24v1h1v-1zm-42 3v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-30 8v1h1v-1zm33-3v1h1v-1zm-55-16v1h1v-1zm4-30v1h1v-1zm33 34v1h1v-1zm20-22v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-35 42v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm35-6v1h1v-1zm-54 29v1h1v-1zm60 14v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-1-45v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm10 50v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-3 31v1h1v-1zm-28-19v1h1v-1zm40-7v1h1v-1zm-9 31v1h1v-1zm-7-39v1h1v-1zm-34 7v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm18 54v1h1v-1zm-8-4v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm32 32v1h1v-1zm-21-23v1h1v-1zm-34 7v1h1v-1zm33 34v1h1v-1zm4-30v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm3 5v1h1v-1zm24-15v1h1v-1zm-33 52v1h1v-1zm-21-23v1h1v-1zm60 14v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm24-15v1h1v-1zm4-30v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm37 4v1h1v-1zm-17-53v1h1v-1zm18 17v1h1v-1zm-21-23v1h1v-1zm-9 31v1h1v-1zm11 15v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm-21-23v1h1v-1zm6 43v1h1v-1zm46-33v1h1v-1zm-53-6v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm24-15v1h1v-1zm-35 42v1h1v-1zm15-21v1h1v-1zm12-26v1h1v-1zm-30 14v1h1v-1zm10 13v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm11 46v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm-7-39v1h1v-1zm44 43v1h1v-1zm-50-1v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm60 14v1h1v-1zm-39 45v1h1v-1zm20-22v1h1v-1zm-16-8v1h1v-1zm12-26v1h1v-1zm14 47v1h1v-1zm-29-27v1h1v-1zm-9 37v1h1v-1zm23-17v1h1v-1zm19 13v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-26-16v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm16-56v1h1v-1zm12 11v1h1v-1zm3 5v1h1v-1zm6 43v1h1v-1zm12-26v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm-1 41v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-31 49v1h1v-1zm33-3v1h1v-1zm2-40v1h1v-1zm-5 34v1h1v-1zm-28 18v1h1v-1zm-20-58v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm10 50v1h1v-1zm4-30v1h1v-1zm-22-19v1h1v-1zm15 16v1h1v-1zm20-22v1h1v-1zm-35 42v1h1v-1zm38-37v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm52 47v1h1v-1zm-41-32v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm12 11v1h1v-1zm-50-1v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-15-7v1h1v-1zm-5 34v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm32-48v1h1v-1zm-31 49v1h1v-1zm-7-39v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-41-32v1h1v-1zm44 43v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-43 38v1h1v-1zm-1-45v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-23 53v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-16-8v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-1 41v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm40 36v1h1v-1zm-9-49v1h1v-1zm-13 30v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-39 45v1h1v-1zm32-48v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm45 8v1h1v-1zm-10-14v1h1v-1zm-31 12v1h1v-1zm37 4v1h1v-1zm12-26v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm-1 35v1h1v-1zm-7-39v1h1v-1zm-10-8v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm41 1v1h1v-1zm-23 16v1h1v-1zm16-19v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-24 51v1h1v-1zm1-35v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm-3 31v1h1v-1zm46-33v1h1v-1zm-54 29v1h1v-1zm41 1v1h1v-1zm19 13v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-34 7v1h1v-1zm52 47v1h1v-1zm-16-8v1h1v-1zm-30-23v1h1v-1zm11 9v1h1v-1zm12-26v1h1v-1zm20 15v1h1v-1zm-23 16v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-9 31v1h1v-1zm23-11v1h1v-1zm-28 18v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-43 38v1h1v-1zm12-26v1h1v-1zm20 15v1h1v-1zm12-26v1h1v-1zm-51 34v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-9 37v1h1v-1zm20-22v1h1v-1zm-29-27v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-54 29v1h1v-1zm51 2v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm24-15v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm-11 27v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm31-13v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm4-30v1h1v-1zm23 20v1h1v-1zm-13 30v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm11 9v1h1v-1zm-1 41v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm32-11v1h1v-1zm3 5v1h1v-1zm20-22v1h1v-1zm-33 52v1h1v-1zm31-13v1h1v-1zm-29-27v1h1v-1zm-9 37v1h1v-1zm-8-4v1h1v-1zm39-9v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm-19 23v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-16-8v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-5 34v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm22 24v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm-42 3v1h1v-1zm15 16v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-27 46v1h1v-1zm19-50v1h1v-1zm-15 20v1h1v-1zm-8-4v1h1v-1zm11 15v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm39-9v1h1v-1zm-8-4v1h1v-1zm12 11v1h1v-1zm-42 3v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-32 53v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm-2 39v1h1v-1zm46-33v1h1v-1zm-30 14v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm44 43v1h1v-1zm-42 3v1h1v-1zm25-56v1h1v-1zm11 9v1h1v-1zm-34 7v1h1v-1zm22 24v1h1v-1zm-28 18v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm37 4v1h1v-1zm-29-27v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-13 30v1h1v-1zm27-10v1h1v-1zm-42 3v1h1v-1zm-8-4v1h1v-1zm47-5v1h1v-1zm-8-4v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm12 11v1h1v-1zm11 9v1h1v-1zm-7-39v1h1v-1zm-8-4v1h1v-1zm17 52v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm36 39v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm12-26v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm-23 53v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm32 32v1h1v-1zm-21-23v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm44 43v1h1v-1zm-22-19v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm23 20v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm21 59v1h1v-1zm1-35v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm24-15v1h1v-1zm4-30v1h1v-1zm-54 29v1h1v-1zm30 22v1h1v-1zm-26-52v1h1v-1zm19 13v1h1v-1zm11 15v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-29-27v1h1v-1zm13 19v1h1v-1zm-15 20v1h1v-1zm4-30v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm-42 3v1h1v-1zm1-35v1h1v-1zm10 44v1h1v-1zm21-57v1h1v-1zm15 16v1h1v-1zm-50-1v1h1v-1zm6 43v1h1v-1zm46-33v1h1v-1zm-21-23v1h1v-1zm-34 7v1h1v-1zm44 43v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm24-52v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm12 11v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm14 20v1h1v-1zm20-22v1h1v-1zm-29-27v1h1v-1zm-13 30v1h1v-1zm12-26v1h1v-1zm11 9v1h1v-1zm33 34v1h1v-1zm-1-45v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-9 37v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm12 11v1h1v-1zm3 5v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm40 36v1h1v-1zm-29-27v1h1v-1zm24-15v1h1v-1zm-13 30v1h1v-1zm19 13v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm27-10v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-13 30v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm4-30v1h1v-1zm20 15v1h1v-1zm-10 35v1h1v-1zm32-48v1h1v-1zm-54 29v1h1v-1zm15 16v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-22-19v1h1v-1zm-8-4v1h1v-1zm20 15v1h1v-1zm-21 26v1h1v-1zm24-21v1h1v-1zm-13 30v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm41 38v1h1v-1zm-54-8v1h1v-1zm12 11v1h1v-1zm31-13v1h1v-1zm12-26v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm15 16v1h1v-1zm12-26v1h1v-1zm-35 42v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm4 7v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm46 30v1h1v-1zm-27-17v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-7-39v1h1v-1zm-34 7v1h1v-1zm23 20v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm-34 7v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm-1 41v1h1v-1zm19 13v1h1v-1zm-16-8v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm53 12v1h1v-1zm-49-5v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-30-23v1h1v-1zm-8-4v1h1v-1zm52 47v1h1v-1zm-42 3v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-42 3v1h1v-1zm12 11v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-34 7v1h1v-1zm36 39v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm25-56v1h1v-1zm-33 52v1h1v-1zm25-56v1h1v-1zm14 47v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-30 14v1h1v-1zm11 9v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-9 37v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm6 43v1h1v-1zm-8-4v1h1v-1zm35-6v1h1v-1zm-34 7v1h1v-1zm-7-39v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm12 11v1h1v-1zm46-33v1h1v-1zm-50-1v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm44 43v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm52 47v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm45 8v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm11 46v1h1v-1zm12-26v1h1v-1zm-54 29v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm14 20v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm3 5v1h1v-1zm12 11v1h1v-1zm-15 20v1h1v-1zm33-3v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm47-5v1h1v-1zm-50-1v1h1v-1zm44 43v1h1v-1zm1-35v1h1v-1zm10 44v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-21-23v1h1v-1zm33 34v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm39-9v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm-18-12v1h1v-1zm40 36v1h1v-1zm-20-58v1h1v-1zm-28 18v1h1v-1zm41 1v1h1v-1zm11 9v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm56 17v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm3 5v1h1v-1zm12 11v1h1v-1zm-34 7v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm-19 23v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm12 11v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-27-17v1h1v-1zm33 33v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm23 20v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm6 43v1h1v-1zm-48-40v1h1v-1zm11 9v1h1v-1zm12-26v1h1v-1zm18 54v1h1v-1zm-48-40v1h1v-1zm41 1v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm38-37v1h1v-1zm-34 7v1h1v-1zm27-10v1h1v-1zm-5 34v1h1v-1zm24-21v1h1v-1zm-53-6v1h1v-1zm52 10v1h1v-1zm-38 10v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm46-33v1h1v-1zm-23 53v1h1v-1zm4-30v1h1v-1zm23-17v1h1v-1zm-53-6v1h1v-1zm19 13v1h1v-1zm37 4v1h1v-1zm-23 16v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm-30 8v1h1v-1zm41 38v1h1v-1zm-54-8v1h1v-1zm53 12v1h1v-1zm-29-27v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm15 16v1h1v-1zm12-26v1h1v-1zm14 47v1h1v-1zm-16-8v1h1v-1zm24-15v1h1v-1zm-23 16v1h1v-1zm-27-17v1h1v-1zm38 26v1h1v-1zm-41-32v1h1v-1zm15 16v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-23 16v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-1 41v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm4-30v1h1v-1zm-30-23v1h1v-1zm52 47v1h1v-1zm-49-5v1h1v-1zm43-39v1h1v-1zm-33 52v1h1v-1zm20-22v1h1v-1zm-29-27v1h1v-1zm44 43v1h1v-1zm-34 7v1h1v-1zm-16-8v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-54 29v1h1v-1zm46-33v1h1v-1zm12 11v1h1v-1zm-54-8v1h1v-1zm44 43v1h1v-1zm-20-58v1h1v-1zm-23 16v1h1v-1zm44 43v1h1v-1zm-50-1v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm31-13v1h1v-1zm-42 3v1h1v-1zm58-22v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm-7-39v1h1v-1zm11 9v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm53 12v1h1v-1zm-16-8v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm20-22v1h1v-1zm3 42v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-54 29v1h1v-1zm45 8v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm6 43v1h1v-1zm12-26v1h1v-1zm-21-23v1h1v-1zm52 47v1h1v-1zm-16-8v1h1v-1zm-42 3v1h1v-1zm39-9v1h1v-1zm-8-4v1h1v-1zm-27-17v1h1v-1zm31-13v1h1v-1zm-22 18v1h1v-1zm40 36v1h1v-1zm-49-5v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-33 52v1h1v-1zm35-6v1h1v-1zm20-22v1h1v-1zm-16-8v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm22 24v1h1v-1zm-29-27v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm-34 7v1h1v-1zm49-22v1h1v-1zm-35 42v1h1v-1zm-7-39v1h1v-1zm18 48v1h1v-1zm-7-39v1h1v-1zm11 9v1h1v-1zm12 11v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm11 15v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-8-4v1h1v-1zm18 48v1h1v-1zm-7-39v1h1v-1zm-23 16v1h1v-1zm-8-4v1h1v-1zm20 15v1h1v-1zm20-22v1h1v-1zm-16-8v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm60 14v1h1v-1zm-30 8v1h1v-1zm-5 7v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-54 29v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm24-15v1h1v-1zm11 9v1h1v-1zm-31 12v1h1v-1zm-7-39v1h1v-1zm9 5v1h1v-1zm40 36v1h1v-1zm-16-8v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-3 31v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm-53-6v1h1v-1zm46-33v1h1v-1zm-27 46v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1z&quot; /&gt;

    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v09-L-original&quot; transform=&quot;scale(18.8679245283)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;53&quot; width=&quot;53&quot; /&gt;&lt;path d=&quot;m18 17v1h1v-1zm32-11v1h1v-1zm-42 3v1h1v-1zm40 36v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-11 27v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm24-15v1h1v-1zm-2 39v1h1v-1zm-21-23v1h1v-1zm3 5v1h1v-1zm12-26v1h1v-1zm-1 41v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm20 15v1h1v-1zm3 5v1h1v-1zm10 13v1h1v-1zm-38 10v1h1v-1zm39-9v1h1v-1zm-8-4v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm4-30v1h1v-1zm23 20v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm7 8v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm22 24v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-7-3v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm46-33v1h1v-1zm-8-4v1h1v-1zm-5 34v1h1v-1zm-29-27v1h1v-1zm24-15v1h1v-1zm-21 26v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm23-17v1h1v-1zm-11 27v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm27-10v1h1v-1zm-13 30v1h1v-1zm23-17v1h1v-1zm-42 3v1h1v-1zm15 16v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm3 42v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-13 30v1h1v-1zm31-13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-38 10v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-30-23v1h1v-1zm33 34v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-1 4v1h1v-1zm-21-23v1h1v-1zm33 33v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm23 20v1h1v-1zm12-26v1h1v-1zm-27-17v1h1v-1zm41 37v1h1v-1zm-42 3v1h1v-1zm12-26v1h1v-1zm3 5v1h1v-1zm1 1v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm48 13v1h1v-1zm1-35v1h1v-1zm-23 16v1h1v-1zm23 20v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-42 3v1h1v-1zm45 8v1h1v-1zm3 5v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm9 5v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm19 13v1h1v-1zm-6-38v1h1v-1zm-8-4v1h1v-1zm6 43v1h1v-1zm16-19v1h1v-1zm11 9v1h1v-1zm-7-39v1h1v-1zm-35 42v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-11 27v1h1v-1zm33-3v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-9 37v1h1v-1zm3 5v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm22 24v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm20 15v1h1v-1zm-8-41v1h1v-1zm-8-4v1h1v-1zm20 15v1h1v-1zm-23 16v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-16-8v1h1v-1zm19 13v1h1v-1zm11 15v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm31 24v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm24-15v1h1v-1zm-34 7v1h1v-1zm40 36v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-11 27v1h1v-1zm-7-39v1h1v-1zm11 9v1h1v-1zm-43 38v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm10 50v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm3 5v1h1v-1zm-1 41v1h1v-1zm23-17v1h1v-1zm-8-4v1h1v-1zm-30-23v1h1v-1zm23 20v1h1v-1zm10 13v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-9 37v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm-15 20v1h1v-1zm38-37v1h1v-1zm-42 3v1h1v-1zm31 24v1h1v-1zm18 17v1h1v-1zm-8-4v1h1v-1zm-26-16v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm-42 3v1h1v-1zm24-15v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-16-8v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm11 15v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-19 23v1h1v-1zm-8-4v1h1v-1zm39-9v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm4-30v1h1v-1zm22 24v1h1v-1zm-28 18v1h1v-1zm39-9v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm12 11v1h1v-1zm3 5v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-35 42v1h1v-1zm37 4v1h1v-1zm-21-23v1h1v-1zm-21 26v1h1v-1zm44-43v1h1v-1zm-34 7v1h1v-1zm13 19v1h1v-1zm20-22v1h1v-1zm-30 14v1h1v-1zm34-8v1h1v-1zm-42 3v1h1v-1zm4 7v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm6 43v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm-9 31v1h1v-1zm-10-8v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm0 36v1h1v-1zm20-22v1h1v-1zm13 19v1h1v-1zm-34 7v1h1v-1zm-10-14v1h1v-1zm45 8v1h1v-1zm-50-1v1h1v-1zm39-9v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-11 27v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm12-26v1h1v-1zm-38 10v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-7-39v1h1v-1zm-23 16v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm11 46v1h1v-1zm-42 3v1h1v-1zm32-48v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-1 41v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm-34 7v1h1v-1zm3 5v1h1v-1zm12-26v1h1v-1zm-22 18v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27 19v1h1v-1zm41 1v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm-23 16v1h1v-1zm12 11v1h1v-1zm4-30v1h1v-1zm-27 46v1h1v-1zm-15-43v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-11 27v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-22-19v1h1v-1zm-21-23v1h1v-1zm33 34v1h1v-1zm12-26v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm20-22v1h1v-1zm3 5v1h1v-1zm-22 18v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm14 20v1h1v-1zm12-26v1h1v-1zm-15 20v1h1v-1zm-4-34v1h1v-1zm20 15v1h1v-1zm-31 12v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm14 20v1h1v-1zm19 13v1h1v-1zm-48-40v1h1v-1zm40 36v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20 15v1h1v-1zm12-26v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm32 32v1h1v-1zm-41 4v1h1v-1zm38-37v1h1v-1zm-34 7v1h1v-1zm23 20v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm14 20v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-11 27v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-22-19v1h1v-1zm-6 42v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-30 8v1h1v-1zm-13 30v1h1v-1zm12 11v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm19-14v1h1v-1zm12-26v1h1v-1zm-5 34v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-7-3v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-19 23v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-13 30v1h1v-1zm19 13v1h1v-1zm-37-31v1h1v-1zm22 24v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm3 11v1h1v-1zm-44-7v1h1v-1zm7-19v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-3 31v1h1v-1zm-8-41v1h1v-1zm41 38v1h1v-1zm-29-27v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm2 46v1h1v-1zm-42 3v1h1v-1zm32-48v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm-22 18v1h1v-1zm11 9v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm3 11v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-18-12v1h1v-1zm-9 31v1h1v-1zm47-5v1h1v-1zm-27-17v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm37 4v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-21 26v1h1v-1zm20-22v1h1v-1zm3 5v1h1v-1zm20 15v1h1v-1zm-42 3v1h1v-1zm3 5v1h1v-1zm20-22v1h1v-1zm-27-17v1h1v-1zm47-5v1h1v-1zm-8-4v1h1v-1zm2 46v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm22 24v1h1v-1zm4-30v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm30 22v1h1v-1zm3 11v1h1v-1zm-1-45v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm10 50v1h1v-1zm12-26v1h1v-1zm-31 12v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm23-11v1h1v-1zm-9 31v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm31 24v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-27 46v1h1v-1zm33-3v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm22 24v1h1v-1zm-8-4v1h1v-1zm-11-10v1h1v-1zm-8-4v1h1v-1zm31 24v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-22-19v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-26-16v1h1v-1zm41 1v1h1v-1zm3 5v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm35-6v1h1v-1zm-8-4v1h1v-1zm-22-19v1h1v-1zm4 6v1h1v-1zm14 20v1h1v-1zm-31 12v1h1v-1zm12-26v1h1v-1zm32-11v1h1v-1zm-43 38v1h1v-1zm46-33v1h1v-1zm-2 39v1h1v-1zm-29-27v1h1v-1zm3 11v1h1v-1zm19 13v1h1v-1zm12-26v1h1v-1zm-27-17v1h1v-1zm9 5v1h1v-1zm3 5v1h1v-1zm-5 34v1h1v-1zm-29-27v1h1v-1zm23-17v1h1v-1zm-8-4v1h1v-1zm-9 37v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1 1v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm20-22v1h1v-1zm-5 7v1h1v-1zm11 9v1h1v-1zm19 13v1h1v-1zm-41-32v1h1v-1zm3 42v1h1v-1zm20-22v1h1v-1zm-23 16v1h1v-1zm4-30v1h1v-1zm27-10v1h1v-1zm-5 34v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-42 3v1h1v-1zm12 11v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-18-13v1h1v-1zm13 19v1h1v-1zm-34 7v1h1v-1zm23 20v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm38 26v1h1v-1zm-18-12v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm31-13v1h1v-1zm-50-1v1h1v-1zm11 15v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm45 8v1h1v-1zm-29-27v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-13 30v1h1v-1zm3 5v1h1v-1zm9 5v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-22 18v1h1v-1zm3 5v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-5 7v1h1v-1zm-21-23v1h1v-1zm-13 30v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-11 27v1h1v-1zm12-26v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-19-14v1h1v-1zm33 34v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm11 9v1h1v-1zm-22 18v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-8-4v1h1v-1zm31-13v1h1v-1zm-22 18v1h1v-1zm33-3v1h1v-1zm-30 8v1h1v-1zm10 13v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm28 19v1h1v-1zm-4-34v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm2 46v1h1v-1zm-21-23v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm13 19v1h1v-1zm32-11v1h1v-1zm-28 17v1h1v-1zm-6-38v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-13 30v1h1v-1zm24-15v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm-35 42v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm22 24v1h1v-1zm-48-40v1h1v-1zm19 13v1h1v-1zm11 9v1h1v-1zm4-24v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm23-17v1h1v-1zm11 46v1h1v-1zm-11-10v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm12-26v1h1v-1zm-9 37v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm11 9v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm12 11v1h1v-1zm15-21v1h1v-1zm-27 46v1h1v-1zm-4-34v1h1v-1zm-9 37v1h1v-1zm-1-45v1h1v-1zm-8-4v1h1v-1zm40 36v1h1v-1zm1 1v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-27 46v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm14 20v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-18-12v1h1v-1zm12-26v1h1v-1zm11 9v1h1v-1zm-42 3v1h1v-1zm15 16v1h1v-1zm12-26v1h1v-1zm-5 34v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm11 9v1h1v-1zm33-3v1h1v-1zm-21-23v1h1v-1zm-9 37v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm31-13v1h1v-1zm-31 49v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-30 14v1h1v-1zm4-30v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-34 7v1h1v-1zm3 42v1h1v-1zm12-26v1h1v-1zm-15 20v1h1v-1zm46-33v1h1v-1zm-8-4v1h1v-1zm-5 34v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-49-5v1h1v-1zm11 15v1h1v-1zm30 22v1h1v-1zm-15-43v1h1v-1zm-27 46v1h1v-1zm4-30v1h1v-1zm24-15v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-1 40v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-19 23v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-23 16v1h1v-1zm1-35v1h1v-1zm2 46v1h1v-1zm31-13v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm11 15v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm41 38v1h1v-1zm-29-27v1h1v-1zm33-3v1h1v-1zm-10-14v1h1v-1zm-1 4v1h1v-1zm-9 31v1h1v-1zm-10-8v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-28 18v1h1v-1zm39-9v1h1v-1zm-27 19v1h1v-1zm10 13v1h1v-1zm16-19v1h1v-1zm-15 20v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-11 27v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm12-26v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm37 4v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-7-39v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm11 15v1h1v-1zm-21-23v1h1v-1zm-16-8v1h1v-1zm-3-6v1h1v-1zm33 34v1h1v-1zm11 9v1h1v-1zm-30-23v1h1v-1zm11 9v1h1v-1zm16-19v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm19 13v1h1v-1zm4-24v1h1v-1zm-30 8v1h1v-1zm20-22v1h1v-1zm-2 39v1h1v-1zm4-30v1h1v-1zm20 15v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-43 38v1h1v-1zm1-35v1h1v-1zm18 48v1h1v-1zm1-35v1h1v-1zm-16-8v1h1v-1zm19 13v1h1v-1zm14 20v1h1v-1zm-34 7v1h1v-1zm24-15v1h1v-1zm4-30v1h1v-1zm11 9v1h1v-1zm-23 16v1h1v-1zm-8-4v1h1v-1zm24-15v1h1v-1zm6 43v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm30 28v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm32-11v1h1v-1zm-28-19v1h1v-1zm20 15v1h1v-1zm11 9v1h1v-1zm-21 26v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-29-27v1h1v-1zm10 50v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm-42 3v1h1v-1zm20-22v1h1v-1zm12 11v1h1v-1zm11 9v1h1v-1zm-42 3v1h1v-1zm46-33v1h1v-1zm-34 7v1h1v-1zm6 16v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-3 31v1h1v-1zm-7-39v1h1v-1zm-9 31v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-42 3v1h1v-1zm40 36v1h1v-1zm-29-27v1h1v-1zm3 11v1h1v-1zm11 9v1h1v-1zm20-22v1h1v-1zm-42 3v1h1v-1zm15 16v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm3 11v1h1v-1zm11 9v1h1v-1zm23-17v1h1v-1zm-38 10v1h1v-1zm20-22v1h1v-1zm23-17v1h1v-1zm-27 19v1h1v-1zm-22-19v1h1v-1zm40 36v1h1v-1zm-42 3v1h1v-1zm16-19v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm38 26v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm36 39v1h1v-1zm-9-49v1h1v-1zm-20 27v1h1v-1zm11 9v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-23 16v1h1v-1zm12 11v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-2 39v1h1v-1zm-7-3v1h1v-1zm12-26v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm-3 31v1h1v-1zm-8-5v1h1v-1zm1-35v1h1v-1zm44 43v1h1v-1zm-8-4v1h1v-1zm-3-6v1h1v-1zm12-26v1h1v-1zm-49-5v1h1v-1zm33-3v1h1v-1zm-34 7v1h1v-1zm12 11v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm30 28v1h1v-1zm-8-4v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm4-30v1h1v-1zm-11 27v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm45 8v1h1v-1zm-29-27v1h1v-1zm11 9v1h1v-1zm-13 30v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm12 11v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm-7-39v1h1v-1zm19 13v1h1v-1zm-10-8v1h1v-1zm24 28v1h1v-1zm-21-23v1h1v-1zm30 28v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-23 16v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm11 9v1h1v-1zm-30 14v1h1v-1zm23-17v1h1v-1zm-1 4v1h1v-1zm12 11v1h1v-1zm12-26v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-31 12v1h1v-1zm32-11v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm11 15v1h1v-1zm3 5v1h1v-1zm-15 20v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm20 15v1h1v-1zm-28-19v1h1v-1zm20 15v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-43 38v1h1v-1zm41 1v1h1v-1zm-48-40v1h1v-1zm18 48v1h1v-1zm12-26v1h1v-1zm3 11v1h1v-1zm-8-4v1h1v-1zm-23 16v1h1v-1zm20-22v1h1v-1zm12 11v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm-31 12v1h1v-1zm12-26v1h1v-1zm-22 18v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm-30 8v1h1v-1zm41 1v1h1v-1zm-7-3v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm-8-4v1h1v-1zm4-30v1h1v-1zm-1 41v1h1v-1zm-10-14v1h1v-1zm20-22v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-5 34v1h1v-1zm24-21v1h1v-1zm-9 37v1h1v-1zm20-22v1h1v-1zm3 5v1h1v-1zm-22-19v1h1v-1zm-9 37v1h1v-1zm-10-14v1h1v-1zm46-33v1h1v-1zm-2 39v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-13 30v1h1v-1zm24-15v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm12-26v1h1v-1zm-27 46v1h1v-1zm38-37v1h1v-1zm-11 27v1h1v-1zm-8-4v1h1v-1zm-23 16v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm-13 3v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm23 20v1h1v-1zm12-26v1h1v-1zm11 9v1h1v-1zm-1 4v1h1v-1zm-37-31v1h1v-1zm-1 41v1h1v-1zm23-17v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-42 3v1h1v-1zm12 11v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-42 3v1h1v-1zm-8-4v1h1v-1zm30 28v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm-2 39v1h1v-1zm46-33v1h1v-1zm-38 10v1h1v-1zm31-13v1h1v-1zm-34 7v1h1v-1zm15 16v1h1v-1zm12-26v1h1v-1zm-13 30v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-27 19v1h1v-1zm20-22v1h1v-1zm11 9v1h1v-1zm-38 10v1h1v-1zm41 1v1h1v-1zm-30 13v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm23-17v1h1v-1zm-34 44v1h1v-1zm33-3v1h1v-1zm3 5v1h1v-1zm-21-23v1h1v-1zm-23 16v1h1v-1zm1-35v1h1v-1zm36 39v1h1v-1zm-42 3v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-31 49v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm46-33v1h1v-1zm-42 3v1h1v-1zm33 34v1h1v-1zm4-30v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-9 31v1h1v-1zm-26-16v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-23 16v1h1v-1zm45 8v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm17 52v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm31 24v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-22-19v1h1v-1zm33 34v1h1v-1zm-21-23v1h1v-1zm3 5v1h1v-1zm-13 30v1h1v-1zm23-17v1h1v-1zm-21-23v1h1v-1zm41 38v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-42 3v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm10 50v1h1v-1zm-37-31v1h1v-1zm18 17v1h1v-1zm-21-23v1h1v-1zm45 8v1h1v-1zm-9 31v1h1v-1zm12-26v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-6-38v1h1v-1zm19 13v1h1v-1zm3 11v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm46-33v1h1v-1zm-35 42v1h1v-1zm4-30v1h1v-1zm32-11v1h1v-1zm-8-4v1h1v-1zm6 43v1h1v-1zm-21-23v1h1v-1zm-27-17v1h1v-1zm11 9v1h1v-1zm19 13v1h1v-1zm4-24v1h1v-1zm18 48v1h1v-1zm-27-17v1h1v-1zm-21-23v1h1v-1zm40 36v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm32-11v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-13 30v1h1v-1zm-18-18v1h1v-1zm11 15v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm-31 12v1h1v-1zm20-22v1h1v-1zm11 46v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-5 7v1h1v-1zm-8-4v1h1v-1zm39-9v1h1v-1zm-8-4v1h1v-1zm-29-27v1h1v-1zm41 1v1h1v-1zm-46 33v1h1v-1zm35-6v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-42 3v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm22 24v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm-19 23v1h1v-1zm19 13v1h1v-1zm-7-39v1h1v-1zm-35 42v1h1v-1zm46-33v1h1v-1zm-8-4v1h1v-1zm1 1v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm40 36v1h1v-1zm4-30v1h1v-1zm-19 23v1h1v-1zm-22-19v1h1v-1zm35-6v1h1v-1zm-16-8v1h1v-1zm-5 34v1h1v-1zm24-21v1h1v-1zm-34 7v1h1v-1zm41 1v1h1v-1zm-28 18v1h1v-1zm20-22v1h1v-1zm-21-23v1h1v-1zm-8-4v1h1v-1zm-1 41v1h1v-1zm11 9v1h1v-1zm12-26v1h1v-1zm12-26v1h1v-1zm-42 3v1h1v-1zm11 46v1h1v-1zm-8-4v1h1v-1zm41 1v1h1v-1zm2-40v1h1v-1zm-13 30v1h1v-1zm-29-27v1h1v-1zm3 11v1h1v-1zm19 13v1h1v-1zm11 9v1h1v-1zm-7-39v1h1v-1zm-27 19v1h1v-1zm20-22v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm19-14v1h1v-1zm14 47v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm-22-19v1h1v-1zm31 24v1h1v-1zm-16-8v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm-23 16v1h1v-1zm16-19v1h1v-1zm-2 39v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-38 10v1h1v-1zm19 13v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm3 11v1h1v-1zm-21-23v1h1v-1zm-11-10v1h1v-1zm33-3v1h1v-1zm11 46v1h1v-1zm-8-4v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm47-5v1h1v-1zm-28 18v1h1v-1zm-22-19v1h1v-1zm33 34v1h1v-1zm-21-23v1h1v-1zm23-17v1h1v-1zm-10 35v1h1v-1zm-21-23v1h1v-1zm33 34v1h1v-1zm-30-23v1h1v-1zm4 6v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-2 39v1h1v-1zm-21-23v1h1v-1zm45 8v1h1v-1zm-37-31v1h1v-1zm41 1v1h1v-1zm-1 35v1h1v-1zm-34 7v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm11 9v1h1v-1zm11 9v1h1v-1zm12 11v1h1v-1zm-42 3v1h1v-1zm20-22v1h1v-1zm-9 31v1h1v-1zm20-22v1h1v-1zm3 11v1h1v-1zm12-26v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm-35 42v1h1v-1zm4-30v1h1v-1zm43-2v1h1v-1zm-42 3v1h1v-1zm22 18v1h1v-1zm3 11v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm-15 20v1h1v-1zm4-30v1h1v-1zm0 36v1h1v-1zm-8-4v1h1v-1zm-18-12v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-10-14v1h1v-1zm-13 30v1h1v-1zm24-15v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-34 7v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1z&quot; /&gt;

    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v07-Q-path-encoding&quot; transform=&quot;scale(22.2222222222)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;45&quot; width=&quot;45&quot; /&gt;&lt;path d=&quot;m7 17v1h1v-1zm11 0v1h1v-1zm8 22v1h1v-1zm1-35v1h1v-1zm-20 31v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm23 2v1h1v-1zm-24 42v1h1v-1zm-10-35v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm29 36v1h1v-1zm11 0v1h1v-1zm-40-27v1h1v-1zm11 0v1h1v-1zm30 10v1h1v-1zm-8 5v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-37-40v1h1v-1zm-2 30v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm1-35v1h1v-1zm34 2v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-3 13v1h1v-1zm-31-6v1h1v-1zm0 9v1h1v-1zm35-33v1h1v-1zm-24 33v1h1v-1zm23 2v1h1v-1zm-34 7v1h1v-1zm35-33v1h1v-1zm-24 33v1h1v-1zm4-39v1h1v-1zm-3 13v1h1v-1zm23 2v1h1v-1zm-20-6v1h1v-1zm-3 13v1h1v-1zm2 19v1h1v-1zm23-17v1h1v-1zm-21-23v1h1v-1zm-19-4v1h1v-1zm6 34v1h1v-1zm24-21v1h1v-1zm-9 19v1h1v-1zm19 4v1h1v-1zm-29-27v1h1v-1zm30 1v1h1v-1zm-35 33v1h1v-1zm27-28v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm19 13v1h1v-1zm-30-41v1h1v-1zm-11 9v1h1v-1zm34 2v1h1v-1zm-34 7v1h1v-1zm0 9v1h1v-1zm11 9v1h1v-1zm1-35v1h1v-1zm23 2v1h1v-1zm-2 30v1h1v-1zm-18-27v1h1v-1zm18 36v1h1v-1zm-10-23v1h1v-1zm-17 24v1h1v-1zm31-22v1h1v-1zm0 9v1h1v-1zm-19-4v1h1v-1zm-10-23v1h1v-1zm-5 34v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm23-35v1h1v-1zm-4 39v1h1v-1zm-7-30v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-39-19v1h1v-1zm23 2v1h1v-1zm-15 11v1h1v-1zm15-2v1h1v-1zm0 9v1h1v-1zm9-22v1h1v-1zm-32 29v1h1v-1zm12-35v1h1v-1zm18 36v1h1v-1zm-10-23v1h1v-1zm3 24v1h1v-1zm-11-28v1h1v-1zm-11 9v1h1v-1zm23-17v1h1v-1zm2 19v1h1v-1zm-10-23v1h1v-1zm18 36v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-10-23v1h1v-1zm11-3v1h1v-1zm-20 31v1h1v-1zm20-22v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-15 11v1h1v-1zm23 11v1h1v-1zm12-35v1h1v-1zm-1 35v1h1v-1zm-34 7v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-11-37v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm16 17v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm34 2v1h1v-1zm-19-4v1h1v-1zm-15 11v1h1v-1zm0 9v1h1v-1zm12-35v1h1v-1zm12 2v1h1v-1zm-32 29v1h1v-1zm1-35v1h1v-1zm40 36v1h1v-1zm-21-23v1h1v-1zm2 19v1h1v-1zm-21-23v1h1v-1zm32 32v1h1v-1zm-32-23v1h1v-1zm13 19v1h1v-1zm20-22v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm-3-24v1h1v-1zm34 2v1h1v-1zm-31 31v1h1v-1zm12-35v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-34 7v1h1v-1zm15-2v1h1v-1zm20-22v1h1v-1zm-20 31v1h1v-1zm23-35v1h1v-1zm-42 3v1h1v-1zm23 2v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm-13 21v1h1v-1zm5-25v1h1v-1zm-13 30v1h1v-1zm-10-23v1h1v-1zm30 1v1h1v-1zm11 9v1h1v-1zm-21-23v1h1v-1zm-9 19v1h1v-1zm-10-23v1h1v-1zm11 0v1h1v-1zm18 36v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-12 4v1h1v-1zm39 4v1h1v-1zm-15-34v1h1v-1zm8 22v1h1v-1zm-27-17v1h1v-1zm8 13v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm0 9v1h1v-1zm-3-24v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm34 2v1h1v-1zm-19-4v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-34 7v1h1v-1zm33-3v1h1v-1zm-6-25v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm6 34v1h1v-1zm-6-25v1h1v-1zm-13 30v1h1v-1zm20-22v1h1v-1zm11 0v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-39 18v1h1v-1zm20-22v1h1v-1zm8 13v1h1v-1zm-16-17v1h1v-1zm27 17v1h1v-1zm-11 9v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-18-39v1h1v-1zm11 9v1h1v-1zm8 13v1h1v-1zm-31-6v1h1v-1zm31 15v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm1-35v1h1v-1zm-23-2v1h1v-1zm34 2v1h1v-1zm-35 42v1h1v-1zm24-33v1h1v-1zm-2 30v1h1v-1zm-21-23v1h1v-1zm36 21v1h1v-1zm-21-23v1h1v-1zm18 8v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm-10-23v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm30 1v1h1v-1zm-12 35v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-42-6v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm16 26v1h1v-1zm11 0v1h1v-1zm-42-6v1h1v-1zm35-33v1h1v-1zm-23 35v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-23 7v1h1v-1zm4-2v1h1v-1zm-3-24v1h1v-1zm34 2v1h1v-1zm-19-4v1h1v-1zm-2 30v1h1v-1zm23 2v1h1v-1zm-12 7v1h1v-1zm9-22v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm-18-39v1h1v-1zm22 0v1h1v-1zm-3 13v1h1v-1zm-28 18v1h1v-1zm9-22v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm27 17v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm1-26v1h1v-1zm-20 31v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm-12 7v1h1v-1zm23 2v1h1v-1zm-19-4v1h1v-1zm18 17v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm34 2v1h1v-1zm-42-6v1h1v-1zm31-22v1h1v-1zm-31 31v1h1v-1zm12-35v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm8 13v1h1v-1zm-16-17v1h1v-1zm27 17v1h1v-1zm-8-4v1h1v-1zm-3 13v1h1v-1zm-16-17v1h1v-1zm27 17v1h1v-1zm-27-8v1h1v-1zm8 13v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm16 17v1h1v-1zm3-4v1h1v-1zm-31 22v1h1v-1zm30 1v1h1v-1zm-18-27v1h1v-1zm-15 11v1h1v-1zm36 21v1h1v-1zm-21-23v1h1v-1zm0 9v1h1v-1zm22-3v1h1v-1zm-29-27v1h1v-1zm29 36v1h1v-1zm-33-25v1h1v-1zm13 28v1h1v-1zm24-33v1h1v-1zm-15 11v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm-20 31v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm12-35v1h1v-1zm-39 18v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm-20 31v1h1v-1zm12-35v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm-1 26v1h1v-1zm9-13v1h1v-1zm-16-17v1h1v-1zm27 17v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm20-22v1h1v-1zm-11 0v1h1v-1zm-28 18v1h1v-1zm-3-24v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm9-22v1h1v-1zm22 0v1h1v-1zm-1 23v1h1v-1zm-18-27v1h1v-1zm-15 11v1h1v-1zm37-5v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm33 25v1h1v-1zm-23 7v1h1v-1zm12-35v1h1v-1zm-1 35v1h1v-1zm-8-4v1h1v-1zm20 6v1h1v-1zm-11-28v1h1v-1zm-19-4v1h1v-1zm22 0v1h1v-1zm-30-4v1h1v-1zm8 13v1h1v-1zm34 2v1h1v-1zm-15 11v1h1v-1zm-27-17v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm12-35v1h1v-1zm10 35v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-30-4v1h1v-1zm12-35v1h1v-1zm-1 35v1h1v-1zm9-22v1h1v-1zm11 0v1h1v-1zm10 23v1h1v-1zm-29-27v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm0 9v1h1v-1zm30 1v1h1v-1zm-10-14v1h1v-1zm13 19v1h1v-1zm-15 11v1h1v-1zm-21-23v1h1v-1zm36 21v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm11 0v1h1v-1zm12 2v1h1v-1zm-12 7v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm0 9v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm-19 5v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm22 0v1h1v-1zm-30-4v1h1v-1zm41 1v1h1v-1zm-21-23v1h1v-1zm11 0v1h1v-1zm-20 31v1h1v-1zm30 1v1h1v-1zm-21-23v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm32 32v1h1v-1zm-19-4v1h1v-1zm9-22v1h1v-1zm-32 29v1h1v-1zm20-22v1h1v-1zm15-2v1h1v-1zm-15 11v1h1v-1zm-19-4v1h1v-1zm34 2v1h1v-1zm-15 11v1h1v-1zm-19-4v1h1v-1zm12-35v1h1v-1zm23 2v1h1v-1zm-24 33v1h1v-1zm12-26v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm12 2v1h1v-1zm-31-6v1h1v-1zm8 13v1h1v-1zm12-35v1h1v-1zm-1 35v1h1v-1zm-8-4v1h1v-1zm24-33v1h1v-1zm-23 7v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm10 23v1h1v-1zm-29-27v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm10 14v1h1v-1zm-29-18v1h1v-1zm30 1v1h1v-1zm-20 22v1h1v-1zm12-17v1h1v-1zm11 0v1h1v-1zm-32-23v1h1v-1zm11 0v1h1v-1zm18 36v1h1v-1zm-37-40v1h1v-1zm6 34v1h1v-1zm34 2v1h1v-1zm-19-4v1h1v-1zm9-22v1h1v-1zm3 5v1h1v-1zm-15 11v1h1v-1zm-19-4v1h1v-1zm34 2v1h1v-1zm-34 7v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm12-35v1h1v-1zm22 37v1h1v-1zm-22-28v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm-3 13v1h1v-1zm27-28v1h1v-1zm-2 30v1h1v-1zm-32-23v1h1v-1zm22 0v1h1v-1zm-19-4v1h1v-1zm-5 34v1h1v-1zm34 2v1h1v-1zm-40-27v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm8 13v1h1v-1zm-39-19v1h1v-1zm8 13v1h1v-1zm12-35v1h1v-1zm11 37v1h1v-1zm-19-32v1h1v-1zm0 9v1h1v-1zm0 9v1h1v-1zm23 2v1h1v-1zm-34 7v1h1v-1zm23-35v1h1v-1zm12 2v1h1v-1zm-24 33v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-7-30v1h1v-1zm11 9v1h1v-1zm9-22v1h1v-1zm13 19v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-10-23v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm30 1v1h1v-1zm-35 33v1h1v-1zm34 2v1h1v-1zm1-26v1h1v-1zm-20 31v1h1v-1zm23-35v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-31-6v1h1v-1zm31 15v1h1v-1zm-39-19v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm24-33v1h1v-1zm-32 29v1h1v-1zm1-35v1h1v-1zm19 13v1h1v-1zm12 2v1h1v-1zm-31-6v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm22 6v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm11 0v1h1v-1zm-1 32v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm4-39v1h1v-1zm-3 13v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-42-6v1h1v-1zm23 2v1h1v-1zm-18 0v1h1v-1zm3 20v1h1v-1zm23 2v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm-15 11v1h1v-1zm12-35v1h1v-1zm12 2v1h1v-1zm-9 31v1h1v-1zm-3-24v1h1v-1zm-20 31v1h1v-1zm12-35v1h1v-1zm23 2v1h1v-1zm-15 11v1h1v-1zm2 19v1h1v-1zm-10-14v1h1v-1zm2 19v1h1v-1zm20-22v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-18-27v1h1v-1zm-9 19v1h1v-1zm27 17v1h1v-1zm-30-32v1h1v-1zm23 2v1h1v-1zm-20 31v1h1v-1zm20-22v1h1v-1zm11 0v1h1v-1zm-34 7v1h1v-1zm15-2v1h1v-1zm8 13v1h1v-1zm12-35v1h1v-1zm-1 35v1h1v-1zm-19-4v1h1v-1zm-15 11v1h1v-1zm35-33v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm8 13v1h1v-1zm-16-17v1h1v-1zm-15 11v1h1v-1zm0 9v1h1v-1zm34 2v1h1v-1zm-42-6v1h1v-1zm23 2v1h1v-1zm-15 11v1h1v-1zm-8-4v1h1v-1zm30 1v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm-19-4v1h1v-1zm40 36v1h1v-1zm-40-27v1h1v-1zm11 0v1h1v-1zm-1 32v1h1v-1zm23-35v1h1v-1zm-12 35v1h1v-1zm-8-4v1h1v-1zm1-26v1h1v-1zm11 0v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm0 9v1h1v-1zm-23 7v1h1v-1zm1-35v1h1v-1zm11 37v1h1v-1zm-11-28v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm-15 11v1h1v-1zm15-2v1h1v-1zm-15 11v1h1v-1zm35-33v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-5 34v1h1v-1zm-6-25v1h1v-1zm-8-4v1h1v-1zm6 34v1h1v-1zm-21-23v1h1v-1zm15-2v1h1v-1zm18-1v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm-9 19v1h1v-1zm11 0v1h1v-1zm19 13v1h1v-1zm-39 9v1h1v-1zm-3-15v1h1v-1zm23 2v1h1v-1zm-10-23v1h1v-1zm21 23v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm12-35v1h1v-1zm-19 5v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm-19-4v1h1v-1zm-4 11v1h1v-1zm31 15v1h1v-1zm4-39v1h1v-1zm-31 31v1h1v-1zm31-22v1h1v-1zm-34 7v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm21 23v1h1v-1zm-32-33v1h1v-1zm34 2v1h1v-1zm-5 34v1h1v-1zm-37-40v1h1v-1zm18 36v1h1v-1zm-10-23v1h1v-1zm2 19v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm41 1v1h1v-1zm-12 26v1h1v-1zm12-17v1h1v-1zm-30-4v1h1v-1zm19 13v1h1v-1zm11 0v1h1v-1zm-42-6v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm1-35v1h1v-1zm-20 31v1h1v-1zm20-22v1h1v-1zm0 9v1h1v-1zm-27-17v1h1v-1zm29 36v1h1v-1zm-33-25v1h1v-1zm4-2v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm-3-24v1h1v-1zm34 2v1h1v-1zm-31 31v1h1v-1zm18-1v1h1v-1zm13-21v1h1v-1zm2 19v1h1v-1zm-21-23v1h1v-1zm6 34v1h1v-1zm-21-23v1h1v-1zm24 19v1h1v-1zm12 2v1h1v-1zm-42 3v1h1v-1zm20-22v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm2 19v1h1v-1zm16 17v1h1v-1zm3-4v1h1v-1zm-10-35v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm-3-24v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm19 4v1h1v-1zm-34 7v1h1v-1zm34 2v1h1v-1zm-3 13v1h1v-1zm-28 9v1h1v-1zm-3-15v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-15 11v1h1v-1zm16-37v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm2-6v1h1v-1zm-21 2v1h1v-1zm-8-4v1h1v-1zm0 9v1h1v-1zm-3-15v1h1v-1zm15-2v1h1v-1zm-13 30v1h1v-1zm22 0v1h1v-1zm12 2v1h1v-1zm-34 7v1h1v-1zm12-35v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm30 4v1h1v-1zm-7-30v1h1v-1zm20-13v1h1v-1zm-31 31v1h1v-1zm8 13v1h1v-1zm23-35v1h1v-1zm-39 18v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm7 39v1h1v-1zm1-26v1h1v-1zm-16-17v1h1v-1zm27 17v1h1v-1zm-42-6v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm16 17v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm19 4v1h1v-1zm-42 3v1h1v-1zm35-24v1h1v-1zm-31-6v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-19-4v1h1v-1zm6 34v1h1v-1zm27-28v1h1v-1zm-15 11v1h1v-1zm-21-23v1h1v-1zm2 19v1h1v-1zm34 2v1h1v-1zm-15 11v1h1v-1zm-27-8v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm12-35v1h1v-1zm10 35v1h1v-1zm-19-4v1h1v-1zm-11 9v1h1v-1zm23-35v1h1v-1zm-3 13v1h1v-1zm-16-17v1h1v-1zm27 17v1h1v-1zm-19-4v1h1v-1zm27 17v1h1v-1zm-24-22v1h1v-1zm8 14v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm8 13v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm2 19v1h1v-1zm-11 3v1h1v-1zm1-26v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm12-35v1h1v-1zm18 36v1h1v-1zm-33-25v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm37-5v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-29-27v1h1v-1zm17 34v1h1v-1zm12 2v1h1v-1zm-31-6v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm-10-35v1h1v-1zm11 9v1h1v-1zm11 0v1h1v-1zm12 2v1h1v-1zm-15 11v1h1v-1zm-19-4v1h1v-1zm34 2v1h1v-1zm-42-6v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm22 0v1h1v-1zm12 2v1h1v-1zm-12 7v1h1v-1zm-10-35v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm-31 22v1h1v-1zm12-26v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm-27-8v1h1v-1zm8 13v1h1v-1zm31-22v1h1v-1zm-39 18v1h1v-1zm20-22v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm12-35v1h1v-1zm6 34v1h1v-1zm-21-23v1h1v-1zm36 21v1h1v-1zm-3 4v1h1v-1zm-18-27v1h1v-1zm-15 11v1h1v-1zm36 21v1h1v-1zm1-35v1h1v-1zm0 18v1h1v-1zm-31-6v1h1v-1zm0 9v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm12-35v1h1v-1zm-20 31v1h1v-1zm1-35v1h1v-1zm34 2v1h1v-1zm-12 7v1h1v-1zm12 2v1h1v-1zm-15 11v1h1v-1zm-27-17v1h1v-1zm8 13v1h1v-1zm34 2v1h1v-1zm-15 11v1h1v-1zm3-4v1h1v-1zm9-22v1h1v-1zm-28 18v1h1v-1zm-3 13v1h1v-1zm23-35v1h1v-1zm-11 0v1h1v-1zm19 13v1h1v-1zm-39 18v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm11 0v1h1v-1zm-1 26v1h1v-1zm-30 5v1h1v-1zm41 1v1h1v-1zm-37-40v1h1v-1zm40 36v1h1v-1zm-32-23v1h1v-1zm11 0v1h1v-1zm11-3v1h1v-1zm-9 31v1h1v-1zm-21-23v1h1v-1zm18 8v1h1v-1zm-21-23v1h1v-1zm36 21v1h1v-1zm-21-23v1h1v-1zm6 34v1h1v-1zm15-2v1h1v-1zm1-35v1h1v-1zm-24 42v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm-8 5v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm-3 13v1h1v-1zm3-4v1h1v-1zm8 13v1h1v-1zm1-35v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-27-17v1h1v-1zm11 0v1h1v-1zm16 26v1h1v-1zm-16-17v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm11 9v1h1v-1zm-19-4v1h1v-1zm9-22v1h1v-1zm13 19v1h1v-1zm-10-23v1h1v-1zm10 32v1h1v-1zm11 0v1h1v-1zm-32-23v1h1v-1zm11 0v1h1v-1zm21 32v1h1v-1zm-10-35v1h1v-1zm-30 8v1h1v-1zm18-1v1h1v-1zm12 2v1h1v-1zm3-4v1h1v-1zm-15 11v1h1v-1zm12 2v1h1v-1zm-31-6v1h1v-1zm19 13v1h1v-1zm12 11v1h1v-1zm-31-6v1h1v-1zm12-35v1h1v-1zm11 0v1h1v-1zm12 2v1h1v-1zm-24 33v1h1v-1zm23 2v1h1v-1zm-11-28v1h1v-1zm-8-4v1h1v-1z&quot; /&gt;

    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v05-Q-short-path&quot; transform=&quot;scale(27.02702702)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;37&quot; width=&quot;37&quot; /&gt;&lt;path d=&quot;m15 21v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm0 9v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm3-4v1h1v-1zm-3 13v1h1v-1zm2 19v1h1v-1zm-10-23v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm0 9v1h1v-1zm33-3v1h1v-1zm-23 7v1h1v-1zm15-2v1h1v-1zm-21-23v1h1v-1zm30 1v1h1v-1zm-24 33v1h1v-1zm-8-4v1h1v-1zm23 2v1h1v-1zm-3-24v1h1v-1zm-19-4v1h1v-1zm31 15v1h1v-1zm-20-6v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm1-26v1h1v-1zm11 9v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-10-17v1h1v-1zm22 0v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm-5 34v1h1v-1zm23 2v1h1v-1zm-29-27v1h1v-1zm33-3v1h1v-1zm0 9v1h1v-1zm-23 7v1h1v-1zm15-2v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm12-35v1h1v-1zm8 13v1h1v-1zm12 2v1h1v-1zm-31-6v1h1v-1zm31 15v1h1v-1zm-31-6v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm12-17v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm3-7v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm12-8v1h1v-1zm-23 7v1h1v-1zm15 7v1h1v-1zm9-22v1h1v-1zm-20 3v1h1v-1zm-11 9v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm22-3v1h1v-1zm-10-23v1h1v-1zm-9 19v1h1v-1zm11 0v1h1v-1zm-10-23v1h1v-1zm-11 9v1h1v-1zm2 19v1h1v-1zm20-22v1h1v-1zm-23 16v1h1v-1zm0 9v1h1v-1zm4-30v1h1v-1zm-8 14v1h1v-1zm23 2v1h1v-1zm-15 11v1h1v-1zm24-24v1h1v-1zm-31-6v1h1v-1zm29 36v1h1v-1zm-8-4v1h1v-1zm-10-23v1h1v-1zm22 24v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-23 7v1h1v-1zm4-2v1h1v-1zm-3-24v1h1v-1zm23 11v1h1v-1zm-23 7v1h1v-1zm15-2v1h1v-1zm12-26v1h1v-1zm-23 7v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm-8-4v1h1v-1zm0 9v1h1v-1zm30 1v1h1v-1zm-10-23v1h1v-1zm2 19v1h1v-1zm11 0v1h1v-1zm-32-23v1h1v-1zm11 0v1h1v-1zm-1 32v1h1v-1zm23-35v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm-19 5v1h1v-1zm-4 11v1h1v-1zm23 2v1h1v-1zm-19-4v1h1v-1zm8 13v1h1v-1zm-11-28v1h1v-1zm0 9v1h1v-1zm15-2v1h1v-1zm-15 20v1h1v-1zm4-30v1h1v-1zm23 2v1h1v-1zm-13 30v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm22-3v1h1v-1zm-8 5v1h1v-1zm-11 9v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm23-26v1h1v-1zm-20 31v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-31-6v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-3-24v1h1v-1zm3 33v1h1v-1zm20-22v1h1v-1zm-23 7v1h1v-1zm14 2v1h1v-1zm-10-14v1h1v-1zm2 19v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm30 1v1h1v-1zm-30 8v1h1v-1zm30 1v1h1v-1zm-28 18v1h1v-1zm9-22v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-31-6v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-31-6v1h1v-1zm34 2v1h1v-1zm-22 9v1h1v-1zm23-35v1h1v-1zm-1 35v1h1v-1zm1-26v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm-4 11v1h1v-1zm12 2v1h1v-1zm-12 7v1h1v-1zm1-26v1h1v-1zm15-2v1h1v-1zm-13 30v1h1v-1zm11 0v1h1v-1zm1-17v1h1v-1zm-8 5v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-19 5v1h1v-1zm9-22v1h1v-1zm22 0v1h1v-1zm-3 13v1h1v-1zm-19-4v1h1v-1zm3-4v1h1v-1zm-15 11v1h1v-1zm12 2v1h1v-1zm22 0v1h1v-1zm1-26v1h1v-1zm-20 31v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm-19-4v1h1v-1zm0 9v1h1v-1zm18 17v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm1-35v1h1v-1zm-20 31v1h1v-1zm12-26v1h1v-1zm0 9v1h1v-1zm8 13v1h1v-1zm-16-17v1h1v-1zm27 17v1h1v-1zm-8-4v1h1v-1zm9-22v1h1v-1zm-8 5v1h1v-1zm8 13v1h1v-1zm-16-17v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm11 0v1h1v-1zm-19 5v1h1v-1zm-1 4v1h1v-1zm11 0v1h1v-1zm-18-21v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm-11 9v1h1v-1zm23-35v1h1v-1zm-12 35v1h1v-1zm9-22v1h1v-1zm3-4v1h1v-1zm-3 13v1h1v-1zm-16-17v1h1v-1zm27 17v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm8 13v1h1v-1zm20-22v1h1v-1zm-28 18v1h1v-1zm-3-24v1h1v-1zm23 2v1h1v-1zm-20 31v1h1v-1zm31-22v1h1v-1zm-19 5v1h1v-1zm-1 4v1h1v-1zm0 9v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm2 19v1h1v-1zm1-17v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-11 9v1h1v-1zm22 0v1h1v-1zm-19-4v1h1v-1zm-3 13v1h1v-1zm12-35v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm11 0v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm-3 13v1h1v-1zm3-4v1h1v-1zm-11 9v1h1v-1zm22 6v1h1v-1zm-10-23v1h1v-1zm11 0v1h1v-1zm-13 30v1h1v-1zm-19-4v1h1v-1zm12-17v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm3-4v1h1v-1zm-3 13v1h1v-1zm3-4v1h1v-1zm9-22v1h1v-1zm3-4v1h1v-1zm-22 9v1h1v-1zm22 0v1h1v-1zm-22 9v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-11 9v1h1v-1zm12-35v1h1v-1zm0 9v1h1v-1zm11 9v1h1v-1zm-1 4v1h1v-1zm12 2v1h1v-1zm-12 7v1h1v-1zm-19 5v1h1v-1zm12-35v1h1v-1zm-1 35v1h1v-1zm1-26v1h1v-1zm3-4v1h1v-1zm-3 22v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-27 1v1h1v-1zm19 13v1h1v-1zm0 9v1h1v-1zm-7-21v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm6 34v1h1v-1zm-6-25v1h1v-1zm18 8v1h1v-1zm12 2v1h1v-1zm-31-6v1h1v-1zm31 15v1h1v-1zm-20-6v1h1v-1zm8 13v1h1v-1zm-7-21v1h1v-1zm3-4v1h1v-1zm-11 9v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm1-26v1h1v-1zm22 0v1h1v-1zm0 9v1h1v-1zm-30 5v1h1v-1zm11 0v1h1v-1zm22 6v1h1v-1zm-8-4v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-3-24v1h1v-1zm12 2v1h1v-1zm-31 3v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm4-21v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm-19 5v1h1v-1zm20-22v1h1v-1zm3 5v1h1v-1zm-30-4v1h1v-1zm6 34v1h1v-1zm15-2v1h1v-1zm4-30v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm24-33v1h1v-1zm-9 31v1h1v-1zm-3-24v1h1v-1zm12 2v1h1v-1zm-31-6v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm0 9v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm4-30v1h1v-1zm18 36v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm11 0v1h1v-1zm-12 13v1h1v-1zm0 9v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm-11-28v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm0 9v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm9-22v1h1v-1zm-32 29v1h1v-1zm30 1v1h1v-1zm-7 1v1h1v-1zm-3-24v1h1v-1zm0 9v1h1v-1zm-19-4v1h1v-1zm0 9v1h1v-1zm33-3v1h1v-1zm-19-4v1h1v-1zm0 18v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-3-24v1h1v-1zm23 11v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm15-2v1h1v-1zm-19-23v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm8 13v1h1v-1zm22-3v1h1v-1zm-10-23v1h1v-1zm-9 19v1h1v-1zm-10-23v1h1v-1zm32 32v1h1v-1zm-21-23v1h1v-1zm3 2v1h1v-1zm-12 7v1h1v-1zm12 2v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-22-28v1h1v-1zm15-2v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm4-30v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm15-2v1h1v-1zm-23 7v1h1v-1zm30 1v1h1v-1zm-7 1v1h1v-1zm7 8v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-22 9v1h1v-1zm1-23v1h1v-1zm2 19v1h1v-1zm-15 11v1h1v-1zm35-33v1h1v-1zm0 9v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm12-26v1h1v-1zm-15 11v1h1v-1zm15-2v1h1v-1zm-19-14v1h1v-1zm8 13v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm30 1v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm-11 0v1h1v-1zm19 13v1h1v-1zm-16-17v1h1v-1zm-15 11v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm11 9v1h1v-1zm-19-4v1h1v-1zm1-17v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm-4 11v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-22-28v1h1v-1zm3 33v1h1v-1zm12-26v1h1v-1zm-15 11v1h1v-1zm14 2v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm-18-27v1h1v-1zm2 19v1h1v-1zm8 13v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm-20 31v1h1v-1zm19 4v1h1v-1zm-22-28v1h1v-1zm12 2v1h1v-1zm3-4v1h1v-1zm-15 11v1h1v-1zm12 2v1h1v-1zm22 0v1h1v-1zm-19-4v1h1v-1zm16 17v1h1v-1zm-8-4v1h1v-1zm12-26v1h1v-1zm-8 5v1h1v-1zm8 13v1h1v-1zm-31-6v1h1v-1zm4-2v1h1v-1zm-4 11v1h1v-1zm1-17v1h1v-1zm2 19v1h1v-1zm-8 5v1h1v-1zm31-22v1h1v-1zm0 9v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-19 5v1h1v-1zm11 0v1h1v-1zm-20 31v1h1v-1zm20-22v1h1v-1zm8 13v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-15 11v1h1v-1zm15-2v1h1v-1zm20-22v1h1v-1zm-31-6v1h1v-1zm12 2v1h1v-1zm-12 7v1h1v-1zm0 9v1h1v-1zm4-2v1h1v-1zm-3-15v1h1v-1zm13 19v1h1v-1zm-11 9v1h1v-1zm-8-4v1h1v-1zm20-22v1h1v-1zm-20 31v1h1v-1zm11 0v1h1v-1zm12-26v1h1v-1zm-19-4v1h1v-1zm8 22v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm-28 18v1h1v-1zm8 13v1h1v-1zm23-35v1h1v-1zm-12 35v1h1v-1zm9-22v1h1v-1zm2 19v1h1v-1zm-33-16v1h1v-1zm34 2v1h1v-1zm-19-4v1h1v-1zm-15 11v1h1v-1zm15-2v1h1v-1zm-1 4v1h1v-1zm11 0v1h1v-1zm-17-25v1h1v-1zm6 34v1h1v-1zm3-4v1h1v-1zm-10-26v1h1v-1zm0 9v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm19 13v1h1v-1zm1-26v1h1v-1zm0 9v1h1v-1zm0 9v1h1v-1zm-16-17v1h1v-1zm19 13v1h1v-1zm0 9v1h1v-1zm-10-26v1h1v-1zm21 32v1h1v-1zm-33-25v1h1v-1zm15-2v1h1v-1zm-15 11v1h1v-1zm25 2v1h1v-1zm-19-4v1h1v-1zm8 13v1h1v-1zm3-4v1h1v-1zm9-22v1h1v-1zm3-4v1h1v-1zm-22 9v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-16-17v1h1v-1zm19 13v1h1v-1zm-30-4v1h1v-1zm20-22v1h1v-1zm-20 31v1h1v-1zm11 0v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-19 5v1h1v-1zm18 8v1h1v-1zm12 2v1h1v-1zm-33-25v1h1v-1zm2 28v1h1v-1zm11 0v1h1v-1zm1-26v1h1v-1zm11 9v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm-9 31v1h1v-1zm-10-26v1h1v-1zm22 0v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm11 0v1h1v-1zm2 19v1h1v-1zm-21-23v1h1v-1zm21 32v1h1v-1zm1-26v1h1v-1zm-30 8v1h1v-1zm30 1v1h1v-1zm0 9v1h1v-1zm-31-6v1h1v-1zm11 9v1h1v-1zm12-26v1h1v-1z&quot; /&gt;

    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v02-Q-optimized-tiny&quot; transform=&quot;scale(40)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;25&quot; width=&quot;25&quot; /&gt;&lt;path d=&quot;m19 0v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm0 9v1h1v-1zm0 9v1h1v-1zm11 0v1h1v-1zm-7-21v1h1v-1zm18 8v1h1v-1zm-19-4v1h1v-1zm0 9v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm12-17v1h1v-1zm3-4v1h1v-1zm0 9v1h1v-1zm0 9v1h1v-1zm-18-21v1h1v-1zm10 22v1h1v-1zm4-21v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm12-8v1h1v-1zm-8 14v1h1v-1zm11 0v1h1v-1zm-7-12v1h1v-1zm-1 4v1h1v-1zm-8 14v1h1v-1zm20-22v1h1v-1zm0 18v1h1v-1zm-8 5v1h1v-1zm4-21v1h1v-1zm-11 9v1h1v-1zm-1 13v1h1v-1zm4-21v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm12-17v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm3 2v1h1v-1zm-11-10v1h1v-1zm15-2v1h1v-1zm-15 11v1h1v-1zm15-2v1h1v-1zm-11-10v1h1v-1zm-8-4v1h1v-1zm0 18v1h1v-1zm1-17v1h1v-1zm11 0v1h1v-1zm3 11v1h1v-1zm-8 5v1h1v-1zm-3-15v1h1v-1zm15-2v1h1v-1zm-15 11v1h1v-1zm0 9v1h1v-1zm15-2v1h1v-1zm-11-19v1h1v-1zm-8 14v1h1v-1zm22-3v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm-7 6v1h1v-1zm-3-24v1h1v-1zm0 18v1h1v-1zm14 2v1h1v-1zm-10-14v1h1v-1zm-8-4v1h1v-1zm0 9v1h1v-1zm11-3v1h1v-1zm11 9v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm15-2v1h1v-1zm-7-21v1h1v-1zm-3 3v1h1v-1zm15-2v1h1v-1zm-1 13v1h1v-1zm3 5v1h1v-1zm1-17v1h1v-1zm-23 7v1h1v-1zm12 2v1h1v-1zm0 9v1h1v-1zm3-4v1h1v-1zm-7-3v1h1v-1zm11-4v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-3-6v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm-8 1v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm12-17v1h1v-1zm8 13v1h1v-1zm-16-8v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm0 9v1h1v-1zm-3-24v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm15-2v1h1v-1zm-1 4v1h1v-1zm-10-14v1h1v-1zm14 2v1h1v-1zm-19-4v1h1v-1zm8 13v1h1v-1zm-8 5v1h1v-1zm20-22v1h1v-1zm0 9v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm20-4v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm14 2v1h1v-1zm0 9v1h1v-1zm3-4v1h1v-1zm-10-17v1h1v-1zm0 9v1h1v-1zm12-8v1h1v-1zm3-4v1h1v-1zm-3 13v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm-1 4v1h1v-1zm-7-12v1h1v-1zm3-4v1h1v-1zm0 9v1h1v-1zm-10-8v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm0 9v1h1v-1zm11 0v1h1v-1zm1-17v1h1v-1zm-8-4v1h1v-1zm0 9v1h1v-1zm18 8v1h1v-1zm-19-4v1h1v-1zm0 9v1h1v-1zm12-17v1h1v-1zm3-4v1h1v-1zm0 9v1h1v-1zm-10 1v1h1v-1zm11 0v1h1v-1zm-19 5v1h1v-1zm11 0v1h1v-1zm-1 4v1h1v-1zm12-17v1h1v-1zm-8 5v1h1v-1zm0 9v1h1v-1zm1-17v1h1v-1zm3 5v1h1v-1zm-3 13v1h1v-1zm3-4v1h1v-1zm1-8v1h1v-1zm-19-4v1h1v-1zm10 13v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm1-17v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm0 9v1h1v-1zm12-17v1h1v-1zm3-4v1h1v-1zm0 18v1h1v-1zm3-7v1h1v-1zm-15 11v1h1v-1zm-4-16v1h1v-1zm0 9v1h1v-1zm0 9v1h1v-1zm20-22v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm4-3v1h1v-1zm-12 4v1h1v-1zm15-2v1h1v-1zm0 9v1h1v-1zm0 9v1h1v-1zm-11-19v1h1v-1zm12 1v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm3 11v1h1v-1zm0 9v1h1v-1zm-11-19v1h1v-1zm0 9v1h1v-1zm0 9v1h1v-1zm4-12v1h1v-1zm0 9v1h1v-1zm4-12v1h1v-1zm-5-2v1h1v-1zm-4 11v1h1v-1zm4-2v1h1v-1zm-4 11v1h1v-1zm1-8v1h1v-1zm4-12v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm0 9v1h1v-1zm22 6v1h1v-1zm-8-4v1h1v-1zm1-8v1h1v-1zm-8 5v1h1v-1zm-3-15v1h1v-1zm15-2v1h1v-1zm0 9v1h1v-1zm-15 11v1h1v-1zm6-2v1h1v-1zm-10-14v1h1v-1zm11-3v1h1v-1zm11 0v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm0 9v1h1v-1zm0 9v1h1v-1zm1-8v1h1v-1zm-8 5v1h1v-1zm-3-15v1h1v-1zm15-2v1h1v-1zm-1 13v1h1v-1zm-8-4v1h1v-1zm11 9v1h1v-1zm-19-4v1h1v-1zm20-13v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm12 11v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm-11-19v1h1v-1zm4 7v1h1v-1zm-4 11v1h1v-1zm1-17v1h1v-1zm13 19v1h1v-1zm1-17v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-16-17v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm0 9v1h1v-1zm20-22v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm-11-1v1h1v-1zm3-7v1h1v-1zm11 9v1h1v-1zm-19 5v1h1v-1zm12-17v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-10-8v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm14 11v1h1v-1zm-15-16v1h1v-1zm11 9v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm-16 1v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-19 5v1h1v-1zm-3-15v1h1v-1zm6 7v1h1v-1zm11 9v1h1v-1zm-10-17v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm9-13v1h1v-1zm-8-4v1h1v-1zm10 13v1h1v-1zm0 9v1h1v-1zm-19-4v1h1v-1zm12-8v1h1v-1zm3-4v1h1v-1z&quot; /&gt;

    &lt;/g&gt;
    &lt;g id=&quot;qr-code-v07-Q-signed&quot; transform=&quot;scale(22.2222222222)&quot;&gt;
      &lt;rect fill=&quot;#fff&quot; height=&quot;45&quot; width=&quot;45&quot; /&gt;&lt;path d=&quot;m26 21v1h1v-1zm-8 5v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm-10-35v1h1v-1zm22 0v1h1v-1zm12 2v1h1v-1zm-13 30v1h1v-1zm-11 12v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm12 2v1h1v-1zm-42-6v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-1 23v1h1v-1zm-29-27v1h1v-1zm11 0v1h1v-1zm30 1v1h1v-1zm-1 26v1h1v-1zm-29-18v1h1v-1zm30 1v1h1v-1zm3-4v1h1v-1zm-3 22v1h1v-1zm-37-40v1h1v-1zm29 36v1h1v-1zm11 0v1h1v-1zm-42-6v1h1v-1zm20-22v1h1v-1zm12 2v1h1v-1zm-32 29v1h1v-1zm1-35v1h1v-1zm34 2v1h1v-1zm-15 11v1h1v-1zm12 2v1h1v-1zm3-4v1h1v-1zm-34 7v1h1v-1zm34 2v1h1v-1zm1-26v1h1v-1zm-35 42v1h1v-1zm12-35v1h1v-1zm23 2v1h1v-1zm-24 33v1h1v-1zm1-26v1h1v-1zm23 2v1h1v-1zm-31-6v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-9 19v1h1v-1zm12-17v1h1v-1zm-10-23v1h1v-1zm11 0v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm19 13v1h1v-1zm-9 19v1h1v-1zm-15 2v1h1v-1zm5-25v1h1v-1zm30 1v1h1v-1zm-1 26v1h1v-1zm-19 5v1h1v-1zm-15 2v1h1v-1zm35-24v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-8-4v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-42-6v1h1v-1zm31 15v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-11-37v1h1v-1zm0 9v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm0 9v1h1v-1zm0 9v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm12 2v1h1v-1zm-2 30v1h1v-1zm-18-27v1h1v-1zm10 32v1h1v-1zm-10-23v1h1v-1zm11 6v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm-10-23v1h1v-1zm-5 34v1h1v-1zm34 2v1h1v-1zm-19-4v1h1v-1zm23-35v1h1v-1zm-44 42v1h1v-1zm10-35v1h1v-1zm23 2v1h1v-1zm11 9v1h1v-1zm-3 13v1h1v-1zm-16-17v1h1v-1zm-15 20v1h1v-1zm12-35v1h1v-1zm-20 31v1h1v-1zm23 2v1h1v-1zm-15 11v1h1v-1zm-8-4v1h1v-1zm23 2v1h1v-1zm-22-28v1h1v-1zm11 0v1h1v-1zm23 2v1h1v-1zm-34 7v1h1v-1zm11 9v1h1v-1zm22-3v1h1v-1zm-10-23v1h1v-1zm2 19v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm-10-23v1h1v-1zm11 0v1h1v-1zm-9 19v1h1v-1zm20-13v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm1-35v1h1v-1zm-20 31v1h1v-1zm-15 11v1h1v-1zm34 2v1h1v-1zm-19-4v1h1v-1zm-11-37v1h1v-1zm34 2v1h1v-1zm-19-4v1h1v-1zm-15 11v1h1v-1zm34 2v1h1v-1zm-34 7v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-34 7v1h1v-1zm12-26v1h1v-1zm12 2v1h1v-1zm-32 29v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-9 19v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm11 0v1h1v-1zm18 27v1h1v-1zm11 0v1h1v-1zm-30 5v1h1v-1zm-10-23v1h1v-1zm11 0v1h1v-1zm21 23v1h1v-1zm1-26v1h1v-1zm0 9v1h1v-1zm-31 3v1h1v-1zm31 15v1h1v-1zm-19-4v1h1v-1zm12-35v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm-3-24v1h1v-1zm34 2v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-34 7v1h1v-1zm15-2v1h1v-1zm20-22v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-31-6v1h1v-1zm34 2v1h1v-1zm-42-6v1h1v-1zm18 36v1h1v-1zm-18-18v1h1v-1zm41 1v1h1v-1zm-41 8v1h1v-1zm30 1v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm2 19v1h1v-1zm11 0v1h1v-1zm-32-23v1h1v-1zm11 0v1h1v-1zm-1 32v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-12 4v1h1v-1zm12 5v1h1v-1zm12-35v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm-4 11v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm8 13v1h1v-1zm-11-37v1h1v-1zm23 2v1h1v-1zm-1 35v1h1v-1zm-22-28v1h1v-1zm34 2v1h1v-1zm-11 9v1h1v-1zm13 19v1h1v-1zm-36-12v1h1v-1zm15-2v1h1v-1zm2 10v1h1v-1zm8 0v1h1v-1zm13-36v1h1v-1zm-19-4v1h1v-1zm-5 34v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm1-26v1h1v-1zm11 0v1h1v-1zm-30-4v1h1v-1zm30 13v1h1v-1zm-39 18v1h1v-1zm9-22v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm27 17v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-16-17v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-31-6v1h1v-1zm12 2v1h1v-1zm-8 5v1h1v-1zm8 13v1h1v-1zm12-35v1h1v-1zm-23-2v1h1v-1zm34 2v1h1v-1zm-12 35v1h1v-1zm-23 7v1h1v-1zm24-33v1h1v-1zm-23 7v1h1v-1zm15-2v1h1v-1zm18 8v1h1v-1zm-19-4v1h1v-1zm-10-14v1h1v-1zm2 19v1h1v-1zm-10-23v1h1v-1zm18 36v1h1v-1zm11 0v1h1v-1zm-29-27v1h1v-1zm30 1v1h1v-1zm-9 31v1h1v-1zm-10-35v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm3-4v1h1v-1zm-3 13v1h1v-1zm-16-17v1h1v-1zm-15 11v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm27 17v1h1v-1zm-30-4v1h1v-1zm23-35v1h1v-1zm-1 35v1h1v-1zm-19-4v1h1v-1zm-3 13v1h1v-1zm23-35v1h1v-1zm-20 31v1h1v-1zm12-35v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm0 9v1h1v-1zm-3-24v1h1v-1zm34 2v1h1v-1zm2 19v1h1v-1zm-23 16v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm9-22v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm3-4v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm1-35v1h1v-1zm22 0v1h1v-1zm-31 31v1h1v-1zm31-22v1h1v-1zm-19-4v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm27 17v1h1v-1zm-8-4v1h1v-1zm-19-4v1h1v-1zm20-22v1h1v-1zm-20 31v1h1v-1zm20-22v1h1v-1zm-9 9v1h1v-1zm15-2v1h1v-1zm-12 7v1h1v-1zm12 2v1h1v-1zm-12 7v1h1v-1zm1-35v1h1v-1zm-31 31v1h1v-1zm11 0v1h1v-1zm20-22v1h1v-1zm-31 31v1h1v-1zm12-35v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm8 13v1h1v-1zm3-4v1h1v-1zm-3 13v1h1v-1zm-16-17v1h1v-1zm27 17v1h1v-1zm1-26v1h1v-1zm-20 31v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm27 17v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm-31 22v1h1v-1zm12-26v1h1v-1zm18 27v1h1v-1zm-10-14v1h1v-1zm11 0v1h1v-1zm2 19v1h1v-1zm-21-23v1h1v-1zm-15 11v1h1v-1zm8-32v1h1v-1zm6 34v1h1v-1zm23 2v1h1v-1zm-29-27v1h1v-1zm17 34v1h1v-1zm-8-4v1h1v-1zm24-33v1h1v-1zm-15 11v1h1v-1zm-8-4v1h1v-1zm23 2v1h1v-1zm-34 7v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm-12 35v1h1v-1zm-8-4v1h1v-1zm23 2v1h1v-1zm-3-24v1h1v-1zm-39 18v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm23-35v1h1v-1zm-12 35v1h1v-1zm19 4v1h1v-1zm-7-30v1h1v-1zm-3 13v1h1v-1zm-16-17v1h1v-1zm27 17v1h1v-1zm-11 9v1h1v-1zm-16-17v1h1v-1zm19 13v1h1v-1zm9-22v1h1v-1zm11 0v1h1v-1zm-39 18v1h1v-1zm-3-24v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm-3-24v1h1v-1zm12 2v1h1v-1zm22 0v1h1v-1zm-19-4v1h1v-1zm18 27v1h1v-1zm-33-16v1h1v-1zm37 4v1h1v-1zm-23 7v1h1v-1zm-10-23v1h1v-1zm13 19v1h1v-1zm8 13v1h1v-1zm12 2v1h1v-1zm-11-28v1h1v-1zm-19-4v1h1v-1zm34 2v1h1v-1zm-15 11v1h1v-1zm-27-17v1h1v-1zm8 13v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm12-35v1h1v-1zm10 35v1h1v-1zm9-22v1h1v-1zm-39 18v1h1v-1zm20-22v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm11 0v1h1v-1zm30 1v1h1v-1zm-21-23v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-8 5v1h1v-1zm20-22v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm6 34v1h1v-1zm-21-23v1h1v-1zm36 21v1h1v-1zm-3 4v1h1v-1zm-31 3v1h1v-1zm17-1v1h1v-1zm-13-20v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm12 2v1h1v-1zm-31-6v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm-22 9v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm31 6v1h1v-1zm-34 7v1h1v-1zm22 0v1h1v-1zm-3 4v1h1v-1zm-16-8v1h1v-1zm8 13v1h1v-1zm22-3v1h1v-1zm-21-23v1h1v-1zm-9 31v1h1v-1zm12-35v1h1v-1zm18 36v1h1v-1zm-21-23v1h1v-1zm11 0v1h1v-1zm2 19v1h1v-1zm-10-23v1h1v-1zm21 23v1h1v-1zm-40-18v1h1v-1zm30 1v1h1v-1zm-32 29v1h1v-1zm20-22v1h1v-1zm15-2v1h1v-1zm-15 11v1h1v-1zm12 2v1h1v-1zm-20-6v1h1v-1zm23 2v1h1v-1zm-15 11v1h1v-1zm12 2v1h1v-1zm-31-6v1h1v-1zm35-33v1h1v-1zm-24 33v1h1v-1zm1-26v1h1v-1zm11 0v1h1v-1zm12 2v1h1v-1zm-20-6v1h1v-1zm0 9v1h1v-1zm-11 9v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-8-4v1h1v-1zm35-33v1h1v-1zm-24 42v1h1v-1zm24-33v1h1v-1zm-15 11v1h1v-1zm-27-17v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm21 23v1h1v-1zm-29-27v1h1v-1zm19 13v1h1v-1zm-9 19v1h1v-1zm20-22v1h1v-1zm0 9v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm2 19v1h1v-1zm16 17v1h1v-1zm-37-40v1h1v-1zm6 34v1h1v-1zm15 7v1h1v-1zm-3-24v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm23 11v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-15 11v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm23 2v1h1v-1zm-19-41v1h1v-1zm-3 13v1h1v-1zm23 2v1h1v-1zm-20-6v1h1v-1zm-3 13v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm12-26v1h1v-1zm23 2v1h1v-1zm-34 7v1h1v-1zm11 0v1h1v-1zm-13 30v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-40-27v1h1v-1zm41 1v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-34 7v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-3 13v1h1v-1zm-39-19v1h1v-1zm8 13v1h1v-1zm23 2v1h1v-1zm-8-4v1h1v-1zm9-22v1h1v-1zm-31 3v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm15-2v1h1v-1zm-34 7v1h1v-1zm35-33v1h1v-1zm-35 42v1h1v-1zm12-35v1h1v-1zm11 0v1h1v-1zm-12 35v1h1v-1zm4-39v1h1v-1zm18 36v1h1v-1zm-9-40v1h1v-1zm2 19v1h1v-1zm11 0v1h1v-1zm-11 9v1h1v-1zm1-23v1h1v-1zm-30-4v1h1v-1zm41 1v1h1v-1zm-35 33v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-19 5v1h1v-1zm23-35v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-11 9v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-42-6v1h1v-1zm23 2v1h1v-1zm-15 11v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm12 2v1h1v-1zm-31-6v1h1v-1zm11 0v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm22 6v1h1v-1zm-21-23v1h1v-1zm11 0v1h1v-1zm10 32v1h1v-1zm-10-23v1h1v-1zm-9 19v1h1v-1zm-10-23v1h1v-1zm10 32v1h1v-1zm12-26v1h1v-1zm-23 7v1h1v-1zm34 2v1h1v-1zm-19-4v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-7-39v1h1v-1zm11 0v1h1v-1zm-34 7v1h1v-1zm23 2v1h1v-1zm8 13v1h1v-1zm-39-19v1h1v-1zm5 2v1h1v-1zm26 13v1h1v-1zm-8-4v1h1v-1zm19 13v1h1v-1zm-10-26v1h1v-1zm-2 30v1h1v-1zm-10-23v1h1v-1zm-20 31v1h1v-1zm35-33v1h1v-1zm-15 11v1h1v-1zm2 19v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm0 9v1h1v-1zm2 19v1h1v-1zm20-22v1h1v-1zm-18-18v1h1v-1zm18 36v1h1v-1zm-8-4v1h1v-1zm-19-4v1h1v-1zm-3-24v1h1v-1zm3 33v1h1v-1zm31-22v1h1v-1zm-34 7v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm-20 31v1h1v-1zm-15 11v1h1v-1zm35-33v1h1v-1zm0 9v1h1v-1zm-39-10v1h1v-1zm8 13v1h1v-1zm33 6v1h1v-1zm-21-23v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm18 36v1h1v-1zm-8-4v1h1v-1zm11 0v1h1v-1zm-21-23v1h1v-1zm29 27v1h1v-1zm-30 5v1h1v-1zm22 0v1h1v-1zm-19-4v1h1v-1zm20-13v1h1v-1zm-31-6v1h1v-1zm12 11v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm-4 11v1h1v-1zm1-35v1h1v-1zm0 9v1h1v-1zm34 11v1h1v-1zm-34 7v1h1v-1zm15-2v1h1v-1zm-15 11v1h1v-1zm35-33v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-5 34v1h1v-1zm5-25v1h1v-1zm-19-4v1h1v-1zm-5 34v1h1v-1zm11 0v1h1v-1zm-6-25v1h1v-1zm18-1v1h1v-1zm-41 8v1h1v-1zm41 1v1h1v-1zm-39 18v1h1v-1zm20-22v1h1v-1zm8 13v1h1v-1zm-31-6v1h1v-1zm12 2v1h1v-1zm1-23v1h1v-1zm2 19v1h1v-1zm8 4v1h1v-1zm0 9v1h1v-1zm12-35v1h1v-1zm-1 35v1h1v-1zm-3 4v1h1v-1zm11 0v1h1v-1zm-26-34v1h1v-1zm19 13v1h1v-1zm-27-17v1h1v-1zm-4 11v1h1v-1zm31 15v1h1v-1zm-31-6v1h1v-1zm12 2v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm19 13v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm-34 7v1h1v-1zm36 21v1h1v-1zm-21-23v1h1v-1zm18 17v1h1v-1zm-19-4v1h1v-1zm-10-23v1h1v-1zm34 2v1h1v-1zm-5 34v1h1v-1zm-37-40v1h1v-1zm23 2v1h1v-1zm-15 11v1h1v-1zm2 19v1h1v-1zm8 4v1h1v-1zm23-26v1h1v-1zm-20 31v1h1v-1zm20-22v1h1v-1zm-19-4v1h1v-1zm-8-4v1h1v-1zm-15 11v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-8-4v1h1v-1zm19 4v1h1v-1zm-34 7v1h1v-1zm12 2v1h1v-1zm22 0v1h1v-1zm-3 4v1h1v-1zm-19 5v1h1v-1zm23-35v1h1v-1zm-12 35v1h1v-1zm11 0v1h1v-1zm1-26v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm29 36v1h1v-1zm-21-23v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-22-28v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm21 32v1h1v-1zm-21-23v1h1v-1zm-15 11v1h1v-1zm24 19v1h1v-1zm9-22v1h1v-1zm-39 27v1h1v-1zm20-22v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm19 13v1h1v-1zm-16-17v1h1v-1zm-21-23v1h1v-1zm30 1v1h1v-1zm-28 18v1h1v-1zm8 13v1h1v-1zm12-35v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-39 18v1h1v-1zm19 4v1h1v-1zm-22-28v1h1v-1zm12 2v1h1v-1zm22 0v1h1v-1zm-19-4v1h1v-1zm16 17v1h1v-1zm-19-4v1h1v-1zm22 0v1h1v-1zm8 4v1h1v-1zm-11 9v1h1v-1zm-28 9v1h1v-1zm20-13v1h1v-1zm-23 7v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-34 7v1h1v-1zm15-2v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-31-6v1h1v-1zm23 2v1h1v-1zm-19-4v1h1v-1zm-4 20v1h1v-1zm1-26v1h1v-1zm2 19v1h1v-1zm13-21v1h1v-1zm6 34v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm20-22v1h1v-1zm-39 18v1h1v-1zm8 13v1h1v-1zm12-35v1h1v-1zm-1 35v1h1v-1zm-19-4v1h1v-1zm23-26v1h1v-1zm-11 24v1h1v-1zm19-11v1h1v-1zm0 9v1h1v-1zm12-35v1h1v-1zm-20 31v1h1v-1zm8 13v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-16-17v1h1v-1zm27 17v1h1v-1zm-42-6v1h1v-1zm23 2v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm16 17v1h1v-1zm-31-6v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-23 7v1h1v-1zm15-2v1h1v-1zm20-22v1h1v-1zm2 19v1h1v-1zm-33-25v1h1v-1zm23 2v1h1v-1zm-5 40v1h1v-1zm15-8v1h1v-1zm-33-25v1h1v-1zm12 2v1h1v-1zm11 0v1h1v-1zm-13 30v1h1v-1zm11 0v1h1v-1zm1-26v1h1v-1zm-21-14v1h1v-1zm2 19v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm12 2v1h1v-1zm-15 11v1h1v-1zm-19-4v1h1v-1zm22 0v1h1v-1zm12 2v1h1v-1zm-42-6v1h1v-1zm8 13v1h1v-1zm23-35v1h1v-1zm-20 31v1h1v-1zm20-22v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-16-17v1h1v-1zm35 30v1h1v-1zm-27-17v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-16-17v1h1v-1zm19 13v1h1v-1zm8 13v1h1v-1zm1-35v1h1v-1zm-28 18v1h1v-1zm19 13v1h1v-1zm9-22v1h1v-1zm2 19v1h1v-1zm-11 12v1h1v-1zm1-35v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm30 1v1h1v-1zm-33-25v1h1v-1zm23 2v1h1v-1zm-23 7v1h1v-1zm37-5v1h1v-1zm-23 7v1h1v-1zm23 2v1h1v-1zm-29-27v1h1v-1zm29 36v1h1v-1zm-33-25v1h1v-1zm13 28v1h1v-1zm-10-35v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm8 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm-28 18v1h1v-1zm31 6v1h1v-1zm-22-28v1h1v-1zm10 35v1h1v-1zm9-22v1h1v-1zm-27-17v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm-31 22v1h1v-1zm12-26v1h1v-1zm8 13v1h1v-1zm-8-4v1h1v-1zm0 9v1h1v-1zm31-22v1h1v-1zm-39 18v1h1v-1zm30 1v1h1v-1zm-10-23v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm30 1v1h1v-1zm3 5v1h1v-1zm1-35v1h1v-1zm-23 16v1h1v-1zm23 2v1h1v-1zm-31-6v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm11 0v1h1v-1zm8 13v1h1v-1zm1-35v1h1v-1zm-9 31v1h1v-1zm-10-35v1h1v-1zm34 2v1h1v-1zm0 9v1h1v-1zm-42-6v1h1v-1zm8 13v1h1v-1zm11 0v1h1v-1zm11 0v1h1v-1zm-19-4v1h1v-1zm31 6v1h1v-1zm-34 7v1h1v-1zm22 0v1h1v-1zm9-22v1h1v-1zm-31 31v1h1v-1zm12-35v1h1v-1zm-1 35v1h1v-1zm20-22v1h1v-1zm-9 22v1h1v-1zm-10-26v1h1v-1zm11 0v1h1v-1zm-31 31v1h1v-1zm11 0v1h1v-1zm30 1v1h1v-1zm-37-40v1h1v-1zm29 36v1h1v-1zm-21-23v1h1v-1zm22-3v1h1v-1zm-9 31v1h1v-1zm-21-23v1h1v-1zm30 1v1h1v-1zm3-4v1h1v-1zm-36-12v1h1v-1zm21 32v1h1v-1zm12 2v1h1v-1zm-20-6v1h1v-1zm24-33v1h1v-1zm-1 35v1h1v-1zm-22-19v1h1v-1zm0 9v1h1v-1zm11 0v1h1v-1zm0 9v1h1v-1zm1-35v1h1v-1zm-1 44v1h1v-1zm-7-39v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm19 13v1h1v-1zm8 13v1h1v-1zm-27-17v1h1v-1zm11 0v1h1v-1zm-3 13v1h1v-1zm-8-4v1h1v-1zm30 13v1h1v-1zm-30-4v1h1v-1zm11 0v1h1v-1zm9-22v1h1v-1zm13 19v1h1v-1zm-21-23v1h1v-1zm11 0v1h1v-1zm18 36v1h1v-1zm-8-4v1h1v-1zm-21-23v1h1v-1zm11 0v1h1v-1zm2 19v1h1v-1zm19 13v1h1v-1zm-19-4v1h1v-1zm-21-23v1h1v-1zm33-3v1h1v-1zm-15 11v1h1v-1zm12 2v1h1v-1zm-31-6v1h1v-1zm19 13v1h1v-1zm-8-4v1h1v-1zm23 2v1h1v-1zm-15 11v1h1v-1zm-19-4v1h1v-1zm35-33v1h1v-1zm-24 33v1h1v-1zm23 2v1h1v-1zm-11-28v1h1v-1zm-8-4v1h1v-1z&quot; /&gt;

    &lt;/g&gt;
  &lt;/defs&gt;
&lt;/svg&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:a4&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The page is nominally A4, but I’ve seen some instances where the scaling has been mixed up, and the “poster” is printed at A5 or smaller (on an A4 page). This is really hard to scan, especially when placed behind (reflective) glass in an outdoor shop window. &lt;a href=&quot;#fnref:a4&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:quiet-zone&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Deleting the blue box and particularly the region of white within it sacrifices the “quiet zone”: QR codes are meant to be surrounded by a zone of simple background four modules wide. However, this ends up being a lot of overhead, and &lt;a href=&quot;https://qrworld.wordpress.com/2011/08/09/the-quiet-zone/&quot;&gt;doesn’t seem to be necessary in practice&lt;/a&gt;. &lt;a href=&quot;#fnref:quiet-zone&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:optimal&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Choosing the best segmentation is an interesting optimisation problem, because each segment has some overhead via a header, so it’s better to encode something like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A1b&lt;/code&gt; as one Binary segment to only pay for the header once, rather than three segments (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; Alphanumeric, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1&lt;/code&gt; Numeric, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;b&lt;/code&gt; Binary) which requires three headers. &lt;a href=&quot;https://www.nayuki.io/page/optimal-text-segmentation-for-qr-codes&quot;&gt;&lt;em&gt;Optimal text segmentation for QR codes&lt;/em&gt;&lt;/a&gt; explores this and even provides a live demo. &lt;a href=&quot;#fnref:optimal&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:compression&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;There’s probably a lot of redundancy in the business names, like many that include “Pty Ltd”, “Cafe” or even “Australia”. One could potentially see some benefits by compressing them (and then encode the resulting binary output with base64 or similar again), especially using a compression method that can use a custom dictionary, to capture all ‘unusual’ commonalities among these business names. &lt;a href=&quot;#fnref:compression&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:database&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Having the app manage a database brings a whole variety of exciting issues since presumably it’ll need to handle updates, and it may be relatively large. These can be solved, but it’s not nearly as easy as just grabbing the name out of the URL itself. &lt;a href=&quot;#fnref:database&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:threat-model&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;When talking about security, one should have an understanding of what the attack is being secured against. In this case, we’re securing against creating a QR code with a changed business ID or name, to deceive people into thinking they’re checking into venue A, when they’re actually checking into venue B. This may not actually be a particular concern. &lt;a href=&quot;#fnref:threat-model&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>QR error correction helps and hinders scanning</title>
            <link>https://huonw.github.io/blog/2021/09/qr-error-correction/</link>
            <pubDate>Tue, 28 Sep 2021 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2021/09/qr-error-correction</guid>
            <description>&lt;p&gt;Error correction sounds good. It means fewer errors, right? When it comes to QR codes, that’ll mean easier scanning for people, surely? It seems like that’s not the whole story.&lt;/p&gt;

&lt;p&gt;I wondered about this, and couldn’t find an answer, so I did some exploration, and found there’s two factors in tension: the error correction on one hand, and the resulting data density on the other:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;For fixed data, like a particular URL, it’s &lt;strong&gt;easier&lt;/strong&gt; to read a QR code with &lt;strong&gt;lower&lt;/strong&gt; error correction, but only when there’s minimal damage to the code (like reflections and dirt).&lt;/li&gt;
  &lt;li&gt;Error correction works as advertised when there’s damage: &lt;strong&gt;higher&lt;/strong&gt; error correction means &lt;strong&gt;more&lt;/strong&gt; codes can be read.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The rest of this article explores what this means.&lt;/p&gt;

&lt;h2 id=&quot;quick-intro-to-quick-response&quot;&gt;Quick intro to quick response&lt;/h2&gt;

&lt;p&gt;QR (quick response) codes are now extremely widespread in Australia, because they’re used for COVID contact tracing check-ins and placed in every shop window, but they’re somewhat magic. Before diving into the details, Wikipedia says &lt;a href=&quot;https://en.wikipedia.org/wiki/QR_code&quot;&gt;a whole lot about QR codes&lt;/a&gt;; the summary is: a QR code is a pattern of black and white squares that encodes some data (often a URL), that cameras can read.&lt;/p&gt;

&lt;p&gt;The article even has diagrams. Here’s one with a whole lot of detail, highlighting a bunch of key concepts going into a QR code, however there’s two that are most important when considering how easy it is to scan a QR code: &lt;strong&gt;version&lt;/strong&gt; and &lt;strong&gt;error correction&lt;/strong&gt;.&lt;/p&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;https://commons.wikimedia.org/wiki/File:QR_Code_Structure_Example_3.svg&quot;&gt;
      &lt;img src=&quot;1024px-QR_Code_Structure_Example_3.svg.png&quot; alt=&quot;A graphic containing a QR code, with highlighted areas. These areas are labelled as: 1 version information, 2 format information, 3 data and error correction key, 4 required patterns, 4.1 position, 4.2 alignment, 4.3 timing, 5 quiet zone&quot; width=&quot;1024&quot; height=&quot;574&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;A diagram of the functional parts of a QR code. &lt;a href=&quot;https://commons.wikimedia.org/wiki/File:QR_Code_Structure_Example_3.svg&quot;&gt;source&lt;/a&gt;&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;What are these two factors?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;error correction&lt;/strong&gt; (EC): a measure of redundancy in the QR code, translating into how much “damage” it can tolerate and still be readable. This is how images and logos can be directly embedded into QR codes, without any special consideration. This is &lt;strong&gt;chosen&lt;/strong&gt; when creating the QR code. The number of modules that can be damaged for each level is:&lt;/p&gt;

    &lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th&gt;EC&lt;/th&gt;
          &lt;th style=&quot;text-align: right&quot;&gt;max damage&lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td&gt;L (low)&lt;/td&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;7%&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;M (medium)&lt;/td&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;15%&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;Q (quartile)&lt;/td&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;25%&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td&gt;H (high)&lt;/td&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;30%&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;version&lt;/strong&gt;: the number of little squares (modules) along each side of the big square. This is normally &lt;strong&gt;computed&lt;/strong&gt; automatically when creating the QR code (from the data and error correction).&lt;/p&gt;

    &lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th style=&quot;text-align: right&quot;&gt;version&lt;/th&gt;
          &lt;th style=&quot;text-align: right&quot;&gt;modules&lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;1&lt;/td&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;21&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;2&lt;/td&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;25&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;…&lt;/td&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;…&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;&lt;em&gt;n&lt;/em&gt;&lt;/td&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;4&lt;em&gt;n&lt;/em&gt; + 17&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;…&lt;/td&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;…&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;39&lt;/td&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;173&lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;40&lt;/td&gt;
          &lt;td style=&quot;text-align: right&quot;&gt;177&lt;/td&gt;
        &lt;/tr&gt;
      &lt;/tbody&gt;
    &lt;/table&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;v1-v18-v40.png&quot;&gt;
      &lt;img src=&quot;v1-v18-v40.png&quot; alt=&quot;An image showing three QR codes placed horizontally, the left most one consists of only a very large modules, while they&apos;re barely distinguishable in the right most one.&quot; width=&quot;1110&quot; height=&quot;378&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;Three QR codes, using versions 1, 18 and 40 (from left to right).&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Together, the version and error correction dictate how much data a given QR code can store&lt;sup id=&quot;fnref:modes&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:modes&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;

&lt;figure class=&quot;image plotly-plot has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    &lt;div style=&quot;width: 100%; height: 300px&quot; class=&quot;lazily-filled&quot; data-plotly-data=&quot;eJzNVk1v20YQ/SsEe3ALjIGd/V7fgiBACrSHNmgvRQ4raWVtQ5EGSTtSDf33vqEUtwXiHIIArgGR1HLnvTfzZlZ+bDd5zu3NH49tV/vS3jy20y7f4aHdPbTUfqybedfe2BO1+zx+KKPsWA/dgIf2u+0qrZRv5eWwkRjBmBDW5718/QmPB4AzaTJkyZGnQJESsSJmYk1siC2xI/bEgTgSJ9KKNGI0aUPaknakPelAOpJOZBQZJgNIQ8aScWQ8mUAmkklk1Xtqj0IaZI8zFICpgG6EB58kuGAIAoKPD2RBYV0kB2YXPXlrKUBLwN6I9aRFsoJWlSCbg2gP+CrBbD3kO4hjL5cAWo4WGSYHKuWhmmMUUkkH2rXzePIJmUaFS3IGoufjUvdpnecZhT7RV3my3lprv+DJzy/qiZUoq8mjrvZsCyBRPLAIAbAdWCIiBQ/bLARZB1sUtHqFSEveQzO0hpBgT6CE55SgVDmkwdDGnJCN9uAwAU9WGJx5skgvhNgsoZyi5Cd2LApA/c3sCJHXfvO8Hb+8qB0sONhm0fKKgiX0PisQAIBhBAcgLl0rTSvQgASpQWFNsmRhpY2YMpTSYQo8EL2HMVAbEB+VAySyAWbCPlYCzJIUYxneyyXKIAmb1ZIqfGAHZ9n7bzcWSv7s8z68fUkf5AyRaCMVxQGE80fGI0XpY+lgsLrFDEbRtXBiInB2AB0fQUNxLYyyAgsDHCQ70LlkMDFIRkCBF2BYwGhE3CO+JzncpP5K6q+wmxkQrIUXJ9xn6o+lLh+H+1nqux368z3va3eUbcdpLvvr+0rNdb6768r1eYWu3pXboTS//XhFza/DapgHat6W7qHMdZ2peTXW3FEz5X66nspYt9RcvZL45rVY2LzZD39WhD7BXFZg21T/gkC+GH9bexEEVShTuzrfuvYGVzSCwqau3JZ+s2yqc7c00lwOCGjfvJYGGcZa+jnPdeilt8BwzP16t/QRdM/Dvl1sY3TM04uubOdzCwnFbngoY5dXpft/FOl0Eq2HOn0u69/LOEmu2AOaD3dj2dbDP+uNlHg3fPzPu20dJ8lXFi8DlccxHy9LD7mblmHCz+gyQGYZmrQMipPhkLGwMgrLEIy5vy3nAPX+JAV/Ruu7eRjLppF/WprvV8e5TD980j3db8/ammX9X6qf3vQDzo1P9lxkH5r7vm5rwRl9+hu9UFWV&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;The number of bytes a QR code can store, at each version and EC level. (This can be read horizontally too: for a given number of bytes, what version is required?)&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;(The plots in this article are interactive: hover/tap for more info, tap or double tap the legend to toggle series’ visibility, tap-and-drag to zoom, and hit the ‘home’ icon to reset.)&lt;/p&gt;

&lt;p&gt;That plot indicates a QR code using EC level H can store &lt;strong&gt;less than half&lt;/strong&gt; the data of one using level L: the closest they get is at version 3 (53 vs. 24 bytes). The other levels have less overhead, but it’s still a cost that’s paid:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;EC&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;max bytes (version 40)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;storage relative to L (mean)&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;L&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2953&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;100%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;M&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2331&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;79%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Q&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1663&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;57%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;H&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1273&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;43%&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;That’s some hefty overhead: presumably it is useful for something… I did some experiments.&lt;/p&gt;

&lt;h2 id=&quot;experiments&quot;&gt;Experiments&lt;/h2&gt;

&lt;p&gt;I set up a little Rust program that ran &lt;a href=&quot;http://zbar.sourceforge.net/&quot;&gt;ZBar&lt;/a&gt; against an exhaustive set of different QR configurations: all 40 versions and all 4 EC levels. For each of these 160 configurations:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;scale the QR code to given size&lt;/li&gt;
  &lt;li&gt;place it into a &lt;a href=&quot;https://www.flickr.com/photos/_mia/5612839179&quot;&gt;background image&lt;/a&gt;, to simulate “real world” conditions&lt;/li&gt;
  &lt;li&gt;pass the resulting image into ZBar and check if it scans successfully&lt;/li&gt;
  &lt;li&gt;repeat at different sizes to find the smallest size at which the QR code scans successfully, or determine that it couldn’t be scanned at any size&lt;/li&gt;
&lt;/ol&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;qr-example-7-h-full.png&quot;&gt;
      &lt;img src=&quot;qr-example-7-h-800.jpg&quot; alt=&quot;An photo of a shopfront window with some text and reflection of the person. There is a large obviously-CGI QR code overlaid on part of the shopfront.&quot; width=&quot;800&quot; height=&quot;400&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;An excerpt of an example of the generated image: the code is EC level H and version 7, and has been scaled to 700 pixels on each size. Tap for full size.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&quot;error-correction-makes-scanning-more-reliable&quot;&gt;Error correction makes scanning more reliable&lt;/h2&gt;

&lt;p&gt;Error correction sounds useful for scanning: if the QR code is further away or smaller, then there’s more likely to be blurriness or other “damage”, and so higher error-correction will make it easier to read… right?&lt;/p&gt;

&lt;p&gt;A camera generally doesn’t care about the actual distance, as it just “thinks” in the pixels it sees. Thus, it’s the size of the QR code within the overall image that matters. I call this the &lt;em&gt;field of view&lt;/em&gt;. Example, for the full sized version of Figure 4:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt; &lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;size (px)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;total (px)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;field of view&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;full image&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2592 × 1944&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;5.04m&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;100%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;QR code&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;700 × 700&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;0.49m&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;9.7%&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Under the reasonable assumption that the camera is close to &lt;a href=&quot;https://en.wikipedia.org/wiki/Rectilinear_lens&quot;&gt;rectilinear&lt;/a&gt;, this gives a measure of how close the user has to be that scales smoothly with the physical size of the QR code: if the device can read a 10cm QR code from 1m away, it’ll be able to read a 1m code from 10m. Similarly, fields of view can be used to predict distance: given two codes, where the first needs 4% field of view and the second only needs 1%, the second can likely be scanned from about twice as far&lt;sup id=&quot;fnref:quadratic&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:quadratic&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;Error correction definitely allows scanning a given QR code from further away. At version 40, a level H QR code only requires 1.7% field of view, while a level L one requires 2.4%.&lt;/p&gt;

&lt;figure class=&quot;image plotly-plot has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    &lt;div style=&quot;width: 100%; height: 300px&quot; class=&quot;lazily-filled&quot; data-plotly-data=&quot;eJzNl9tu20YQhl+FYGG4BdbCng+6C4IALlBfOEV7E+SCliibDS0KEn1QDb17Z/4VqaRRkaQJYBvQaD174C6//WdGT+W86qty+u6pvOnu63WzXHTltNx8aFalKNv6ul7Or9fd3Yqcv5Hntlp/qNfl9KmcdW1HjfKnxVW6kp76ulU1a/ptOZUTv6Oh3bym/jxjQ/3L6rbeL7O56R7y4uV0UbWbWpSPtAkltDDCCie8CCKKJJQUSgmlhTJCWaGcUF6oIFQUKgkthaY5WmgjtBXaCe2FDkJHoZMwUhglDC1phLHCOGG8MEGYKEwSVr4XJW32nZxIK8h4NpGM4g8MuzS3NI+g55AJbBIZWpUMDzHsMzw18GDn2PAMz/9Gnhbj0Ercm+zYohNN+HAT2jS16GPZODr7JLCf3Y4ONLH0FiaJTopRtISe0Dk0TaST9NsVv9zNrOp7AkTsmmXNnB6aeX9TTu1uJ76C8cVxxrOFtfYbGF+8UMb8xmXYM5ZMUcUR9IExWjzW6IExuwy7LE+wamzxIoGXHD5xwB24KzJHPDKh5Zk0fxitGWlzy/NViHGPPAaGrNH6cXwvj/MNUc38/Ov5Xr48vuYTvhDyQc1MUKVP+YaRrxrYGjuwNTzYjrwB2LHxPMPDp0fGTNcMopXMjM/JD1McK/Ytw8YfcOuBMmTu/Y+jfH6csuQ/+/WUz18yZTco+EDZDZQh6kwZJo6U7Uh5VPExyAjjY0A/QM7/EOMBMR+Tr9I+hhvEb9a4zVGbubL5H4D7+nbVVj0PP3naTid6d3I0JQ8rfJ6QxzVHxDz2X6n4OWlCTDIgNCNkKmBVoKYsVAsCKoFoTr4OQk5mzMEBLDVggiGCvXPc6ZHXvQfLTBlBGgkY41JgIUpkV5WhImhrkDOZJlTs0OslQ/YIzSFaiJh7Ey2s6TRsVURedkjR5nPu3wT54hjkMSN/EfLFc0NGYRX8R5A1KiwoFfAUtKYiSi1cAY3IrCFEnRClNUotn6MzUi9KLgt1Os2wnU9QLzS8Z57zM/dGlG0xIhlb1iZIyoASDPw1vw8Ch3Dt2G8R12WAnLOMeWZwPDCanKSZs1T2OzlfHuM8ZuYvcr58Zs6IstLmCI3ADKXJFA60Lch7eCBgnctrBxuhZiRrA4/BfbEgb8HTIbs79LoEaeOJPiFQ2xyuQRvhI0n2JJdpB+DO0RoSR67Wnj3GsJStRE2GjOysQ8JOkDv3hgDqNn0n6fNjpMfs/EXS589MOpfSAJ3FjR82MgFxLqjNWFYrhFqNVK1RSmsPhadcYKMMA3I4LIRvQTn/mNJA7YAatRcKbdRrIbKNmB5jgq7tPj1LMOftkEWA1pC4QQluEPQx2EnE9oiojsos6CMV945cbbXt7nqmtuiW+bu6bdotD9tuiPzZXSOKs2q1auuz7BGnv9fXXV388eupKN52V13fieK8bu/rvplVoni1bqpWFJtquTnbUFW3EMXpK55fvOaLUby57f5qaOq4zN7DpVnzN21Q4Z5U6+tmyRuiXRHm8ip/tVTiiZKul9wNdxCDmr7F5evrR5pQvnlN97fs1k297Ku+6Wil8oaesK2WsxvcTtp3392WuAKKbt/Y0daLPl9HfgQU0FZXdfsyXhJVU7TXx2Zz7NR/UrHLZ6Ux9JgPq3W9aB4P/mJf/X7St2jWGz4vO/firNbrart33VOFDGFaEiSL0UCACaJzLDSWmGVZQVDranld5wny/Y5f+H/s9fJtsWjqdl50i+K+qR+Kn09+GTa+uVvkzZ18tOPRuewozgxo9lt+LO6WDa03pxf0D07LbKM=&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;The field of view required to scan a QR code of a given version, at each EC level (lower is better).&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;This seems to all come back to the size of the individual modules (the small squares that make up the overall QR code):&lt;/p&gt;

&lt;figure class=&quot;image plotly-plot has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    &lt;div style=&quot;width: 100%; height: 300px&quot; class=&quot;lazily-filled&quot; data-plotly-data=&quot;eJzVWV1vW7kR/SuCikVagDZIznBI+m2xWCAFmoe0aF8W+6DYV4kaWdeQlMTewP+9Z+Q7o7RVnAQJkN0gsAlefgxnzpw5pN/Prxb7xfzil/fzV+PbYbvaLMf5xXz3enUzD/P18HLYXL3cjm9u0Pk39Fwvtq+H7fzi/fxyXI9ozP+0fNFfRMG38WZxudrfzS/iudxj6Hg14PvDjB2+bxbXw7TM7tX47mHx+cVysd4NYX4LI1LIgQKHEiTU0EIPKYaUQsohUUgcUglJQqohtZB6yDFkzMkhU8gccglZQq4ht5B7oBgoBcKSFIgDlUASqAZqgXrg+GuYw9hf+LzWVqRFapmL1DScxRLKOSWOjUqXnlKrvUzdpWZuqTeOtVUpMnX3kqhFSTWJYCHrJhHptUvJqTZqh145L1xz4tYjvuReD731nHshTr2KzmGZekuWmIhzrFhDsm3Xs1SJ0ohimkyWc6YYOaWSsxDVMvWmiD1ip9gaczYbsFHurXXG9JbEx0YqKUptODrZKaTWXKnq6JJStbPFmqhTyQUr9wfL2nnnXuEtKvBZrbYu5dypc2YpnSc/lPPKmbpQynBeLMld2WJOCAkO0yubd1LtOeWKI6QW29RL6m2SVjqiMnkSfohca6lwMHZzG2BUjo1hWU9SzA/M2KqIRgPO71NvxJDaYgcy4Dm3F04rIhiHXWv33VrBl4Sz5Rzz1NsQcSCiSS/Ahvms4ASZGvoq8TQScYiVKKcI9EU7b8KRatFQJsQt23kVq6mUmHJLzcZmwCXhWBwxVmxdRAWwFmbJsUua4tMAW65AYCpAuJkgmMokibBjt82ABQ0klq5Apjksw6mtUu4wtnc6mhCRQoQwYIatq9FR/xIc1x4Aiazb390oEewuF/s9yAQ8s9oMyinvVlf7V/MLvr8Pn8FHz07z0eWSceTP56Nnfwg+4nPAATlIuSZgm42OSBOYEaHGJZPQY3TEiIfyWYmlFEWKpRbQqKuAHoALWwLIL4dEQfhq9Dw8zUetAT8xwq5W8dPyBVArGvlOAKETKzDNjCWo1N6cQFNG2iZsFYGtR+hIk7NjLtWEL5F5OltTS6skQJmoGfnFhPQtIBICB06JDA+DYjC/qOeQUpMJ2Ic5irpUwGs2theOoDjkXAXRGLQ7OAdr5JZhW3NeRhdSG0wFovEgYfeckS0tqSPdZ2ANJAWmRCUbW6EizCguYLaEVDP3ILngeTgN+Rktx+HL0pGiSF9Yw+4faoBN494IJtt2uTSwUwMRC/fePBjAxGE8iFDMEzXlhITGbuDa7OcoiBniiDIDrmFbAuwZWcuioCSRbQcn4AygAviI3cUdHpCW4VIUAyDFLAY88B8mJvWelUnArwEh8ASR02WMtWoxBagaTuT4qYewg9s6/MruY1RvQL7HBDKzsWDqhJjAlIzCxd+Wlp6fpqXa0qVcfT4tPf+d0RKdo8Ag7Qq3Cu3BzTgFQqMAgqirjDM6ME/xEggIEWpAFZaY6j2h+Ki6AHmgPtdiy2bgN2KrDA4hZwnQFyoMCA1QTqhKLiSq1kPoGQFcDWxfQkrAAhgTuEJCofUIKyGTYCwkUVNd17utCzijgoKkAW9UPaMlgV4hUl/gR7OcSRmpjJ0gRthOjEILkoEaQAnF0Zx/WF0WkeNFc8eWrTgZiKIfNNljpKT1BClTlToK9W71BMoEckga3FlQMS1COH2DrIM+ILDTlLgY3ZGCFXNAIEcBB2WJ+bGD0ZXNzeSmijJjQwUGprnfmFV05oqknI7dkIxqKqpJbgIyMgexSh1IqKIqyomUoIwbAAUNFL1SQSUilkVUOOKoH5VarGWxo2iAz8Hy4nwQVYSKUhAoq1qY4Z4DxQBwShcG7IryBwVGKt6TAxPM2FB7VPHBeUcyP0VKWsKLKngl6miOR8FA8FF0gRgg4Buz0tPTrBT1H38+Kz39I7MSaSYU1BjgD/Uke2VEIiLYDISj1LRHaQlKAAoDVzX4rTlaCYoa4EPokA/lSDUnaEmzQ/MAYiD1XLwynqIlBazea2AqrgNH0aeXsXRQNaht0Y9xkpYStiGVbDhEda45zUqQGLAzsd4Icbd9RCzhFMh6sCJ0AESXdX4DVkLiq3eUBPX+Y9UAkqqoHCK9oSTxnIEDWClbytGVX8ZKsSOSEbf8qnzoGyoNCxKyoXawEwVomVRGQZSCBx5lJTANWJQ1Hui3cHBWRd1xs8RR2KtEUYUCRaLyvOcjMeEeAIoGtUXwhwUaNsAXUJJYoiWrCKrVoQ0hGtWHXsGAFYik1NTLxGayXjmhviuOIiSO7qYyMokqVRWr7rmvpqb9cH2zXux1+A/v7y7O6f7k85It8P+PS76kc5OO/Z9npe9GQwfhb5xP3nKZbukI9Zpd8xZvNX9+OT7EsD1mpHq8eXvLNXIWa5H99obYuxB1fyHK9j4BWWatZjOOKVvYW/6OJC7Xxa9iIt7y1xfQprX8lcU4RpCFZrDf0fwbZIG12Fv1+BzhLbJnhyje6h+B5Zdg8NkpDPqDwicx+Oz7YlCcp6R4g71lLC+SvOXjxPSNOIGJE6o0n9F8hlcN6dlbZoBXtei1MB5f0Vx0p+It2x+azVu+CvkM8hkfviJ6y/f3Ycdi7A443omrO6C6A6o7oH5QnN0Ad0BtPsMdUB8c8HUgfH4KhH59/CQIn39PEOozjFeN6k8z3QV48nsGeauYJLBcZ33fthLoaImOAr8PuNiPHowUveUXtuSCPIm3ml9LfJXs7/bZkXS8kmQPPbkBlP3Cy97yVzhqfkVxlXaUney4Zc9IdqD5m4sNKmTHKcVbflkp/qIzKdivw+DTUxj0y8InMfj0+2JQxHAk1RVvnxrVb1w1mW41gjnctq1V/LXQYVn9flG7rdcc0i27OGbXs8WTwO/uzTVw67Zej7Zez8cUsfV68QuBeCpVV37HZPHnsOiEGl2PRD6+dHoCGWrj8W3CsZqcnz/MJRe4xZbzP2/YnyRU/X4MhehaL+7GN3vF1nLcPPxeXK/Wdzrsbgd4nr1ZhdnZ4uZmPZw99IQn/xhejsPsn399EmZ/H1+M+zHMng7rt8N+dbkIsx+3q8U6zHaLze5sh6vwMsye/KjzZz8pfGc/X4//XmGqLzP16H129RsMTAc0L7YvVxs1CFYBjPMXD7/WuBeHOZIg3lumHAat9utDiuyHW0yY//wTkmw+blfDZr/Yr0asNH+FHe4Wm8tXhxyC3fvxen4AakKO+If1sNw/JI1ucUjT9eLFsP59OAlCHrbernanTv2vYbvTs2IMtnl9sx2Wq9tj/2x6Mvivb8vVdqfn1c6JQhbb7eJu6nq7WO8O9MGgDaUMOtBEP1BDUTpQImBN/kPabxebl8PDhPjrvTr8I7Y+G6/e4LjL1bC+mo3L2dvV8G725x/+osYPtzfjBpFbjtvrhQ6+Gd8drjVqvX1UQ9fr+bTlZPp+/G3YjnML3NR7O3uzWWGnK7jvPyGcaRk=&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;The field of view of an individual module required to scan a QR code of a given version, at each EC level (lower is better).&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The lines of best fit look pretty flat, and quantitative measures like the parameter confidence intervals agree (except for level L, the 95% confidence intervals on the slope coefficient include 0). In other words: a QR code is scannable if its modules are sufficiently large, and that size threshold doesn’t change much as the version changes.&lt;/p&gt;

&lt;p&gt;On the other hand, the size threshold &lt;em&gt;does&lt;/em&gt; change with EC level: level L modules need to be 25-35% larger than level H ones, matching the intuition about the benefits of higher error correction.&lt;/p&gt;

&lt;p&gt;Cool, hypothesis confirmed: error correction makes scanning more reliable…&lt;/p&gt;

&lt;h2 id=&quot;error-correction-makes-scanning-less-reliable&quot;&gt;Error correction makes scanning less reliable&lt;/h2&gt;

&lt;p&gt;Not so fast! When creating a QR code, versions and module sizes usually don’t matter, it’s the data that matters: one will usually choose the data and error correction, and then have the version computed automatically, as the smallest that works.&lt;/p&gt;

&lt;p&gt;The overhead of higher error correction matters a lot.&lt;/p&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;v3l-v6h.png&quot;&gt;
      &lt;img src=&quot;v3l-v6h.png&quot; alt=&quot;&quot; width=&quot;716&quot; height=&quot;364&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;This post’s URL encoded at EC level L (left) and EC level H. At level L, the data fits in a version 3 code, while level H requires version 6, resulting in smaller modules (half the area/field of view).&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;If we change from looking at the version to the actual data stored, the ordering reverses, and EC level L works best!&lt;/p&gt;

&lt;figure class=&quot;image plotly-plot has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    &lt;div style=&quot;width: 100%; height: 300px&quot; class=&quot;lazily-filled&quot; data-plotly-data=&quot;eJztWdtu3MgR/ZUBA8MbgBZY1Xe9LRYLOED84F3kaZGHkcSxGY+GgmZ8UQz9e+qcJqmxPb5sdhHkwQbY4lSzm6zqU+dUt983V+vDujn/7X3zcnzT3w67zdicN/tXw03TNtv+Rb+7enE7vr4x49/Ncr2+fdXfNufvm8txO9pN85fNRbnoovWNN+vL4XDXnHdn8d4eHa96668j9ta/W1/30zT7l+PbOnlzvllv933bvLOPkNC6rg1dm0IrnV32S+ynlK5VDa2mrnVqVwytt98+hDbY75BDG70NswmSPZvNXhRzdDa4M4uIDRWMFwwWjybgkYgm4UXZ4032Ou2sV8UmVWcTqLdeDdGaWMyW7cvUnvtn25izv3VnnW+tiWiyNYKLDUyKO8UTqmgSmmKNc2jwiIPNYWjCw/bx1mBExM+MYTnPdwW9xS939vVn4qzRjDu7PJpQrEmwwxxyq2de7a44u8MDNoWeuWKNZvPkcHeDxdlfrg8HW2Bb+2HXY53fDleHl825v79vvwEjz05j5HLjvf8dGHn2BYxgLVpbKluP3FWY6ASThGVDv122es4BKl3rzeYDgGWX/Y72fLQlTmZPNoZwsftSCDtrBKAA6kQjIAPcYAYJboEMXgooCIZKAVo6wINfYK/+CB5YrC5N8OgAAMkLRh7gwTs863SGB0wOJo8BXpY7TJIw5XzlGSkJXRkQ4CsL7yJAgguocAtQcIdswMiKlpyAD+XdnweN56ehkbJcxqtvh8bzL0KjMog3WrDlBRFMAAkPAGFGAyTI4plP7LJ7b3afARSbwGISBUCZeCUAbwYWsxf7Wwg+8IbgvYIQgqNE0eHwNg+IeIAqgNBspgdMuA8wQd54IA+supQPMZEWTMiMB+dnPDg87BeMEBQBTcSISJsuuAAi3MwRHdZZPHBBcJT5zqGJDxDRGRlklRj/PGQ8PY2MDv/8tyPj6eeRARi0WOgOzGErX8kDSyOQGSxRIDyq1MwcYiNsoLN+lzHULrv3NjqYHWQQCvjEJsSkNl+CDEGC7G+23yXMUAmLFOF1iveaHp1CRJgZ4gERYUYESaMigk1eEOEXRCwscQoQVJhFax4AUX8YHmY44AMBu0leHKUFHOKroAADaP4LMBz665vt+oDHH72/Oz9z9yeLjXmCT0uNZcoFDXj2oyIDC89VPxKLrooFlD6Svysf6MQJcVr0buIFP3HDvPg6cUSceaKr9YevwhIy3jQJjK/cEc2WzAa9IDjAJxmfY5dOQMHnAY9mK2YrZitmq8BhDYOv7vDZHb67Qwe9oTv0hw7BI1G6iQ44VSWsshI64JjAM3HUtsx4LHSFDvgncFDgoQTqKzrgpMBLgZsCPyUymOiAqwJfqzjCW4G7An8FDkvWudDKjH9mcYcGHYUVWKSccmXQYG3gucJzhecKzxWeKzxXeK5cy7qY6OBycj3hea3j4LnCc4XnCs/VUw64/uiA5wrPFZ5rIBP4ufyD5wrPFZ5rJGRYF6IDnis8V3iu8FzhucJzhecKzzUTZeiA5wrPFZ5rORYIpD+FoGOh2FHtu1irTCVDkB0qNZACxNeKwi/FRWG1KY5SQkHxrDdiLUVpYRnpWLC6SieeVEKmcGQOV9zCKcqSxNMQKDuJNFMwZSBjBVJT8LWYrdRDCx6PLJSjYoJI3YqBllSlitRECkwsnVMtjFkP12Ins9QhX9bamFVSDryPJLTM0rjD+CJV72rFTEtkTZTdxHYIszDMwjCjVAL3IczCMAvDLAwz2JGkGEmS7CwwaK3Cq4CSKJWaaRigrgaSqFBZYUGYBRWeMMrCKE9FGaJsLSt2T5lGlIVRFkZZGGVhlIVRtjYtqh5Z7UWWeogySjxMgCgLoyyMsjDK0HQqe8CU/JhEqUeUrRVMkPmpCLMwzMIwC8MsDLMwzFL3JIiyMMpqUVZG2VqrKpRRVkZZGWVllG1fItiUIMrKKCujrIiyNQUTIMrKKFvrMQGirIyyMsrKKFurmABRVkRZGWVllG0v1BXuiE4I1+9RqWenVGrZ7HxVpZ59V6nvKvU5lfpICrhDcLU+pCCwfusyi0JyqpB2LUAsGGknYQoZflIBNtQJpZZo5jEEqdJJPZcg5ZNwHUm57i64UfHcm070T4Xwqe5FMVkQ0jzFKFCwArk2kI9jp8uOhKQeedIRE6WgkOxZ9iZqTKIMJT6fUq1PyfxUvExV5Lw51n1vJOfDXKgchd9dKECFAlRIn+SrjpVt50n0kdSf5YjuI+m+1sEkfTKekBWVxKl1v8SdE8thJUVrcUdEX0j05HjqhaOmOG7IvWAybChA8uR+GkjOgQQeSOAzxxdyPJm+eG7OSObkeA6N1K1IZUt0M5GWE6l7ZnfaeTiQO5K8cvfvK7Fzl8dTgErjVLXi6pFRIbFHEjt4tetI3kI6d6BXHJ9Ym/SPEevzU8S6HBV8lViffyfW/zWxfkhXWmtWVqssyTqWkFKPNpiYwswWprCyblSebyhZQUkrEy9p3duSl2o9Wve4ZCTeRhISKSCQQwLnCiwtQypH9EPOIQNGUmgkPSYSbGLNmlhBT3WmHJENDfmIZkg5JLpCpuQJIvMB3KJHpWRlFTliFVrIOSYc5BNyS911s5Qs5A0ShiepMPNcruShR+SRyRu1NgzkDXIImQu1NxiDBMFiL7LyjCzQSGuJST6zBC3kkEwSymSxqfAjx2WSpLHsH0vyp6eSfDn1+WqSP/2e5J8k+UdZyKIh1D0jiwNhzvE2Hu0QmRTKukKJeNcdlQKRO8S6B6Syel83ftR27tUC91eBKV23ecyn6OvWjvnE/KPYp3oAxXTN/JrMqiUzIXNhQvHEs5AMpr0a06dzdYdG+a7/+0GRnGSaZ1hKXVNXN2FMrrIcaTrP3VfiDouZ52mvZ1tVfCn/gWlSN1WRahq17qSYONz8TJlDgU41l8qJM/N7M23Xd+PrA7C+GXf17/p62N7hsbu9pcuT10O7erK+udn2T6qlffxr/2LsV//42+N29ct4MR7GdvW0377pD8Plul39eDust+1qv97tn+z722HTrh7/iPGrn5BOq5+vx38NNnSZZrLgoHT4t32gMLvWty+GHT7IvsoQ1VzUP9vm3FpLyu5+zlw+NBy2TNlD/84GND//ZEnfjLdDvzusD8NoMzUv7Q13693lS+a0ffdhvG4ITbGcXTq2/eZQkxivIG1s1xf99v8jSPf3+NZ3w/6U178extv+aoX/PV39cHF36Pd/RRjsla/2rzebwXxqVrRPp9If9OxGY717xOgz0z//ZbUZ+u3Vatys3gz929UPjz6d/9GXpmY0J+J8t3q9G2y+K/PpP8vdtZk=&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;The field of view required to scan a QR code containing a given amount of data, at each EC level (lower is better).&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;If one is trying to “send” 1000 bytes via QR code, using level H requires a field of view of 1.4%, while level L only needs half that (approximately), at 0.8%. This means a device can be further away and still read the L code successfully.&lt;/p&gt;

&lt;p&gt;This doesn’t seem to match the results in Figures 5 and 6. What’s going on? The level L code uses version 22 with 105&lt;sup&gt;2&lt;/sup&gt; ≈ 11k modules, while level H requires version 36 with 161&lt;sup&gt;2&lt;/sup&gt; ≈ 26k modules. This ratio (2.35) is much larger than the ratio between the module sizes (~1.3), so, sure, level H allows the individual modules to be smaller, but it requires using so many more that the overall QR code is larger than the level L ones&lt;sup id=&quot;fnref:consistency&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:consistency&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;This seems to apply consistently across versions, as might be expected from Figure 3: a QR code at level L can store twice as much data as one at level H, for the same version. The data storage overhead of error correction doesn’t seem be worth the apparently dubious benefits.&lt;/p&gt;

&lt;p&gt;Nice. &lt;em&gt;This&lt;/em&gt; hypothesis—error correction makes scanning less reliable—is correct, right?&lt;/p&gt;

&lt;h2 id=&quot;error-correction-really-does-make-scanning-more-reliable&quot;&gt;Error correction really does make scanning more reliable&lt;/h2&gt;

&lt;p&gt;There is more to the story. Those measures had no noise introduced to the QR codes. They’re the easy cases. What happens if we turn up the noise?&lt;/p&gt;

&lt;p&gt;I generated 10 different noise patterns, and thresholded them at 8 different levels, and overlaid this noise across each of the QR codes, for a total of 160 × 80 = 12800 configurations. This is meant to simulate reflections and dirt that could make it harder for a device to read the code.&lt;/p&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;qr-example-7-h-noise-together.jpg&quot;&gt;
      &lt;img src=&quot;qr-example-7-h-noise-together.jpg&quot; alt=&quot;Three QR codes overlaid; from left to right: 1, the QR code displayed in Figure 4; 2, the same QR code with some white and black regions of damage; 3, the same QR code with larger and more regions of damage.&quot; width=&quot;800&quot; height=&quot;286&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;Three levels of damage to the example QR code in Figure 4: no damage (&lt;a href=&quot;qr-example-7-h-full.png&quot;&gt;full&lt;/a&gt;), some regions of white and black noise (&lt;a href=&quot;qr-example-7-h-noise-less-full.png&quot;&gt;full&lt;/a&gt;), even more and larger regions of noise (&lt;a href=&quot;qr-example-7-h-noise-full.png&quot;&gt;full&lt;/a&gt;).&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Across all of these experiments, &lt;strong&gt;60% more&lt;/strong&gt; EC level H QR codes could be scanned successfully than level L ones:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;EC&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;number successfully scanned&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;L&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1257&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;M&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1600&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Q&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1839&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;H&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2001&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;This is driven by resilience to damage: the QR code at level H is more likely to be able to be read when there’s significant damage. The following plot has a point for each successful scan, against the percentage of pixels damaged.&lt;/p&gt;

&lt;figure class=&quot;image plotly-plot has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    &lt;div style=&quot;width: 100%; height: 300px&quot; class=&quot;lazily-filled&quot; data-plotly-data=&quot;eJztnWuPHVd2nv8KwUAYBy619/0iDAYwHAMOkHxIDH8a+EOTakpttdgE2bKpCPzvqfU+a9fpPodzS2ZGM0ZrgC6eqtq3tdf1XWvX/PTy6+uH65df/fqnl6/uP767v3378OHlVy+v7+5ebi/f3N7dvb6/u3+/33n/zavrvwmb/vdf92ff3v/7zfvbt2/u92cfvrt9t9/6t9uHh5v93bi9vLt9e/Pyq59efr71p+3l99fvv7N3T6/8l2D/FXv49vr7vfXLf9r71Ize3e9zCtvLj/s8w1XoW4xXdW7lqsQt1qs4t9iu4n57XrW61asxtpiuZttiuYr7v/NVHvZK2/LVnHa3JvsdpprHLcWruXcVrnK2t9P+9lXJdiOULYWroUZ7J+OqFWvTsnqZNs6wIefeZKjbetXztje0wcKwqfZufdRqXY+tXfWqLor9LnXrV3oraM6dn/vjvatuN7Otcl7lvrcsDDhswvu07VneBw9azUhGAPv3Tp1uk59l0yT7Va6aXrEFzH120ZZS1UOzKRlNs425d5y12D72jpP+maKmMvZ2ydaa2z6frvntb9nSonW537hKeV91i3uPse4jDBG/pH0GbSzKTv3dV2gUqqJy1Y19LfvidWOnabrqbe8i2vSGtmWf+d54Vhus73+Ghp17L8WIE6pm1DbNdX/fOGJcJbFBtg6LTXyfYjOSFiMYm5E0ea1m3/diQ9sWFpHANqh1e5zL/r6RRGTfKb5PJSVbQrIRm23c/pb1t4+0/9VMxQz21MYo1qbbRuybRK9Rg1ajxd61MVy1V7vRZ39p2KBRDJ2KDcr25H1PbK37AsSJbV/Pvn2SjrAz+s4lzdmy2sS7TWTvLnWxSrM3I6vNYkXboGr3iglON5JOE5Zsk+3GSiZGmsHOz+KSahMw4tk6gw1e8hrcpLDZ2MGIbOwn5rDWcY1dxSzW2TAujptmOsSMwWQpm5ztLKCxk3GaCfxVTs7zRROKMEKyNU3tZrK5ZNuWbB0PCC8emZIOm9iwrnapz7btgzf3n0OTDWK2bGSWhMBGQZRqki5jYklJMypon4u1D5qTbUiwiYq3kwluFXsVox4qS3KzT2R/dWeDkiBLspGy5qzdizZmEw2CJHFITG0O1cRkv1ukkqS0gkm80TDaTGp29aOJJ1E92YvBdiHZplZf6BBNNYjRWEtJ0hM+qyYO7dZLNnU0IJfTpBg/7C/5KrV0EwObhdipm9YZfdEj25/ZEY1gC802VpUmkAapEuKg3aiPqFPFSiZ/1qoZQyMTQdsiPjHRqbZEI1mHLZIRTyOZYtREtJhuxK6PJmKq2Ng4mqqTcMVyRpu+JhNtGcMYVdMwnR1caUKPwjyGJpzZim5Pgolu7ktvzgSNMnIkGmmELjMiZrJmOzVsf4M1laHBPFQZLoZOpprX/EwGJJShuxrdH5v+ExmCGFIvVdv/JnaKzXZeYlpsHibAzShklEUzxWOOxhXJ9lZqM9pS1VIiOGyRCZG0SUb1n2Q7JfciRZY6qfurMyJNNrUs0bBOtT7uRtTZWMNrS7VbVfxs2qK09VSya79aZRgpfxjWpA6TITuxD+CKkAnbpjrlzM5Cviaimemf7HyUVE/rVy6I6NJg72bSFdCN6jua2MhSivGi3csmrpqSMeyu6qe9K8JFzJPMH8KfJWdFZjYhCVra/iY8Is+hGCtM+2krK6YvYAXb37E/abJSozBqYo+LiYGtES8F82cbxMQLKpb3zX5GqeiImcmIuCS+6ak5LPgqJlBs49hcncyO7A7Trl3qL0sVjiut0HS0Pa8mVEPboZ0KRt/kXgsaw8jUzGRhYKKWJkNQOkY5s4lmF2xa7REPwjM7OaR8o9in2p/pPCs+QbVoZ2WpY8WsoOO6/MkqQlecjCSlmkwQpFlPuqbacjVyaoeSwpmV8ZzIV3a9UJaRycVlWwKW3SViLVM94EddmT3NDTssnyKZmA3Tu1EabOCdGLXEaclILLmXATSXRtwoHWqrky1rppekDjG3U7Oty3wm8Ye8w8zbuIxrRdZaXlSU+YGtjdWLiJ4wDNlmhUm0LpL53ENuRzNmHVJeVXZFzG7aYVFba6ziHdm6jL0S5eQ2NnFZtT6dOL26eXfVERt7H12T1Yo66KbOdvY7pmsECRPZlUTI/cg2kX26mqIpmiDVbCHItCUuXRaM3NW2Lcv2S7NLCw4bq0jANslAdwmSQTAuNP8wGb8Fk0/zLpskQK5SgoYSRDFvjxjo6aZY7o6CkqwtlhAiQ1OOQbV700OYJElqErUxMfrVKDPcE5TPMxr71N2VM2aVHkoSR2OJbASq6OaCVzRgyyZ2CTxM1tLEA0+3m2IdUqxd1kOuvdyHeaxgKdFh3AuNpwxwkRocxTVKQ512Y4hurDKlUWTSRFFxjoxvjThVjZBM1iJLsiS/A9FVGNNEKe2bhEMWv8tvc+dMxE/4QXIYI5GK67FUYNBdI8slaQfvNKIuCZO9NKdvUcZxlzczG6w9tDr5vFEWXi5PlBUX16NIhunlJqmU61eM4tkCropUHqqP+AWX2Y24C4oaZrTtVLdNreV2RikC2yWRk5DCVHM30S+ERiK5ESxUApxm6xpX2mQz8QNNKx3ZidiKxJIIaZgs1ug8z2CugJoC6YiDI06YzkxF5CwmN9JXtaEH3Z9s4AhTCmaXKOlaxYwQtlYX1OgBoYXoVVG2ZBFJih6SyLvI8HdM7hkUEw16lbsnFy1C2THd8YruTCkyzb6YSLgwPWQwZ2xftfZlululdpL3YkSaUrOY1Uj01ZdPbVxlA1eJgr0qqWnqxAyP1E5PCN9wBWTTbphRrSAYZykGVHg4m3OWDKq8KbkL3UPrKnhkaRn5RtKguNSmIBLxX0cdmA/X5BMEd1fNp3FLX91yiMfE5yJaLKjLalMaZtma+LDK9HV7HhQ+74o8y22RxAZ7Dwss4CIYWeTgVtf1zSYxJJynACJfaSNNj0mpVEIDGVmiH1zcKIlcEfiJfaamAogAE07RvS/HocnUAGvhTRfiqGw3E3tV5WM2D3xsVQpHu60+OkmnOXyhLERCCwxE0IKRivvVWZKbk4NGEaccHVrBJbo0kXE04aapWqKn2LCSFaduSDSyQs/Z8Ap88glDWw60xJc/zGWoNneC0WB0H25FEy5NYPeiQoUIeCROzcODlilFIREhwGk4MqGz1TIGOGkBF2vORftk5l+ebTBli7egGEabPpbfI/e3AMZNYQlFZqYT/RYcHXmA5j3NkzlS6AfHV4e5jLAZyKXX5eFLITcPRLPkANuWXeKqccPUfhZuBo8bfeAKL7GK5LhddNM51KP2PzqC2qUGBACZtBUmWIdbN4GDQyIXwQ6iwtF4AAq2aW4mOlGGrbq52+7BXFSPsp8xg+8Jx8mykifxgjEF4VX45FhLwH+LghJYS7J5CZntYoRo7ra5UJkIYnhMkjRhj8WDFI3oZ10ptFAooYHRbOohuYMuvBGmGsKCs2/7yG7rEnhYSm5B3Xwj3EZiU5rmERWjVsfgVDypuAKjLgYyChRgnO4OdwP2sSfJFj6rR8QrThoHXKjgR15WIr4ejg7PiL9UDh80yo8ciseiwlrwwmxK08PuZC5BFKnkFofT/hR2QBZ8OqKpZQib7QOs3ccUm6VybFCcqzV4ThMoZrhVUiQZ4DTJb1TUumKjXg8W64rENZuGaRGfjelgsq+BKJMXJvHnaQ026hJ6bHp+sh3y2rWE2ti3mIiDtRPGn6U6k1VHus1/LNKfvf7r9vLhx3eWzXh1//Hlp+3nT7P0EV+3rx+lWf7X59IseBlDCkYYAckWgfkkW4R8mPERFwdilcquy3mZkvhdu7hBPWVULE9jnNdJj0QX7SF2l3tPRiKh1TJZFZuO6UrxeV+hVvMwWwBclwJNhQ2Xx/E4aaKUQSGQQw+BYMr0ZEUFaXqsHRwrloutSD8rZKzyUgUVpOkMM/BsU91WugHQIj1KhgC3DU/bJKWLFDvIIQhD6I2c4EnEesp5dHDU2B9lOgZNWAXaaToi2TFkw904Uhyy+VjEU4qjnsA54SyWIXO/xA38WJQJIEbKZijmHiKJVEfR8HKvTnmMShpD9niaV1eJc0Z37yTiwQjFukxaFAiHGfzNSQvA9E6+guVdJCykuk4Ji9+RqkgaMVbXhhepCuneCKCi9ZgakEVvoM9m9RoYnTtM4cgP1L6dEhVulVeKgoxEcM7ux9Cw6BwrohSIJwCpTvykKGA+ynZE/G86tT6EnAvSrMfahY4qwSe3LR5yXMFLD6A92EaJPx5nIFZGIB0ZiAr4MpbJ6245g+f3Vgqi4zto1Dbx5h1VrzABQ0/ctgmQKq2qjGUu50mGgJoSpcKBCwshVtwLw1aPsTJusWcWMN6PF5wAIZQiPOUUxPG+3sdJhXiQpm++Q0qu/obEwimlkElTk1JI/Qi1V04h4wM2ENWxOdxcHmU1hAJVEgnKIbj/tDIHhqsIQlaaMxD3icEVegFgBjRnWUMnwUoFR1W71jwqe5QpkKE7MgVHjiAQhsrQt3zMJOGmO+jeiaUkDebNrxRG9kxrVN58SSypYOXUlM6a6cgR1MWxnTyfdpi9Cv0AAk85gkcwfD0YUngO8dznswTkPuSmCl0TFKgYeBzZgbmyAz2T8p1AxNHVzWSv2uJK0Thk7Fh1nk0L2s0HLG8TNuEyfbDSABCdTNJvzwIAVssxju6HCcE7MgCeBlwZgA5elPOjNECEMx6lAc4zAImen6QAMlF1KKcUgOCbtlIAeTtLAawENY418L5QgZSe5gDSgZ0JJQ4FbpWnYrOFklJ0yTV9A/bHbVkAdV6w/6hHjCNYIccD9i/xgP3TAQB2s7sKApo2QVOtj0F/1pxBhhboH0HOHuH9YkdF5POUoo0HZFYPvF9etvIWXXMT9ys07v2YqyBJBcnC+4T7E4pLhYoth4uSi0rxlPcJ6xcpwVSyF5FI6EpdeTqpsOEAdRoHwG9TFAtRDhNO5GxeHvMY4Acx99qYAAAaxoIcPKiLRzAlFb8AfXcNKa6AuYpA5rGyFAGL56ntae2GBYjJkXz0qUwjkVwkPyNgsC00TwytqoC5JmlwgHTOkZwqBiNKOS38Xn8KursvcMAB5HqqlJhK05hAtw5uX0w4EQBHYg/w0gQR2L462OhMUReipg5jXZi75/mJpubKX5+w+lhIWAvqzpOEKT6WE1LeYWseZMfpSH3C6ZjWeJUpJQI3kPrsuyJoMiCALT5F6fvyLKPnHHBdxWPpwOenu+aP8XnTmNiv4o6+B7vm1zo+X5cwlOL4vKQ9m31c+Hw+Zg1EXA6ESStTaQfc6vDYBCmAXUmrelIigumpmmwugEri6ik10KyIW5cATSxL576GwG1SxYtiypQ5ngEomg4YTHZkHLIuVkhxwfFFqG+Wj53GAlq7CGziX2y47vtzQPBkwZWsRHcLx83HVDPIknbH4XesR/XQxfEMzXU0Tw8l8tyTmLs8gdodroMxNyV1FAgtXhdBterk7mQmrHwKqRt/nxD1BHhFjmAecQPpySeAuvu9golR/2mJvxATgWJxW8hVFYDi6Jgp6rF56WEzak6prNLWxsj3jtYGvIrctlArueAyWZT2CGBSUqZ5dCZOUSKqe8j2CFSlJqlDkSJV5ihuBqWYXu+oGrdVuxQDAV+nNgngHKdMkHlrK5oUyLZSUAuzHajBRPACaCsaylmY1UEqAR4CWCdgWUHL2YsHUC74uLvbNp3d8vDKrEjKTMhjmU9g/QRaNTyjQU2TvF5Iqsis4msW44i2GM8zGidYfGWbxMHxyEOoGEk69gRfsn8IemkeCUUSlVFIKwA/aFr0SQzfTd/TuB3Iq3GR/KtiRoApqrEbgGgr9/KdCfwx2RnZEIC1uNBjD80zKQXSenE6eLzyNnkljApxUzaTmPFPnRWnODkCNE4pvwXiTQxbwcssR4LTSys3r0UiZq50Q+ieiB7kgcs9NmMRjoSXMGLI230zzG5TuOKgsGDHFD2FcNICffkeirGnNIaX+ylVmQ9UOANYNddHQepBWeYKtqJIqju8S01sW2oPxdA9XZFlkns+RCw1+olywRekqYmryAdUROU/c3paSdWHLSNkmSofxeKrklW2D9+qAOVTwox/JZyj1wPHVphKtru6tg6O6jff+0ROCxA7s7ski4NXUWjAal5pAjTyulsx+Qmmjs2Tk17VpbSBY9GPUWp1J91CpNxW8hf+HGA8gdKqtnKlHvgoBST7kQlGHJIu7kUbCQ09AxWch0MzqHv1gAM3dzwhqwKuuAD1itucCIgywpaUa+gsuGNoqd30gDwmvGoh0OLitgovVi64R69L9FRAzMgu5TYJI6AsWMiOOsuYkRWR8yOopisTdaToo6q38QuXJ+XRQCSiiCsoHuMvD2x+/aaU0h6Bzf/zs2CzbHp32CbjEA1wPSkdQLkgjlowe18FD+59iMpAKqATKq1XaJ6oQKhgniozn8VTc6qKb64JnY2L29soNSFfMoNDGRd2r0rwDgUwT0yUS8TEySiCnToIakeiFJXOBWpxlKHJzh5Z1OLugrzc6RD4xII3DByVVN2rBN1xkKRXz8arxF2unKDRTqVyA/wCAgDKLNageJ9xGQ2PAxoCphS/jHGg3jqTEPaqadW0aNtiglbu1jWHhCsPVNwtmmpJ2MiFAwvidhy4OtzZV2FM9DMVDv76jDhAsMDe5PaxrTqjxzBvBVlmTOqbD9RLNSVK6HrFefcsgJapfLXKatCAB3gLxGo2tSbH/SMKcqGJDcAvPsFqgUSJ4cRQGlrR10JpveJYRVAF+7QqURb0uiWnmpBnBWxeuhTcAWYjToXf7olQfX8QBPwV6GqR2CECCCHlqxgP3ezaNbnHEQBbBFupRq0deOuUnY9ez+TFMifS9IIZe4KrCpFQEb7CzvEYTXWLCqqrYEo2cfMqBykMzxLKHg5SN6onoWgzbl7XIuMg31dlrUPCuj2pvdbIdS2NimGNZXN3I9+9/tgRHqeAYre0LICA2bYCwiLcZ7CghUoqaFkDC3OReZKLn9LCmLNbDC99yi6Ek6g9wYSK8CoJdSisDDCo9ADe9JCAVP2Bkmo+lBA6XpPgTNUnybGiONoRpkAlypEa6mAJAX/P41Zkr3vRiptGi6I3L/ScXlVcyS4RcMhdrMsHphYmyCt0lBb8KGXiIivZmkDT4msp4n7CUeMJ15xeuqo5+vNGtZ9QzIJ2OmJiajKFKgjRJpRKbjxUGSQPPsGJAzFW9gLPIaK1K9E/oHY5/IqOhkjU78hQUHJEGD1VqiOYVvWDqq6SE6eQMHiVRCIMF3CN0+Kwo6D+QaZVxY6MXxGdCO1UBCxgfHSQ+4ru7hWkbTluHd9SKsEsp73S0Oceeg3VVmwnSFGAQXWanuClsRAt8bWqIhWlxQwku9A529Z+jH8Mk1cRqp9iQ1XLbbdetGdzO4GGldLTdvi4ua1ZFCFxk1eESDpSmKZrvKHFqn40HPibErFkoGyXxlHyRZRbMhM8AwYbTK3EHpiVh8knuCpTFLrAQHBAwiCOBcxF3RMEqLAeNX5kfFRx0k5OshdbyNZ0V9YC5Zd9A1PzIjIZ+gpABkjqeMBwlMxLh7JXe00xg0IF4e01rUpEsY9DeBUEUHCXpGFVqVK2rnSywrzk/tcCwNZ2uw+gbIKbDUc7NHu5253hKySUvIYFBjdjT9mjfEBHQUXsbdE8CdRKC4RpmWqZLokMZZFAkEjPK3QWx+RV7AvWFlEcJ6jNq6h6xvNxfgFaE9Hlxh8AoA5tKhSQJywLJ8s6gSc1TPY35FY2qrNTxBYUDgdI5GVQhQmPgVDPR1rNy6kUwBYiGimFshbftCvsx/RiUcd1BEU2ChusaG96YYKm56WyKtejEGosFlSxfJc/VRYWkVblWZoHbtM3LwTT0Qk/45QQxujFv2mtS2EguTf5esnjxaPE0g9zCsaq26kwccEbOjk6sVKOI45OqwFAooy6gF7SmQUKeHFKypsfF6jOjXI6ir3nFX/hkEe5H3ESAR7wxSr9SgQ91OMpXtAwpPfqIp5UkmDofljFvpYpB0WwnmgitgJVKnBe5xSsJpyNdlR4LHYAnfbAxdmhrol0Vw0DrFgnN7L7A45tdqz6IN7CK1KaSeGvDg0oMU5E7CcQFQWNxyVYHgdLIEI+wnaphrHCMJlNTV96Mrtv4UVayibJqCk6GmUFmPPwblPEj/Y01CDbIgs5bQv8KNa4OhUguiVwXF0JS2llOb8qf4un+GrgTprBSCTKAZbyShILarNTJn6kUz5EwXp2NN/w2jvnnXCYGbCOfMynbKvydW5eanBAR45EqcpZGRox0vSCELFJRl/Kc+yJvgZnumJ8jBjJmZR500FzyZ+nKxZUlJZ7ojmJOSZeTOWgkCpFlDuO3gDtrpaarxSXQgZth/xcyGP91qG6Xl//7DiQCw7yGM9JNE+1fNkBBAJe2lVPkIP3yb2qfrRQIVImM5bm5jWUoguIUcVJHgBoqkSXhGl/5JKgrwvIZfPK6LJor40TyACRxiLSgAJ+zvUvEeJ582q+Co8hnv/xOYjH82lSStFPpWTAC9m/KmTcCKpwRGiM5zqrY/yyq15VU0y7OpSje3Iox3Jhgpc2+zlBuXOCUMgkYe+L68SycnZIDyo9S+FxKFSIhe7D5QUXX+ZHxeV+yCnLDCtXogNacoEXHlFwmuQRB9fFkZy7Dm3r9DNJNzlAKobqCwpBaXqpkh9LL2j64EU2wsDylo8D9pmUuJAkubbBHbPstV+bp4b1bgekCCBh8twUbwX/mEWDZOMUxQt6BXko6HL807I51pAcydH5/0rvksbSyK8mUDnqCooH3W39aWkBbKeWsv0DG+pHqKSNtfCYj+i6LLiAU14T5mi4mhlyexUVKZ2jKLm7YBaSOuEUuElbCnxRcrp43UviX6foXxq4Ehgp4TO9TCpyNmj4AeWA1VbuSplVcimJTtchTj9sU1BwxyG6CuEyOyhXM/sIzbMdlDRU2FAHyUZfjqfqGXUGpvsXH4RzFz/eELd0JGIDR44pQZX5wlagJuUjcxBflRpzxWHJI3avRkh9RfrdNz94NbZ/J8VFifLuCaoWcLjka2kPObXW1hgik9xT5fqG+yLRU4gN8qy8KoQRFqneG/r3OH80fP2kS4n4GxzhbKEqA3ijbX4wmr4TUk1v1cFa6v2L87Lronw6U6h6g7qivkPdL1DE971C4JXEVyq3EiIVfB6BdALHCavRs/4Jl7aqz7S9UoL4rpF/BXBGEhBlxabMd665CeYECUr8jG4H7UHxoFVl/AW1gY8rPCmD0rqXXRxoy+Q9O9qUT+zgqZI4knOgc5ty5jfyTt0X52DpPPR89OWrgrUQxI3jDHjAhyPhTC1DdSvg+9tc7FfWbC4XTZZB1l/eyKomiAwb8PBcc2t2Sk1Pt+dO/5SXQBbZIy+EkOdT4fmxorvZli8iY9W9KrF64KOCj7wc7HogcSIu40ibF74Oc6QYZTL43kJeG9fcLlZiDcl+68sGRC/rq56CnstPyR5UOnCBR+WfrQnAC0qEjHaMtgyc4h9ZxEQsX+CjccxTUyxer7PKaOfh7SvedaC4Lp2t9LM00nD9LJ+NnGJFSKujlsepUqFPAiwUr0SUpJfuCZnNuKDuukDWSjmDfM/gO1Wujl2QRyEuLjgllTRydk0QUVLjlEysTh7Vqukkq5vkwtpPIhX8GwZ+hk5AuNRH8MLCTECnuAeWrld5iQCQjdu16mcRFDPkbdUbX8Q/kgwpCmtTD8xaRlazUPTdEP2MfpXqEgdlj4yiF16OtaHNdVHm5eycFvCpNEt5NrIaZF7z5odXqfNrHs+4MIG1xIUoRXebq7ZVfr92zBIdR/jtC5KF5+MKFXfCOUKiqsoxfXUI2RG8JmcBq+PCWCCzGwGpPOmh6h8YiI6TlkVwwShr9zK80PxLMAkU58m2ZXcL2+YHGstR8NBWAkGorqofEdO5QGOB1Gof0h8zgPj4tw83Hx/WzbvrVzd3Fhq8+uYz33TTK/dv95s+mN96uPn+3d31g03ol69+9cVPfvPjw6df/t2rX734j9uHb1/88O7Fw/2LL376+OmLF19ff3/9zc0v9xfeX//ql3/H9dTZPp2vft2nwVFDH1Ub2bT0KCZlo+pvMx9mDDvAMab9nUF/7VMp2yz2/qz8NQx+NgMAZ9e/1WpOHaMNQSdSg+Un9kviV+ZZ5dKE4oeuT7kFjRZj0LPI991i4ibtYlGD2AIXfg2ezcRF7VLQr8ToidFTUrlaorNUKhf1kiqvVJp3fvXMhVcGnU2/NH2ATtSJmYFy1Js5cWGgdSlcKu2YfKbPDM1K0LMS/aLplkQFEJMvuXLRPAuzLpVXKq80OuuBC88GbzL5Ih6INXBJiUvmotFrDlx4lnmz8AvS1aJJ1MpNFlYZvTJsZW/r4MLoldEbpGvKee2XwqVxUYPGxjVm1jK/mERj9MaiW+MXG9c6r3RGGPnJhQaTX/BLD4FL46LN6Rxj6mxqhxV7okHmJnPpMFGHr3uLXLjZNV5n9M7ofTIePD+QlQElBrw0GH0w+kiFi5oPKDGypjsKv9iVATOM6r9o3uiTKQ02Z7A5A9YYTHAwwQFdJnSZ0GVCl8kHGScTRDPs4seb7NhxyVxozqxn5iYsPKHgRDpm4U32dsLe6Jv9wivw2bqwsAnXzVY/d/E3mSdiMeGQCSUmjHJc2pMLc+njcxcIMsKTC11Dz+PCBAcjIA8TWs9BL/DEcYlPLulzl/xbLowHg/1el/Z7Xf71hImF/ydM7OKV3/FBU3OrNnIAOTz9jxM4QR5me/pIsOTlLUB1kVQFqunpK8o8mp9w3lKfRdSXLfplC5ULnbcACsDdTOczVyRyvpYkn12hrUXdly3meQvbaZxzhW/nLfLlGNmRuKyE5sUY+XIMj0+e3lY4tXHuoHgY3i5fkVP25G70MMVCw4s+qxzmfNagCssT8nHZQLDARQOVE1nwdd6gcWbtrAElXjrhe9lAyPJFAyVcDF49b9AB/88adMorLV102UDHRS4aUBU9dFIlnT0dJHQND1ZdyzjjSnuDfIzcMtWAnPcxVaijRIAlLi+envc4rygkwkaFs5Vz7vLyFt8M8/z7uZBy9OPyFsex/LO/8XKkc7H1Wr6onL0kNV6OdC65kY9wWe3V5l7i5UjpcqTk37DlPKOVy16+cTFS4jyQf7/FSsTP38iXIxmkbgcodI5O52Iv37gYyYIdOx+04U6dSy6fObq8pWJile3zgarLNy5GKnxQcfph73N51gGmi5Es5rbvT/CFungu03rjYqTKR5/1xZ/gn6FqHCbXV6mearnkZ6Z0Xl9fANbXdNqZaltfkLZPMMTOp6P0oZ+L3vTNOKsisI8g67ta+szU+Wu4TVf6Gol+Zn1i7fI1fW1aH0oQmKCPHVz0hkdgvZ2Lrr7roT8XfZssRxXRn8svHwPR9/bOGsltS/pc5bkE82UYfVn4spFypnwM9bKRPidxMZLqTZTBPJfgrE9r25+LkfSBPDO96VyCMx+NSefGN22KZ5Ks77kEZ7ulPxcjyf7KAJ9LsN4f9udipCyP6M8IGpy+UPJnBQ3kJ3e5rQ4diMhDkS5xyFAkNhSIDbnCY8r+iMWmIhd8/5kBE/RUXv1suq/oDTfaneIAHBD8ixJEv4GAJxD6BRz7gIcdcJgjAEBEtUeipwUjELtFgRkxEmREOot0FvH994BJFw/5CYZSABXAEiZmlgj5U3ZQgQaEMYlQLDFCImJJBCCJmCEx+URAkAgB0gQjcGwhOZoA4FD0Zia8y4Q4mdgm03UmmsmMkKFnJq4rrKEE/wVw4LiDAw4Qq0CsQmBWCHQLCEwh6C4E3aU77sDN4bgDv1hRITgpxBOVSVSiykoAWVnmgTvwjOjwABwcaaAB0XaFrBVKVOZSCW0rw1Zioka03aJfwAgYdkEM2X8BKsAorQJUAHc0otHGXBrxZyO+PuAHfhEPNhjzAByACtjbjvXoUL4DvfTsvxxp4Bf70JlEB67qcEFvvAIJOpzcmUuHIB2CdKaEPJ/ACJ5BrA6xHKHo7FiHIwfCNYKjF6AQMNHZZUEaDnAAMeCbHAAHb7L9x4UGEOT8Up9cGN2BEcTwwEfSb7nk/78La0Aa/5BL+0Mv/Xdfxl/y5U+GGHz221zPiMGjFs+IwUWDZ8TgGTF4Rgye3HpGDJ4Rg2fE4D8tYnA6Zv5nRQxEUkIZ0qNd8W9XsEhSdCigHor/cO7JYZK0HIpjyFUOxeOrLAFsQRiCAtgpwZwK4Z5gC44q6P+iQqG8J7tWVQLqISA7gczuqlEg7AoEvKE64sArxFuBQCsQYQUC3jC8mgHkgAA7YgOjG6jkoATPcJUjkMEqcSC6jAS1kbg+knSMxHCRgSIrOkAJhyEceKCMoXkZA28yTy9jyATDOfrF6xeAE1bhAs/Iwh6IA///ewT7R/0CUb6jCg4nEM2uigU6K8AXBXoWJliIngvzLOAWhYxpYYRKyFmxihWFXAkWKwFhJQSshICVsOuoX+AmQXQtfpMGkLwC1lTAmsrMVlGDgwvMs7IrFfTjKHjw8geHIcZnLgTfdZQnFxqMJ/USwxvMxxei9Tod2kh/lEv+Y17KX8Kl/qyX9ode+h/lMv7KL38yrOCzn1Z5xgoetXjGCi4aPGMFz1jBM1bw5NYzVvCMFTxjBf9psYLTeeU/J1bQFOY2les2hX1NfjTl2ORIu2JSxxMUS3aFb9RckwElAdrVT1d01hWHUXtNfpOE5lD6lUprEolD8fco1DAIYWggD4/+UtUwOCIhPEFpzinVQZXzLKpeUD9T/Tj+QNi2jkUAAYTsFQw88/MQRDCRtGpE9CNR9FGzwDOC8EjoGbufh3BcgJvrPITDA5QZkEhNABCJhGhiLkfpAq+U8uTSfu/LeHKZf+CFVPtvv8Tni1/S8+Wv7JJ/nkv5K7/8yeCBz36W4xkeeNTiGR64aPAMDzzDA8/wwJNbz/DAMzzwDA/8fPDA/vPu+sf7Hx7M6Xlz/5br9fe3dz/aN81+/LCH71/+cLu9+PL63bu7my+5s/3in2++ub958S///Rfbi/99/+r+4X578U83d/9+83D7+np78ffvb6/vthcfrt9++PLDzfvbN9uLX/y9tX/xD+ZXvfjH7+//7XZvenTjd3an6sPt/9knFwve2De3b21C+6zS7mO94nInh8tcuv2lu5tvbt5+rZduH+7k3gESvPzHfzB/7f797c3bh+uHW0ET3+4j/Hj99vW3cu72eT/cf2+39L22j8eDu5s3hnp8ZIin4MfPT6RPn2wRH28/fHbV79/vbV/fv39/81qL/mRwz8ebr99fv/1mf/Hh/Q83n2ytv6H9fxP88uJvvpC3641+/aVEKO/c8uHb+//48O72u5sP9LXfsV/f339tPIUD/bfXr9/ffzAEiDffXr/bn73+4f2Hnbp+8+Hb29ffvb3Z3/oq+a2vrz98u7/39f3Deml54a/url9/t9/cCffdhx/e7OvZb37xktk8ufn2fnfxP/Fgscab67sPN76NPs+PC1D6+vbDw77t+70v46dP/xf8EF6R&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;The amount of damage sustained by successfully scanned QR codes. The hover information displays the number of points to the left of the line (number of successful scans up to and including that amount of damage).&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Under these experimental conditions, level L codes become much less readable above ~6% damage, level M above ~12%, level Q above ~18% and level H above ~20%. This correlates with the resilience I quoted in the table above.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;I’ve learnt that the four different QR error correction levels influence both &lt;strong&gt;data volume&lt;/strong&gt; and &lt;strong&gt;ability to scan&lt;/strong&gt;. For a given QR version, increasing error correction allows storing less data, but makes scanning easier and more reliable. However, for storing a fixed amount of data, like a particular URL, the version is computed automatically, and the easier scanning can &lt;strong&gt;trade off&lt;/strong&gt; against the data volume. This ties back to the size of the individual modules (little squares): there is a minimum certain size before a code is scannable, and so a denser code needs to be larger.&lt;/p&gt;

&lt;h2 id=&quot;experimental-caveats&quot;&gt;Experimental caveats&lt;/h2&gt;

&lt;p&gt;The results I’ve talked about here are all empirical, and there’s a bunch of reasons that they’re not perfect:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;I tested only one method of reading QR codes, &lt;a href=&quot;http://zbar.sourceforge.net/&quot;&gt;ZBar&lt;/a&gt;, although some quick experiments with my iPhone seem to correlate with the results here.&lt;/li&gt;
  &lt;li&gt;I also tested only one background image, so the behaviour may differ greatly with QR codes contained in different surrounds.&lt;/li&gt;
  &lt;li&gt;The QR codes are generated to be perfectly rectangular and aligned to the image pixel grid, which is unlikely to happen in the real world.&lt;/li&gt;
  &lt;li&gt;The noise generated is random Perlin noise, which isn’t likely to be what occurs in the real world.&lt;/li&gt;
  &lt;li&gt;The overlaying of the noise carefully skips damaging the position patterns (the big squares in three corners), because the performance is catastrophically worse if they can be damaged too.&lt;/li&gt;
&lt;/ol&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=QR%20error%20correction%20helps%20and%20hinders%20scanning&amp;amp;url=https://huonw.github.io/blog/2021/09/qr-error-correction/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2021/09/qr-error-correction/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2021/09/qr-error-correction/&amp;amp;title=QR%20error%20correction%20helps%20and%20hinders%20scanning&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;script id=&quot;plotly-template&quot; type=&quot;application/zlib&quot;&gt;
eJztWutu4ygUfhf/2kpoZPC9r1JVI2KTxCoxWYy3TaO8+56DISGXdkeabppRLNWqgz/O+TgX7tuo4YZHj9toxnX0+LSNhNZK/3zDolpJBYWRXsz+SnJi/x6iHXGYzaeYFdcvQiNEtp04hbIkJfZJ2UNEote2McvoMf6RQc01N0boDqvMWylXqoHqkfpHaMk3AO7bdyigMbwp2Tat2WBNtoOqZrNGLLZl90zw/1pJ17BvJjQSQVY1/BDGcuL8re1RrugaZHXZmiRa6Lbx316XrRFQFuJ92artlL4E7g3X5mMNO7TVzVBxRnN2siZbKq3WUqBPnpzjbMBuIzVYYd5hULutXz4ij9+kAE+W43uPfhxM3zbCfXVyWEDjoNtSUZ1Rg74iDyukr7kENk9P8Q+QbSOWQLRmD9EzwbKcFWkWV2WcVIxmeeUwKaEZSalDUZalVUyrPC7KNKFJMaLSAkKfZIVHlSVLMlallBZ5WsT5iCooYSUpmEOxQFuJ2kdUVZAkJqVHoZJQ6QiioA5RlUdZPdler0NlMWEFqTz7NFCGyh2qAPaMlKVDZWH7WJY5Q8QJYTkpvMbsWCFzKOAFxsi9JT4wKrixyEnueeXVsUpvekZoXJAicbAiMClq9jBwUZKRynuyDJsIij0sIzQHicxbttzrG63rcTkB/4HXvdojnUmWeBxYDZpNy7GtdB9VaHTsB1kMH54PWeDCPkiBoB+7bkIeqUdCS8HNiq+nnJxy8p5y0od9kAILOSXBlAR3mAQQ+DYN2t6ohearkyn/70/hD5KP9LBmSrgp4e4q4YLQP0mFaW00ZcR9Z0S4TFqJfplcc3hwdJxepLDmulZKN71lcbTv9T+zOdA5cLCMWjHufA1GwfC8aEGa0YM4wAGAQEhqHLJPxvHrUvccAj7OoVc25TcbwEWT+xWs+7+ZV7AF4EoWQt0CMaQRspI3QUqGnGDOPFNvt8DLMQm4Xdq0/xZqh037sOA23OmpBOxwicP15hbYeSqW3aDnvBbTtHCaFt7TtNCHPaaA4TPpEkBI2ft9iPNTSIgYfNLYnoSdnlSOZ2iYbUvBmzG9L8mhZULsg5HwqRzHdeS3e0Ys30BeIZp3nTLctKprxJwP0ljeXGv1GirLC/Aa6MIYgPo4s0Op3bCaCY1p2hvd1iZyaenPGa/ULYVdwTbqxd+D6EzL5dQxTB3DtTuGQ/St2m7opxCcQvC6Iej7w1eOk8QxDkADBdKF7VtHs1FoA7NeH0tKZAss4tSXIMOiDCCUVU5OtS8CUpTFpDpIpiAEbEDRPB4UE/fsUTGIQZV0X5HGgCghYmNr12iuOvPp7SO7DtxGs8XZVRX+cnZVRfKuOR6Fj+4C9Uv1itV6v1MxFnTN/vcwG7rWnAyuMEaP5wszYcdnLtsFDFqRFHOz/+oOImqpetHjELnma6F/nvNeS2WC4gs03aIJh+3FAK9+nP3VCzvYKsTu92Pc0GovB32mWPMGerSvU7fD9YwYJyxvXuyM1y8LrYZPPXVJN5b5+cDHTA7iQydf5Eeid6HVuSCgvfmj2L7/QWwxJpaQGuFEFCe+H81DD1NeP6cECWrNa3eyh9f69qvl4B7elyTL1TKv/tKk2+fa+d7sb8vHV+Om4Aa6TjWfR48UvfDfyXQLdHa7fwEhtg6y
&lt;/script&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:modes&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;There’s also the concept of the &lt;em&gt;mode&lt;/em&gt;: Numeric, Alphanumeric, Binary or Kanji. However, they all store an (approximately) equal number of bits, so I’ll just use the Binary mode, because I’m far more used to talking about bytes than bits.&lt;/p&gt;

      &lt;p&gt;Details: each mode defines an input character set and then an efficient way to encode those characters. For example, for Numeric, the permitted characters are 0, 1, …, 9, and they’re encoded with 3 digits in 10 bits. The Binary mode is probably familiar: one input byte is encoded into 8 bits in the QR code. To convert numbers in this post into bits, multiply by 8. To convert the number of bits to the number of input characters in each mode, divide by the appropriate coefficient (Numeric: 10/3; Alphanumeric: 11/2, Binary: 8, Kanji: 13). &lt;a href=&quot;#fnref:modes&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:quadratic&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;For fixed field of view, the distance scales linearly with the side length of the QR code and the field of view is proportional to the area, which scales (close to) quadratically with the side length, so the permitted distance is approximately inversely proportional to the square root of the required field of view: quadrupling the required field of view requires being half the distance (approximately). &lt;a href=&quot;#fnref:quadratic&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:consistency&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The various numbers flying around here match up: level L modules need to be ~30% larger than level H ones, and the level H QR code requires 2.35× more modules. This predicts that the level H code would have to be 2.35/1.3 = 1.81 times larger than level L one, and that’s pretty close to what we observed: 1.4/0.8 = 1.75. &lt;a href=&quot;#fnref:consistency&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>The joy of cooking (an app)</title>
            <link>https://huonw.github.io/blog/2021/08/home-cooked-app/</link>
            <pubDate>Mon, 30 Aug 2021 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2021/08/home-cooked-app</guid>
            <description>&lt;p&gt;Taking shortcuts? Leaving edge-cases unconsidered and unhandled? Is this engineering?! My approach to programming and software engineering has been shaped by years of building &lt;a href=&quot;https://rust-lang.org/&quot;&gt;open source&lt;/a&gt; &lt;a href=&quot;https://swift.org/&quot;&gt;compilers&lt;/a&gt; and &lt;a href=&quot;https://stellargraph.readthedocs.io/en/stable/README.html&quot;&gt;libraries&lt;/a&gt;, where those edge cases matter, reliability is crucial and flexibility is important. It’s been a breath of fresh air to take a step back and stop thinking about every detail, and instead write code that works for a specific set of people: me and my wife.&lt;/p&gt;

&lt;p&gt;Early in 2020 (while fires raged, in the before-times), I read &lt;a href=&quot;https://www.robinsloan.com/notes/home-cooked-app/&quot;&gt;Robin Sloan’s &lt;em&gt;An app can be a home-cooked meal&lt;/em&gt;&lt;/a&gt; and the idea of code designed for a small group has been rattling around in my head ever since. I can feel the truth in Sloan’s writing:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;And, when you free programming from the requirement to be general and professional and scalable, it becomes a different activity altogether, just as cooking at home is really nothing like cooking in a commercial kitchen. I can report to you: not only is this different activity rewarding in almost exactly the same way that cooking for someone you love is rewarding, there’s another feeling, one that persists as you use the app together. I have struggled with words for this, but/and I think it might be the crux of the whole thing:&lt;/p&gt;

  &lt;p&gt;This messaging app I built for, and with, my family, it won’t change unless we want it to change. There will be no sudden redesign, no flood of ads, no pivot to chase a userbase inscrutable to us. It might go away at some point, but that will be our decision, too. What is this feeling? Independence? Security? Sovereignty?&lt;/p&gt;

  &lt;p&gt;Is it simply… the feeling of being home?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;the-project&quot;&gt;The project&lt;/h2&gt;

&lt;p&gt;I got married last October, and I wanted to have an anticipatory countdown, somehow. We both happen to have Garmin watches, which support custom watch faces&lt;sup id=&quot;fnref:monkeysee&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:monkeysee&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;. I created a simple but fun little app: it shows the time, date and the battery, but also has a photo and a message.&lt;/p&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;screenshots.png&quot;&gt;
      &lt;img src=&quot;screenshots.png&quot; alt=&quot;Two images side-by-side. On the left, a digital rendering of a watch face at 17:24 on 27 December, with the text Happy Birthday, Sterling! across the top. On the right, a photo of the same watch face on a real device&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;A screenshot of the watch face from Garmin’s simulator (left) and on my watch (right), on the birthday of &lt;a href=&quot;https://www.instagram.com/corgi_tales/&quot;&gt;Sterling&lt;/a&gt; (pictured, excited about a tennis ball).&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;The photo and message changes each day, usually randomly. However, on some special days, it chooses a particular message or photo, like the countdown across the 10 days leading up to our wedding. The photos are synced, so that both of us get the same photo each day&lt;sup id=&quot;fnref:photo-syncing&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:photo-syncing&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;. The random messages aren’t synced: instead I wrote some for my wife’s watch and she for mine. It’s nice to wake up each day and see what unexpected combination of photo and message I get.&lt;/p&gt;

&lt;h2 id=&quot;engineering&quot;&gt;“Engineering”&lt;/h2&gt;

&lt;p&gt;If I was to create a gallery/message app &lt;em&gt;properly&lt;/em&gt;, there’s a whole lot of work required beyond the core “show the watch face” code:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;upload photos and messages for random selection&lt;/li&gt;
  &lt;li&gt;associate particular photos and/or messages with particular days (with the possibility for recurrence each month or year)&lt;/li&gt;
  &lt;li&gt;potentially, a service to sync the photo order/selection across multiple devices (or, just being careful to put the same photos in the same order on each one)&lt;/li&gt;
  &lt;li&gt;message templating, because some messages should say “Happy 1st anniversary” on the first instance, “Happy 2nd anniversary” on the next&lt;/li&gt;
  &lt;li&gt;wrapping text nicely, to avoid it overflowing off the edge of the screen, like the example above&lt;/li&gt;
  &lt;li&gt;workflow for publishing to an app store, including signing and updating&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Instead, I didn’t do it properly, because it’s an app to run on two and only two devices. I can break all the rules: I can hardcode content, I include private information&lt;sup id=&quot;fnref:private&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:private&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;, I can make assumptions about devices. For instance:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the app directly embeds all 25 background images&lt;sup id=&quot;fnref:size&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:size&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
  &lt;li&gt;our two devices are different models, so the messages for each of us are conditionalised based on the device qualifiers using build system functionality&lt;/li&gt;
  &lt;li&gt;those two models are the only ones supported, so a minimal CI that builds for those devices is all that’s needed&lt;/li&gt;
  &lt;li&gt;the app can be easily sideloaded: plug the watch into a computer and copy the compiled &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.prg&lt;/code&gt; file onto it (I think this is a critical component of “home cooking” code: one must have sufficient control over the devices to run arbitrary code, without expensive or complicated processes managed by external corporations)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;open-source&quot;&gt;Open source?&lt;/h2&gt;

&lt;p&gt;The modern software world is &lt;a href=&quot;https://www.fordfoundation.org/work/learning/research-reports/roads-and-bridges-the-unseen-labor-behind-our-digital-infrastructure/&quot;&gt;built on the shoulders of free and open source software&lt;/a&gt;. This project is not even 700 lines of code, and it’s still no different: I wrote it in Eclipse, stored it in git (via Emacs and &lt;a href=&quot;https://magit.vc/&quot;&gt;Magit&lt;/a&gt;), cribbed the toolchain setup for CI from &lt;a href=&quot;https://github.com/jokarls/donkeybrains&quot;&gt;code published by @jokarls&lt;/a&gt;, and that’s ignoring my little Python script for resizing and dithering the images appropriately, and of course skipping over whatever is used by Garmin (and the computer upon which I wrote it, and the internet services I used…).&lt;/p&gt;

&lt;p&gt;Unfortunately, I think open sourcing this sort of code removes a large chunk of the freedom that’s so glorious. Just as publishing a recipe changes how it is phrased, so too does publishing the source code. I’m comfortable sharing code freely, whatever its state, but I’m not comfortable sharing the private messages I’d write to my wife, or the photos included: without the pressure of openness, I could just place these wherever is convenient.&lt;/p&gt;

&lt;p&gt;I’d also prefer to keep these personal project free from the unfortunate negative aspects of published code: my experience with open source is somewhat tainted by the responsibilities of maintainership and the associated guilt, burnout and occasional instances of unpleasant user entitlement.&lt;/p&gt;

&lt;p&gt;I’ll give back from these sort of “cooking” projects through blog posts, contributions to the tools/libraries used and potentially splitting out small parts, instead of open sourcing the projects themselves.&lt;/p&gt;

&lt;h2 id=&quot;like-cooking&quot;&gt;Like cooking&lt;/h2&gt;

&lt;p&gt;I don’t generally like cooking that much, except for when I’m cooking with my wife. I get the same immediate and personal sense of fulfillment writing code for (and, in this case, with) her. “Eating” the app on my wrist for months is just icing on top.&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=The%20joy%20of%20cooking%20(an%20app)&amp;amp;url=https://huonw.github.io/blog/2021/08/home-cooked-app/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2021/08/home-cooked-app/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2021/08/home-cooked-app/&amp;amp;title=The%20joy%20of%20cooking%20(an%20app)&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:monkeysee&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The programming language/environment for the Garmin devices is called “Monkey C”, so they took the opportunity to call the compiler “Monkey Do” 🥁 &lt;a href=&quot;#fnref:monkeysee&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:photo-syncing&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The photo for any particular day is chosen by hashing the &lt;a href=&quot;https://en.wikipedia.org/wiki/Unix_time&quot;&gt;Unix time&lt;/a&gt; of midnight on that day and using this as a “random” index into the list of photos. All these factors (reference time, hashing algorithm, and order of photos) are the same on both watches, so the chosen photo always matches on the two devices. &lt;a href=&quot;#fnref:photo-syncing&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:private&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I still wouldn’t (and don’t) include credentials or other valuable personal information, but I can at least feel free to include sickly sweet messages for my wife. &lt;a href=&quot;#fnref:private&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:size&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Unsurprisingly, an app containing 25 images ends up as a large artefact, even when they’re reduced to the limited fidelity the devices can display (4 or 8 bits per pixel and circles with diameters of 208 or 240 pixels). There doesn’t seem to be much documentation, but I can report that watch faces of the following sizes seem to work in practice: 718KB for a Garmin Forerunner 45 (FR45), 1.78MB for a Garmin Forerunner 245 Music (FR245M). &lt;a href=&quot;#fnref:size&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Git worktrees and pyenv: developing Python libraries faster</title>
            <link>https://huonw.github.io/blog/2020/04/worktrees-and-pyenv/</link>
            <pubDate>Wed, 15 Apr 2020 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2020/04/worktrees-and-pyenv</guid>
            <description>&lt;p&gt;It’s glorious to work on one task at a time, to be able to take it from start to finish completely, and then move onto the next one. Sounds great, but reality is messier than that and context switches are common. Doing so can be annoying and inefficient, but &lt;em&gt;not&lt;/em&gt; switching means tasks and colleagues are delayed. I combine &lt;a href=&quot;https://git-scm.com/docs/git-worktree&quot;&gt;git worktrees&lt;/a&gt; and &lt;a href=&quot;https://github.com/pyenv/pyenv&quot;&gt;pyenv&lt;/a&gt; (and plugins) to reduce the overhead of a context switch and keep development and collaboration as smooth as possible when working on a Python library.&lt;/p&gt;

&lt;p&gt;Reducing the pain of a context switch allows me to work on many tasks concurrently: usually one or two large features with a few medium ones and a variety of small ones. My day typically involves working on the larger features for hours consecutively, and then either getting blocked or needing some time to think subconsciously, and thus pick up one of the smaller tasks.&lt;/p&gt;

&lt;h2 id=&quot;context&quot;&gt;Context&lt;/h2&gt;

&lt;p&gt;This post talks about how I use these tools in practice, in my work on the &lt;a href=&quot;https://github.com/stellargraph/stellargraph&quot;&gt;StellarGraph library&lt;/a&gt; for &lt;a href=&quot;https://medium.com/stellargraph/knowing-your-neighbours-machine-learning-on-graphs-9b7c3d0d5896?source=collection_home---6------7-----------------------&quot;&gt;machine learning on graphs&lt;/a&gt;. StellarGraph is a Python library built using TensorFlow 2, Keras and other common data science tools.&lt;/p&gt;

&lt;p&gt;We take a fairly standard approach to developing and distributing the code, which means promptness and collaboration are important:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/stellargraph/stellargraph/tree/develop/demos&quot;&gt;extensive demos&lt;/a&gt; and documentation&lt;/li&gt;
  &lt;li&gt;supporting multiple versions of Python (3.6 and 3.7)&lt;/li&gt;
  &lt;li&gt;all changes happen via pull request (with &lt;a href=&quot;https://github.com/stellargraph/stellargraph/pulse/monthly&quot;&gt;70-100 per month&lt;/a&gt;)
    &lt;ul&gt;
      &lt;li&gt;code review is required: a pull request cannot be merged without at least one approving review&lt;/li&gt;
      &lt;li&gt;testing is also required: a pull request cannot be merged without passing &lt;a href=&quot;https://buildkite.com/stellar/stellargraph-public/&quot;&gt;continuous integration&lt;/a&gt;, including &lt;a href=&quot;https://medium.com/stellargraph/better-notebooks-through-ci-automatically-testing-documentation-for-graph-machine-learning-5789e277e597&quot;&gt;validating the demos&lt;/a&gt; (which all adds up to take a few minutes)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The &lt;a href=&quot;https://www.stellargraph.io/&quot;&gt;StellarGraph team&lt;/a&gt; is a project of CSIRO’s Data61 that brings together engineers, data scientists, UX designers and researchers. I mostly fit into the first of those boxes and part of my role as an engineer on a mixed team is being a force multiplier: optimising or otherwise making the code more reliable, and improving the tooling &amp;amp; processes listed above (and others), all so that others with less engineering experience or more research interest can use their strengths best.&lt;/p&gt;

&lt;p&gt;This means my day is often broken up with:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;reviewing others’ pull requests, so they’re not waiting for approvals and feedback; this sometimes involves checking out the pull request’s code locally to run it&lt;/li&gt;
  &lt;li&gt;responding to code reviews on my own pull requests, to try to keep the “review cycle” as tight as possible; this usually involves editing the code in response&lt;/li&gt;
  &lt;li&gt;doing small fixes for annoying &lt;a href=&quot;https://en.wikipedia.org/wiki/Paper_cut_bug&quot;&gt;paper cuts&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;validating requirements and expectations for larger or more complicated features and bug fixes; this often involves doing a proof-of-concept implementation as a draft pull request&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All of these involve working with the repository’s code on my local machine, and all of them are typically short tasks, ranging from minutes to hours, not days like a new feature.&lt;/p&gt;

&lt;p&gt;In addition to all of these code tasks, when I do finish a feature or bug fix, I then have to wait for code review from one of my colleagues: this is usually fast (at most a day or two), but, if I was trying to avoid context switching, it’s a long time to do no other work.&lt;/p&gt;

&lt;h2 id=&quot;sequential-development&quot;&gt;Sequential development&lt;/h2&gt;

&lt;p&gt;Suppose I’m working on feature A, but then notice paper cut B that would take a minute or two to fix, maybe a typo in documentation or a minor bug. This is something like the third situation above.&lt;/p&gt;

&lt;p&gt;One approach is to just do the fix in the changes for feature A, so that the eventual pull request and code that lands combines both A and B. This is suboptimal, as it leads to:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Slower code reviews&lt;/strong&gt;: each review is larger, and it’s unclear what change was for what purpose so more detangling is required.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Less useful git history&lt;/strong&gt;: if the combined A+B change appears in a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git blame&lt;/code&gt; investigation, it’s just like looking at it in a code review except the author likely can’t answer questions about it, because they no longer remember (I certainly forget these sort of details quickly).&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Slower landing&lt;/strong&gt; of the useful small fixes: the fix for B gets caught up and delayed by the lengthier review of the A’s pull request.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;A better approach is to do this work on a separate branch, and thus in a separate pull request. Doing this concurrent work with a single copy of a repository is frustrating, because the book-keeping work required to do the fix dwarfs the actual effort to fix:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Save the state of my work-in-progress work on A’s branch &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;feature/A&lt;/code&gt;, which means both:
    &lt;ul&gt;
      &lt;li&gt;the actual changes to files on disk (either with a “WIP” commit or &lt;a href=&quot;https://www.git-scm.com/docs/git-stash&quot;&gt;stash&lt;/a&gt;, taking care to manage any relevant temporary or new files)&lt;/li&gt;
      &lt;li&gt;any context that’s not directly stored in version control (such as where I’m editing in each file, or what I’m planning to do next)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Create and switch a new branch &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bugfix/B&lt;/code&gt;, do the fix for B, create a pull request for it&lt;/li&gt;
  &lt;li&gt;Restore the A work, by switching back to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;feature/A&lt;/code&gt; branch and then reapplying/remembering any other state from step 1&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The actual fix, step 2, is much easier and even faster than either of steps 1 or 3, which require remembering things about the code base while also remembering things about git (hard work!).&lt;/p&gt;

&lt;h2 id=&quot;concurrent-development&quot;&gt;Concurrent development&lt;/h2&gt;

&lt;p&gt;The list is much simpler if I have multiple parallel copies of the source code, each of which can be changed independently:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Change from the directory that has &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;feature/A&lt;/code&gt; checked out to one that doesn’t have any work-in-progress work (or create a new copy)&lt;/li&gt;
  &lt;li&gt;Create a new branch &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bugfix/B&lt;/code&gt;, do the fix for B, create a pull request for it&lt;/li&gt;
  &lt;li&gt;Change back to the directory for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;feature/A&lt;/code&gt;, picking up where I left off (including things like the exact position for each file in my editor)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The whole process takes about as long as step 2 itself because there’s little book-keeping. It doesn’t directly fix the “remember what I’m planning to do next” problem from the first version, but it does dramatically improve it: I find there’s minimal context switching from a “work on the code” mindset to a “manage git” one, and there’s less time to forget or get distracted because the whole process is faster.&lt;/p&gt;

&lt;p&gt;Using separate directories has other benefits over switching branches too: it makes it easier for incremental compilation (and other tooling) to reduce work, although this doesn’t apply to Python so much&lt;sup id=&quot;fnref:incremental-compilation&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:incremental-compilation&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;;  and, I find it’s easier for me to find my code&lt;sup id=&quot;fnref:branches&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:branches&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;One way to implement this is to clone the repository multiple times into separate directories, like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;...-1&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;...-2&lt;/code&gt; and so on:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;git clone &lt;span class=&quot;s1&quot;&gt;&apos;git@github.com:stellargraph/stellargraph.git&apos;&lt;/span&gt; stellargraph-1
git clone &lt;span class=&quot;s1&quot;&gt;&apos;git@github.com:stellargraph/stellargraph.git&apos;&lt;/span&gt; stellargraph-2
git clone &lt;span class=&quot;s1&quot;&gt;&apos;git@github.com:stellargraph/stellargraph.git&apos;&lt;/span&gt; stellargraph-3
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;I used this effectively for many years for a few different projects.&lt;/p&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;many_copies.png&quot;&gt;
      &lt;img src=&quot;many_copies.png&quot; alt=&quot;a diagram showing four repositories: one labelled remote repository with the .git subdirectories of three local repositories pointing to it, labelled 1, 2, 3&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;A stylised view of the structure of multiple clones of a single repository shows they are isolated from each other.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;However, each copy is isolated, which leads to some problems in practice:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;They each require the full git state, which is potentially large.&lt;/li&gt;
  &lt;li&gt;They can end up with inconsistent state, especially about remote branches: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;origin/master&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stellargraph-1&lt;/code&gt; may be different to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;origin/master&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stellargraph-2&lt;/code&gt;, depending on when &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git pull&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git fetch&lt;/code&gt; was run.&lt;/li&gt;
  &lt;li&gt;There can be confusion about “where was that branch”, whenever I do switch away from a branch, because, by default, each branch only exists in the copy where it was created.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;concurrent-development-with-worktrees&quot;&gt;Concurrent development with worktrees&lt;/h2&gt;

&lt;p&gt;A better way is to use &lt;a href=&quot;https://git-scm.com/docs/git-worktree&quot;&gt;multiple worktrees&lt;/a&gt;. These behave almost identically to multiple independent clones, except they share a single &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.git&lt;/code&gt; directory with all its metadata. Therefore, each one has access to all branches (local or remote) and the state of each of those branches is the same in every copy.&lt;/p&gt;

&lt;p&gt;A worktree can be created in a single command&lt;sup id=&quot;fnref:magit&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:magit&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;, similar to a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git clone&lt;/code&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /path/to/stellargraph-1
&lt;span class=&quot;c&quot;&gt;# now inside the repository that needs multiple copies&lt;/span&gt;

git worktree add ../stellargraph-2 &lt;span class=&quot;s1&quot;&gt;&apos;some-existing-branch&apos;&lt;/span&gt;
git worktree add ../stellargraph-3 &lt;span class=&quot;nt&quot;&gt;-b&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;some-new-branch&apos;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The first argument to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;add&lt;/code&gt; is the (sibling) directory for the new worktree, and the second optional one is the name of the branch to checkout there (to start with). Each of these &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stellargraph-...&lt;/code&gt; directories acts like a normal git repository, and all the usual operations like creating or switching branches, committing and stashing work just fine.&lt;/p&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;worktrees.png&quot;&gt;
      &lt;img src=&quot;worktrees.png&quot; alt=&quot;a diagram showing the same four repositories as before, except now the remote repository has an arrow only from the .git directory of the local repository 1, while 2 and 3 point to that .git directory&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;The stylised view of worktrees shows that they all share a single main &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.git&lt;/code&gt; folder.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;I use a fixed set of worktrees, numbered from 1 to 5 (at the moment).&lt;/p&gt;

&lt;p&gt;An alternative (that I’ve never tried) is to have a worktree for individual branches. If we’re starting a new feature in a new branch &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;foo&lt;/code&gt;, the system might look something like the following:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;git worktree add ../stellargraph-foo &lt;span class=&quot;nt&quot;&gt;-b&lt;/span&gt; foo
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ../stellargraph-foo

&lt;span class=&quot;c&quot;&gt;# edit code...&lt;/span&gt;
git push
&lt;span class=&quot;c&quot;&gt;# (repeat from 4 until finished)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# finished, so the worktree isn&apos;t needed any more&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ..
&lt;span class=&quot;nb&quot;&gt;rm &lt;/span&gt;stellargraph-foo
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;I’ve used worktrees on all sorts of projects, including Scala, C++ and Rust. Python brings some special challenges.&lt;/p&gt;

&lt;h2 id=&quot;parallel-python-dependency-management&quot;&gt;Parallel Python dependency management&lt;/h2&gt;

&lt;p&gt;Multiple copies of a source tree is great, but also leads to some confusing circumstances if the state is mixed up. It can be easy to edit a file in the wrong directory, and then not understand why it’s not applying. I know I’ve spent time tracking down incorrect-location edits whenever there’s multiple copies of anything (functions, files, directories, …)!&lt;/p&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;https://xkcd.com/754/&quot;&gt;
      &lt;img src=&quot;dependencies.png&quot; alt=&quot;an xkcd cartoon showing a stylised screenshot of a college course description. Course: CPSC 432. Description: intermediate compiler design, with a focus on dependency resolution. Prereqs: CPSC 432&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;Dependency management is hard enough, without having to do 5 times at once&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Python’s common approach to dependencies makes this worse: code needs to be run in the correct &lt;a href=&quot;https://packaging.python.org/tutorials/installing-packages/#creating-virtual-environments&quot;&gt;virtual environment&lt;/a&gt;, which is, by default, managed separately to the current directory. Typically, each checkout would have its own virtual environment, in case there’s differences in the exact set of dependencies used, and to allow each copy to install its exact on-disk version of StellarGraph &lt;a href=&quot;https://stackoverflow.com/a/35064498/1256624&quot;&gt;with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--editable&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A sequence in a terminal might look like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; .../stellargraph-1
&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; venv/bin/activate
&lt;span class=&quot;c&quot;&gt;# do work, like running tests:&lt;/span&gt;
pytest tests/

&lt;span class=&quot;c&quot;&gt;# finished there, let&apos;s move&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ../stellargraph-2
&lt;span class=&quot;c&quot;&gt;# run tests again&lt;/span&gt;
pytest tests/
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Unfortunately, I’ve made a mistake there: the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pytest&lt;/code&gt; run on line 9 is running with the virtual environment from the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stellargraph-1&lt;/code&gt; worktree, not properly reflecting the state of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stellargraph-2&lt;/code&gt; source tree. I needed to run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;. venv/bin/activate&lt;/code&gt; again after the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cd&lt;/code&gt; on line 7, using the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;venv&lt;/code&gt; directory in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stellargraph-2&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;pyenv-to-the-rescue&quot;&gt;pyenv to the rescue&lt;/h2&gt;

&lt;p&gt;I solve this by using &lt;a href=&quot;https://github.com/pyenv/pyenv&quot;&gt;pyenv&lt;/a&gt; and &lt;a href=&quot;https://github.com/pyenv/pyenv-virtualenv&quot;&gt;pyenv-virtualenv&lt;/a&gt;. Instead of creating a virtual environment in each worktree (such as in a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;venv&lt;/code&gt; subdirectory), I create a pyenv virtual environment for each one and associate them using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pyenv local&lt;/code&gt;. For example, for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stellargraph-1&lt;/code&gt; worktree, I ran something like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;pyenv virtualenv 3.6.10 &lt;span class=&quot;s1&quot;&gt;&apos;stellargraph-1&apos;&lt;/span&gt;
pyenv &lt;span class=&quot;nb&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;stellargraph-1&apos;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;After doing this, any command that uses &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;python&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pip&lt;/code&gt; (like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pip install --editable .&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pytest&lt;/code&gt;) anywhere within the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stellargraph-1&lt;/code&gt; worktree will automatically use the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stellargraph-1&lt;/code&gt; virtual environment&lt;sup id=&quot;fnref:other-libraries&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:other-libraries&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;: I don’t need to manually activate or deactivate the virtual environments, cutting out a major piece of human error.&lt;/p&gt;

&lt;p&gt;Using pyenv for version management has other benefits too:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/aiguofer/pyenv-jupyter-kernel&quot;&gt;pyenv-jupyter-kernel&lt;/a&gt; allows for automatically registering each virtual environments with &lt;a href=&quot;https://jupyter.org/&quot;&gt;Jupyter&lt;/a&gt;, making it easy to test features and bug fixes in a notebook, and, more importantly, work on &lt;a href=&quot;https://github.com/stellargraph/stellargraph/tree/develop/demos&quot;&gt;StellarGraph’s demos&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;virtual environments can be easily created for different versions of Python (replace &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;3.6.10&lt;/code&gt; with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;3.7.7&lt;/code&gt;). For instance, I have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stellargraph-1-3_7&lt;/code&gt; to also test/compare with Python 3.7 in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stellargraph-1&lt;/code&gt; worktree (I do not use these ones with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pyenv local&lt;/code&gt;, just &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pyenv shell&lt;/code&gt;, which does require manual activation and deactivation).&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;wrapping-up&quot;&gt;Wrapping up&lt;/h2&gt;

&lt;p&gt;I use git worktrees to have parallel copies of the StellarGraph Python library that share git metadata, and pyenv &amp;amp; pyenv-virtualenv to manage the Python virtual environments for each. This reduces the overhead of switching contexts, and so makes it easier for me to do more work and collaborate efficiently, by fitting small fixes into the gaps around big features.&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Git%20worktrees%20and%20pyenv:%20developing%20Python%20libraries%20faster%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2020/04/worktrees-and-pyenv/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2020/04/worktrees-and-pyenv/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2020/04/worktrees-and-pyenv/&amp;amp;title=Git%20worktrees%20and%20pyenv:%20developing%20Python%20libraries%20faster&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:incremental-compilation&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Switching branches will update the contents of files on disk, which looks like a modification of those files, even if all of those changes were undone when restoring the original files in step 3. Tools that monitor for modifications to reduce work will get confused by the “switch, …, switch back” and spuriously do more work: separate directories avoids this entirely&lt;/p&gt;

      &lt;p&gt;Many Python projects (including StellarGraph) don’t need to worrying about to refreshing/rebuilding state associated a source tree, because they often don’t have any compiled artifacts or other generated state associated with a branch. The code runs directly from the source files, without any compilation or preprocessing.&lt;/p&gt;

      &lt;p&gt;In a compiled languages like Scala or C++, I’ve found this benefit much more important: builds are much faster when they can be incremental, just updating the artifacts associated with the (small number of) source files that I actually changed. If switching branches and then back spuriously modifies-then-unmodifies a lot of files (or a file with a lot of dependents), the first build after doing that may be much slower than an incremental build for the real changes, without any branch switching. &lt;a href=&quot;#fnref:incremental-compilation&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:branches&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I always forget to delete branches after finishing with them, so I end up with dozens (or hundreds…) of local branches associated with closed and merge pull requests. These interfere with tab completion, requiring me to remember a significant amount of the name for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git checkout ...&lt;/code&gt;. I find it’s easier to remember which of a handful of checkouts holds the relevant code, and even when I do forget, a brute-force approach of checking every copy is fast (skipping ahead, this is even faster with worktrees, with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git worktree list&lt;/code&gt;). In some ways, this benefit is treating a symptom, not the disease… but it works for me. &lt;a href=&quot;#fnref:branches&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:magit&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I usually use git via &lt;a href=&quot;https://magit.vc/&quot;&gt;magit&lt;/a&gt; in Emacs, where these creation commands are &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;% b&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;% c&lt;/code&gt; in the magit status buffer, and jumping between worktrees is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;% g&lt;/code&gt; (&lt;a href=&quot;https://magit.vc/manual/magit.html#Worktree&quot;&gt;relevant docs&lt;/a&gt;). &lt;a href=&quot;#fnref:magit&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:other-libraries&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Using pyenv for virtual environments is great for working on multiple separate libraries/code bases, even without multiple copies. The process is exactly the same: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pyenv virtualenv ...&lt;/code&gt; to initialise the environment, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pyenv local&lt;/code&gt; to associate a directory with the virtual environment. &lt;a href=&quot;#fnref:other-libraries&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Myths and Legends about Integer Overflow in Rust</title>
            <link>https://huonw.github.io/blog/2016/04/myths-and-legends-about-integer-overflow-in-rust/</link>
            <pubDate>Fri, 29 Apr 2016 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2016/04/myths-and-legends-about-integer-overflow-in-rust</guid>
            <description>&lt;p&gt;The primitive integer types supported by CPUs are finite
approximations to the infinite set of integers we’re all used to. This
approximation breaks down and some computations will give results that
don’t match real integers, like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;255_u8 + 1 == 0&lt;/code&gt;. Often, this
mismatch is something the programmer didn’t think about, and thus can
easily result in bugs.&lt;/p&gt;

&lt;p&gt;Rust is a programming language designed to protect against bugs; it
does focus on outlawing the most insidious class of them—memory
unsafety—but it also likes to assist the programmer in avoiding
others: &lt;a href=&quot;/blog/2016/04/memory-leaks-are-memory-safe/#not-all-is-lost&quot;&gt;memory leaks&lt;/a&gt;, &lt;a href=&quot;https://doc.rust-lang.org/std/result/#results-must-be-used&quot;&gt;ignoring errors&lt;/a&gt;, and, in this case,
&lt;a href=&quot;https://en.wikipedia.org/wiki/Integer_overflow&quot;&gt;integer overflow&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;overflow-in-rust&quot;&gt;Overflow in Rust&lt;/h2&gt;

&lt;p&gt;The status of detecting and avoiding overflow in Rust changed several
times in the lead up to the 1.0.0 release last year. That fluid
situation means there’s still quite a bit of confusion about exactly
how overflow is handled and mitigated, and what the consequences are.&lt;/p&gt;

&lt;p&gt;Before 1.0.0-alpha, overflow was handled by wrapping, giving the
result one would expect from a two’s complement representation (as
most modern CPUs use). However, this was thought to be suboptimal:
unexpected and unintended overflow is a common source of bugs. It is
particularly bad in C and C++ due to signed overflow being undefined,
and the lack of protection against memory safety violations—overflow
can easily cascade into memory corruption—but it is still
problematic in more defensive languages like Rust: there are numerous
examples of overflows, they’ve cropped up in many video games (in
&lt;a href=&quot;http://www.gamasutra.com/blogs/MaxWoolf/20130508/191959/Diablo_III_Economy_Broken_by_an_Integer_Overflow_Bug.php&quot;&gt;their economies&lt;/a&gt;, in &lt;a href=&quot;http://www.codeproject.com/Articles/802368/Integer-Overflow-in-Hearthstone&quot;&gt;health bars&lt;/a&gt;, and more),
&lt;a href=&quot;http://googleresearch.blogspot.com.au/2006/06/extra-extra-read-all-about-it-nearly.html&quot;&gt;binary search&lt;/a&gt; and even &lt;a href=&quot;http://www.nytimes.com/2015/05/01/business/faa-orders-fix-for-possible-power-loss-in-boeing-787.html?_r=0&quot;&gt;aircraft&lt;/a&gt;. More prosaically,
code like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;max(x - y, z)&lt;/code&gt; turns up semiregularly, and it can give
wildly wrong results when the numbers are unsigned and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x - y&lt;/code&gt;
overflows through 0. Thus, there was a push to make Rust more
defensive about integer overflows.&lt;/p&gt;

&lt;p&gt;The current status in Rust was decided in &lt;a href=&quot;https://github.com/rust-lang/rfcs/pull/560&quot;&gt;RFC 560&lt;/a&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;in debug mode, arithmetic (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;+&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-&lt;/code&gt;, etc.) on signed and unsigned primitive integers
is &lt;strong&gt;checked for overflow&lt;/strong&gt;, panicking if it occurs, and,&lt;/li&gt;
  &lt;li&gt;in release mode, overflow is not checked and is &lt;strong&gt;specified to wrap
as two’s complement&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These&lt;sup id=&quot;fnref:unconditional&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:unconditional&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; overflow checks can be manually disabled or
enabled independently of the compilation mode both globally and at a
per-operation level.&lt;/p&gt;

&lt;p&gt;By checking for overflow in some modes, overflow bugs in Rust code are
hopefully found earlier. Furthermore, code that actually wants
wrapping behaviour is explicit about this requirement, meaning fewer
false positives for both future static analyses and for code that
enables overflow checking in all modes.&lt;/p&gt;

&lt;h2 id=&quot;myth-overflow-is-undefined&quot;&gt;Myth: overflow is undefined&lt;/h2&gt;

&lt;p&gt;One way to allow compilers to catch overflow is to make it
&lt;em&gt;undefined&lt;/em&gt;, that is, there’s absolutely no guarantees about behaviour
when overflow occurs and hence it is legal to panic instead of trying
to return something. However, Rust’s core goal is ensuring memory
safety, and leaving things &lt;em&gt;undefined&lt;/em&gt; —in the sense of C undefined
behaviour—is in direct contradiction to this. For one, a variable
that is undefined does not have to have a consistent value from use to
use:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;// pseudo-Rust&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;assert_eq!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// this could fail&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This has disastrous consequences for things that rely on checking a
value for safety, like indexing an array with bounds checks &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;foo[x]&lt;/code&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// let y = foo[x]; is equivalent to&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;unsafe&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.get_unchecked&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;panic!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;index out of bounds&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;If the value of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt; isn’t consistent from the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x &amp;lt; foo.len()&lt;/code&gt;
comparison to the actual access of the array, there’s no guarantee the
access will be in-bounds: the comparison might be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0 &amp;lt; foo.len()&lt;/code&gt;,
while the index might be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;foo.get_unchecked(123456789)&lt;/code&gt;. Problematic!&lt;/p&gt;

&lt;p&gt;Therefore, unlike signed integers in C, integer overflow cannot be
undefined in Rust. In other words, compilers must assume that overflow
may happen (unless they can prove otherwise). This has a
possibly unintuitive consequence that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x + 1 &amp;gt; x&lt;/code&gt; is not always true,
something C compilers &lt;em&gt;do&lt;/em&gt; assume is true if &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt; is signed.&lt;/p&gt;

&lt;p&gt;“But what about performance?” I hear you ask. It is true that
undefined behaviour drives optimisations by allowing the compiler to
make assumptions, and hence removing this ability could impact
speed. Overflow of signed integers being undefined is particularly
useful in C because such integers are often used as the induction
variables on loops, and hence the ability to make assumptions allows
more precise analysis of loop trip counts: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;for (int i = 0; i &amp;lt; n;
i++)&lt;/code&gt; will repeat &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;n&lt;/code&gt; times, as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;n&lt;/code&gt; can be assumed to not be
negative. Rust sidesteps much of this by using unsigned integers for
indexing (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0..n&lt;/code&gt; will always be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;n&lt;/code&gt; steps), and also by allowing easy
custom iterators, which can be used to loop directly over data
structures like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;for x in some_array { ... }&lt;/code&gt;. These iterators can
exploit guarantees about the data structures internally without having
to expose undefined behaviour to the user.&lt;/p&gt;

&lt;p&gt;Another thing Rust misses compared to C is optimising &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x * 2 / 2&lt;/code&gt; to
just &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt;, when &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt; is signed. In this case, there’s no built-in
feature for getting the optimisation (beyond just writing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt; instead
of the complicated arithmetic of course), however in my experience,
expressions like that most often occur with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt; known at compile time,
and hence the whole expression can be constant-folded.&lt;/p&gt;

&lt;h2 id=&quot;myth-overflow-is-unspecified&quot;&gt;Myth: overflow is unspecified&lt;/h2&gt;

&lt;p&gt;Similar to leaving the result of overflow undefined, it could be left
just unspecified, meaning the compiler must assume it could happen,
but is allowed to make the operation return any particular result (or
not return at all). Indeed, &lt;a href=&quot;https://github.com/nikomatsakis/rfcs/blob/630dd70a51c0c7e166be78cd3bc8f1247664db28/text/0000-integer-overflow.md#semantics-of-overflow-with-the-built-in-types&quot;&gt;the first version&lt;/a&gt; of
&lt;a href=&quot;https://github.com/rust-lang/rfcs/pull/560&quot;&gt;RFC 560&lt;/a&gt; for checking integer overflow, proposed:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Change this to define them, on overflow, as either returning an
unspecified result, or task panic, depending on whether the overflow
is checked.&lt;/p&gt;

  &lt;p&gt;[…]&lt;/p&gt;

  &lt;ul&gt;
    &lt;li&gt;In theory, the implementation returns an unspecified result. In practice, however, this will most likely be the same as the wraparound result. Implementations should avoid needlessly exacerbating program errors with additional unpredictability or surprising behavior.&lt;/li&gt;
    &lt;li&gt;Most importantly: this is not undefined behavior in the C sense. Only the result of the operation is left unspecified, as opposed to the entire program’s meaning, as in C. The programmer would not be allowed to rely on a specific, or any, result being returned on overflow, but the compiler would also not be allowed to assume that overflow won’t happen and optimize based on this assumption.&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;There was a lot of discussion about the RFC and about the
“unspecified” result of arithmetic, meaning that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;127_i8 + 1&lt;/code&gt; could
theoretically return &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-128&lt;/code&gt; (per two’s complement) or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;127&lt;/code&gt;, or
anything else. This idea took hold in the community… and then it was
changed.&lt;/p&gt;

&lt;p&gt;With strong encouragement from a few people, the RFC was tightened up
to actually specify the result: arithmetic on primitives that
overflows either doesn’t return (e.g. it panics), or returns the
wrapped result one would expect from two’s complement. &lt;a href=&quot;https://github.com/rust-lang/rfcs/blob/master/text/0560-integer-overflow.md#arithmetic-operations-with-error-conditions&quot;&gt;It&lt;/a&gt; now says:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The operations +, -, *, can underflow and overflow. When checking is
enabled this will panic. When checking is disabled this will two’s
complement wrap.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Specifying the result is a defensive measure: errors are more likely
to cancel out when overflow isn’t caught. An expression like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x - y +
z&lt;/code&gt; is evaluated like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;(x - y) + z&lt;/code&gt; and hence the subtraction could
overflow (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x = 0&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y = 1&lt;/code&gt; both unsigned), but as long as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;z&lt;/code&gt;
is large enough (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;z &amp;gt;= 1&lt;/code&gt; in that example), the result will be what
one expects from true integers.&lt;/p&gt;

&lt;p&gt;The change happened towards the end of the 160 comment long RFC
discussion and so it was easy for people to miss, making it easy for
people to still think the result is unspecified.&lt;/p&gt;

&lt;h2 id=&quot;myth-the-programmer-has-no-control-of-overflow-handling&quot;&gt;Myth: the programmer has no control of overflow handling&lt;/h2&gt;

&lt;p&gt;One of the main objections to adding overflow checking was the
existance of programs/algorithms that &lt;em&gt;want&lt;/em&gt; two’s complement
overflow, such as hashing algorithms, certain data structures (ring
buffers, particularly) and even image codecs. For these algorithms,
using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;+&lt;/code&gt; in debug mode would be incorrect: the code would panic even
though it was executing as intended. Additionally, some more
security-minded domains wish to have overflow checks on in all modes
by default.&lt;/p&gt;

&lt;p&gt;The RFC and the standard library provide &lt;em&gt;four&lt;/em&gt;
sets of methods beyond the pure operators:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.rust-lang.org/std/primitive.i32.html#method.wrapping_add&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wrapping_add&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;http://doc.rust-lang.org/std/primitive.i32.html#method.wrapping_sub&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wrapping_sub&lt;/code&gt;&lt;/a&gt;, …&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.rust-lang.org/std/primitive.i32.html#method.saturating_add&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;saturating_add&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;http://doc.rust-lang.org/std/primitive.i32.html#method.saturating_sub&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;saturating_sub&lt;/code&gt;&lt;/a&gt;, …&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.rust-lang.org/std/primitive.i32.html#method.overflowing_add&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;overflowing_add&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;http://doc.rust-lang.org/std/primitive.i32.html#method.overflowing_sub&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;overflowing_sub&lt;/code&gt;&lt;/a&gt;, ..&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://doc.rust-lang.org/std/primitive.i32.html#method.checked_add&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;checked_add&lt;/code&gt;&lt;/a&gt;, &lt;a href=&quot;http://doc.rust-lang.org/std/primitive.i32.html#method.checked_sub&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;checked_sub&lt;/code&gt;&lt;/a&gt;, …&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These should cover all bases of “don’t want overflow to panic in some
modes”:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wrapping_...&lt;/code&gt; returns the straight two’s complement result,&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;saturating_...&lt;/code&gt; returns the largest/smallest value (as appropriate) of
the type when overflow occurs,&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;overflowing_...&lt;/code&gt; returns the two’s
complement result along with a boolean indicating if overflow occured,
and&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;checked_...&lt;/code&gt; returns an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Option&lt;/code&gt; that’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;None&lt;/code&gt; when overflow
occurs.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All of these can be implemented in terms of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;overflowing_...&lt;/code&gt;, but the
standard library is trying to make it easy for programmers to do the
right thing in the most common cases.&lt;/p&gt;

&lt;p&gt;Code that truly wants two’s complement wrapping can be written like
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x.wrapping_sub(y).wrapping_add(z)&lt;/code&gt;. This works, but clearly can get a
little verbose, verbosity that can be reduced in some cases via the
standard library’s &lt;a href=&quot;http://doc.rust-lang.org/std/num/struct.Wrapping.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Wrapping&lt;/code&gt;&lt;/a&gt; wrapper type.&lt;/p&gt;

&lt;p&gt;The current state isn’t necessarily the final state of overflow
checking: the RFC even mentioned some &lt;a href=&quot;https://github.com/rust-lang/rfcs/blob/master/text/0560-integer-overflow.md#alternatives-and-possible-future-directions&quot;&gt;future directions&lt;/a&gt;. Rust
could introduce operators like Swift’s wrapping &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;+&lt;/code&gt; in future,
something that was not done initially because Rust tries to be
conservative and reasonably minimal, as well as hypothetically having
scoped disabling of overflow checking (e.g. a single function could be
explicitly marked, and its internals would thus be unchecked in all
modes). There’s interest in the latter particularly, from some of
Rust’s keenest (potential) users &lt;a href=&quot;https://github.com/rust-lang/cargo/issues/2262&quot;&gt;Servo&lt;/a&gt; and &lt;a href=&quot;https://wiki.mozilla.org/Oxidation#Rust_.2F_Cargo_nice-to-haves&quot;&gt;Gecko&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For code that wants overflow checking everywhere, one can either use
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;checked_add&lt;/code&gt; pervasively (annoying!), or explicitly enable
them. Although they are tied to debug assertions by default, overflow
checks can be turned on by passing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-C debug-assertions=on&lt;/code&gt; to rustc,
or setting the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;debug-assertions&lt;/code&gt; field of a
&lt;a href=&quot;http://doc.crates.io/manifest.html#the-profile-sections&quot;&gt;cargo profile&lt;/a&gt;. There’s also work on having them able to be
activated independently of other debug assertions (rustc currently has
the unstable &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-Z force-overflow-checks&lt;/code&gt; flag).&lt;/p&gt;

&lt;h2 id=&quot;myth-the-approach-to-overflow-checks-makes-code-slow&quot;&gt;Myth: the approach to overflow checks makes code slow&lt;/h2&gt;

&lt;p&gt;Rust aims to be as fast as possible, and the design of the current
overflow checking approach took various performance considerations
seriously. Performance is one of the main motivations for checks being
disabled in release builds by default, and indeed means that there’s
no speed penalty to the way in which Rust helps mitigate/flag
integer overflow bugs during development.&lt;/p&gt;

&lt;p&gt;It’s an unfortunate reality that checking for overflow requires more
code and more instructions:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nd&quot;&gt;#[no_mangle]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;unchecked&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.wrapping_add&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nd&quot;&gt;#[no_mangle]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;checked&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;With &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-O -Z force-overflow-checks&lt;/code&gt;, on x86&lt;sup id=&quot;fnref:arm&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:arm&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;, this compiles to (with some
editing for clarity):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-asm&quot; data-lang=&quot;asm&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;unchecked:
	leal (%rdi,%rsi), %eax
	retq

checked:
	pushq	%rax
	addl	%esi, %edi
	jo	.overflow_occurred
	movl	%edi, %eax
	popq	%rcx
	retq
.overflow_occurred:
	leaq	panic_loc2994(%rip), %rdi
	callq	_ZN9panicking5panic20h4265c0105caa1121SaME@PLT
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;It is definitely annoying that there are all&lt;sup id=&quot;fnref:extra&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:extra&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; those extra
instructions, as is the fact that implementations are forced to use
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;add&lt;/code&gt; rather than having the option to use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lea&lt;/code&gt;&lt;sup id=&quot;fnref:lea&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:lea&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;. However, an
even bigger performance hit is how overflow checks inhibit other
optimisations, both because the checks themselves serialise code
(inhibiting things like loop unrolling/reordering and vectorisation)
and because the panic/stack unwinding forces the compiler to
&lt;a href=&quot;http://danluu.com/integer-overflow/&quot;&gt;be more conservative&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;All these considerations explain why overflow checks are not enabled
in release mode, where usually getting the highest performance
possible is desirable.&lt;/p&gt;

&lt;p&gt;That said, even when the checks are enabled in release mode, the
performance hit can be reduced like with bounds checked arrays.  For
one, compilers can do range analysis/inductive proofs to deduce that
certain overflow checks are sure to never fail; indeed,
&lt;a href=&quot;http://blog.regehr.org/archives/1384&quot;&gt;significant&lt;/a&gt; &lt;a href=&quot;https://github.com/apple/swift/blob/16b3d6c8d5b2d610cdfd72898f6ab384e632b69b/lib/SILOptimizer/Transforms/RedundantOverflowCheckRemoval.cpp&quot;&gt;effort&lt;/a&gt; has been &lt;a href=&quot;https://github.com/llvm-mirror/llvm/blob/8b47c17a53d683f313eaaa93c4a53de26d8fcba5/lib/Transforms/InstCombine/InstCombineAddSub.cpp#L893-L987&quot;&gt;devoted&lt;/a&gt; to &lt;a href=&quot;https://github.com/gcc-mirror/gcc/blob/fd3211e13bbbb6882f477aa75a36eb0ccdec485f/gcc/tree-vrp.c#L9792-L9884&quot;&gt;the topic&lt;/a&gt;. Additionally,
the significant pain caused by using panics can be reduced by
application authors &lt;a href=&quot;https://github.com/rust-lang/rfcs/blob/master/text/1513-less-unwinding.md&quot;&gt;converting panics into aborts&lt;/a&gt;, if it’s
appropriate for their domain.&lt;/p&gt;

&lt;p&gt;The integer overflow RFC gives itself some room for optimisation too:
it &lt;a href=&quot;https://github.com/rust-lang/rfcs/blob/master/text/0560-integer-overflow.md#delayed-panics&quot;&gt;allows “delayed panics”&lt;/a&gt;, meaning a Rust implementation
is allowed to perform a sequence of operations like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;a + b + c + d&lt;/code&gt;
and only panic once at the end if any intermediate overflow occurred,
instead of having to separately check for overflow (and panic) in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tmp
= a + b&lt;/code&gt; and then in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tmp + c&lt;/code&gt; etc. No known implementation actually
does this yet, but they could.&lt;/p&gt;

&lt;h2 id=&quot;myth-the-checks-find-no-bugs&quot;&gt;Myth: the checks find no bugs&lt;/h2&gt;

&lt;p&gt;All the design/discussion/implementation of this scheme for handling
integer overflow would be wasted if it didn’t actually find any bugs
in practice. I personally have had quite a few bugs found nearly as I
write them, with expressions like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cmp::max(x - y, z)&lt;/code&gt; (they never hit
the internet, so no links for them), especially when combined with
testing infrastructure like &lt;a href=&quot;https://crates.io/crates/quickcheck&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;quickcheck&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The overflow checks have found bugs through out the ecosystem; for instance, (not exhaustive!)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/rust-lang/rust/pull/22532#issuecomment-75168901&quot;&gt;the standard library&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/rust-lang/rust/pull/31281&quot;&gt;the compiler&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/rust-lang/rust/pull/23127&quot;&gt;the built-in benchmark harness&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/servo/servo/issues/6040&quot;&gt;Servo&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/PistonDevelopers/image/pull/412&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;image&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/servo/rust-url/issues/124&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;url&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/servo/webrender/pull/243&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;webrender&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Beyond Rust, there’s a lot of evidence for the dangers of integer overflow and
desire for detecting/protecting against them. It was on the
&lt;a href=&quot;http://cwe.mitre.org/top25/&quot;&gt;CWE/SANS list of top 25 errors in 2011&lt;/a&gt;, languages like Swift
will unconditionally check for overflow, and others like Python 3 and
Haskell will avoid overflow entirely by default, via arbitrary
precision integers. Furthermore, in C, several compilers have options
to both make signed overflow defined as two’s complement wrapping
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-fwrapv&lt;/code&gt;) and to catch it when it does happen
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-fsanitize=signed-integer-overflow&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Thanks to &lt;a href=&quot;https://github.com/ubsan&quot;&gt;Nicole Mazzuca&lt;/a&gt;, &lt;a href=&quot;https://github.com/Aatch&quot;&gt;James Miller&lt;/a&gt;,
  &lt;a href=&quot;https://github.com/tsion&quot;&gt;Scott Olson&lt;/a&gt;, and 👻👻👻 for reading and giving feedback on
  this post.&lt;/em&gt;&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://users.rust-lang.org/t/myths-and-legends-about-integer-overflow-in-rust/5612&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/r/rust/comments/4gz93u/myths_and_legends_about_integer_overflow_in_rust/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Myths%20and%20Legends%20about%20Integer%20Overflow%20in%20Rust%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2016/04/myths-and-legends-about-integer-overflow-in-rust/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2016/04/myths-and-legends-about-integer-overflow-in-rust/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2016/04/myths-and-legends-about-integer-overflow-in-rust/&amp;amp;title=Myths%20and%20Legends%20about%20Integer%20Overflow%20in%20Rust&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:unconditional&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;There are some unconditional and uncontrollable
overflow checks for arithmetic: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x / 0&lt;/code&gt;, and &lt;a href=&quot;http://blog.regehr.org/archives/887&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MIN / -1&lt;/code&gt;&lt;/a&gt; (for
signed integer types), and similarly for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;%&lt;/code&gt;. These computations
are actually undefined behaviour in C and LLVM (which is the
historical reason for why rustc has them unconditional), although,
it seems to me that Rust could theoretically consider the
latter a normal overflow and return &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MIN&lt;/code&gt; when the checks are off. &lt;a href=&quot;#fnref:unconditional&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:arm&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;On 32-bit ARM, LLVM &lt;a href=&quot;https://llvm.org/bugs/show_bug.cgi?id=27571&quot;&gt;currently decides&lt;/a&gt; to emit a
chain of redundant comparisons and register manipulations, so the
penalty is even higher! &lt;a href=&quot;#fnref:arm&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:extra&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;There’s more instructions in the function version than there
      would be when &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;checked&lt;/code&gt; is inlined (as it should be): the
      &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pushq&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pop&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;movl&lt;/code&gt; register management wouldn’t be
      necessary. Also, even without inlining I believe the
      &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pushq&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;popq&lt;/code&gt; stack management isn’t necessary, but
      unfortunately the published Rust binaries &lt;s&gt;don&apos;t use a new
      enough version of LLVM to get its new &lt;a href=&quot;http://reviews.llvm.org/D9210&quot;&gt;&quot;shrink wrapping&quot;
      optimisation pass&lt;/a&gt;&lt;/s&gt; use a version of LLVM that
      contains &lt;a href=&quot;https://llvm.org/bugs/show_bug.cgi?id=25614&quot;&gt;a bug in its “shrink-wrapping” pass&lt;/a&gt;
      (thanks for &lt;a href=&quot;https://users.rust-lang.org/t/myths-and-legends-about-integer-overflow-in-rust/5612/2?u=huon&quot;&gt;the correction&lt;/a&gt;, Eli Friedman). &lt;a href=&quot;#fnref:extra&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:lea&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;On x86, it can be extremely useful to be able to use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lea&lt;/code&gt;
(load effective address) for arithmetic: it can do relatively
complicated computations, and is usually computed in a different
part of the CPU and its pipeline than &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;add&lt;/code&gt;, allowing exploiting
more instruction-level parallelism. The x86 ISA allows
dereferencing complicated pointer computations: the most general
form is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A(r1, r2, B)&lt;/code&gt; (in AT&amp;amp;T syntax), which is equal to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;r1 +
B * r2 + A&lt;/code&gt; for registers &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;r1&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;r2&lt;/code&gt; and constants &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; and
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;B&lt;/code&gt;. Normally these are used directly in memory instructions like
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mov&lt;/code&gt; (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;let y = array_of_u32[x];&lt;/code&gt; could compile to something
along the lines of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mov (array_of_u32.as_ptr(), x, 4), y&lt;/code&gt; ,
because each element is of size 4), but &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lea&lt;/code&gt; allows just doing
the arithmetic without hitting memory.  All-in-all, being able to
use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lea&lt;/code&gt; for arithmetic is quite nice. The downside is of course
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lea&lt;/code&gt; doesn’t integrate directly with overflow detection: it
doesn’t set the CPU flags that signal it. &lt;a href=&quot;#fnref:lea&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Memory Leaks are Memory Safe</title>
            <link>https://huonw.github.io/blog/2016/04/memory-leaks-are-memory-safe/</link>
            <pubDate>Mon, 04 Apr 2016 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2016/04/memory-leaks-are-memory-safe</guid>
            <description>&lt;p&gt;&lt;a href=&quot;https://en.wikipedia.org/wiki/Memory_safety&quot;&gt;&lt;em&gt;Memory unsafety&lt;/em&gt;&lt;/a&gt; and &lt;a href=&quot;https://en.wikipedia.org/wiki/Memory_leak&quot;&gt;&lt;em&gt;memory leaks&lt;/em&gt;&lt;/a&gt; are arguably the two
categories of bugs that have received the most attention for
prevention and mitigation. As their names suggest, they are in the
same part of “bug space”, however they are in some ways diametric
opposites, and solving one does not solve the other. The widespread
use of memory-safe managed languages hammers this point home: they
avoid some memory unsafety by presenting a “leak everything” model to
programmers.&lt;/p&gt;

&lt;p&gt;Put simply: &lt;strong&gt;memory unsafety is doing something with invalid data,
a memory leak is &lt;em&gt;not&lt;/em&gt; doing something with valid data&lt;/strong&gt;. In table
form:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt; &lt;/th&gt;
      &lt;th&gt;Valid data&lt;/th&gt;
      &lt;th&gt;Invalid data&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Used&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;👍&lt;/td&gt;
      &lt;td&gt;Memory unsafety&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Not used&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;Memory leak&lt;/td&gt;
      &lt;td&gt;👍&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;The best programs lie in the 👍 cells only: they manipulate valid
things, and don’t manipulate invalid ones. Passable programs might
also have some valid data that they don’t use (leak memory), but bad
ones will try to use invalid data.&lt;/p&gt;

&lt;p&gt;When a language, such as Rust, advertises itself as memory &lt;em&gt;safe&lt;/em&gt;, it
isn’t saying anything about whether memory &lt;em&gt;leaks&lt;/em&gt; are impossible.&lt;/p&gt;

&lt;h2 id=&quot;consequences&quot;&gt;Consequences&lt;/h2&gt;

&lt;p&gt;The most important difference between memory unsafety and memory leaks
in practice is the scope of their possible results, with one easily
very serious, and the other usually just annoying.&lt;/p&gt;

&lt;p&gt;Memory safety is a key building block in any other form of
safety/program correctness. If a program is not memory safe, there are
very few guarantees about its behaviour, due to the possibility of
memory corruption. A malicious party interacting with a memory unsafe
program may be able to exploit the unsafety to
&lt;a href=&quot;https://en.wikipedia.org/wiki/Heartbleed&quot;&gt;read private keys straight out of a server’s memory&lt;/a&gt; or
to execute arbitrary code on someone else’s computer.&lt;/p&gt;

&lt;p&gt;On the other hand, a memory leak will generally, at worst, lead to a
denial-of-service, where a useful program is killed due to using too
much memory (and, as it grows to this stage, the computer may be
rendered essentially inoperable due to memory pressure). This also can
be caused by a malicious attacker, but the damage is usually very much
more controlled. Of course, a denial-of-service can be extremely
annoying, and there are places where this is a critical problem, but
memory unsafety would generally be equally problematic—more likely,
more problematic. (Additionally, given memory unsafety’s inherent lack
of control, a problem there could easily lead to a denial-of-service
similar/identical to that which a memory leak can cause.)&lt;/p&gt;

&lt;p&gt;Given this, most programming languages choose to tolerate memory leaks
(they allow data not be deallocated/cleaned up after the last time it
is used), but not memory unsafety. That is, most “memory safe
languages” guarantee all programs written in them have no
unsafety&lt;sup id=&quot;fnref:optin&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:optin&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;, and they only try—usually, try hard—to help
programmers avoid leaks, but without making a hard promise.&lt;/p&gt;

&lt;h2 id=&quot;delete-free&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;delete free&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;There are a few different ways to get memory unsafety, but there’s one
category (from the Wikipedia article) that stands out when we’re
discussing memory management:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;&lt;strong&gt;Dynamic memory errors&lt;/strong&gt; - incorrect management of dynamic memory and pointers:
      &lt;ul&gt;
        &lt;li&gt;&lt;strong&gt;Dangling pointer&lt;/strong&gt; - a pointer storing the address of an object that has been deleted.&lt;/li&gt;
        &lt;li&gt;&lt;strong&gt;Double free&lt;/strong&gt; - repeated calls to free may prematurely free a new object at the same address. If the exact address has not been reused, other corruption may occur, especially in allocators that use free lists.&lt;/li&gt;
        &lt;li&gt;&lt;strong&gt;Invalid free&lt;/strong&gt; - passing an invalid address to free can corrupt the heap.&lt;/li&gt;
        &lt;li&gt;&lt;strong&gt;Null pointer accesses&lt;/strong&gt; will cause an exception or program termination in most environments, but can cause corruption in operating system kernels or systems without memory protection, or when use of the null pointer involves a large or negative offset.&lt;/li&gt;
      &lt;/ul&gt;
    &lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;In that list, only null pointer accesses aren’t caused by deallocating
memory—calling the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt; function to mark an allocation as
unused/return it to the operating system—incorrectly. And thus, one
way to be guaranteed to avoid three quarters of those possibilities is
to just never call &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt;: if memory is never released, it is
impossible to suffer from the problems caused by releasing it. In
terms of the table above, removing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt; is removing the “Invalid
data” column: all data is always valid.&lt;/p&gt;

&lt;p&gt;Of course, just disallowing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt; has some downsides&lt;sup id=&quot;fnref:lockfree&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:lockfree&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;, particularly
making it very annoying to write programs that don’t eventually use
all available memory. However, computers are infallible in ways humans
are not, so maybe we could allow them to call &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt;…&lt;/p&gt;

&lt;h2 id=&quot;optimising-leaks&quot;&gt;Optimising leaks&lt;/h2&gt;

&lt;p&gt;A large fraction of modern code is written in languages designed to be
memory safe, languages like Java, Javascript, Python and Ruby. They
have no explicit &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt;, and so automatically manage memory (hence
“managed language”) via a &lt;em&gt;garbage collector&lt;/em&gt; built into the runtime
systems shipped with the languages’ compilers and interpreters.&lt;/p&gt;

&lt;p&gt;At its core&lt;sup id=&quot;fnref:layers&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:layers&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;, garbage collection is a way to make it feasible
to expose a programming model where all allocations leak. Letting a
garbage collector manage every allocation theoretically allows
programs (and programmers) to pretend that memory is infinite, not
needing to carefully track when memory isn’t needed any more: programs
do whatever they want, and the GC will automatically and dynamically
free chunks of memory that are guaranteed to be unneeded, ensuring the
program’s memory use remains under control. Almost all garbage
collectors determine neededness conservatively by finding things no longer
accessible from the main program (the garbage collector itself needs
to keep track of/have access to all allocations).&lt;/p&gt;

&lt;p&gt;In practice, the programmer has to think about non-infinite
memory and its consequences a little more often than never, but memory
unsafety concerns &lt;em&gt;are&lt;/em&gt; removed, as desired. High-performance code
often has to chose particular coding patterns to work-around
deficiencies with garbage collectors (such as object pools to avoid
touching the GC in tight loops), and one can accidentally create
&lt;a href=&quot;https://en.wikipedia.org/wiki/Lapsed_listener_problem&quot;&gt;chains of references&lt;/a&gt; that keep large trees of data
unnecessarily alive.&lt;/p&gt;

&lt;p&gt;However, even in the face of practical concerns, the point stands:
without &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt;, there’s no scope for some types of memory unsafety.&lt;/p&gt;

&lt;!--(Due credit: I think I first heard an idea along the lines &quot;GC is an
optimisation for leaking&quot; from
[Alexis Beingessner](https://twitter.com/Gankro).)--&gt;

&lt;h2 id=&quot;less-leaky-abstractions&quot;&gt;Less leaky abstractions&lt;/h2&gt;

&lt;p&gt;Given my status, I’d be remiss to mention an alternative to the
leak-everything managed paradigm: instead using a technique that
crosses out the whole “Invalid data” column, one can be more precise
and cross out only the “Memory unsafety” cell. The &lt;a href=&quot;https://www.rust-lang.org/&quot;&gt;Rust programming language&lt;/a&gt; does this.&lt;/p&gt;

&lt;p&gt;Rust doesn’t have C-style manual memory management, but rather
RAII/scope-based resource management similar to C++, allowing types to
have destructors for automatic clean-up. It does not literally have a
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt; function users must remember to call (removing most of the
“manual”), but the &lt;a href=&quot;http://doc.rust-lang.org/std/mem/fn.drop.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;drop&lt;/code&gt;&lt;/a&gt; function serves the role of explicit
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt;, allowing one to explicitly cause the destructor to be run on a
value, thus invalidating it. In contrast to both C and C++, the
language prevents use of such data at compile time to avoid memory
unsafety.&lt;/p&gt;

&lt;p&gt;However, a programming model that’s not “leak everything” doesn’t mean
it is “leak nothing”: the revised table for Rust (and anything
similar) still has its memory leak cell.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt; &lt;/th&gt;
      &lt;th&gt;Valid data&lt;/th&gt;
      &lt;th&gt;Invalid data&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Used&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;👍&lt;/td&gt;
      &lt;td&gt;Impossible&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;strong&gt;Not used&lt;/strong&gt;&lt;/td&gt;
      &lt;td&gt;Memory leak&lt;/td&gt;
      &lt;td&gt;👍&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;I’m not including this section because I think it’s a great promotion
of Rust (being allowed to have invalid data that one can’t use doesn’t
exactly sound world-shaking&lt;sup id=&quot;fnref:moves&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:moves&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;…), but because that is the hole
which this article is filling. The similarity of the phrases “memory
leak” and “memory safety” regularly tricks people who have read “Rust
is memory safe” into thinking Rust is (just) preventing memory leaks,
leading to legitimate doubts about what Rust offers instead of, say,
modern C++ in the space of low-level systems languages.  &lt;strong&gt;Rust
disallows memory unsafety, but memory leaks are possible&lt;/strong&gt;.&lt;/p&gt;

&lt;h3 id=&quot;stdmemforget&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;std::mem::forget&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Finally, returning to the title, Rust has the &lt;a href=&quot;https://doc.rust-lang.org/std/mem/fn.forget.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;forget&lt;/code&gt;&lt;/a&gt;
function, which throws away a value without actually running the
destructor while still marking it invalid as if freed normally, thus
possibly leaking memory. For a long time, this was marked as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt;,
that is, Rust was implicitly including memory leaks as something the
programmer must opt-in to, like the risk of memory unsafety. However,
this was not correct in practice, as things like reference cycles and
thread deadlock could cause memory to leak. Rust &lt;a href=&quot;https://github.com/rust-lang/rfcs/blob/master/text/1066-safe-mem-forget.md&quot;&gt;decided&lt;/a&gt; to
make &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;forget&lt;/code&gt; safe, focusing its guarantees on just preventing memory
unsafety and instead making only best-effort attempts
towards preventing memory leaks (like essentially all other
languages, memory safe and otherwise).&lt;/p&gt;

&lt;h3 id=&quot;not-all-is-lost&quot;&gt;Not all is lost!&lt;/h3&gt;

&lt;p&gt;Like modern C++, the efforts Rust makes are pretty good, with
RAII/scope-based resource management (specifically destructors) being
a powerful tool for managing memory and &lt;a href=&quot;http://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html#locks&quot;&gt;beyond&lt;/a&gt; (and
&lt;a href=&quot;http://blog.skylight.io/rust-means-never-having-to-close-a-socket/&quot;&gt;beyonder&lt;/a&gt;), especially when combined with Rust’s
move-by-default semantics. The point about not being a guarantee is
that (a) it’s not trivial to make a useful &lt;em&gt;formal&lt;/em&gt; definition of
memory leak (at the very least, usefulness varies depending on the
context), and (b) there are relatively rare edge-cases that seem to be
impossible to statically prevent without non-trivial cost. The
&lt;a href=&quot;http://doc.rust-lang.org/stable/nomicon/leaking.html&quot;&gt;wash-up&lt;/a&gt; in Rust’s standard library is all values have to be
&lt;em&gt;memory safe&lt;/em&gt; to leak, but they can still consider being leaked
incorrect. In other words, one may get unwanted behaviour if a value
is leaked, but the consequences will be more far controlled than a
segfault or memory corruption.&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://users.rust-lang.org/t/memory-leaks-are-memory-safe/5288?u=huon&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/r/rust/comments/4dgvvh/memory_leaks_are_memory_safe_huon_on_the_internet/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Memory%20Leaks%20are%20Memory%20Safe%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2016/04/memory-leaks-are-memory-safe/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2016/04/memory-leaks-are-memory-safe/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2016/04/memory-leaks-are-memory-safe/&amp;amp;title=Memory%20Leaks%20are%20Memory%20Safe&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:optin&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;More specifically, programming languages will guarantee that
one can only get unsafety by explicitly opting in to it, in some
form, such as via Python’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ctypes&lt;/code&gt; module, or Rust’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt;
keyword. &lt;a href=&quot;#fnref:optin&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:lockfree&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;It also has some upsides beyond just less memory
unsafety: if one is OK without &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt;, it becomes much easier to
write programs where the lifetime of data is unclear, which makes
many concurrent algorithms easier to write. That said, there are
schemes for writing such code when manual &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free&lt;/code&gt;s are required,
such as &lt;a href=&quot;https://en.wikipedia.org/wiki/Hazard_pointer&quot;&gt;hazard pointers&lt;/a&gt; and the simpler
&lt;a href=&quot;http://aturon.github.io/blog/2015/08/27/epoch/&quot;&gt;epoch-based memory reclamation&lt;/a&gt;. &lt;a href=&quot;#fnref:lockfree&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:layers&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;It’s worth noting that the detailed knowledge of memory
layout required for a top-flight garbage collectors lends itself
to other tricks, such as allocations usually being a cheap pointer
bump with a generational GC, and the ability for a moving GC to
shift data around, improving cache locality (especially useful
given the generally pointer-heavy nature of most managed
languages). However, these tricks are orthogonal to both memory
safety and memory leaks. &lt;a href=&quot;#fnref:layers&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:moves&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;It’s pretty useful, in that it allows move semantics to
work, but that’s an article for another time, perhaps. &lt;a href=&quot;#fnref:moves&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Rreverrse Debugging</title>
            <link>https://huonw.github.io/blog/2015/10/rreverse-debugging/</link>
            <pubDate>Tue, 27 Oct 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/10/rreverse-debugging</guid>
            <description>&lt;p&gt;Imagine being able to step forward and &lt;em&gt;backwards&lt;/em&gt; as code runs in
your debugger. Imagine being able to do an test run multiple times
with exactly the same sequence of instructions and values, right down
to memory addresses and IO. Imagine being able to run an executable
thousands of times and then do all that in the one execution that
triggers the rare bug that’s draining you of life…&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;http://rr-project.org/&quot;&gt;rr tool&lt;/a&gt; is amazing.&lt;/p&gt;

&lt;h2 id=&quot;a-debugger-skeptic&quot;&gt;A Debugger Skeptic&lt;/h2&gt;

&lt;p&gt;I’ve never been a huge user of debuggers. Being able to diagnose my
code line-by-line, statement-by-statement sounded theoretically good
to me, but I’ve never really “clicked” with it in practice.&lt;/p&gt;

&lt;p&gt;Of course, there’s an element of a vicious cycle: I only use debuggers
(generally gdb for native code, and pdb for Python) occasionally and
so I’m not an expert, so things end up being annoying, slow and
require searching the internet a lot, and this discourages me from
using them. And, for anything non-trivial, circumstances often mean
that my attempts to use a debugger are an exercise in pulling teeth
and are slower than just staring at the code harder and/or adding more
logging.&lt;/p&gt;

&lt;p&gt;There’s also a large element of just never having a tool I liked using
(which is what this whole post is about): I don’t do that much in
managed languages like Java or C#, and I’ve not used Visual Studio in
any detail, all of which I’ve heard rumours about being top-notch.&lt;/p&gt;

&lt;p&gt;The thing I struggle with most is the disconnect between when problems
are detected/manifest, and the fundamental cause. A typical “tricky”
bug might only occur occasionally: an assertion of
internal-consistency inside a library triggers inside a function in a
somewhat non-deterministic way, meaning it may take hundreds or even
thousands of calls before it triggers. And, even when it does, the
assertion is usually just detecting some flow-on consequence, and the
actual problem is usually some unknown distance before the
assertion. All this means I struggle to wrangle the debugger into the
right position to catch the bug, without having to walk through too
many perfectly fine executions. I’m sure a gdb-empress could handle
this with ease, but I don’t have those skills, so just sticking some
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;println!&lt;/code&gt;s in my code and reading the log backwards from the error is
easier.&lt;/p&gt;

&lt;p&gt;Recently I’ve been trying to get better at using debuggers, to break
my vicious cycle. I’ve been poking around in my Python code for my
Masters’ with pdb, and I’ve of course been poking around in Rust code
with gdb. This has been an uphill struggle: I have to consciously
decide to actually open a debugger and then work out exactly where I
need to be. There was a boost when I worked out that
&lt;a href=&quot;https://github.com/rust-lang/rust/blob/0152a93bb41ba360b41dd62451c2472fc5978d0c/src/etc/rust-gdb&quot;&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rust-gdb&lt;/code&gt; wrapper&lt;/a&gt; was made to be used (and is
conveniently installed by default, even with
&lt;a href=&quot;https://github.com/brson/multirust&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;multirust&lt;/code&gt;&lt;/a&gt;), but, still: not my favourite activity.&lt;/p&gt;

&lt;p&gt;And then, &lt;a href=&quot;https://github.com/mozilla/rr/releases/tag/4.0.0&quot;&gt;rr 4.0&lt;/a&gt; was &lt;a href=&quot;http://robert.ocallahan.org/2015/10/rr-40-released-with-reverse-execution.html&quot;&gt;released&lt;/a&gt;…&lt;/p&gt;

&lt;h2 id=&quot;on-a-rrrroll&quot;&gt;On a rrrroll&lt;/h2&gt;

&lt;p&gt;rr is everything I never knew I wanted from a debugger. I can barely
stay out of it: I’m slicing and dicing bugs in Rust code like never
before. Instead of having to plan out the best places to put
breakpoints for what I suspect the issue &lt;em&gt;might&lt;/em&gt; be, I just run the
code, and then break whereever/whenever I want to later.&lt;/p&gt;

&lt;p&gt;The workflow is simple: make a recording of an execution, and then
replay it in a debugger, with the ability to do go anywhere you want
any time.&lt;/p&gt;

&lt;p&gt;With Rust/Cargo, my command line will often look like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;cargo build &lt;span class=&quot;nt&quot;&gt;--example&lt;/span&gt; foo
... things compiling ...
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;rr ./target/debug/examples/foo
... rr &amp;amp; program output ...
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;rr replay &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; rust-gdb
... rr &amp;amp; gdb start-up ...
&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;gdb&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;break &lt;/span&gt;rust_panic
...
&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;gdb&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;continue&lt;/span&gt;
... program output ...
&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;gdb&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;(The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-d&lt;/code&gt; flag was &lt;a href=&quot;https://github.com/mozilla/rr/pull/1551&quot;&gt;added&lt;/a&gt; just after 4.0 was released. I asked
a question about swapping in different gdbs, and was prompted to
file an issue, which was fixed in just a few hours! Anyway, this means
getting the best Rust experience requires building from rr
&lt;a href=&quot;https://github.com/mozilla/rr&quot;&gt;from source&lt;/a&gt; at the moment.)&lt;/p&gt;

&lt;h3 id=&quot;recording&quot;&gt;Recording&lt;/h3&gt;

&lt;p&gt;The recording step with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rr&lt;/code&gt; is simple: tell it your binary and it’ll
run it, saving the state it needs for replaying as the program
executes.&lt;/p&gt;

&lt;p&gt;This &lt;em&gt;could&lt;/em&gt; be implemented as just saving the entire state of the
machine (memory and registers) between each step, but this would be
super-slow, and it won’t be nearly as nice to use as rr. The worst
overhead I’ve noticed is the rr’d program taking &lt;s&gt;14× longer&lt;/s&gt;, but it’s
a pretty dumb program, and I only came up with it for this blog post&lt;sup id=&quot;fnref:worst-case&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:worst-case&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;// hammer.rs&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;prelude&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100000&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
        &lt;span class=&quot;nn&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;foo.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;It takes &lt;s&gt;4.2s&lt;/s&gt; 0.5s (this case &lt;a href=&quot;https://github.com/mozilla/rr/commit/9bc7077e0a031a200aca7baf785dad17eba9f941&quot;&gt;was optimised&lt;/a&gt;) to be
recorded with rr, but only 0.3s to run normally. (Compiled with
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc -g hammer.rs&lt;/code&gt;, with Rust 1.3.0.) Of course, most programs will
being doing more than reading from a file a &lt;em&gt;lot&lt;/em&gt;, and the overhead is
much smaller for more typical work-loads. For instance, I’ve been
doing some work with Aatch’s big-integer library, &lt;a href=&quot;https://github.com/Aatch/ramp&quot;&gt;ramp&lt;/a&gt;, and
&lt;a href=&quot;https://github.com/Aatch/ramp/blob/7fac34b95600562a1272995568fff331eb533894/examples/factorial.rs&quot;&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;factorial&lt;/code&gt; example&lt;/a&gt; (compiled in debug mode) takes
1.8s to run under rr, and 1.5s normally.&lt;/p&gt;

&lt;h3 id=&quot;determinism&quot;&gt;Determinism&lt;/h3&gt;

&lt;p&gt;The replaying is where the magic really kicks in for me. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rr
replay&lt;/code&gt; command brings up an instance of gdb with the trace loaded
and ready to go.&lt;/p&gt;

&lt;p&gt;The recording means that the “execution” of a replay is now
deterministic (and completely so, as far as I can tell), so you can be
sure about a lot of things. Reading random data is fine:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;// urandom.rs&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;fs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;prelude&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;nn&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/dev/urandom&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{:?}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Recording and playing it back gives the same result each time:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;rr ./urandom
rr: Saving the execution of &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;./urandom&lt;span class=&quot;s1&quot;&gt;&apos; to trace directory `/home/huon/.rr/urandom-2&apos;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;45, 45, 28, 0, 236]
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;~/projects/mozilla/rr/obj/bin/rr replay &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; rust-gdb ~/.rr/urandom-2
GNU gdb &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Ubuntu 7.10-1ubuntu2&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; 7.10
...
&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;gdb&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; c
Continuing.
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;45, 45, 28, 0, 236]
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Even the memory addresses of allocations, the stack and everything
else are deterministic, so watches and watchpoints can be placed on
exact bytes in memory and they’ll do the right thing on every “run” of
the program. (I’ve not had a reason to use it yet, but seems awesome
for debugging memory corruption: find an execution that exhibits
corruption of some string or something, and place a watch point on
those bytes to find the locations that modify the string.)&lt;/p&gt;

&lt;h3 id=&quot;back-to-the-future&quot;&gt;Back to the future&lt;/h3&gt;

&lt;p&gt;The thing I’ve really fallen in love with is reverse debugging:
instead of just being able to let the program’s execution progress
forward in various forms (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;step&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;next&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;continue&lt;/code&gt; etc.), you can do
the same in reverse.&lt;/p&gt;

&lt;p&gt;My strategy is:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;find out some code has a bug (oh no!),&lt;/li&gt;
  &lt;li&gt;record executions with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rr&lt;/code&gt; until the bug exhibits how I want&lt;sup id=&quot;fnref:rare&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:rare&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;,&lt;/li&gt;
  &lt;li&gt;replay the execution until there’s a sure-fire indicator it occurred
(for instance, in Rust code, breaking on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rust_panic&lt;/code&gt; will stop
execution at any panic, including assertion failures),&lt;/li&gt;
  &lt;li&gt;work backwards from that point, diving in and out of functions and
stepping forward and backwards over lines/instructions/anything.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The keys here are the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;r&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;reverse-&lt;/code&gt;-prefixed gdb commands: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rn&lt;/code&gt;
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;reverse-next&lt;/code&gt;), &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rs&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;reverse-step&lt;/code&gt;), &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rc&lt;/code&gt; (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;reverse-continue&lt;/code&gt;) and
so on. These do what their non-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;reverse&lt;/code&gt; conterparts do, except
backwards: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;next&lt;/code&gt; goes from line 9 to line 10, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;reverse-next&lt;/code&gt; goes
from line 10 to line 9.&lt;/p&gt;

&lt;p&gt;It just feels so great to start up the debugger, break on
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rust_panic&lt;/code&gt;, examine the state of the world, and then break on some
&lt;em&gt;previous&lt;/em&gt; function call and jump back to it with
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;reverse-continue&lt;/code&gt;. I can track down problems without having to fiddle
with setting up how to actually start the debugger in the right place.&lt;/p&gt;

&lt;h3 id=&quot;removing-the-rose-coloured-glasses&quot;&gt;Removing the rose-coloured glasses&lt;/h3&gt;

&lt;p&gt;I’m probably sounding breathlessly enthusiastic, as if record/replay
and reverse execution was some amazing new functionally. It’s not.&lt;/p&gt;

&lt;p&gt;Other environments/languages/tools have the functionality, but it’s
the first time I’ve had the luck to use it. There’s even actually
&lt;a href=&quot;https://www.sourceware.org/gdb/wiki/ProcessRecord&quot;&gt;recording&lt;/a&gt; and &lt;a href=&quot;https://www.sourceware.org/gdb/wiki/ReverseDebug&quot;&gt;reverse execution&lt;/a&gt; in gdb itself,
but it is (apparently) quite slow, and seems to be less reliable: I
tried &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;target record&lt;/code&gt; on an Rust executable, and the recording
immediately failed in glibc’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;memset&lt;/code&gt; (it couldn’t handle an AVX2
instruction).&lt;/p&gt;

&lt;p&gt;Also, rr of course has its own limitations:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;it doesn’t literally fix your bugs for you,&lt;/li&gt;
  &lt;li&gt;it only runs on Linux and only x86 &amp;amp; x86-64 (although there’s a
&lt;a href=&quot;https://github.com/mozilla/rr/issues/1373&quot;&gt;bug about ARM&lt;/a&gt;),&lt;/li&gt;
  &lt;li&gt;programs run on a single-core, so concurrency is possible but not
parallelism (and hence programs may be much slower due to that, and
some bugs for which rr might be nice to have are harder/impossible
to trigger),&lt;/li&gt;
  &lt;li&gt;modifying variables/memory is useless: any changes are ignored and
overwritten, since the executions are recorded and fixed,&lt;/li&gt;
  &lt;li&gt;it doesn’t support all syscalls, but I’ve not encountered one that
isn’t supported personally, and the reason is they’re implemented on
an on-demand basis; things that have been founded to be needed for
debugging Firefox etc.,&lt;/li&gt;
  &lt;li&gt;the time overhead is fairly low, but the memory overhead is quite
large: the factorial example from before went from 3MB (as measured
by GNU time) to 82MB. I’m sure that a large part of this is a
constant overhead, because it doesn’t seem like it’d be a great tool
for debugging large applications (for which it is designed, and
&lt;a href=&quot;https://github.com/mozilla/rr/wiki/Testimonials&quot;&gt;used&lt;/a&gt;) with 30× increase in memory use.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;(There’s a few more technical things mentioned in the limitations on
&lt;a href=&quot;http://rr-project.org/&quot;&gt;rr’s website&lt;/a&gt;.)&lt;/p&gt;

&lt;h2 id=&quot;summary&quot;&gt;Summary&lt;/h2&gt;

&lt;p&gt;Reverse debugging has converted me from “meh debuggers” to “💜 rr”:
being able to dance around freely—&lt;em&gt;frolic&lt;/em&gt;, even—in code
pleases me like no other tool. It is language agnostic, I’m led to
believe that anything that works in GDB itself will work with rr: I
believe it was designed with C/C++ applications like Firefox in mind,
but it works flawlessly with Rust, and I’m sure other languages too.&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://users.rust-lang.org/t/rreverrse-debugging/3418&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/r/rust/comments/3qf6j9/rreverrse_debugging/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/r/programming/comments/3qf6kq/rreverrse_debugging/&quot;&gt;/r/programming&lt;/a&gt;&lt;/li&gt;


      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Rreverrse%20Debugging%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/10/rreverse-debugging/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/10/rreverse-debugging/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/10/rreverse-debugging/&amp;amp;title=Rreverrse%20Debugging&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:worst-case&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I know pretty much nothing about the internals of rr or
Linux, so I have no idea if this is actually triggering a
particularly bad case; but I do know that rr will shim in/save the
result of syscalls into the operating system, so doing a lot of
them (as opening/reading/closing a file will do) is probably slow. &lt;a href=&quot;#fnref:worst-case&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:rare&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The rr developers point out this means tracking down rare
     bugs is made easier: run rr on a test-case in a loop until
     the bug triggers, and then you can dissect it at leisure,
     instead of just hoping to catch it by chance in a traditional
     debugger. (Again not something I’ve particularly needed to
     use yet, so I don’t speak from experience: the rarest bug
     I’ve had to tackle recently occurred in about a quarter of
     executions.) &lt;a href=&quot;#fnref:rare&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>simple_parallel 0.3: Revisiting k-NN</title>
            <link>https://huonw.github.io/blog/2015/10/simple_parallel-revisiting-knn/</link>
            <pubDate>Sat, 24 Oct 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/10/simple_parallel-revisiting-knn</guid>
            <description>&lt;p&gt;I recently released version 0.3 of my
&lt;a href=&quot;https://crates.io/crates/simple_parallel&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simple_parallel&lt;/code&gt;&lt;/a&gt; crate, which builds on
&lt;a href=&quot;https://crates.io/crates/crossbeam&quot;&gt;Aaron Turon’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;crossbeam&lt;/code&gt;&lt;/a&gt; to resolve
&lt;a href=&quot;https://users.rust-lang.org/t/simple-parallel-now-partially-compiles-on-stable/1536&quot;&gt;the stability and safety difficulties&lt;/a&gt;: the crate now works
with Rust 1.3.0 stable, and offers safe data-parallel &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;for&lt;/code&gt; loops and
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;map&lt;/code&gt;s.&lt;/p&gt;

&lt;p&gt;I still don’t recommend it for general use, but I think it’s a neat
demonstration of what Rust’s type system allows, and hopefully
inspiration for something awesome.&lt;/p&gt;

&lt;div class=&quot;centered-libs&quot;&gt;
&lt;div class=&quot;lib-info&quot; style=&quot;display: inline-block&quot;&gt;
  &lt;a class=&quot;lib-link&quot; href=&quot;http://huonw.github.io/simple_parallel/simple_parallel&quot;&gt;simple_parallel&lt;/a&gt;
  &lt;a href=&quot;https://crates.io/crates/simple_parallel&quot;&gt;&lt;img class=&quot;lib-badge inline-image&quot; src=&quot;https://img.shields.io/crates/v/simple_parallel.svg&quot; alt=&quot;simple_parallel on crates.io&quot; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;h2 id=&quot;simple_parallel-in-16-lines&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simple_parallel&lt;/code&gt; in 16 lines&lt;/h2&gt;

&lt;p&gt;Taster: safely setting the values in an array stored directly on the
stack of a parent thread, in parallel, with 4 threads.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;// (add `simple_parallel = &quot;0.3&quot;` to your Cargo.toml)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;crate&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;simple_parallel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pool&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;simple_parallel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Pool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stack_array&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;large_complicated_thing&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;vec!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;pool&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.for_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stack_array&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.iter_mut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.enumerate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;elem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)|&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;elem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;large_complicated_thing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{:?}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stack_array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This is the same as writing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;for (i, elem) in
stack_array.iter_mut().enumerate() { ... }&lt;/code&gt;, and the output is:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[4, 3, 2, 1, 4, 3, 2, 1, 4, 3]&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;It is a rather complicated way to initialise an array with those
values, but it demonstrates some nice properties:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stack_array&lt;/code&gt; is &lt;strong&gt;allocated directly on the stack of the main thread&lt;/strong&gt;;
it doesn’t need to be pushed to the heap. Lifetimes and
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simple_parallel&lt;/code&gt;’s API ensures that the subthreads can’t hold
references to it for too long statically (no GC necessary).&lt;/li&gt;
  &lt;li&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;large_complicated_thing&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec&lt;/code&gt; is safely shared between all
threads, no copies necessary. Each thread gets a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;Vec&amp;lt;_&amp;gt;&lt;/code&gt;
reference, and they all point to the same &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;large_complicated_thing&lt;/code&gt;
value stored on the main thread’s stack. Again lifetimes ensure that
the references won’t be dangling, but more interestingly the vector
can be read without needing to copy or lock: &lt;strong&gt;zero-overhead
immutable shared data&lt;/strong&gt;.&lt;/li&gt;
  &lt;li&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iter_mut&lt;/code&gt; method creates an iterator over &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut&lt;/code&gt; references to
the elements of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;stack_array&lt;/code&gt;. The closure is called on each of them
in parallel, and the references are
disjoint/not-aliasing&lt;sup id=&quot;fnref:cache-line&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:cache-line&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;, meaning each call is
manipulating a different section of memory. &lt;strong&gt;No atomics or locks
are needed&lt;/strong&gt; to mutate what the iterator feeds the closure.&lt;/li&gt;
  &lt;li&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simple_parallel&lt;/code&gt; APIs all consume (nearly) arbitrary iterators:
I can take the slice iterator and create a new (lazy) iterator via
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;enumerate&lt;/code&gt;, pairing the output of the slice iterator with
indices. (There are of course restrictions about the thread-safety
properties of the iterator and its elements, necessary to get points
above safely.)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Some of this is driven by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simple_parallel&lt;/code&gt;, some of it is
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;crossbeam&lt;/code&gt;, but most of it is the power of Rust’s type system: it
&lt;a href=&quot;/blog/2015/02/some-notes-on-send-and-sync/&quot;&gt;comes together just right&lt;/a&gt; to ensure&lt;sup id=&quot;fnref:not-proved&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:not-proved&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;
&lt;a href=&quot;http://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html&quot;&gt;concurrency can be done fearlessly&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It’s not perfect, it’s not even &lt;em&gt;great&lt;/em&gt;—there’s
unnecessary overhead and it doesn’t offer many operations—but
has been useful for me (e.g. speeding up processing some pictures just
required replacing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;for photo in photos&lt;/code&gt; with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pool.for_(photos,
|photo|&lt;/code&gt;) and serves as a neat little exploration into Rust’s type
system. I’m confident we’ll see better libraries from better
programmers that allow for some magical things.&lt;/p&gt;

&lt;h2 id=&quot;k-nn&quot;&gt;&lt;em&gt;k&lt;/em&gt;-NN&lt;/h2&gt;

&lt;p&gt;The very first post on this blog was
&lt;a href=&quot;/blog/2014/06/comparing-knn-in-rust/&quot;&gt;&lt;em&gt;Comparing k-NN in Rust&lt;/em&gt;&lt;/a&gt;, which ended with parallelising
the task of validating a &lt;em&gt;k&lt;/em&gt;-nearest neighbour (&lt;em&gt;k&lt;/em&gt;-NN) classifier,
using the safe-but-crude tools Rust-circa-0.11 offered at the time. We
now live in a promised land, with &lt;a href=&quot;http://blog.rust-lang.org/2015/05/15/Rust-1.0.html&quot;&gt;language stability&lt;/a&gt;,
&lt;a href=&quot;https://crates.io/&quot;&gt;Cargo &amp;amp; thousands of crates&lt;/a&gt;, and
&lt;a href=&quot;https://github.com/rust-lang/rfcs/blob/master/text/0458-send-improvements.md&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; without &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&apos;static&lt;/code&gt;&lt;/a&gt;, so there’s shiny new
safe-and-less-crude tools!&lt;/p&gt;

&lt;p&gt;The example above disguised the role of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;crossbeam&lt;/code&gt;, but the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simple_parallel&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;crossbeam&lt;/code&gt; combo means it’s easy to process a
stream in parallel, sharing data from parent threads with no overhead
at all. The &lt;em&gt;k&lt;/em&gt;-NN code loads &lt;a href=&quot;https://github.com/c4fsharp/Dojo-Digits-Recognizer/tree/1eb4297a49dbd82a952c1523f5413519b8f1d62a/Dojo&quot;&gt;two files&lt;/a&gt; into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec&lt;/code&gt;s of
784-dimensional “pixels” via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;slurp_file&lt;/code&gt;—one of 5000 pixels of training
data and one of 500 samples to test the classifier against—and then
uses the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;classify&lt;/code&gt; function to predict a label for each of the
validation samples based on the training ones, finally printing how
many were predicted correctly.&lt;/p&gt;

&lt;p&gt;The full code is available at &lt;a href=&quot;https://github.com/huonw/revisiting-knn&quot;&gt;huonw/revisiting-knn&lt;/a&gt;, updated
from 0.11.0 (which wasn’t too hard at all&lt;sup id=&quot;fnref:update&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:update&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;), so I’m just going
to focus on the interesting bit: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;main&lt;/code&gt;. The sequential version is
short:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;training_set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;slurp_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;trainingsample.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validation_sample&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;slurp_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;validationsample.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num_correct&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validation_sample&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.iter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;.filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;classify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;training_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.pixels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;.count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Percentage correct: {:.1}%&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
             &lt;span class=&quot;n&quot;&gt;num_correct&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;f64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validation_sample&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;f64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;100.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;All the work is happening in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;filter&lt;/code&gt; call: the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;classify&lt;/code&gt;
function is the expensive one: each call does 5000 784-dimensional
&lt;a href=&quot;https://github.com/huonw/revisiting-knn/blob/219ad78a9b15554b10d08c4e626e11e09256b8dd/src/main.rs#L44&quot;&gt;vector distance calculations&lt;/a&gt;. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;perf&lt;/code&gt;’s instruction level
profiling tells me that nearly 95% of the time is spent in
&lt;a href=&quot;https://github.com/huonw/revisiting-knn/blob/219ad78a9b15554b10d08c4e626e11e09256b8dd/src/main.rs#L36&quot;&gt;the loop&lt;/a&gt;&lt;sup id=&quot;fnref:simd&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:simd&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt; for that calculation (which actually gets inlined all
the way into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;main&lt;/code&gt; itself).&lt;/p&gt;

&lt;p&gt;The parallel &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;main&lt;/code&gt; isn’t much longer:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// load files&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;training_set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;slurp_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;trainingsample.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validation_sample&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;slurp_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;validationsample.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// create a thread pool&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pool&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;simple_parallel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Pool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;nn&quot;&gt;crossbeam&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num_correct&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;pool&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.unordered_map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;validation_sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;c&quot;&gt;// is it classified right? (in parallel)&lt;/span&gt;
                &lt;span class=&quot;nf&quot;&gt;classify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;training_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.pixels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.label&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;.filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;.count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Percentage correct: {:.1}%&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;num_correct&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;f64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validation_sample&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;f64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;100.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The &lt;a href=&quot;http://huonw.github.io/simple_parallel/simple_parallel/pool/struct.Pool.html#method.unordered_map&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unordered_map&lt;/code&gt;&lt;/a&gt; function is a bit more complicated than
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;for_&lt;/code&gt; above: this takes an iterator over &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt;s, and a function from
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; to any type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;B&lt;/code&gt;, and returns an iterator of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;(usize, B)&lt;/code&gt;s, in some
random order&lt;sup id=&quot;fnref:order&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:order&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;. For above, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;B&lt;/code&gt; is a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bool&lt;/code&gt;: whether the
predicted classification was correct or not.&lt;/p&gt;

&lt;p&gt;The hardest part of parallelising that was working out where to put
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;crossbeam::scope&lt;/code&gt;: as I wrote it above, or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;let num_correct =
crossbeam::scope(...);&lt;/code&gt;. It was correct and ran in parallel the first
time!&lt;/p&gt;

&lt;p&gt;Interestingly, this code benefits greatly from being able to share
stacks: firstly, each &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt; in the loop is just a pointer into the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;validation_sample&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec&lt;/code&gt;, it can point right to the large chunk of
memory (for a 784D vector) owned by the main thread without having to
copy. Secondly, and even better, all the parallel &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;classify&lt;/code&gt; calls can
read share the one huge &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;training_set&lt;/code&gt; array without needing to copy
it, which is 5000 of those high-dimensional vectors.&lt;/p&gt;

&lt;h3 id=&quot;numbers&quot;&gt;Numbers&lt;/h3&gt;

&lt;p&gt;Discussing parallelism means nothing without proving it is doing
something useful: making things run faster. The sequential code took
1.86s, and the parallel version slashed that to 0.69s, 2.7× faster.&lt;/p&gt;

&lt;p&gt;I’m running 1.3.0 stable, and compiled the &lt;a href=&quot;https://github.com/huonw/revisiting-knn&quot;&gt;the code&lt;/a&gt; with
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo build --release --features sequential&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo build
--release&lt;/code&gt; for the two &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;main&lt;/code&gt; functions above, the rest of the code
stayed the same. I measured the time to run with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;perf stat -r 5
...&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;I’m on a different/faster computer to the &lt;a href=&quot;/blog/2014/06/comparing-knn-in-rust/&quot;&gt;previous post&lt;/a&gt;,
and the original Rust code no longer compiles. However, the OCaml code
still does: with the same compiler, it takes approximately 8.5 seconds
on this one, about 1.6-1.7× faster. The sequential Rust code is
nearly 2× faster than the old version—meaning the
compiler/standard library has likely improved—and the parallel
version even more… but this computer has more cores so the
comparison isn’t so interesting.&lt;/p&gt;

&lt;h2 id=&quot;crossbeamscope&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;crossbeam::scope&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;The key trick that allowed me to get the APIs to be safe is
&lt;a href=&quot;http://aturon.github.io/crossbeam-doc/crossbeam/fn.scope.html&quot;&gt;this &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scope&lt;/code&gt; function&lt;/a&gt;. It was somewhat infamously
&lt;a href=&quot;https://github.com/rust-lang/rust/issues/24292&quot;&gt;realised&lt;/a&gt; that destructors cannot be relied upon for
scope-based memory safety: it is possible to leave a scope without
running a destructor, in safe code, e.g. get the value stuck in a
reference cycle of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rc&lt;/code&gt;s. This means that if a library ever hands away
an instance of something with a destructor, it has to be sure that
things won’t go completely wrong if that destructor never executes.&lt;/p&gt;

&lt;p&gt;The alternative used in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;crossbeam&lt;/code&gt; was
&lt;a href=&quot;https://github.com/aturon/rfcs/blob/75db90de40849d7cd28e334388ffa74b9e7a9bcf/text/0000-scoped-take-2.md&quot;&gt;described in a Rust RFC&lt;/a&gt; (that never landed in Rust itself)
written by Aaron, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;crossbeam&lt;/code&gt;’s author. The approach is to be a
control freak: never let anyone else control your value, only hand off
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt; references to it, so what runs when is in your power, and yours
alone. This is what &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scope&lt;/code&gt; does,&lt;/p&gt;

&lt;p&gt;Its signature is:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scope&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;R&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;FnOnce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Scope&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;R&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;That is, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scope&lt;/code&gt; takes one argument, which is a closure, and then
passes a reference to a &lt;a href=&quot;http://aturon.github.io/crossbeam-doc/crossbeam/struct.Scope.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Scope&lt;/code&gt;&lt;/a&gt; to that closure. This
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Scope&lt;/code&gt; object allows for spawning threads/deferring functions, with
the guarantee that the thread will exit/the function will run before
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;scope&lt;/code&gt; returns.&lt;/p&gt;

&lt;p&gt;Only the iterator &lt;em&gt;adapters&lt;/em&gt; like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unordered_map&lt;/code&gt; (rather than
consumers like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;for_&lt;/code&gt;) in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simple_parallel&lt;/code&gt; need to think about this
externally: they act asynchronously, and so return an object that
can’t live too long and needs to control the threads spawned to do the
parallel processing, where as the consumers can just block. By taking
a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Scope&lt;/code&gt; argument, these iterator adapters can defer functions that
do the thread control, giving the nice iterator APIs with a fairly
minimal usage overhead (wrapping the calls in a closure and passing an
extra argument).&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://users.rust-lang.org/t/simple-parallel-0-3-revisiting-k-nn/3383&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/r/rust/comments/3px8y9/simple_parallel_03_revisiting_knn/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=simple_parallel%200.3:%20Revisiting%20k-NN%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/10/simple_parallel-revisiting-knn/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/10/simple_parallel-revisiting-knn/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/10/simple_parallel-revisiting-knn/&amp;amp;title=simple_parallel%200.3:%20Revisiting%20k-NN&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:cache-line&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The pointers are disjoint, so safety/semantically
           everything is cool, but in the real world there are
           performance concerns, like false sharing: the values
           are all adjacent in memory and so probably share a
           cache-line. In practice, this shouldn’t be a problem:
           either the time to compute each value will be
           significant, so the false sharing hit is irrelevant, or
           one doesn’t need to/shouldn’t parallelise at the level
           of individual elements. &lt;a href=&quot;#fnref:cache-line&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:not-proved&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Strictly speaking, “ensure” isn’t quite right: there’s
           not a formal proof that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt;/… all do have
           this guarantee, but there is work on
           &lt;a href=&quot;https://www.ralfj.de/blog/2015/10/12/formalizing-rust.html&quot;&gt;formalisations of Rust&lt;/a&gt; that will either
           tackle this directly, or form important groundwork. &lt;a href=&quot;#fnref:not-proved&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:update&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;This code is pretty simple, so was barely affected by
       language/library changes: some import paths changed, some
       imports became necessary and others could be dropped, and
       all the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.as_slice()&lt;/code&gt; calls disappeared. &lt;a href=&quot;#fnref:update&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:simd&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The code is actually slower than strictly necessary: if the
     &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fold&lt;/code&gt; is separated into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.map(|(&amp;amp;a, &amp;amp;b)| a - b).fold(0, |s,
     d| s + d * d)&lt;/code&gt;, it is autovectorised by LLVM to use SIMD
     instructions and runs twice as fast. However, I decided
     against doing this in the spirit of Rust 1.3 v. Rust 0.11
     comparisons: IIRC the old code didn’t get SIMD-ified. &lt;a href=&quot;#fnref:simd&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:order&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;There’s also &lt;a href=&quot;http://huonw.github.io/simple_parallel/simple_parallel/pool/struct.Pool.html#method.map&quot;&gt;the plain old &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;map&lt;/code&gt; function&lt;/a&gt;, which is
      careful to return the elements in the same order as they
      were in the original iterator. This is a bit more expensive. &lt;a href=&quot;#fnref:order&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>SIMD in Rust</title>
            <link>https://huonw.github.io/blog/2015/08/simd-in-rust/</link>
            <pubDate>Mon, 24 Aug 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/08/simd-in-rust</guid>
            <description>&lt;p&gt;A new scheme for SIMD in &lt;a href=&quot;https://www.rust-lang.org/&quot;&gt;Rust&lt;/a&gt; is available in the latest nightly
compilers, fresh off the builders (get it while it’s hot!).&lt;/p&gt;

&lt;p&gt;For the last two months, I’ve been interning at Mozilla Research,
working on improving the state of &lt;a href=&quot;https://en.wikipedia.org/wiki/SIMD&quot;&gt;SIMD&lt;/a&gt; parallelism in &lt;a href=&quot;https://www.rust-lang.org/&quot;&gt;Rust&lt;/a&gt;:
exposing more CPU instructions in the compiler, and an
&lt;a href=&quot;https://github.com/huonw/simd&quot;&gt;in-progress library&lt;/a&gt; that provides a mostly-safe but
low-level interface to that core functionality.&lt;/p&gt;

&lt;p&gt;It’s still simple to use; the following are kernels for rendering
&lt;a href=&quot;https://en.wikipedia.org/wiki/Mandelbrot_set&quot;&gt;the Mandelbrot set&lt;/a&gt;, one scalar, one with explicit
vectorisation, and both similar:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;// Scalar!&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// compute the escape time for the point `c_x + i c_y`&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mandelbrot_naive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;f32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c_y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;f32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_iter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c_y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_iter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;4.0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;2.0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c_y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// SIMD!&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// compute the escape time for the four point `c_x + i c_y` at once&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;mandelbrot_vector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f32x4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c_y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f32x4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_iter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u32x4&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c_y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;u32x4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;splat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max_iter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mask&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.lt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;f32x4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;splat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;4.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mask&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mask&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.to_i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;u32x4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;splat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                                           &lt;span class=&quot;nn&quot;&gt;u32x4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;splat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c_y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;mandel.png&quot;&gt;
      &lt;img src=&quot;mandel.png&quot; alt=&quot;a rendering of the Mandelbrot set&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;The result of both Mandelbrot kernels, running in a loop with some printing code.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;h2 id=&quot;simd&quot;&gt;SIMD?&lt;/h2&gt;

&lt;p&gt;SIMD (Single Instruction Multiple Data) is a way to get data
parallelism on a lot of modern hardware: CPUs have instructions that
will operate on vectors of multiple values in a single call, e.g. most
x86 CPUs offer the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;addps&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mulps&lt;/code&gt; instructions to do four
single-precision floating point additions (multiplications,
respectively) in parallel, by operating on two 128-bit registers.&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;vector.png&quot;&gt;
      &lt;img src=&quot;vector.png&quot; alt=&quot;a diagram of a vector (x + y) * z, where each operand contains four values&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;p&gt;Rust is a good fit for many of the headline examples of such
applications, which are traditionally written in C/C++ (or Fortran,
for the last),&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;media codecs (audio, video, images)&lt;/li&gt;
  &lt;li&gt;games/things that do a lot of 3D graphics manipulation&lt;/li&gt;
  &lt;li&gt;numerical software (data processing (big or not), simulations etc.)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Improved support for explicit SIMD enables Rust to reliably push
hardware to its limit in these areas, and more.&lt;/p&gt;

&lt;h2 id=&quot;common-vs-platform-specific&quot;&gt;Common vs. Platform-specific&lt;/h2&gt;

&lt;p&gt;There’s a common core of operations that is widely supported, however,
there is a variety of useful instructions that aren’t found
everywhere. My &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simd&lt;/code&gt; crate tries to provide a consistent API for the
cross-platform functionality, and then opt-ins for platform specific
things. The cross-platform API of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simd&lt;/code&gt; is based on
&lt;a href=&quot;https://01.org/node/1495&quot;&gt;work on SIMD in JavaScript&lt;/a&gt;: they’ve already done the hard
yards to abstract out a basic set of operations that generally work
efficiently, or are extremely useful, everywhere. It definitely
doesn’t cover everything, but it does go a long way.&lt;/p&gt;

&lt;p&gt;A limited-but-increasing amount of the platform-specific functionality
is exposed via submodules of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simd&lt;/code&gt; crate, allowing one to opt-in
to non-portability in a manner similar to &lt;a href=&quot;http://doc.rust-lang.org/std/os/&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;std::os&lt;/code&gt;&lt;/a&gt;. For
example, the SSSE3 instruction &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pshufb&lt;/code&gt; is exposed as the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shuffle_bytes&lt;/code&gt; method on traits in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simd::x86::ssse3&lt;/code&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;shuffle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u8x16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u8x16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u8x16&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;simd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;x86&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;ssse3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.shuffle_bytes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Caveat Programmor: even the cross-platform API isn’t entirely portable
at the moment, it requires &lt;em&gt;some&lt;/em&gt; level of SIMD support in hardware,
and requires the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simd&lt;/code&gt; library to have support for the platform. The
major example of this is ARM and i686 (i.e. x86) CPUs aren’t
guaranteed to have SIMD instructions, so one must opt-in via the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-C
target-feature=+neon&lt;/code&gt; (respectively &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-C target-feature=+sse2&lt;/code&gt;)
argument to the compiler&lt;sup id=&quot;fnref:cargo&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:cargo&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;. Also, I haven’t worked on PowerPC or
MIPS, focusing only on x86, ARM and AArch64 (ARMv8-A’s 64-bit
architecture).&lt;/p&gt;

&lt;h2 id=&quot;benchmarks&quot;&gt;Benchmarks&lt;/h2&gt;

&lt;p&gt;Does this help? Yes! SIMD code in Rust can be several times faster
than scalar code, and is comparable and even ahead of using the
intrinsics in Clang. GCC seems to still have a significant edge over
Rust/LLVM (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc&lt;/code&gt;’s optimiser) in some cases, but not in others.&lt;/p&gt;

&lt;p&gt;I wrote a collection of microbenchmarks comparing the new SIMD
functionality to scalar Rust code, and to similar implementations in
C/C++:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;operations on 4×4 &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;f32&lt;/code&gt; matrices (only SIMD Rust vs. scalar Rust)
    &lt;ul&gt;
      &lt;li&gt;inversion&lt;/li&gt;
      &lt;li&gt;multiplication&lt;/li&gt;
      &lt;li&gt;transposition&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;the Mandelbrot example above&lt;/li&gt;
  &lt;li&gt;some benchmarks from &lt;a href=&quot;http://benchmarksgame.alioth.debian.org/&quot;&gt;the Benchmark Game&lt;/a&gt;, where the fastest
programs use explicit SIMD:
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;http://benchmarksgame.alioth.debian.org/u64/performance.php?test=nbody&quot;&gt;nbody&lt;/a&gt; (fastest on single-core x86-64 is C)&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;http://benchmarksgame.alioth.debian.org/u64/performance.php?test=fannkuchredux&quot;&gt;fannkuch-redux&lt;/a&gt; (C++)&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;http://benchmarksgame.alioth.debian.org/u64/performance.php?test=spectralnorm&quot;&gt;spectral-norm&lt;/a&gt; (C)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I adapted the inverse and multiply comparative benchmarks from
&lt;a href=&quot;https://github.com/tc39/ecmascript_simd/tree/7270420f2f4bd337985307fc46a627c94bd1059e/src/benchmarks&quot;&gt;ecmascript_js&lt;/a&gt; into Rust microbenchmarks, and
translated the fastest benchmark game programs into Rust. I used the
original implementations of those fastest programs for comparison and
the fastest Rust programs (none of which use explicit SIMD) as a
baseline, after disabling threading. All of this Rust code is
included as &lt;a href=&quot;https://github.com/huonw/simd/tree/master/examples&quot;&gt;examples&lt;/a&gt; or &lt;a href=&quot;https://github.com/huonw/simd/tree/master/benches&quot;&gt;benchmarks&lt;/a&gt; in
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simd&lt;/code&gt; repository.&lt;/p&gt;

&lt;p&gt;The Rust code is quite portable. The matrix operations use only the
cross-platform API and so work on x86, ARM and AArch64 right now. The
nbody and spectral-norm benchmarks require &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;f64&lt;/code&gt;s (aka &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;double&lt;/code&gt;s)
which are only supported by x86-64 &amp;amp; AArch64 hardware. The
fannkuch-redux benchmark requires conditionally defining a single
operation based on the platform, which takes only a few lines on each
listed platform.&lt;/p&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;chart-x86-64.png&quot;&gt;
      &lt;img src=&quot;chart-x86-64.png&quot; alt=&quot;A chart for x86-64 of the speed-up over scalar code for vectorised code compiled with Rust, Clang and GCC on 3 benchmarks (nbody, spectral-norm, fannkuch-redux), and Rust only for 4 more (matrix inverse, matrix multiply, matrix transpose, mandelbrot). The speed-up ranges from about 1.2 for nbody to about 3 for matrix multiply and mandelbrot.&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;Benchmarks on x86-64 (Intel i7-4900MQ). The Rust code was compiled with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-C opt-level=3&lt;/code&gt;, the C/C++ with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-O3&lt;/code&gt;. SSSE3 was enabled for fannkuch-redux only.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;chart-aarch64.png&quot;&gt;
      &lt;img src=&quot;chart-aarch64.png&quot; alt=&quot;A chart for AArch64 of the speed-up over scalar code for vectorised code compiled with Rust for the same 7 benchmarks (nbody, spectral-norm, fannkuch-redux, matrix inverse, matrix multiply, matrix transpose, mandelbrot). The speed-up ranges from 1 for spectral-norm to about 3.2 for matrix multiply and mandelbrot&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;Benchmarks on AArch64 (Google Nexus 9). The Rust code was compiled with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-C opt-level=3&lt;/code&gt;.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;chart-arm.png&quot;&gt;
      &lt;img src=&quot;chart-arm.png&quot; alt=&quot;A chart for ARM of the speed-up over scalar code for vectorised code compiled with Rust for a subset of 5 benchmarks (fannkuch-redux, matrix inverse, matrix multiply, matrix transpose, mandelbrot). The speed-up ranges from 1.8 for fannkuch-redux to 4 for matrix multiply&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;Benchmarks on ARM (Google Nexus 5). The Rust code was compiled with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-C opt-level=3 -C target-feature=+neon&lt;/code&gt;.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Compiler versions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc 1.4.0-dev (02e97342c 2015-08-17)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ubuntu clang version 3.6.0-2ubuntu1 (tags/RELEASE_360/final) (based on LLVM 3.6.0)&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gcc (Ubuntu 4.9.2-10ubuntu13) 4.9.2&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;explicit-simd-in-the-compiler&quot;&gt;Explicit SIMD in the Compiler&lt;/h2&gt;

&lt;p&gt;My changes are a large incremental improvement over the old SIMD
support in Rust. Previously, the only explicit SIMD supported by the
compiler was declaring types as SIMD vectors with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#[simd]&lt;/code&gt;
attribute, which automatically allowed the use of built-in operators
like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;+&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*&lt;/code&gt; and (sometimes) &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;==&lt;/code&gt;. This was the full extent, and
the only way to get anything beyond that was by relying on the
optimiser, using inline assembly or &lt;a href=&quot;http://huonw.github.io/llvmint/llvmint/&quot;&gt;horrible hacks&lt;/a&gt;. Now,
there are a large number of intrinsics defined by the compiler as
foreign functions with a special ABI. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simd&lt;/code&gt; crate imports them to
implement its functionality, e.g.:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nd&quot;&gt;#[repr(simd)]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;u8x16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
             &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;platform-intrinsic&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;x86_mm_shuffle_epi8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u8x16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u8x16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;u8x16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;These intrinsics follow the pattern of
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;architecture&amp;gt;_&amp;lt;vendor&apos;s-name&amp;gt;&lt;/code&gt;, relying on the definitions that CPU
vendors give.&lt;/p&gt;

&lt;p&gt;Speaking of the optimiser, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc&lt;/code&gt; uses LLVM, which is industrial
strength, and supports a lot of autovectorisation&lt;sup id=&quot;fnref:ispc&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:ispc&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;: compiling
scalar code into code that uses SIMD intrinsics. The power of this can
be seen above in the spectral-norm benchmark on AArch64, where the
optimiser managed to make the scalar code just as efficient as the
vector code. However, this is limited: small code changes can disturb
vectorisation optimisations, and, more significantly, vectorisation
may require changing the semantics slightly, and, synthesising
complicated vector instructions is hard for a compiler&lt;sup id=&quot;fnref:soa&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:soa&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;The new compiler intrinsics brings Rust essentially on par with the
SIMD extensions in C and C++ compilers like GCC, Clang and ICC. It
requires some more manual effort to use it directly, with manual
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extern&lt;/code&gt; imports required, but libraries like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simd&lt;/code&gt; avoid that issue.&lt;/p&gt;

&lt;h2 id=&quot;the-future&quot;&gt;The Future&lt;/h2&gt;

&lt;p&gt;The goal for the immediate future is nailing down the design of the
low-level functionality discussed in &lt;a href=&quot;https://github.com/rust-lang/rfcs/pull/1199&quot;&gt;RFC 1199&lt;/a&gt;, and making
sure that the initial implementation in &lt;a href=&quot;https://github.com/rust-lang/rust/pull/27169&quot;&gt;#27169&lt;/a&gt; matches
that. An unfortunate missing piece is nice support for rearranging
vectors via shuffles and swizzles: I believe it requires
&lt;a href=&quot;https://github.com/rust-lang/rfcs/pull/1062&quot;&gt;RFC 1062&lt;/a&gt; or some other way to have values in generics&lt;sup id=&quot;fnref:shuffle&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:shuffle&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;My long-term goal is to have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simd&lt;/code&gt; provide the common cross-platform
API, with extension traits giving access to all of the
platform-specific instructions. All of this will have as thin an
interface to as possible: the vast majority of functions correspond to
one instruction. (One question I haven’t resolved is what to call
these functions: I could name them directly after the instruction they
correspond to (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pshufb&lt;/code&gt;), or after the equivalent C intrinsic
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_mm_shuffle_epi8&lt;/code&gt;), or something approximately descriptive
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;shuffle_bytes&lt;/code&gt;). Thoughts?)&lt;/p&gt;

&lt;p&gt;I’m not personally planning to build long-vector functionality on top
of the improved short-vector functionality, but it is certainly
something that would be very cool to see.&lt;/p&gt;

&lt;p&gt;One major missing piece of this new SIMD support in Rust is how to
handle run-time determination of SIMD functionality: it’s relatively
common to have an algorithm with multiple implementations for
different levels of SIMD support, with a run-time switch to choose the
fastest one supported by the CPU being used. For example, x86-64 CPUs
are only guaranteed to support SSE2, but there’s things beyond that
with more functionality and even longer SIMD vectors (Intel’s new
AVX512 has 512-bit vectors). I’ve got some vague ideas in this area,
but nothing concrete yet.&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://users.rust-lang.org/t/improved-simd-in-rust/2604&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/r/rust/comments/3i85lg/simd_in_rust/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=SIMD%20in%20Rust%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/08/simd-in-rust/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/08/simd-in-rust/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/08/simd-in-rust/&amp;amp;title=SIMD%20in%20Rust&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:cargo&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Passing the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-C target-feature&lt;/code&gt; flag to a whole compilation
      with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo&lt;/code&gt; is somewhat annoying at the moment. It requires
      a custom target spec or intercepting how &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc&lt;/code&gt; is called
      via the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;RUSTC&lt;/code&gt; environment variable (for my own
      experiments, I’m doing the latter: pointing the variable to
      a shell script that runs &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc -C target-feature=&apos;...&apos;
      &quot;$@&quot;&lt;/code&gt;). This is covered by &lt;a href=&quot;https://github.com/rust-lang/cargo/issues/1137&quot;&gt;#1137&lt;/a&gt;. &lt;a href=&quot;#fnref:cargo&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:ispc&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;LLVM by itself isn’t as powerful as &lt;a href=&quot;https://ispc.github.io/&quot;&gt;Intel’s ISPC&lt;/a&gt;,
     which has its own C variant, but I could imagine a Rust
     version too, to push the limits of compiler-driven
     autovectorisation (among other things) here too. &lt;a href=&quot;#fnref:ispc&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:soa&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Another thing compilers can’t easily do is layout
    optimisations. A major one is an AoS (array-of-structs) to SoA
    (struct-of-arrays) transformation, which is particularly
    important for SIMD, both explicit and autovectorised. &lt;a href=&quot;#fnref:soa&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:shuffle&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Fortunately, not all is lost: I’ve always seen the
        optimiser synthesise a real shuffle from a manual series
        of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;extract&lt;/code&gt;s and a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;new&lt;/code&gt;. It’s annoying and isn’t
        &lt;em&gt;strictly&lt;/em&gt; guaranteed, but it seems to be pretty reliable. &lt;a href=&quot;#fnref:shuffle&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>What is SIMD?</title>
            <link>https://huonw.github.io/blog/2015/07/what-is-simd/</link>
            <pubDate>Fri, 10 Jul 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/07/what-is-simd</guid>
            <description>&lt;p&gt;I’m currently in San Francisco doing an internship at Mozilla
Research, working on creating functionality for SIMD in the Rust
programming language.&lt;/p&gt;

&lt;p&gt;(This post is designed to describe what I’m doing for people not
necessarily familiar with programming or SIMD.)&lt;/p&gt;

&lt;h2 id=&quot;what-is-simd&quot;&gt;What is SIMD?&lt;/h2&gt;

&lt;p&gt;SIMD stands for “Single Instruction, Multiple Data”, and refers to
functionality that a lot of computer hardware has for operating on
multiple numbers at once. (Essentially 100% of all desktops and
laptops and many modern phones have support for it.)&lt;/p&gt;

&lt;p&gt;At a high-level, computers only operate on numbers. A program running
on the computer will be executing sequences of instructions like&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;add &lt;em&gt;x&lt;/em&gt; and &lt;em&gt;y&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;multiply the result and &lt;em&gt;z&lt;/em&gt;,&lt;/li&gt;
  &lt;li&gt;store that number to location &lt;em&gt;p&lt;/em&gt;,&lt;/li&gt;
  &lt;li&gt;repeat (until it’s been done 100 times).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Usually each instruction is a simple operation. If boxes are numbers,
the first two steps above (which are run 100 times) might look like:&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;scalar2.png&quot;&gt;
      &lt;img src=&quot;scalar2.png&quot; alt=&quot;a diagram of a scalar (x + y) * z, where each operand contains one value&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;p&gt;Each operation is working with just two numbers… but imagine if we
could instead do the same operation to many pairs at the same time:
things would go faster.&lt;/p&gt;

&lt;p&gt;This is exactly what SIMD offers. The operation instead looks like:&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;vector.png&quot;&gt;
      &lt;img src=&quot;vector.png&quot; alt=&quot;a diagram of a vector (x + y) * z, where each operand contains four values&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;p&gt;If we’re doing 4 things at once, hopefully it is about 4 times faster!
(We’d only have to repeat that 25 times to do the whole sequence
above.)&lt;/p&gt;

&lt;p&gt;Doing arithmetic in parallel is definitely useful, but one of the more
interesting parts of SIMD is how it allows doing relatively
complicated rearragements of data efficiently. SIMD vectors can be
shuffled, swizzled, blended, permuted…&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;swizzle.png&quot;&gt;
      &lt;img src=&quot;swizzle.png&quot; alt=&quot;a diagram of a vector swizzle from x y z w to y w z x&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;p&gt;These shuffles allow super-linear speed-ups: even if the computer can
only do 4 things at once, shuffles mean some operations can become 5
or more times faster!&lt;/p&gt;

&lt;h2 id=&quot;why-care-about-simd&quot;&gt;Why care about SIMD?&lt;/h2&gt;

&lt;p&gt;The SIMD operations allow a pile of common operations to be performed
much faster, allowing software to be snappier, smoother and use less
battery.&lt;/p&gt;

&lt;p&gt;There are a few common uses for SIMD:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;rendering graphics/text to your screen, which often involves doing
the exactly same relatively simple arithmetic operations a lot (your
browser is probably using SIMD to display this page).&lt;/li&gt;
  &lt;li&gt;decoding compressed pictures, videos and audio, where being faster
means using less battery: very important in the age of the
laptop/tablet/phone.&lt;/li&gt;
  &lt;li&gt;scientific computing will often need to do some heavy-weight
number-crunching, and being able to do that four (or eight, or
sixteen) times faster can be very nice.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;what-does-creating-simd-support-mean&quot;&gt;What does “creating SIMD support” mean?&lt;/h2&gt;

&lt;p&gt;AKA, what am I doing with my days?&lt;/p&gt;

&lt;p&gt;First, an introduction to what “programming” means. A programmer
generally spends their time either thinking, or editing text
documents: source code. The source code is written by the programmer
to describe all the things that the computer needs to do. A program (a
compiler) will then convert that source code into the sequence of
instructions the computer needs to execute (machine code).&lt;/p&gt;

&lt;p&gt;(A compiler is itself a computer program and so has its own source
code, which was converted to machine code by a different compiler
which also has its own source code, which was converted to machine
code by another one… all the way back to the first programs, written
directly in machine code by humans: no compiler to help.)&lt;/p&gt;

&lt;p&gt;There are a lot of different programming languages in the world: each
one has its own compilers that understand source code written in that
language, and each of those languages has its own specialties. Some
languages are simple and relatively easy to learn at the expense of
being slower or less flexible, while others are more complicated but
offer more control, flexibility and/or speed. The Rust programming
language is relatively new one being created by Mozilla, and fits into
the latter category.&lt;/p&gt;

&lt;p&gt;Currently, the compiler for Rust doesn’t have good support for
generating the SIMD instructions, so part of my work is making
modifications to the Rust compiler’s own source code so that it does
this better. However, the interface this exposes is very low-level: it
has complete control, but requires a lot of effort to use. So part of
my project is also building a collection of Rust code (a library) that
wraps up the raw functionality into something nicer and easier to use.&lt;/p&gt;

&lt;p&gt;Over the past few days I’ve made some big steps. I posted
&lt;a href=&quot;https://internals.rust-lang.org/t/pre-rfc-simd-groundwork/2343&quot;&gt;my first design document&lt;/a&gt;
for initial public feedback, and then
&lt;a href=&quot;https://github.com/rust-lang/rfcs/pull/1199&quot;&gt;a revised form as an official proposal&lt;/a&gt;,
but I also made some progress with the actual code.&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;mandelbrot.png&quot;&gt;
      &lt;img src=&quot;mandelbrot.png&quot; alt=&quot;a screenshot of an ASCII art rendering of the Mandelbrot set&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;p&gt;It’s a (rather basic) rendering of the
&lt;a href=&quot;https://en.wikipedia.org/wiki/Mandelbrot_set&quot;&gt;Mandelbrot set&lt;/a&gt;, using
a sketch of my nicer library.&lt;/p&gt;

&lt;p&gt;Somewhat unusually for SIMD, I can run it on many different types of
computers without having to change the code at all: that screenshot is
when running on my computer, but I can run it on my phone, a little
box similar to a Raspberry Pi, and in a variety of emulators… and
they all give exactly the same output. (It runs approximately 3×
faster than the non-SIMD version.)&lt;/p&gt;

&lt;p&gt;It’s a simple example, but it’s a nice first step.&lt;/p&gt;
</description>
        </item>
        
        
        
        <item>
            <title>travis-cargo 0.1.3: --no-sudo</title>
            <link>https://huonw.github.io/blog/2015/06/travis-cargo-0.1.3/</link>
            <pubDate>Tue, 30 Jun 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/06/travis-cargo-0.1.3</guid>
            <description>&lt;p&gt;I just pushed &lt;a href=&quot;https://github.com/huonw/travis-cargo&quot;&gt;travis-cargo&lt;/a&gt;
version 0.1.3, which adds a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--no-sudo&lt;/code&gt; command to
&lt;a href=&quot;/blog/2015/05/travis-on-the-train-part-2/&quot;&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;coveralls&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;coverage&lt;/code&gt; subcommands&lt;/a&gt; to allow
recording/uploading test coverage without needing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;This is based&lt;sup id=&quot;fnref:others&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:others&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; on &lt;a href=&quot;https://github.com/seanmonstar&quot;&gt;@seanmonstar&lt;/a&gt;’s
investigation/&lt;a href=&quot;https://github.com/seanmonstar/httparse/blob/48da357b84397cc512265c8f6a99c89a7f513351/.travis.yml&quot;&gt;implementation&lt;/a&gt;
of sudo-less &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kcov&lt;/code&gt;. It works because Travis’s
&lt;a href=&quot;http://docs.travis-ci.com/user/apt/&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;apt&lt;/code&gt; addon&lt;/a&gt; has
&lt;a href=&quot;https://github.com/travis-ci/apt-package-whitelist&quot;&gt;whitelisted&lt;/a&gt;
everything necessary. Unfortunately, it does require these to be
installed explicitly, which seems to be something &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;travis-cargo&lt;/code&gt; can’t
do itself: they seem to have to be explicitly listed in the manifest.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;na&quot;&gt;addons&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;apt&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;packages&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;libcurl4-openssl-dev&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;libelf-dev&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;libdw-dev&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This allows leveraging Travis’ container-based infrastructure, with
&lt;a href=&quot;http://blog.travis-ci.com/2014-12-17-faster-builds-with-container-based-infrastructure/&quot;&gt;all its benefits&lt;/a&gt;,
especially around speed and latency. If you switch&lt;sup id=&quot;fnref:false&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:false&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;, you can check that
your builds are using it by looking for the following paragraph in the
build-logs:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;This job is running on container-based infrastructure, which does not allow use of &apos;sudo&apos;, setuid and setguid executables.
If you require sudo, add &apos;sudo: required&apos; to your .travis.yml
See http://docs.travis-ci.com/user/workers/container-based-infrastructure/ for details.
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--no-sudo&lt;/code&gt; is opt-in because it’d be a breaking change to do anything
else, and because adding &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo: required&lt;/code&gt; is simpler than the whole
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;addons: apt: ...&lt;/code&gt; thing.&lt;/p&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:others&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;https://github.com/jonas-schievink&quot;&gt;@jonas-schievink&lt;/a&gt; had
       a
       &lt;a href=&quot;https://github.com/huonw/travis-cargo/issues/7&quot;&gt;similar observation a month ago&lt;/a&gt;
       but I only noticed after already implementing it just today:
       sorry Jonas! &lt;a href=&quot;#fnref:others&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:false&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I think I have also sometimes found it necessary to also add
      &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo: false&lt;/code&gt; to forcibly opt-in to the container-based
      infrastructure. &lt;a href=&quot;#fnref:false&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Announcing Primal: Putting Raw Power Into Prime Numbers</title>
            <link>https://huonw.github.io/blog/2015/06/announcing-primal/</link>
            <pubDate>Mon, 08 Jun 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/06/announcing-primal</guid>
            <description>&lt;p&gt;Over the past few weeks I’ve been working on improving my
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;slow_primes&lt;/code&gt; library, culminating in needing rename and the 0.2
release of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;primal&lt;/code&gt;, a Rust crate for computing properties of prime
numbers with &lt;a href=&quot;http://primesieve.org/&quot;&gt;state-of-the-art algorithms&lt;/a&gt;, while still
maintaining an idiomatic and easy-to-use interface.&lt;/p&gt;

&lt;div class=&quot;centered-libs&quot;&gt;
&lt;div class=&quot;lib-info&quot; style=&quot;display: inline-block&quot;&gt;
  &lt;a class=&quot;lib-link&quot; href=&quot;http://huonw.github.io/primal/primal&quot;&gt;primal&lt;/a&gt;
  &lt;a href=&quot;https://crates.io/crates/primal&quot;&gt;&lt;img class=&quot;lib-badge inline-image&quot; src=&quot;https://img.shields.io/crates/v/primal.svg&quot; alt=&quot;primal on crates.io&quot; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;p&gt;My computer takes a quarter of a second and less than 3MB of RAM to
tell me that there 50,847,534 primes below 1 billion:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;crate&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;primal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;there are {} primes below 1 billion&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
             &lt;span class=&quot;nn&quot;&gt;primal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;StreamingSieve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;prime_pi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1_000_000_000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Some of the first programming I did was &lt;a href=&quot;http://projecteuler.net&quot;&gt;Project Euler&lt;/a&gt;: a site
that has little mathematical problems designed to be solved with the
assistance of a computer. Beyond just the challenge of solving the
problem, there’s the challenge of writing code to go as fast as
possible: Project Euler will always hold a little place in my heart
for making me learn a &lt;em&gt;lot&lt;/em&gt; about writing fast code. That’s where I
first tried to write fast prime sieves: I recall being pretty happy
when I could sieve up to a “big” number like 1 million quickly; now
I’m pretty happy that I can sieve up to 1 billion in (probably) less
time, and certainly less memory.&lt;/p&gt;

&lt;h2 id=&quot;migrating-from-slow_primesprimal-01&quot;&gt;Migrating from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;slow_primes&lt;/code&gt;/&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;primal&lt;/code&gt; 0.1&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;rename &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;slow_primes&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;primal&lt;/code&gt; or bump the version in your
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Cargo.toml&lt;/code&gt;,&lt;/li&gt;
  &lt;li&gt;replace &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Primes&lt;/code&gt; with &lt;a href=&quot;http://huonw.github.io/primal/primal/struct.Sieve.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sieve&lt;/code&gt;&lt;/a&gt;: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Primes::sieve(100)&lt;/code&gt;
→ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sieve::new(100)&lt;/code&gt;,&lt;/li&gt;
  &lt;li&gt;call &lt;a href=&quot;http://huonw.github.io/primal/primal/struct.Sieve.html#method.primes_from&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;primes_from&lt;/code&gt;&lt;/a&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;primes()&lt;/code&gt;:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sieve.primes()&lt;/code&gt; → &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sieve.primes_from(0)&lt;/code&gt;,&lt;/li&gt;
  &lt;li&gt;revel in the improved sieving performance.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;highlights&quot;&gt;Highlights&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;primal&lt;/code&gt; is pretty great, if I do say so myself:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the documentation is complete: every function has some text
describing it, all have explicit examples (except &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sieve::new&lt;/code&gt;), and
there’s &lt;a href=&quot;http://huonw.github.io/primal/primal/#examples&quot;&gt;a nice introductory walk-through&lt;/a&gt; tackling three
classes of problems.&lt;/li&gt;
  &lt;li&gt;it includes a highly optimised segmented, wheel &lt;a href=&quot;http://huonw.github.io/primal/primal/struct.Sieve.html&quot;&gt;sieve&lt;/a&gt;: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sieve&lt;/code&gt;. It
is essentially a Rust port of Kim Walisch’s awesome &lt;a href=&quot;http://primesieve.org/&quot;&gt;primesieve&lt;/a&gt;,
which is apparently the fastest sieve in the world. The version in
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;primal&lt;/code&gt; is really fast, certainly the fastest sieve I can find in
Rust, but there’s still room to improve: the Rust version is
currently around 5-20% slower than primesieve (single-threaded), and
lacks some of the fancier features that it adds on top.&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;there’s some reasonably deep mathematics:
&lt;a href=&quot;http://huonw.github.io/primal/primal/fn.estimate_nth_prime.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;estimate_nth_prime(n)&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;http://huonw.github.io/primal/primal/fn.estimate_prime_pi.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;estimate_prime_pi(k)&lt;/code&gt;&lt;/a&gt;
provide fast (&lt;em&gt;O&lt;/em&gt;(1)) but precise bounds for the &lt;em&gt;n&lt;/em&gt;th prime, and
the number of primes below &lt;em&gt;k&lt;/em&gt;:&lt;/p&gt;

    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;estimate_prime_pi(1_000_000_000)&lt;/code&gt; returns a lower-bound of
50,785,736 (0.12% below the true value) and an upper-bound of
50,865,514 (0.04% above),&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;estimate_nth_prime(50_847_535)&lt;/code&gt; returns 999,873,297 and
1,000,273,162, which are 0.01% below and 0.03% above
(respectively) the true value of 1,000,000,007.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;However, my favourite feature is &lt;a href=&quot;http://huonw.github.io/primal/primal/struct.Primes.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Primes&lt;/code&gt;&lt;/a&gt;: which is an fast
lazy iterator over &lt;em&gt;all&lt;/em&gt; primes, with no upper-bound (other than integer
size). In a flash of inspiration, I realised it would be possible to
do this reasonably efficiently with a simple wrapper around the core
sieve. It can be used a bit like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;crate&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;primal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;the 50,847,535th prime is {}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
             &lt;span class=&quot;nn&quot;&gt;primal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Primes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.nth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50_847_535&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;div class=&quot;join&quot;&gt;&lt;/div&gt;

&lt;p&gt;It’s not the most efficient way to get the nth prime, but it still
only takes &lt;s&gt;0.9&lt;/s&gt; 0.52 seconds&lt;sup id=&quot;fnref:update&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:update&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; to print 1,000,000,007. (A better way is
&lt;a href=&quot;http://huonw.github.io/primal/primal/struct.StreamingSieve.html#method.nth_prime&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StreamingSieve::nth_prime&lt;/code&gt;&lt;/a&gt;, which takes ~0.22s for the
same task.)&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://users.rust-lang.org/t/primal-putting-raw-power-into-prime-numbers/1747&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/39134l/announcing_primal_putting_raw_power_into_prime/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Announcing%20Primal:%20Putting%20Raw%20Power%20Into%20Prime%20Numbers%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/06/announcing-primal/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/06/announcing-primal/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/06/announcing-primal/&amp;amp;title=Announcing%20Primal:%20Putting%20Raw%20Power%20Into%20Prime%20Numbers&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:update&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I realised the original implementation was inefficient, and
       using far more memory than necessary: fixing that made a
       huge difference. &lt;a href=&quot;#fnref:update&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Defaulting to Thread-Safety: Closures and Concurrency</title>
            <link>https://huonw.github.io/blog/2015/05/defaulting-to-thread-safety/</link>
            <pubDate>Tue, 26 May 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/05/defaulting-to-thread-safety</guid>
            <description>&lt;p&gt;Rust has some powerful tricks to model properties of aggregate types
via unsafe traits with default and negative implementations. These
features motivated by offering flexible concurrency/parallelism, and
allow powerful closure-based APIs without losing any thread-safety (or
memory-safety) guarantees at all.&lt;/p&gt;

&lt;p&gt;I realised that &lt;a href=&quot;/blog/2015/05/finding-closure-in-rust/&quot;&gt;my recent post&lt;/a&gt; on the low-level details of
closures missed an important aspect: how they interact with
threading. This post builds on the struct desugaring in that one, the
general concepts in &lt;a href=&quot;http://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html&quot;&gt;&lt;em&gt;Fearless Concurrency with Rust&lt;/em&gt;&lt;/a&gt; and
the discussion of “markers” in
&lt;a href=&quot;http://blog.rust-lang.org/2015/05/11/traits.html&quot;&gt;&lt;em&gt;Abstraction without overhead&lt;/em&gt;&lt;/a&gt;. (I suppose I should
link &lt;a href=&quot;/blog/2015/02/some-notes-on-send-and-sync/&quot;&gt;&lt;em&gt;Some notes on Send and Sync&lt;/em&gt;&lt;/a&gt; too.)&lt;/p&gt;

&lt;h2 id=&quot;threads&quot;&gt;Threads&lt;/h2&gt;

&lt;p&gt;Spawning a thread in Rust is easy:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;from the parent&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nn&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;child prints a string {}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

    &lt;span class=&quot;nn&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sleep_ms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;As one might hope, this prints &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;child prints a string from the
parent&lt;/code&gt;. Like C, an binary exits once the main thread is finished, so
I’ve inserted a sleep to (usually) ensure that the child thread is
spawned and prints before the main thread dies. (It could also call
&lt;a href=&quot;http://doc.rust-lang.org/std/thread/struct.JoinHandle.html#method.join&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;join&lt;/code&gt;&lt;/a&gt; on the return value of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;spawn&lt;/code&gt; to block, but there’s an
example below that the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;join&lt;/code&gt; strategy complicates, so &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sleep_ms&lt;/code&gt; it
is.)&lt;/p&gt;

&lt;p&gt;It’s one of Rust’s key guarantees that this is ensured to be
thread-safe, statically. The standard library ensures there’s no way to
pass references between threads that get invalidated and even there’s
no way to mutate things without using atomics or locks (among other
assurances).&lt;/p&gt;

&lt;p&gt;This all works automatically with closures without too much magic,
despite closures being very magic… how?&lt;/p&gt;

&lt;h2 id=&quot;trait-bounds&quot;&gt;Trait bounds&lt;/h2&gt;

&lt;p&gt;The signature of &lt;a href=&quot;http://doc.rust-lang.org/std/thread/fn.spawn.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;spawn&lt;/code&gt;&lt;/a&gt; is&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;JoinHandle&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Send&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&apos;static&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;FnOnce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Send&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&apos;static&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;div class=&quot;join&quot;&gt;&lt;/div&gt;

&lt;p&gt;In words, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;spawn&lt;/code&gt; is a generic function with one argument and two type
parameters:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;F&lt;/code&gt; can be any function/closure that returns a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnOnce() -&amp;gt; T&lt;/code&gt;), can be safely transferred between threads
(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;) and contains no short-lived references (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&apos;static&lt;/code&gt;),&lt;/li&gt;
  &lt;li&gt;the type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; can be any type at all, as long as it can be transferred
between threads and doesn’t contain short-lived references.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The &lt;a href=&quot;http://doc.rust-lang.org/std/thread/struct.JoinHandle.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JoinHandle&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/a&gt; allows for retrieving the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;f&lt;/code&gt;
returns, via its &lt;a href=&quot;http://doc.rust-lang.org/std/thread/struct.JoinHandle.html#method.join&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;join&lt;/code&gt; method&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Why each bound on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;F&lt;/code&gt;? Well, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;f&lt;/code&gt; needs to be a function/callable of some
sort, so we need one of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fn*&lt;/code&gt; closure traits, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;spawn&lt;/code&gt; will
just run the closure on a new thread, and run it exactly once, so
using &lt;a href=&quot;http://doc.rust-lang.org/std/ops/trait.FnOnce.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnOnce&lt;/code&gt;&lt;/a&gt; gives callers of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;spawn&lt;/code&gt; the most power.&lt;/p&gt;

&lt;p&gt;The closure is run on a new thread independent of the parent. There’s
absolutely no guarantees or relationships between how long the new
thread runs for, and how long the stack frames of the parent last, so
the new thread cannot have any references to the parent’s stack. This
is the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&apos;static&lt;/code&gt; requirement: only data that can live for arbitrary
long can be passed via the new closure.&lt;/p&gt;

&lt;p&gt;The last bound is &lt;a href=&quot;http://doc.rust-lang.org/std/marker/trait.Send.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;&lt;/a&gt;: the closure is executed on a new thread, so
it definitely needs to be safe to transfer to that new thread. This is
what &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; guarantees.&lt;/p&gt;

&lt;p&gt;The return type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; can be anything, as long as it can be transferred
from the child thread back to the parent (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;) and as long as it is
also independent of any stack frames (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&apos;static&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;This all sounds fine and dandy. But there’s one hitch: the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;
trait is defined entirely&lt;sup id=&quot;fnref:almost&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:almost&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; in the standard library. The
compiler doesn’t know anything about it. But, somehow, even the purely
compiler-internal types constructed for closures can implement it.&lt;/p&gt;

&lt;h2 id=&quot;witchcraft&quot;&gt;Witchcraft?&lt;/h2&gt;

&lt;p&gt;The main protagonist here is OIBIT.&lt;/p&gt;

&lt;p&gt;Ok, fine, it’s really default impls, but OIBIT is more fun to say.&lt;/p&gt;

&lt;p&gt;Previously, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; was a super-special compiler built-in trait with
powers unseen by human eyes. Then, everything changed when the
&lt;a href=&quot;https://github.com/rust-lang/rfcs/blob/master/text/0019-opt-in-builtin-traits.md&quot;&gt;opt-in built-in traits (OIBIT)&lt;/a&gt; nation attacked. This
introduced the concept of &lt;a href=&quot;https://github.com/rust-lang/rfcs/blob/master/text/0019-opt-in-builtin-traits.md#default-and-negative-impls&quot;&gt;a “default impl”&lt;/a&gt; for marker
traits (traits that don’t contain any items). A &lt;em&gt;default
implementation&lt;/em&gt; for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trait&lt;/code&gt; means that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trait&lt;/code&gt; will automatically be
implemented by aggregate types where all (if any) the other types they
contain also implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trait&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Syntactically, it looks like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Trait&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;..&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;In terms of functionality, suppose &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;u8&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt; implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trait&lt;/code&gt;
but &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;i16&lt;/code&gt; doesn’t,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;// implement `Trait`&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Good&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Excellent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Wonderful&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Splendid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Brilliant&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// don&apos;t implement `Trait`&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Bad&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Poor&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i16&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Subpar&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i16&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Underwhelming&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This rule applies to closures too: if a closure only captures things
that implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trait&lt;/code&gt;, it is a struct similar to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Wonderful&lt;/code&gt;, so the
(implicit) closure type implements &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trait&lt;/code&gt; too.&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; trait has one of these nifty default implementations, so
benefits from all that machinery, and it’s how closures can be used
with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;. To demonstrate specifically:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;rc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Rc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// can only be used with `Send` types.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;check_send&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Send&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;vec!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// make sure they&apos;re captured&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;check_send&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pointer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Rc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Rc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pointer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// make sure it is captured&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;check_send&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This fails to compile, but in a particular way:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;...:18:1: 18:11 error: the trait `core::marker::Send` is not implemented for the type `alloc::rc::Rc&amp;lt;i32&amp;gt;` [E0277]
...:18 check_send(g);
       ^~~~~~~~~~
...:18:1: 18:11 note: `alloc::rc::Rc&amp;lt;i32&amp;gt;` cannot be sent between threads safely
...:18 check_send(g);
       ^~~~~~~~~~
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Both &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;i32&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec&amp;lt;Option&amp;lt;String&amp;gt;&amp;gt;&lt;/code&gt; are &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; so the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;f&lt;/code&gt; closure is
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;check_send(f)&lt;/code&gt; compiles fine. On the other hand,
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rc&lt;/code&gt; is not &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;,
so &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g&lt;/code&gt; doesn’t get the default implementation.&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;http://doc.rust-lang.org/std/rc/&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rc&lt;/code&gt; type&lt;/a&gt; is a reference counted pointer where reference count
adjustments happen non-atomically. This means that manipulating them
from multiple threads will be a data-race: undefined behaviour. An
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rc&lt;/code&gt; handle can’t transfer between threads due to this risk, and this
is statically guaranteed since the type doesn’t implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;. (The
&lt;a href=&quot;http://doc.rust-lang.org/std/sync/struct.Arc.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Arc&lt;/code&gt; type&lt;/a&gt; is a thread-safe version, using atomic reference
counting.)&lt;/p&gt;

&lt;h3 id=&quot;opting-out-or-in&quot;&gt;Opting out or in&lt;/h3&gt;

&lt;p&gt;It’s nice that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; is automatically implemented for a type when the
contents are entirely &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;, but this isn’t always perfect: it is
possible to use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; code make a thread-unsafe type, even if it
is composed entirely of primitives. Similarly, it is possible to have
a type composed of non-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; internals which is actually thread-safe,
by imposing extra constraints on how it manipulates data.&lt;/p&gt;

&lt;p&gt;Hence, two important parts of the OIBIT proposal are making it
possible to fill in a “gap” that the default impl doesn’t cover, and
also forcibly opt out of the default implementation. The former is
so interesting: itcan be performed with normal &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;impl&lt;/code&gt;, as one would
write for the trait if it didn’t have default implementation.&lt;/p&gt;

&lt;p&gt;On the other hand, the opt-out is new and different, it is done via
&lt;em&gt;negative implementations&lt;/em&gt;: to opt out of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trait&lt;/code&gt;, implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;!Trait&lt;/code&gt;.
For example, the thread-unsafe &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rc&amp;lt;T&amp;gt;&lt;/code&gt; type has&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Send&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Rc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Having to opt-out might seem error-prone, but the only way a type with
individually-thread-safe contents can be thread unsafe in aggregate is
if there is some &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; code somewhere. Considering thread-safety is
an important part of writing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; code in Rust, and if you’re
building safe abstractions, you need to be careful to have the right
trait implementations.&lt;/p&gt;

&lt;p&gt;However, it’s not as scary as it sounds. Safety is still the
(sometimes conservative) default in the &lt;em&gt;vast&lt;/em&gt; majority&lt;sup id=&quot;fnref:vast&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:vast&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; of
low-level cases. The standard library has negative implementations of
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; for the raw pointer types &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*const T&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*mut T&lt;/code&gt;, so data
structures containing them need to explicitly opt &lt;em&gt;in&lt;/em&gt; if they are in
fact thread-safe. (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rc&lt;/code&gt; actually falls into this category, so the
implementation above isn’t strictly required.)&lt;/p&gt;

&lt;p&gt;There’s one slight hole here: the type of a closure is unnameable, so
there’s no way to opt-out of a defaulted trait like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;. That is, a
closure could capture only &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; types, but use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; code to be
thread unsafe. This is somewhat unfortunate, but closures are not
designed to be the abstraction boundary for safety. I’d personally try
to wrap the unsafety up into a real type with the correct trait
(un)implementations to help the compiler help me as much as
possible. Also, as I said above, this rarely happens, due to the
negative implementations in the standard library; I imagine the the
most common way that isn’t necessarily caught by that is calling
non-reentrant FFI function, but wrapping C libraries in a safe
interface is &lt;a href=&quot;http://blog.rust-lang.org/2015/04/24/Rust-Once-Run-Everywhere.html#safe-abstractions&quot;&gt;a nice idea&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Anyway, returning to the opt in mechanism, what is stopping us from wrapping a
thread-unsafe type (non-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;) in a new struct and implementing
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; for it? Something like&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;rc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Rc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Trick&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Rc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Send&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Trick&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;If this worked (spoilers: it doesn’t), we’ve “asserted” that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trick&lt;/code&gt;
is thread-safe despite it containing a thread-unsafe type, &lt;em&gt;without&lt;/em&gt;
mentioning &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; anywhere. This would introduce a very real risk of
undefined behaviour via data races.&lt;/p&gt;

&lt;h3 id=&quot;unsafe-traits&quot;&gt;Unsafe traits&lt;/h3&gt;

&lt;p&gt;Fortunately, the compiler spits out an error:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;...:6:1: 6:23 error: the trait `core::marker::Send` requires an `unsafe impl` declaration [E0200]
...:6 impl Send for Trick {}
      ^~~~~~~~~~~~~~~~~~~~~~
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Ah! So it’s telling us that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; is in fact required. This version
of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;impl&lt;/code&gt; compiles:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;unsafe&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Send&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Trick&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This is because &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; is &lt;a href=&quot;https://github.com/rust-lang/rust/blob/7cb9914fceaeaa6a39add43d3da15bb6e1d191f6/src/libcore/marker.rs#L38&quot;&gt;declared&lt;/a&gt; as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unsafe&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Send&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;An &lt;em&gt;unsafe trait&lt;/em&gt; is unsafe to implement, but not to use. It is
designed to allow representing classes of types with absolute
guarantees, that users of the trait can rely on even if it risks
memory unsafety: it is up to the implementers to ensure they satisfy
the requirements. It’s not unsafe to &lt;em&gt;not&lt;/em&gt; implement an unsafe trait,
so negative implementations don’t need &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The guarantee for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; is thread-safety: a type should only
implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; if it is absolutely sure.&lt;/p&gt;

&lt;h3&gt;⚠⚠⚠&lt;/h3&gt;

&lt;p&gt;Unsafe traits are great and libraries should definitely use them where
they make sense. However, the OIBIT functionality (default and
negative implementations) are still unstable and hence only usable
with a nightly compiler behind the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;optin_builtin_traits&lt;/code&gt;
feature. There’s some details around them that are unclear from the
RFC and even the implementation, especially how they interact with
primitives, so I could imagine some tweaks/breaking changes in future.&lt;/p&gt;

&lt;p&gt;Unfortunately, this means that the only way to opt-out of a defaulted
trait with a stable compiler is to store a non-implementing type. The
slickest way is to use &lt;a href=&quot;http://doc.rust-lang.org/std/marker/struct.PhantomData.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PhantomData&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/a&gt;, which is a
zero-sized type (so no runtime effect) that behaves as if it stores
its type argument. For opting out of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;, a field of type
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PhantomData&amp;lt;*const ()&amp;gt;&lt;/code&gt; works. (However, as discussed above, this is
rarely needed for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt;, which are the only two defaulted
traits one can possibly use on a stable compiler.)&lt;/p&gt;

&lt;figure class=&quot;image &quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;https://www.flickr.com/photos/tm-tm/2634203419/&quot;&gt;
      &lt;img src=&quot;unstable-small.jpg&quot; alt=&quot;a photo of a sign saying: danger, unstable cliff&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  
&lt;/figure&gt;

&lt;h2 id=&quot;calling-concurrently&quot;&gt;Calling Concurrently&lt;/h2&gt;

&lt;p&gt;We’ve been focusing on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; above, but there’s another trait that’s
important for thread-safety: &lt;a href=&quot;http://doc.rust-lang.org/std/marker/trait.Sync.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt;&lt;/a&gt;. This trait represents
values that are safe to be &lt;em&gt;accessed&lt;/em&gt; by multiple threads at once,
that is, sharing.&lt;/p&gt;

&lt;p&gt;It is sometimes useful to call a single function on multiple threads,
like a parallel map, so it would be pretty great if this was
possible…&lt;/p&gt;

&lt;p&gt;Just like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt; is a defaulted trait, and so works well with
closures too. A closure that only captures thread-shareable values
(like a string) is also thread-shareable:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;sync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Arc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;upto&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Send&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&apos;static&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sync&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Arc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.clone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;nn&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;upto&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;thread #{}: {}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// as above, don&apos;t let `main` finish&lt;/span&gt;
    &lt;span class=&quot;nn&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sleep_ms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;div class=&quot;join&quot;&gt;&lt;/div&gt;

&lt;p&gt;The output sometimes looks like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;thread #0: hello
thread #7: hello
thread #2: hello
thread #9: hello
thread #1: hello
thread #4: hello
thread #3: hello
thread #6: hello
thread #8: hello
thread #5: hello
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&apos;static&lt;/code&gt; bounds are “boring”, they’re just required
due to the implementation details of using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;spawn&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Arc&lt;/code&gt;, it’s the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fn&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt; bounds that are fundamental to this behaviour.&lt;/p&gt;

&lt;p&gt;We’re calling the function from multiple threads at once, which means
accessing the closure’s environment concurrently, so the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt; bound
is necessary to guarantee safety. Also, by nature, sharing across
threads means we’ve only got access to the closure via an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt;
reference, so we need to be able to call it via that sort of reference
and &lt;a href=&quot;http://doc.rust-lang.org/std/ops/trait.Fn.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fn&lt;/code&gt;&lt;/a&gt; is exactly the right trait for
it. (&lt;a href=&quot;/blog/2015/05/finding-closure-in-rust/&quot;&gt;&lt;em&gt;Finding Closure in Rust&lt;/em&gt;&lt;/a&gt; looks at the three closure
traits more closely.)&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://users.rust-lang.org/t/defaulting-to-thread-safety-closures-and-concurrency/1583&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/37e6w2/defaulting_to_threadsafety_closures_and/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Defaulting%20to%20Thread-Safety:%20Closures%20and%20Concurrency%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/05/defaulting-to-thread-safety/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/05/defaulting-to-thread-safety/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/05/defaulting-to-thread-safety/&amp;amp;title=Defaulting%20to%20Thread-Safety:%20Closures%20and%20Concurrency&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:almost&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;They’re currently still “lang-items” (i.e. known to the
       compiler), but Niko Matsakis tells me “it’s because compiler
       needs refactoring”, i.e. an implementation detail. &lt;a href=&quot;#fnref:almost&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:vast&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;There’s only 3 negative implementations (approximated by
     matches for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/\bimpl.*!/&lt;/code&gt;) in my &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;projects&lt;/code&gt; folder, which
     contains 100-200 Rust libraries over 1.3 million lines,
     written by me and others, mainly others. All three are for
     &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;’s sibling &lt;a href=&quot;http://doc.rust-lang.org/std/marker/trait.Sync.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt;&lt;/a&gt; which uses exactly the same
     default/negative impl set-up, and, in fact, one of them is on
     a type that is already not &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt; (it has non-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt;
     contents).&lt;/p&gt;

      &lt;p&gt;(That said, there’s always the possibility that there &lt;em&gt;should&lt;/em&gt; be
a lot more negative impls, and there’s a large number of broken
libraries in the ecosystem… however, this would surprise me greatly.) &lt;a href=&quot;#fnref:vast&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Rust 1.0 in Numbers</title>
            <link>https://huonw.github.io/blog/2015/05/rust-1.0-in-numbers/</link>
            <pubDate>Wed, 20 May 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/05/rust-1.0-in-numbers</guid>
            <description>&lt;p&gt;&lt;a href=&quot;http://blog.rust-lang.org/2015/05/15/Rust-1.0.html&quot;&gt;Rust 1.0&lt;/a&gt; was
made with&lt;sup id=&quot;fnref:methodology&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:methodology&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;…&lt;/p&gt;

&lt;style&gt;
.number { text-align: right; }
table { max-width: 600px; border-spacing: 0 0.4em; border-collapse: separate; }
td { vertical-align: top; }
&lt;/style&gt;

&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;1&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;stable release
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;2&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;‘Rust’ compilers
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;3&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;&lt;a href=&quot;https://github.com/graydon/bors&quot;&gt;bots&lt;/a&gt; &lt;a href=&quot;https://github.com/nrc/highfive&quot;&gt;on&lt;/a&gt; &lt;a href=&quot;https://github.com/barosl/homu&quot;&gt;Github&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;4&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;years of &lt;a href=&quot;https://en.wikipedia.org/wiki/Bootstrapping_%28compilers%29&quot;&gt;bootstrapping&lt;/a&gt; (&lt;a href=&quot;http://github.com/rust-lang/rust/commit/7b95b5c033435e0b8902c3f3afb14c80e04fee83&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;7b95b5c&lt;/code&gt;&lt;/a&gt; is the innocuous commit of the first snapshot)
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;5&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;&lt;a href=&quot;http://github.com/rust-lang/rust/commit/c01efc669f09508b55eced32d3c88702578a7c3e&quot;&gt;years of git&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~9&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;years total
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;12&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;0.x&lt;/code&gt; releases
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~28&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;&lt;a href=&quot;https://users.rust-lang.org/t/a-list-of-rust-1-0-launch-meetups/1171&quot;&gt;launch meetups&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~53&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;irc channels starting with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#rust&lt;/code&gt; on irc.mozilla.org
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;80&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;&lt;a href=&quot;http://this-week-in-rust.org/&quot;&gt;TWiRs&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;156&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;people with project-flair on &lt;a href=&quot;http://reddit.com/r/rust&quot;&gt;/r/rust&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~174&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;&lt;a href=&quot;https://github.com/rust-lang/rfcs/&quot;&gt;RFCs&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;302&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;comments on the most-commented pull request, &lt;a href=&quot;https://github.com/rust-lang/rust/pull/12081&quot;&gt;#12081&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;312&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;&lt;a href=&quot;https://github.com/rust-lang/rust/blob/1.0.0/src/snapshots.txt&quot;&gt;compiler snapshots&lt;/a&gt; for bootstrapping
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;363&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;minutes spent hitting Github’s API to get the comment numbers here
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;365&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;revisions to &lt;a href=&quot;https://en.wikipedia.org/wiki/Rust_%28programming_language%29&quot;&gt;the Wikipedia page&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;406&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;comments on the most (or maybe, least) popular RFC, &lt;a href=&quot;https://github.com/rust-lang/rfcs/pull/517&quot;&gt;#517&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;632&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;tweets from &lt;a href=&quot;https://twitter.com/rustlang&quot;&gt;@rustlang&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~656&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;gigabytes of Rust downloaded from static.rust-lang.org on May 15 and 16
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;905&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;users on &lt;a href=&quot;https://users.rust-lang.org&quot;&gt;users.rust-lang.org&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;1,015&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;contributors (according to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AUTHORS.txt&lt;/code&gt;)
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;1,034&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;contributors (according to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git shortlog -sn&lt;/code&gt;)
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;1,286&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;users on &lt;a href=&quot;https://internals.rust-lang.org&quot;&gt;internals.rust-lang.org&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;2,076&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;crates on &lt;a href=&quot;https://crates.io&quot;&gt;crates.io&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;2,096&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;questions &lt;a href=&quot;http://stackoverflow.com/questions/tagged/rust&quot;&gt;tagged &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[rust]&lt;/code&gt; on Stack Overflow&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~2,200&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;forks of &lt;a href=&quot;https://github.com/rust-lang/rust&quot;&gt;rust-lang/rust&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;5,552&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*.rs&lt;/code&gt; files
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;6,262&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;merge commits from &lt;a href=&quot;https://github.com/bors&quot;&gt;@bors&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~7,000&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;&lt;a href=&quot;https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;amp;q=is%3Apr+is%3Amerged+&quot;&gt;merged pull requests&lt;/a&gt; to rust-lang/rust (according to Github)
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~7,617&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;&lt;a href=&quot;https://github.com/search?utf8=%E2%9C%93&amp;amp;q=language%3Arust&amp;amp;type=Repositories&amp;amp;ref=searchresults&quot;&gt;repositories in Rust on Github&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;10,246&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;successful &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo publish&lt;/code&gt;s to crates.io
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;10,500&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;subscribers to /r/rust
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~11,000&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;&lt;a href=&quot;https://github.com/rust-lang/rust/stargazers&quot;&gt;stars&lt;/a&gt; on Github
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~11,600&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;&lt;a href=&quot;https://github.com/rust-lang/rust/issues?q=is%3Aclosed+is%3Aissue&quot;&gt;closed issues&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;11,669&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;&lt;a href=&quot;https://github.com/brson/rust-dev-archives&quot;&gt;emails&lt;/a&gt; sent to the (now unused) rust-dev mailing list
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~11,900&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;&lt;a href=&quot;https://github.com/rust-lang/rust/pulls?utf8=%E2%9C%93&amp;amp;q=is%3Apr+is%3Aclosed&quot;&gt;total pull requests&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;12,012&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;views of the release announcement on release day from Hacker News, the largest single source
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~16,078&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;comments on RFCs
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~18,518&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;comments on commits
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;22,293&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;words in the largest single page of documentation, &lt;a href=&quot;https://doc.rust-lang.org/reference.html&quot;&gt;the reference&lt;/a&gt; (according &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;wc -w&lt;/code&gt;)
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;22,693&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;views of rust-lang/rust on release day
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;41,373&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;commits
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;45,710&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;total pageviews of the release announcement on release day
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~50,936&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;comments on issues in rust-lang/rust
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;58,163&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;backticks &lt;code&gt;`&lt;/code&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;61,563&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;lines of not-Rust (according to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cloc&lt;/code&gt;, not including git submodules)
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~65,665&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;comments on pull requests (we’re a talkative bunch!)
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;67,629&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;words in &lt;a href=&quot;https://doc.rust-lang.org/book&quot;&gt;the Book&lt;/a&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~106,000&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;results returned by a Google search for ‘rustlang’
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;169,525&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;lines of Rust in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;src/test&lt;/code&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;182,267&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;lines added/removed by the single largest commit &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;5f066e0&lt;/code&gt; (according to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git show --shortstat&lt;/code&gt;)
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;332,721&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;lines of Rust in the libraries &amp;amp; compiler
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;~1,000,000&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;messages sent to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#rust&lt;/code&gt; over the year before the release (according to my IRC logs)
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;2,070,539&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;downloads from crates.io
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;3,575,149&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;total deleted lines over the whole history (according to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git log --shortstat&lt;/code&gt;)
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;4,263,472&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;total added lines
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;27,466,060&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;bytes of files in the 1.0 source tree
&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;number&quot;&gt;∞&lt;/td&gt;&lt;td class=&quot;thing&quot;&gt;code breakage in the lead up
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;p&gt;Happy 1.0!&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://users.rust-lang.org/t/rust-1-0-in-numbers/1476&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/36m7xa/rust_10_in_numbers/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Rust%201.0%20in%20Numbers%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/05/rust-1.0-in-numbers/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/05/rust-1.0-in-numbers/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/05/rust-1.0-in-numbers/&amp;amp;title=Rust%201.0%20in%20Numbers&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:methodology&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I’ve tried to get the numbers that apply leading up to
            the 1.0 release exactly, e.g. using the exact tag of
            the release for code related things, and generally
            trying to show the value as it was on/before
            May 15. I’ve put a ~ on particularly dubious numbers
            and those for which I can’t get the true 1.0 value,
            but most probably have too many significant figures
            anyway: this definitely isn’t meant to be at all
            scientific. &lt;a href=&quot;#fnref:methodology&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Finding Closure in Rust</title>
            <link>https://huonw.github.io/blog/2015/05/finding-closure-in-rust/</link>
            <pubDate>Fri, 08 May 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/05/finding-closure-in-rust</guid>
            <description>&lt;p&gt;Have you ever used an &lt;a href=&quot;http://doc.rust-lang.org/std/iter/trait.Iterator.html&quot;&gt;iterator adapter&lt;/a&gt; in &lt;a href=&quot;http://rust-lang.org&quot;&gt;Rust&lt;/a&gt;?
Called a method on &lt;a href=&quot;http://doc.rust-lang.org/std/option/enum.Option.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Option&lt;/code&gt;&lt;/a&gt;? &lt;a href=&quot;http://doc.rust-lang.org/std/thread/fn.spawn.html&quot;&gt;Spawned&lt;/a&gt; a thread?
You’ve almost certainly used a &lt;a href=&quot;https://en.wikipedia.org/wiki/Closure_%28computer_programming%29&quot;&gt;closure&lt;/a&gt;. The design in Rust may seem
a little complicated, but it slides right into Rust’s normal ownership
model so let’s reinvent it from scratch.&lt;/p&gt;

&lt;p&gt;The new design was introduced in &lt;a href=&quot;https://github.com/rust-lang/rfcs/blob/master/text/0114-closures.md&quot;&gt;RFC 114&lt;/a&gt;, moving Rust to a
model for closures similar to C++11’s. The design builds on Rust’s
standard trait system to allow for allocation-less
statically-dispatched closures, but also giving the choice to opt-in
to type-erasure and dynamic dispatch and the benefits that brings. It
incorporates elements of inference that “just work” by ensuring that
ownership works out.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Steve Klabnik has written
&lt;a href=&quot;http://doc.rust-lang.org/book/closures.html&quot;&gt;some docs on Rust’s closures&lt;/a&gt; for the official
documentation. I’ve explicitly avoided reading it so far because
I’ve always wanted to write this, and I think it’s better to give a
totally independent explanation while I have the chance. If
something is confusing here, maybe they help clarify.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;whats-a-closure&quot;&gt;What’s a closure?&lt;/h2&gt;

&lt;p&gt;In a sentence: a closure is a function that can directly use variables
from the scope in which it is defined. This is often described as the
closure &lt;em&gt;closing over&lt;/em&gt; or &lt;em&gt;capturing&lt;/em&gt; variables (the
&lt;em&gt;captures&lt;/em&gt;). Collectively, the variables are called the &lt;em&gt;environment&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Syntactically, a closure in Rust is an anonymous function&lt;sup id=&quot;fnref:anon&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:anon&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; value
defined a little like Ruby, with pipes: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;|arguments...| body&lt;/code&gt;. For
example, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;|a, b| a + b&lt;/code&gt; defines a closure that takes two arguments and
returns their sum. It’s just like a normal function declaration, with
more inference:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;// function:&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// closure:&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;               &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Just like a normal function, they can be called with parentheses:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;closure(arguments...)&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;To illustrate the capturing, this code snippet calls
&lt;a href=&quot;http://doc.rust-lang.org/std/option/enum.Option.html#method.map&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;map&lt;/code&gt;&lt;/a&gt; on an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Option&amp;lt;i32&amp;gt;&lt;/code&gt;, which will call a closure on
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;i32&lt;/code&gt; (if it exists) and create a new &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Option&lt;/code&gt; containing the
return value of the call.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;option&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Some&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// explicit types:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;option&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{:?}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// Some(5)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// inferred:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;option&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{:?}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// Some(20)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The closures are capturing the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y&lt;/code&gt; variables, allowing them to
be used while mapping. (To be more convincing, imagine they were only
known at runtime, so that one couldn’t just write &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;val + 3&lt;/code&gt; inside the
closure.)&lt;/p&gt;

&lt;h2 id=&quot;back-to-basics&quot;&gt;Back to basics&lt;/h2&gt;

&lt;p&gt;Now that we have the semantics in mind, take a step back and riddle me
this: how would one implement that sort of generic &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;map&lt;/code&gt; if Rust
didn’t have closures?&lt;/p&gt;

&lt;p&gt;The functionality of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Option::map&lt;/code&gt; we’re trying to duplicate is (equivalently):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;option&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;transformer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;option&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;Some&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Some&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;transformer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// (closure syntax for now)&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;We need to fill in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;...&lt;/code&gt; with something that transforms an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;X&lt;/code&gt; into
a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Y&lt;/code&gt;. The biggest constraint for perfectly replacing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Option::map&lt;/code&gt; is
that it needs to be generic in some way, so that it works with
absolutely any way we wish to do the transformation. In Rust, that
calls for a generic bounded by a trait.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;option&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* the trait */&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This trait needs to have a method that converts some specific type
into another. Hence there’ll have to be form of type parameters to
allow the exact types to be specified in generic bounds like
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;map&lt;/code&gt;. There’s two choices: generics in the trait definition (“input
type parameters”) and associated types (“output type parameters”). The
quoted names hint at the choices we should take: the type that gets
input into the transformation should be a generic in the trait, and
the type that is output by the transformation should be an associated
type.&lt;sup id=&quot;fnref:assoc-vs-not&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:assoc-vs-not&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;So, our trait looks something like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Transform&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Input&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;cm&quot;&gt;/* self?? */&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The last question is what sort of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt; (if any) the method should
take?&lt;/p&gt;

&lt;p&gt;The transformation should be able to incorporate arbitrary information
beyond what is contained in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Input&lt;/code&gt;. Without any &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt; argument, the
method would look like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fn transform(input: Input) -&amp;gt; Self::Output&lt;/code&gt;
and the operation could only depend on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Input&lt;/code&gt; and global
variables (ick). So we do need one.&lt;/p&gt;

&lt;p&gt;The most obvious options are by-reference &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;self&lt;/code&gt;,
by-mutable-reference &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut self&lt;/code&gt;, or by-value &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt;. We want to allow
the users of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;map&lt;/code&gt; to have as much power as possible while still
enabling &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;map&lt;/code&gt; to type-check. At a high-level &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt; gives
&lt;em&gt;implementers&lt;/em&gt; (i.e. the types users define to implement the trait)
the most flexibility, with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut self&lt;/code&gt; next and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;self&lt;/code&gt; the least
flexible. Conversely, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;self&lt;/code&gt; gives &lt;em&gt;consumers&lt;/em&gt; of the trait
(i.e. functions with generics bounded by the trait) the most
flexibility, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt; the least.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: right&quot;&gt; &lt;/th&gt;
      &lt;th&gt;&lt;strong&gt;Implementer&lt;/strong&gt;&lt;/th&gt;
      &lt;th&gt;&lt;strong&gt;Consumer&lt;/strong&gt;&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Can move out and mutate&lt;/td&gt;
      &lt;td&gt;Can only call method once&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code&gt;&amp;amp;mut&amp;nbsp;self&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Can’t move out, can mutate&lt;/td&gt;
      &lt;td&gt;Can call many times, only with unique access&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;self&lt;/code&gt;&lt;/td&gt;
      &lt;td&gt;Can’t move out or mutate&lt;/td&gt;
      &lt;td&gt;Can call many times, with no restrictions&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;div class=&quot;join&quot;&gt;&lt;/div&gt;

&lt;p&gt;(“Move out” and “mutate” in the implementer column are referring to data stored inside &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt;.)&lt;/p&gt;

&lt;p&gt;Choosing between them is a balance, we usually want to chose the
highest row of the table that still allows the consumers to do what
they need to do, as that allows the external implementers to do as
much as possible.&lt;/p&gt;

&lt;p&gt;Starting at the top of that table: we can try &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt;. This gives &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fn
transform(self, input: Input) -&amp;gt; Self::Output&lt;/code&gt;. The by-value &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt;
will consume ownership, and hence &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;transform&lt;/code&gt; can only be called
once. Fortunately, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;map&lt;/code&gt; only needs to do the transformation once, so
by-value &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt; works perfectly.&lt;/p&gt;

&lt;p&gt;In summary, our &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;map&lt;/code&gt; and its trait look like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Transform&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Input&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;option&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Transform&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Output&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;option&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;Some&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Some&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.transform&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;
        &lt;span class=&quot;nb&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The example from before can then be reimplemented rather verbosely, by
creating structs and implementing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Transform&lt;/code&gt; to do the appropriate
conversion for that struct.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;// replacement for |val| val + x&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Adder&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Transform&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Adder&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Output&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// ignoring the `fn ... self`, this looks similar to |val| val + x&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.x&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// replacement for |val| val * y&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Multiplier&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Transform&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Multiplier&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Output&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// looks similar to |val| val * y&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.y&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;option&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Some&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;option&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Adder&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{:?}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// Some(5)&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;option&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Multiplier&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{:?}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// Some(20)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;We’ve manually implemented something that seems to have the same
semantics as Rust closures, using traits and some structs to store and
manipulate the captures. In fact, the struct has some uncanny
similarities to the “environment” of a closure: it stores a pile of
variables that need to be used in the body of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;transform&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;how-do-real-closures-work&quot;&gt;How do real closures work?&lt;/h2&gt;

&lt;p&gt;Just like that, plus a little more flexibility and syntactic
sugar. The real definition of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Option::map&lt;/code&gt; is:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;FnOnce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;Some&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Some&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;
            &lt;span class=&quot;nb&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;None&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnOnce(X) -&amp;gt; Y&lt;/code&gt; is another name for our &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Transform&amp;lt;X, Output = Y&amp;gt;&lt;/code&gt;
bound, and, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;f(x)&lt;/code&gt; for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;transform.transform(x)&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;There are three traits for closures, all of which provide the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;...(...)&lt;/code&gt; call syntax (one could regard them as different kinds of
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;operator()&lt;/code&gt; in C++). They differ only by the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt; type of the call
method, and they cover all of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt; options listed above.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;self&lt;/code&gt; is &lt;a href=&quot;http://doc.rust-lang.org/std/ops/trait.Fn.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fn&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut self&lt;/code&gt; is &lt;a href=&quot;http://doc.rust-lang.org/std/ops/trait.FnMut.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnMut&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt; is &lt;a href=&quot;http://doc.rust-lang.org/std/ops/trait.FnMut.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnOnce&lt;/code&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These traits are covering exactly the three core ways to handle data
in Rust, so having each of them meshes perfectly with Rust’s
type-system.&lt;/p&gt;

&lt;p&gt;When you write &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;|args...| code...&lt;/code&gt; the compiler will implicitly define
a unique new struct type storing the captured variables, and then
implement one of those traits using the closure’s body, rewriting any
mentions of captured variables to go via the closure’s
environment. The struct type doesn’t have a user visible name, it is
purely internal to the compiler. When the program hits the closure
definition at runtime, it fills in an instance of struct and passes
that instance into whatever it needs to (like we did with our &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;map&lt;/code&gt;
above).&lt;/p&gt;

&lt;p&gt;There’s two questions left:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;how are variables captured? (what type are the fields of the environment struct?)&lt;/li&gt;
  &lt;li&gt;which trait is used? (what type of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt; is used?)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The compiler answers both by using some local rules to choose the
version that will give the most flexibility. The local rules are
designed to be able to be checked only knowing the definition
the closure, and the types of any variables it captures.&lt;sup id=&quot;fnref:i-think&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:i-think&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;By “flexibility” I mean the compiler chooses the option that (it
thinks) will compile, but imposes the least on the programmer.&lt;/p&gt;

&lt;h3 id=&quot;structs-and-captures&quot;&gt;Structs and captures&lt;/h3&gt;

&lt;p&gt;If you’re familiar with closures in C++11, you may recall the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[=]&lt;/code&gt;
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[&amp;amp;]&lt;/code&gt; capture lists: capture variables by-value&lt;sup id=&quot;fnref:copy&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:copy&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;3&lt;/a&gt;&lt;/sup&gt; and
by-reference respectively. Rust has similar capability: variables can
be captured by-value—the variable is moved into the closure
environment—or by-reference—a reference to the variable is stored
in the closure environment.&lt;/p&gt;

&lt;p&gt;By default, the compiler looks at the closure body to see how captured
variables are used, and uses that to infers how variables should be
captured:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;if a captured variable is only ever used through a shared reference,
it is captured by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt; reference,&lt;/li&gt;
  &lt;li&gt;if it used through a mutable reference (including assignment), it is
captured by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut&lt;/code&gt; reference,&lt;/li&gt;
  &lt;li&gt;if it is moved, it is forced to be captured by-value. (NB. using a
&lt;a href=&quot;http://doc.rust-lang.org/std/marker/trait.Copy.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Copy&lt;/code&gt;&lt;/a&gt; type
by-value only needs a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt; reference, so this rule only applies to
non-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Copy&lt;/code&gt; ones.)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The algorithm seems a little non-trivial, but it matches exactly the
mental model of a practiced Rust programmer, using ownership/borrows
as precisely as it can. In fact, if a closure is “non-escaping”, that
is, never leaves the stack frame in which it is created, I believe
this algorithm is perfect: code will compile without needing any
annotations about captures.&lt;/p&gt;

&lt;p&gt;To summarise, the compiler will capture variables in the way that is
least restrictive in terms of continued use outside the closure (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt;
is preferred, then &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut&lt;/code&gt; and lastly by-value), and that still works
for all their uses within the closure. This analysis happens on a
per-variable basis, e.g.:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;by_value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;by_mut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;by_ref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;closure&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;by_ref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;by_ref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;by_ref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// forces `y` and `z` to be at least captured by `&amp;amp;mut` reference&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;by_mut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;by_mut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// forces `z` to be captured by value&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;by_value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;To focus on the flexibility: since &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt; is only captured by shared
reference, it is legal for it be used while &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;closure&lt;/code&gt; exists, and
since &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y&lt;/code&gt; is borrowed (by mutable reference) it can be used once
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;closure&lt;/code&gt; goes out of scope, but &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;z&lt;/code&gt; cannot be used at all, even once
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;closure&lt;/code&gt; is gone, since it has been moved into the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;closure&lt;/code&gt; value.&lt;/p&gt;

&lt;p&gt;The compiler would create code that looks a bit like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Environment&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&apos;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;x&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;y&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/* impl of FnOnce for Environment */&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;closure&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Environment&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The struct desugaring allows the full power of Rust’s type system is
brought to bear on ensuring it isn’t possible to accidentally get a
dangling reference or use freed memory or trigger any other memory
safety violation by misusing a closure. If there is problematic code,
the compiler will point it out.&lt;/p&gt;

&lt;h3 id=&quot;move-and-escape&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;move&lt;/code&gt; and escape&lt;/h3&gt;

&lt;p&gt;I stated above that the inference is perfect for non-escaping
closures… which implies that it is not perfect for “escaping” ones.&lt;/p&gt;

&lt;p&gt;If a closure is escaping, that is, if it might leave the stack frame
where it is created, it must not contain any references to values
inside that stack frame, since those references would be dangling when
the closure is used outside that frame: very bad. Fortunately the
compiler will emit an error if there’s a risk of that, but returning
closures can be useful and so should be possible; for example&lt;sup id=&quot;fnref:trait-object&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:trait-object&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;4&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;/// Returns a closure that will add `x` to its argument.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;make_adder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Box&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nn&quot;&gt;Box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;make_adder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// 4&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// 13&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;div class=&quot;join&quot;&gt;&lt;/div&gt;

&lt;p&gt;Looks good, except… it doesn’t actually compile:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;...:3:14: 3:23 error: closure may outlive the current function, but it borrows `x`, which is owned by the current function [E0373]
...:3     Box::new(|y| x + y)
                   ^~~~~~~~~
...:3:18: 3:19 note: `x` is borrowed here
...:3     Box::new(|y| x + y)
                       ^
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The problem is clearer when everything is written as explicit structs:
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt; only needs to be captured by reference to be used with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;+&lt;/code&gt;, so the
compiler is inferring that the code can look like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Closure&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/* impl of Fn for Closure */&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;make_adder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Box&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nn&quot;&gt;Box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Closure&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x&lt;/code&gt; goes out of scope at the end of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make_adder&lt;/code&gt; so it is illegal to
return something that holds a reference to it.&lt;/p&gt;

&lt;p&gt;So how do we fix it? Wouldn’t it be nice if the compiler could tell
us…&lt;/p&gt;

&lt;p&gt;Well, actually, I omitted the last two lines of the error message above:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;...:3:14: 3:23 help: to force the closure to take ownership of `x` (and any other referenced variables), use the `move` keyword, as shown:
...:      Box::new(move |y| x + y)
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;A new keyword! The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;move&lt;/code&gt; keyword can be placed in front of a closure
declaration, and overrides the inference to capture all variables by
value. Going back to the previous section, if the code used &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;let
closure = move || { /* same code */ }&lt;/code&gt; the environment struct would
look like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Environment&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Capturing entirely by value is also strictly more general than
capturing by reference: the reference types are first-class in Rust,
so “capture by reference” is the same as “capture a reference by
value”. Thus, unlike C++, there’s little fundamental distinction
between capture by reference and by value, and the analysis Rust does
is not actually &lt;em&gt;necessary&lt;/em&gt;: it just makes programmers’ lives easier.&lt;/p&gt;

&lt;p&gt;To demonstrate, the following code will have the same behaviour and
same environment as the first version, by capturing references using
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;move&lt;/code&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x_ref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y_mut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;closure&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;move&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;by_ref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x_ref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;by_ref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y_mut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;by_ref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;nf&quot;&gt;by_mut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y_mut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;by_mut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;nf&quot;&gt;by_value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The set of variables that are captured is exactly those that are used
in the body of the closure, there’s no fine-grained capture lists like
in C++11. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[=]&lt;/code&gt; capture list exists as the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;move&lt;/code&gt; keyword, but
that is all.&lt;/p&gt;

&lt;p&gt;We can now solve the original problem of returning from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make_adder&lt;/code&gt;:
by writing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;move&lt;/code&gt; we force the compiler to avoid any
implicit/additional references, ensuring that the closure isn’t tied
to the stack frame of its birth. If we take the compiler’s suggestion
and write &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box::new(move |y| x + y)&lt;/code&gt;, the code inside the compiler
will look more like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Closure&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/* impl of Fn for Closure */&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;make_adder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Box&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nn&quot;&gt;Box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Closure&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;It is clear that the compiler doesn’t infer when &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;move&lt;/code&gt; is required
(or else we wouldn’t need to write it), but the fact that the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;help&lt;/code&gt;
message exists suggests that the compiler does know enough to infer
when &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;move&lt;/code&gt; is necessary or not… in some cases. Unfortunately, doing
so in general in a reliable way (a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;help&lt;/code&gt; message can be
heuristic/best-effort, but inference built into the language cannot
be), would require more than just an analysis of the internals of the
closure body: it would require more complicated machinery to look at
how/where the closure value is used.&lt;/p&gt;

&lt;h3 id=&quot;traits&quot;&gt;Traits&lt;/h3&gt;

&lt;p&gt;The actual “function” bit of closures are handled by the traits
mentioned above. The implicit struct types will also have implicit
implementations of some of those traits, exactly those traits that
will actually work for the type.&lt;/p&gt;

&lt;p&gt;Let’s start with an example: for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;make_adder&lt;/code&gt; example, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fn&lt;/code&gt;
trait is implemented for the implicit closure struct:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;// (this is just illustrative, see the footnote for the gory details)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Closure&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// |y|   x + y&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;In reality, there are also implicit implementations&lt;sup id=&quot;fnref:invalid&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:invalid&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;5&lt;/a&gt;&lt;/sup&gt; of
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnMut&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnOnce&lt;/code&gt; for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Closure&lt;/code&gt;, but &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fn&lt;/code&gt; is the “fundamental” one
for this closure.&lt;/p&gt;

&lt;p&gt;There’s three traits, and so seven non-empty sets of traits that &lt;em&gt;could&lt;/em&gt;&lt;sup id=&quot;fnref:inherit&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:inherit&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;6&lt;/a&gt;&lt;/sup&gt; possibly be
implemented… but there’s actually only three interesting
configurations:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fn&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnMut&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnOnce&lt;/code&gt;,&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnMut&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnOnce&lt;/code&gt;,&lt;/li&gt;
  &lt;li&gt;only &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnOnce&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Why? Well, the three closure traits are actually three nested sets:
every closure that implements &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fn&lt;/code&gt; can also implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnMut&lt;/code&gt; (if
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;self&lt;/code&gt; works, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut self&lt;/code&gt; also works; proof: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;*self&lt;/code&gt;), and similarly
every closure implementing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnMut&lt;/code&gt; can also implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnOnce&lt;/code&gt;. This
hierarchy is enforced at the type level,
e.g. &lt;a href=&quot;http://doc.rust-lang.org/std/ops/trait.FnMut.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnMut&lt;/code&gt;&lt;/a&gt;
has declaration:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FnMut&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FnOnce&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;div class=&quot;join&quot;&gt;&lt;/div&gt;
&lt;p&gt;In words: anything that implements &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnMut&lt;/code&gt; &lt;em&gt;must&lt;/em&gt; also implement
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnOnce&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;There’s no subtlety required when inferring what traits to implement
as the compiler can and will just implement &lt;em&gt;every&lt;/em&gt; trait for which
the implementation is legal. This is in-keeping with the “offer
maximum flexibility” rule that was used for the inference of the
capture types, since more traits means more options. The subset nature
of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fn*&lt;/code&gt; traits means that following this rule will always result
in one of the three sets listed above being implemented.&lt;/p&gt;

&lt;p&gt;As an example, this code demonstrates a closure for which an
implementation of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fn&lt;/code&gt; is illegal but both &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnMut&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnOnce&lt;/code&gt; are
fine.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;vec!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// nice form&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;closure&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// explicit form&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Environment&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;v&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// let&apos;s try implementing `Fn`&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Environment&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.v&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// error: cannot borrow data mutably&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;closure&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Environment&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;It is illegal to mutate via a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp; &amp;amp;mut ...&lt;/code&gt;, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;self&lt;/code&gt; is creating
that outer shared reference. If it was &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut self&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt;, it would
be fine: the former is more flexible, so the compiler implements
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnMut&lt;/code&gt; for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;closure&lt;/code&gt; (and also &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnOnce&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Similarly, if &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;closure&lt;/code&gt; was to be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;|| drop(v);&lt;/code&gt;—that is, move out of
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;v&lt;/code&gt;—it would be illegal to implement either &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fn&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnMut&lt;/code&gt;, since
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;self&lt;/code&gt; (respectively &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut self&lt;/code&gt;) means that the method would be
trying to steal ownership out of borrowed data: criminal.&lt;/p&gt;

&lt;h2 id=&quot;flexibility&quot;&gt;Flexibility&lt;/h2&gt;

&lt;p&gt;One of Rust’s goals is to leave choice in the hands of the programmer,
allowing their code to be efficient, with abstractions compiling away
and just leaving fast machine code. The design of closures to use
unique struct types and traits/generics is key to this.&lt;/p&gt;

&lt;p&gt;Since each closure has its own type, there’s no compulsory need for
heap allocation when using closures: as demonstrated above, the
captures can just be placed directly into the struct value. This is a
property Rust shares with C++11, allowing closures to be used in
essentially any environment, including bare-metal environments.&lt;/p&gt;

&lt;p&gt;The unique types does mean that one can’t use different closures
together automatically, e.g. one can’t create a vector of several
distinct closures. They may have different sizes and require different
invocations (different closures correspond to different internal code,
so a different function to call). Fortunately, the use of traits to
abstract over the closure types means one can opt-in to these features
and their benefits “on demand”, via &lt;a href=&quot;/blog/2015/01/peeking-inside-trait-objects/&quot;&gt;trait objects&lt;/a&gt;: returning
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&amp;lt;Fn(i32) -&amp;gt; i32&amp;gt;&lt;/code&gt; above used a trait object.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;second&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;closures&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Box&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;vec!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;closures&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(||&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;first&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;closures&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(||&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;closures&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Box&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(||&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;third&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;closures&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// first / second / third&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;An additional benefit to the approach of unique types and generics
means that, by default, the compiler has full information about what
closure calls are doing at each call site, and so has the choice to
perform key optimisations like inlining. For example, the following
snippets compile to the same code,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Some&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Some&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;None&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;div class=&quot;join&quot;&gt;&lt;/div&gt;

&lt;p&gt;(When I tested it by placing them into separate functions in a single
binary, the compiler actually optimised the second function to a
direct call to the first.)&lt;/p&gt;

&lt;p&gt;This is all due to how Rust implements generics via monomorphisation,
where generic functions are compiled for each way their type
parameters are chosen, explicitly substituting the generic type with a
concrete one. Unfortunately, this isn’t always an optimisation, as it
can result in code bloat, where there are many similar copies of a
single function, which is again something that trait objects can
tackle: by using a trait object instead, one can use dynamically
dispatched closures to ensure there’s only one copy of a function,
even if it is used with many different closures.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;generic_closure&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nf&quot;&gt;generic_closure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// A&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;generic_closure&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// B&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;closure_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;Fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nf&quot;&gt;closure_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;closure_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The final binary will have two copies of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;generic_closure&lt;/code&gt;, one for
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; and one for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;B&lt;/code&gt;, but only one copy of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;closure_object&lt;/code&gt;. In fact,
there are implementations of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fn*&lt;/code&gt; traits for pointers, so one can
even use a trait object directly with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;generic_closure&lt;/code&gt;,
e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;generic_closure((&amp;amp;|x| { ... }) as &amp;amp;Fn(_))&lt;/code&gt;: so users of
higher-order functions can choose which trade-off they want themselves.&lt;/p&gt;

&lt;p&gt;All of this flexibility falls directly out of using traits&lt;sup id=&quot;fnref:stdfunction&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:stdfunction&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;7&lt;/a&gt;&lt;/sup&gt; for
closures, and the separate parts are independent and very
compositional.&lt;/p&gt;

&lt;p&gt;The power closures offer allow one to build high-level, “fluent” APIs
without losing performance compared to writing out the details by
hand. The prime example of this is
&lt;a href=&quot;http://doc.rust-lang.org/std/iter&quot;&gt;iterators&lt;/a&gt;: one can write long
chains of calls to adapters like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;map&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;filter&lt;/code&gt; which get
optimised down to efficient C-like code. (For example, I wrote
&lt;a href=&quot;/blog/2014/06/comparing-knn-in-rust/&quot;&gt;a post&lt;/a&gt; that demonstrates this, and the situation has only
improved since then: the closure design described here was implemented
months later.)&lt;/p&gt;

&lt;h2 id=&quot;in-closing&quot;&gt;In closing&lt;/h2&gt;

&lt;p&gt;Rust’s C++11-inspired closures are powerful tools that allow for
high-level and efficient code to be build, marrying two properties
often in contention. The moving parts of Rust’s closures are built
directly from the normal type system with traits, structs and
generics, which allows them to automatically gain features like heap
allocation and dynamic dispatch, but doesn’t require them.&lt;/p&gt;

&lt;p&gt;(Thanks to Steve Klabnik and Aaron Turon for providing feedback on a
draft, and many commenters on &lt;a href=&quot;http://www.reddit.com/r/rust/comments/359tj5/finding_closure_in_rust/&quot;&gt;/r/rust&lt;/a&gt;
and on IRC for finding inaccuracies and improvements.)&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://users.rust-lang.org/t/finding-closure-in-rust/1285&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/359tj5/finding_closure_in_rust/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Finding%20Closure%20in%20Rust%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/05/finding-closure-in-rust/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/05/finding-closure-in-rust/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/05/finding-closure-in-rust/&amp;amp;title=Finding%20Closure%20in%20Rust&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:anon&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The Rust &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;|...| ...&lt;/code&gt; syntax is more than just a closure: it’s
     an &lt;a href=&quot;http://en.wikipedia.org/wiki/Anonymous_function&quot;&gt;anonymous function&lt;/a&gt;. In general, it’s possible to have things
     that are closures but aren’t anonymous (e.g. in Python,
     functions declared with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;def foo():&lt;/code&gt; are closures too, they
     can refer to variables in any scopes in which the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;def foo&lt;/code&gt;
     is contained). The anonymity refers to the fact that the
     closure expression is a value, it’s possible to just use it
     directly and there’s no separate &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fn foo() { ... }&lt;/code&gt; with the
     function value referred to via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;foo&lt;/code&gt;. &lt;a href=&quot;#fnref:anon&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:assoc-vs-not&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;This choice is saying that transformers can be
             overloaded by the starting type, but the ending type
             is entirely determined by the pair of the transform
             and the starting type. Using an associated type for
             the return value is more restrictive (no overloading
             on return type only) but it gives the compiler a much
             easier time when inferring types. Using an associated
             type for the input value too would be too
             restrictive: it is very useful for the output type to
             depend on the input type, e.g. a transformation &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&apos;a
             [i32]&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&apos;a i32&lt;/code&gt; (by e.g. indexing) has the two
             types connected via the generic lifetime &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&apos;a&lt;/code&gt;. &lt;a href=&quot;#fnref:assoc-vs-not&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:i-think&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;This statement isn’t precisely true in practice,
        e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc&lt;/code&gt; will emit different errors if closures are
        misused in certain equivalent-but-non-identical
        ways. However, I believe these are just improved
        diagnostics, not a fundamental language thing… however,
        I’m not sure. &lt;a href=&quot;#fnref:i-think&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:copy&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;“By-value” in C++, including &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[=]&lt;/code&gt;, is really “by-copy” (with
      some copy-elision rules to sometimes elide copies in certain
      cases), whereas in Rust it is always “by-move”, more similar
      to rvalue references in C++. &lt;a href=&quot;#fnref:copy&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:trait-object&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Since closure types are unique and unnameable, the
             only way to return one is via a trait object, at
             least until Rust gets something like the “abstract
             return types” of &lt;a href=&quot;https://github.com/rust-lang/rfcs/pull/105&quot;&gt;RFC 105&lt;/a&gt;, something much
             desired for handling closures. This is a little like
             an interface-checked version of C++11’s
             &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;decltype(auto)&lt;/code&gt;, which, I believe, was also partly
             motivated by closures with unnameable types. &lt;a href=&quot;#fnref:trait-object&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:invalid&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I wrote an invalid &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Fn&lt;/code&gt; implementation because the real
        version is ugly and much less clear, and doesn’t work with
        stable compilers at the moment. But since you asked, here
        is what’s required:&lt;/p&gt;

      &lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#![feature(unboxed_closures, core)]

impl Fn&amp;lt;(i32,)&amp;gt; for Closure {
    extern &quot;rust-call&quot; fn call(&amp;amp;self, (y,): (i32,)) -&amp;gt; i32 {
        self.x + y
    }
}
impl FnMut&amp;lt;(i32,)&amp;gt; for Closure {
    extern &quot;rust-call&quot; fn call_mut(&amp;amp;mut self, args: (i32,)) -&amp;gt; i32 {
        self.call(args)
    }
}
impl FnOnce&amp;lt;(i32,)&amp;gt; for Closure {
    type Output = i32;
    extern &quot;rust-call&quot; fn call_once(self, args: (i32,)) -&amp;gt; i32 {
        self.call(args)
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;      &lt;/div&gt;

      &lt;p&gt;Just looking at that, one might be able to guess at a few of the
reasons that manual implementations of the function traits aren’t
stabilised for general use. The only way to create types
implementing those traits with the 1.0 compiler is with a closure
expression. &lt;a href=&quot;#fnref:invalid&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:inherit&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I’m ignoring the inheritance, which means that certain
        sets are actually statically illegal, i.e., without other
        constraints there are seven possibilities. &lt;a href=&quot;#fnref:inherit&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:stdfunction&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;C++ has a similar choice, with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;std::function&lt;/code&gt; able to
            provide type erasure/dynamic dispatch for closure
            types, although it requires separate definition as a
            library type, and requires allocations. The Rust trait
            objects are a simple building block in the language,
            and don’t require allocations (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;Fn()&lt;/code&gt; is a trait
            object that can be created out of a pointer to the
            stack). &lt;a href=&quot;#fnref:stdfunction&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Where Self Meets Sized: Revisiting Object Safety</title>
            <link>https://huonw.github.io/blog/2015/05/where-self-meets-sized-revisiting-object-safety/</link>
            <pubDate>Wed, 06 May 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/05/where-self-meets-sized-revisiting-object-safety</guid>
            <description>&lt;p&gt;The concept of object safety in Rust was recently refined to be more
flexible in an important way: the checks can be disabled for specific
methods by using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where&lt;/code&gt; clauses to restrict them to only work when
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Self: Sized&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;This post is a rather belated fourth entry in my series on trait
objects and object safety:
&lt;a href=&quot;/blog/2015/01/peeking-inside-trait-objects/&quot;&gt;&lt;em&gt;Peeking inside Trait Objects&lt;/em&gt;&lt;/a&gt;,
&lt;a href=&quot;/blog/2015/01/the-sized-trait/&quot;&gt;&lt;em&gt;The Sized Trait&lt;/em&gt;&lt;/a&gt; and &lt;a href=&quot;/blog/2015/01/object-safety/&quot;&gt;&lt;em&gt;Object Safety&lt;/em&gt;&lt;/a&gt;. It’s
been long enough that a refresher is definitely in order, although this
isn’t complete coverage of the details.&lt;/p&gt;

&lt;details class=&quot;post-series&quot;&gt;
  &lt;summary class=&quot;post-series-title&quot;&gt;Other posts in this series on trait objects&lt;/summary&gt;
  &lt;ol class=&quot;post-series-list&quot;&gt;
    &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/blog/2015/01/peeking-inside-trait-objects/&quot;&gt;Peeking inside Trait Objects&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/blog/2015/01/the-sized-trait/&quot;&gt;The Sized Trait&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/blog/2015/01/object-safety/&quot;&gt;Object Safety&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;current&quot;&gt;&lt;a href=&quot;/blog/2015/05/where-self-meets-sized-revisiting-object-safety/&quot;&gt;Where Self Meets Sized: Revisting Object Safety&lt;/a&gt;&lt;/li&gt;
  &lt;/ol&gt;
&lt;/details&gt;

&lt;h2 id=&quot;recap&quot;&gt;Recap&lt;/h2&gt;

&lt;p&gt;Rust offers open sets of types, type erasure and dynamic dispatch via
&lt;a href=&quot;/blog/2015/01/peeking-inside-trait-objects/&quot;&gt;trait objects&lt;/a&gt;. However, to ensure a uniform handling
of trait objects and non-trait objects in generic code, there are
certain restrictions about exactly which traits can be used to create
objects: this is &lt;a href=&quot;/blog/2015/01/object-safety/&quot;&gt;object safety&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A trait is object safe only if the compiler can automatically
implement it for itself, by implementing each method as a dynamic
function call through the vtable stored in a trait object.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method_a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method_b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;f32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// automatically inserted by the compiler&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method_a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
         &lt;span class=&quot;c&quot;&gt;// dynamic dispatch to `method_a` of erased type&lt;/span&gt;
         &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.method_a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method_b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;f32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
         &lt;span class=&quot;c&quot;&gt;// as above&lt;/span&gt;
         &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.method_b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Without the object safety rules one can write functions with type
signatures satisfied by trait objects, where the internals make it
impossible to actually use with trait objects. However, Rust tries to ensure
that this can’t happen—code should only need to know the signatures
of anything it calls, not the internals—and hence object safety.&lt;/p&gt;

&lt;p&gt;These rules outlaw creating trait objects of, for example, traits with
generic methods:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Bar&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bad&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Bar&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bad&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1_u8&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;cm&quot;&gt;/*
...:10:5: 10:7 error: cannot convert to a trait object because trait `Bar` is not object-safe [E0038]
...:10     &amp;amp;1 as &amp;amp;Bar;
           ^~
...:10:5: 10:7 note: method `bad` has generic type parameters
...:10     &amp;amp;1 as &amp;amp;Bar;
           ^~
*/&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Trait object values always appear behind a pointer, like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;SomeTrait&lt;/code&gt;
or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&amp;lt;AnotherTrait&amp;gt;&lt;/code&gt;, since the trait value “&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SomeTrait&lt;/code&gt;” itself
doesn’t have size known at compile time. This property is captured via
the &lt;a href=&quot;/blog/2015/01/the-sized-trait/&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sized&lt;/code&gt; trait&lt;/a&gt;, which is implemented for types like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;i32&lt;/code&gt;,
or simple &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;struct&lt;/code&gt;s and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;enum&lt;/code&gt;s, but not for unsized slices &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[T]&lt;/code&gt;, or
the plain trait types &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SomeTrait&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;iterating-on-the-design&quot;&gt;Iterating on the design&lt;/h2&gt;

&lt;p&gt;One impact of introducing object safety was that the design of several
traits had to change. The most noticeable ones were &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt;, and
the IO traits &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Read&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Write&lt;/code&gt; (although they were probably &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Reader&lt;/code&gt;
and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Writer&lt;/code&gt; at that point).&lt;/p&gt;

&lt;p&gt;Focusing on the former, before object safety it was defined
something&lt;sup id=&quot;fnref:associated-type&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:associated-type&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Iterator&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;size_hint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// ... methods methods methods ...&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;zip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Zip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IntoIter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IntoIterator&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;FnMut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// etc&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The above &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt; isn’t object safe: it has generic methods, and so
it isn’t possible to implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt; for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt; itself. This
is unfortunate, since it is very useful to be able to create and use
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt; trait objects, so it &lt;em&gt;had&lt;/em&gt; to be made object safe.&lt;/p&gt;

&lt;p&gt;The solution at the time was extension traits: define a new trait
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IteratorExt&lt;/code&gt; that incorporated all the object unsafe methods, and use
a blanket implementation to implement it for all &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt;s “from the
outside”.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Iterator&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;size_hint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IteratorExt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sized&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Iterator&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// ... methods methods methods ...&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;zip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Zip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IntoIter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IntoIterator&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;FnMut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// etc&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// blanket impl, for all iterators&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Iterator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IteratorExt&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;I&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;next&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;size_hint&lt;/code&gt; methods are object safe, so this version of
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt; can create trait objects: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&amp;lt;Iterator&amp;lt;Item = u8&amp;gt;&amp;gt;&lt;/code&gt; is a
legal iterator over bytes. It works because the methods of
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IteratorExt&lt;/code&gt; are no longer part of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt; and so they’re not
involved in any object considerations for it.&lt;/p&gt;

&lt;p&gt;Fortunately, those methods aren’t lost on trait objects, because there
are implementations like the following, allowing the blanket
implementation of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IteratorExt&lt;/code&gt; to kick in:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;// make Box&amp;lt;...&amp;gt; an Iterator by deferring to the contents&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Iterator&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sized&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Iterator&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Box&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;size_hint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.size_hint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;div class=&quot;join&quot;&gt;&lt;/div&gt;

&lt;p&gt;(The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;?Sized&lt;/code&gt; ensures this applies to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&amp;lt;Iterator&amp;lt;...&amp;gt;&amp;gt;&lt;/code&gt; trait
objects as well as simply &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&amp;lt;SomeType&amp;gt;&lt;/code&gt; where &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SomeType&lt;/code&gt; is a normal
type that implements &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt;.)&lt;/p&gt;

&lt;p&gt;This approach has some benefits, like clarifying the separation
between the “core” methods (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;next&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;size_hint&lt;/code&gt;) and the
helpers. However, it has several downsides, especially for cases that
aren’t &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;extra traits in the documentation,&lt;/li&gt;
  &lt;li&gt;users will have to import those extra traits&lt;/li&gt;
  &lt;li&gt;it only works with default-able methods,&lt;/li&gt;
  &lt;li&gt;the defaults can’t be overridden, e.g. there’s no way for a specific
type to slot in a more efficient way to implement a method&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;All-in-all, it was a wet blanket on libraries. Fortunately, not all
was lost: let’s meet our saviour.&lt;/p&gt;

&lt;h2 id=&quot;its-a-bird-its-a-plane&quot;&gt;It’s a bird… it’s a plane…&lt;/h2&gt;

&lt;p&gt;It’s a &lt;a href=&quot;https://github.com/rust-lang/rfcs/blob/master/text/0135-where.md&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where&lt;/code&gt; clause&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where&lt;/code&gt; clauses allow predicating functions/methods/types on
essentially arbitrary trait relationships, not just the plain &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;T:
SomeTrait&amp;gt;&lt;/code&gt;, where the left-hand side has to be a generic type
declared right then and there. For example, one can use
&lt;a href=&quot;http://doc.rust-lang.org/std/convert/trait.From.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;From&lt;/code&gt;&lt;/a&gt; to
convert &lt;em&gt;to&lt;/em&gt; types with a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where&lt;/code&gt; clause.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;convert_to_string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;From&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nn&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The important realisation was that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where&lt;/code&gt; allows placing restrictions
on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Self&lt;/code&gt; directly on methods, so that certain methods only exist for
some implementing types. This was used to great effect to collapse
piles of traits into a single one, for example in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;std::iter&lt;/code&gt;.
&lt;a href=&quot;http://doc.rust-lang.org/0.12.0/std/iter/#traits&quot;&gt;Rust 0.12.0 had&lt;/a&gt; a
swathe of extra &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt; traits: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Additive...&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Cloneable...&lt;/code&gt;,
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Multiplicative...&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;MutableDoubleEnded...&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ord...&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Each of these were designed to define a few extra methods that
required specific restrictions on the element type of the iterator,
for example, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OrdIterator&lt;/code&gt; needed &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ord&lt;/code&gt; elements:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OrdIterator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Iterator&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
     &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
     &lt;span class=&quot;c&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Ord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Iterator&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;OrdIterator&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;I&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The &lt;a href=&quot;http://doc.rust-lang.org/std/iter&quot;&gt;current &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;std::iter&lt;/code&gt;&lt;/a&gt; is much
cleaner: all the traits above have been merged into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt; itself
with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where&lt;/code&gt; clauses, e.g.
&lt;a href=&quot;http://doc.rust-lang.org/nightly/std/iter/trait.Iterator.html#method.max&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;max&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Iterator&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// ...&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Ord&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Notably, there’s no restriction on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Item&lt;/code&gt; for general &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt;s,
only on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;max&lt;/code&gt;, so iterators retain full flexibility while still
gaining a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;max&lt;/code&gt; method that only works when it should:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NotOrd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// ok&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NotOrd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;cm&quot;&gt;/*
...:5:29: 5:34 error: the trait `core::cmp::Ord` is not implemented for the type `NotOrd` [E0277]
...:5     (0..10).map(|_| NotOrd).max();
                                  ^~~~~
*/&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This approach works fine for normal traits like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ord&lt;/code&gt;, and also works
equally well for “special” traits like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sized&lt;/code&gt;:
&lt;a href=&quot;http://stackoverflow.com/a/27820018/1256624&quot;&gt;it is possible&lt;/a&gt; to
restrict methods to only work when &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Self&lt;/code&gt; has a statically known size
with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where Self: Sized&lt;/code&gt;. Initially this had no interaction with
object safety, it would just influence what exactly that method could
do.&lt;/p&gt;

&lt;h2 id=&quot;putting-it-together&quot;&gt;Putting it together&lt;/h2&gt;

&lt;p&gt;The piece that interacts with object safety is &lt;a href=&quot;https://github.com/rust-lang/rfcs/pull/817&quot;&gt;RFC 817&lt;/a&gt;, which
made &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where Self: Sized&lt;/code&gt; special: the compiler now understands that
methods tagged with that cannot ever be used on a trait object, even
in generic code.  This means it is perfectly correct to completely
ignores any methods with that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where&lt;/code&gt; clause when checking object
safety.&lt;/p&gt;

&lt;p&gt;The bad example from the start can be written to compile:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Bar&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bad&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sized&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Bar&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bad&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sized&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1_u8&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;div class=&quot;join&quot;&gt;&lt;/div&gt;

&lt;p&gt;And also adjusted to not compile: try calling &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;(&amp;amp;1_u8 as
&amp;amp;Bar).bad(&quot;foo&quot;)&lt;/code&gt; in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;main&lt;/code&gt; and the compiler spits out an error,&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;...:13:21: 13:31 error: the trait `core::marker::Sized` is not implemented for the type `Bar` [E0277]
...:13     (&amp;amp;1_u8 as &amp;amp;Bar).bad(&quot;foo&quot;)
                           ^~~~~~~~~~
...:13:21: 13:31 note: `Bar` does not have a constant size known at compile-time
...:13     (&amp;amp;1_u8 as &amp;amp;Bar).bad(&quot;foo&quot;)
                           ^~~~~~~~~~
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Importantly, this solves the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt; problem: there’s no longer a
need to split methods into extension traits to ensure object safety,
one can instead just guard the bad ones. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt; now looks like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Iterator&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;size_hint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// ... methods methods methods ...&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;zip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Zip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IntoIter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sized&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;IntoIterator&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;where&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sized&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;FnMut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;B&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* ... */&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// etc&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;div class=&quot;join&quot;&gt;&lt;/div&gt;

&lt;p&gt;(Along with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;max&lt;/code&gt; and the other &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where&lt;/code&gt;-reliant methods from the other
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*Iterator&lt;/code&gt; traits mentioned above.)&lt;/p&gt;

&lt;p&gt;The extra flexibility this &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where&lt;/code&gt; clauses offer is immensely helpful
for designing that perfect API.  Of course, just adding &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where Self:
Sized&lt;/code&gt; isn’t a complete solution or the only trick: the current
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt; still has the same sort of implementations of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt;
for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&amp;lt;I&amp;gt;&lt;/code&gt; where &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;I: Iterator + ?Sized&lt;/code&gt;, and traits using the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where&lt;/code&gt; technique may want to adopt others that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&lt;/code&gt; does.&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://users.rust-lang.org/t/where-self-meets-sized-revisting-object-safety/1249&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/351pil/where_self_meets_sized_revisiting_object_safety/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Where%20Self%20Meets%20Sized:%20Revisiting%20Object%20Safety%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/05/where-self-meets-sized-revisiting-object-safety/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/05/where-self-meets-sized-revisiting-object-safety/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/05/where-self-meets-sized-revisiting-object-safety/&amp;amp;title=Where%20Self%20Meets%20Sized:%20Revisiting%20Object%20Safety&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:associated-type&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I’m using an associated type for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Item&lt;/code&gt; here, but
                I believe it was probably still a generic
                parameter &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;trait Iterator&amp;lt;Item&amp;gt; { ...&lt;/code&gt; at this
                point, and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IntoIterator&lt;/code&gt; trait didn’t
                exist. However it doesn’t matter: the exact same
                problems existed, just with different syntax. &lt;a href=&quot;#fnref:associated-type&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Travis on the train, part 2</title>
            <link>https://huonw.github.io/blog/2015/05/travis-on-the-train-part-2/</link>
            <pubDate>Fri, 01 May 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/05/travis-on-the-train-part-2</guid>
            <description>&lt;p&gt;After announcing &lt;a href=&quot;https://github.com/huonw/travis-cargo&quot;&gt;travis-cargo&lt;/a&gt; a few days ago in
&lt;a href=&quot;/blog/2015/04/helping-travis-catch-the-rustc-train/&quot;&gt;&lt;em&gt;Helping Travis catch the rustc train&lt;/em&gt;&lt;/a&gt;, I got some
great hints/contributions from &lt;a href=&quot;https://github.com/jansegre&quot;&gt;Jan Segre&lt;/a&gt; and had a fun little
time automating &lt;a href=&quot;https://users.rust-lang.org/t/tutorial-how-to-collect-test-coverages-for-rust-project/650/2?u=huon&quot;&gt;code coverage collection&lt;/a&gt; via
&lt;a href=&quot;http://coveralls.io&quot;&gt;coveralls.io&lt;/a&gt;. Unfortunately, &lt;strong&gt;this is a breaking
change&lt;/strong&gt; for existing users of travis-cargo, but the migration is
easy.&lt;/p&gt;

&lt;p&gt;(If you’re wondering what travis-cargo is, see &lt;a href=&quot;/blog/2015/04/helping-travis-catch-the-rustc-train/&quot;&gt;the linked post&lt;/a&gt;.)&lt;/p&gt;

&lt;p&gt;Version 0.1 of travis-cargo is now available on PyPI&lt;sup id=&quot;fnref:pypi&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:pypi&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; and should be
installed via that medium. This works on Travis:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;pip &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;travis-cargo&amp;lt;0.2&apos;&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;/.local/bin:&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The explicit &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;0.2&lt;/code&gt; requirement will reduce the risk of builds
breaking due to upstream changes in future, as I will make every
effort to follow semantic versioning and bump versions for any further
breaking changes.&lt;/p&gt;

&lt;h2 id=&quot;breaking-change&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[breaking-change]&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;Part of migrating to PyPI requires renaming the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;travis-cargo.py&lt;/code&gt;
script to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;travis_cargo.py&lt;/code&gt; and making it no longer a
directly-executable script. &lt;strong&gt;This means that a direct &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git clone&lt;/code&gt; and
alias as I suggested previously will not work&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;From now, the only supported way to install travis-cargo is via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pip&lt;/code&gt;
as demonstrated above, and the recommended format to use with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pip&lt;/code&gt; is
the PyPI package, with a version requirement. The example installation
listed above will install a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;travis-cargo&lt;/code&gt; binary to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;~/.local/bin&lt;/code&gt;
and then ensure that that it is available to the shell by name.&lt;/p&gt;

&lt;p&gt;However, that’s not the only breaking change: the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo&lt;/code&gt; subcommand
has been removed since the default binary is now much longer, and
looks more like the real &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo&lt;/code&gt; program. Cargo subcommands passed to
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;travis-cargo&lt;/code&gt; directly work as one would expect. Migration:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;# before&lt;/span&gt;
./tc cargo build
&lt;span class=&quot;c&quot;&gt;# after&lt;/span&gt;
travis-cargo build
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;doc-upload&lt;/code&gt; subcommand and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--only&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;-q&lt;/code&gt; arguments have
not been changed.&lt;/p&gt;

&lt;p&gt;I’ve opened pull requests on all users of travis-cargo that I found
via Github’s search. I apologise if I missed you, fortunately
&lt;a href=&quot;https://github.com/huonw/order-stat/commit/251a80999b5d727224523a33847479d23048d7ab&quot;&gt;the migration&lt;/a&gt;
is straight-forward.&lt;/p&gt;

&lt;h2 id=&quot;covering-your-coverage-needs&quot;&gt;Covering your coverage needs&lt;/h2&gt;

&lt;p&gt;The new and improved travis-cargo includes &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;travis-cargo coveralls&lt;/code&gt;,
which will use the awesome &lt;a href=&quot;https://github.com/SimonKagstrom/kcov&quot;&gt;kcov&lt;/a&gt; along with Rust’s debuginfo
support to record the test coverage of your libraries, and then upload
them to &lt;a href=&quot;http://coveralls.io&quot;&gt;coveralls.io&lt;/a&gt;.&lt;/p&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;coveralls.png&quot;&gt;
      &lt;img src=&quot;coveralls.png&quot; alt=&quot;A screenshot of the coveralls.io inteface showing the coverage for 4 files: 75% for lib.rs with 6 out of 8 lines covered, 97.62% for mom.rs with 41 out of 42 lines covered, 100% for quickselect with 50 out of 50 lines covered and 100% for floyd_rivest.rs with 71 out of 71 lines covered.&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;order-stat’s test coverage: being a little library makes it easy to get high numbers.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;kcov combines with Coveralls to make supporting this ridiculously
easy: simply register/activate coveralls.io and add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo: required&lt;/code&gt; &amp;amp;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;travis-cargo coveralls&lt;/code&gt; to your &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.travis.yml&lt;/code&gt;. (The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo&lt;/code&gt;
requirement is necessary to install kcov; it unfortunately makes
Travis much slower to start builds.)&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;travis-cargo coveralls&lt;/code&gt; should successfully handle both in-crate and
external tests, so the Coveralls dashboard will display the total
coverage across all real tests (doc-tests are figments of our
imaginations). At the moment, Cargo doesn’t provide reliable
programmatic access to everything it knows, so &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;travis-cargo
coveralls&lt;/code&gt; first searches the output of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo test&lt;/code&gt; for the binaries
it runs, and then executes those binaries under kcov. For this to work
best, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test&lt;/code&gt; &lt;a href=&quot;http://doc.crates.io/manifest.html#the-[profile.*]-sections&quot;&gt;profile&lt;/a&gt; must have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;debug = true&lt;/code&gt; (which is
the default).&lt;/p&gt;

&lt;h2 id=&quot;travis-cargo-by-example-the-sequel&quot;&gt;Travis-cargo by example: the sequel&lt;/h2&gt;

&lt;p&gt;order-stat’s &lt;a href=&quot;https://github.com/huonw/order-stat/blob/251a809/.travis.yml&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.travis.yml&lt;/code&gt;&lt;/a&gt; now looks like (&lt;a href=&quot;https://github.com/huonw/order-stat/commit/251a80999b5d727224523a33847479d23048d7ab&quot;&gt;diff for the change&lt;/a&gt;):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;na&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rust&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;required&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;rust&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;nightly&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;beta&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;before_script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;pip install &apos;travis-cargo&amp;lt;0.2&apos; --user &amp;amp;&amp;amp; export PATH=$HOME/.local/bin:$PATH&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;travis-cargo build &amp;amp;&amp;amp;&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;travis-cargo test &amp;amp;&amp;amp;&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;travis-cargo bench &amp;amp;&amp;amp;&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;travis-cargo doc&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;after_success&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;travis-cargo --only beta doc-upload&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;travis-cargo coveralls&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;travis-cargo’s &lt;a href=&quot;https://github.com/huonw/travis-cargo#readme&quot;&gt;README&lt;/a&gt; contains more information.&lt;/p&gt;

&lt;p&gt;(Thanks to &lt;a href=&quot;https://github.com/SimonKagstrom&quot;&gt;Simon Kågström&lt;/a&gt; for
assistance with getting kcov working properly, lifthrasiir and
jscheivink for &lt;a href=&quot;https://users.rust-lang.org/t/tutorial-how-to-collect-test-coverages-for-rust-project/650?u=huon&quot;&gt;their tutorials&lt;/a&gt; on collecting
coverage, and Jan Segre for the assistance with packaging and
feedback.)&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://users.rust-lang.org/t/travis-on-the-train-part-2/1196&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/34i7sr/travis_on_the_train_part_2/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Travis%20on%20the%20train,%20part%202%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/05/travis-on-the-train-part-2/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/05/travis-on-the-train-part-2/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/05/travis-on-the-train-part-2/&amp;amp;title=Travis%20on%20the%20train,%20part%202&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:pypi&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Incidentally, I found publishing Python packages on PyPI much
     more difficult than publishing Rust packages on crates.io.
     Great job on getting cargo and crates.io so streamlined, Alex
     Crichton, Yehuda Katz and everyone who has contributed! &lt;a href=&quot;#fnref:pypi&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Helping Travis catch the rustc train</title>
            <link>https://huonw.github.io/blog/2015/04/helping-travis-catch-the-rustc-train/</link>
            <pubDate>Tue, 28 Apr 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/04/helping-travis-catch-the-rustc-train</guid>
            <description>&lt;p&gt;I’ve been putting off configuring my continuous integration settings
to match the Rust train model: it involves non-trivial branching on
the configuration, and duplicating that over a pile of repos is not
something I looked forward to. So, instead, I wrote
&lt;a href=&quot;https://github.com/huonw/travis-cargo&quot;&gt;travis-cargo&lt;/a&gt; to make things
easier.&lt;/p&gt;

&lt;h2 id=&quot;branching-on-configuration&quot;&gt;Branching on configuration?&lt;/h2&gt;

&lt;p&gt;One approach to developing Rust libraries once 1.0 is released will be
to test by building with the latest stable compiler, to ensure that
code is behaving as one hopes. I’m sure this will work well enough, but it’s missing an important part of the release model&lt;/p&gt;

&lt;p&gt;Rust is adopting &lt;a href=&quot;http://blog.rust-lang.org/2014/10/30/Stability.html&quot;&gt;“trains”&lt;/a&gt; for releases, where features migrate
from unstable to beta and then on to stable. That beta period is a big
motivation for the approach: before releases become stable, there is 6
weeks of development for people to test their code and help ensure
backwards compatibility isn’t accidentally broken. If there is a
regression, it will be assessed and presumably fixed before the stable
release. There is effort on going to incorporate this sort of checking
into &lt;a href=&quot;https://crates.io/&quot;&gt;crates.io&lt;/a&gt;—brson has been posting regular
&lt;a href=&quot;https://internals.rust-lang.org/t/regression-report-beta-2015-04-03-vs-nightly-2015-04-24/1967&quot;&gt;regression reports&lt;/a&gt; recently—but this doesn’t cover
all cases: at the very least, not all code is on crates.io.&lt;/p&gt;

&lt;p&gt;The easiest way to get code to be tested is to have continuous
integration infrastructure like &lt;a href=&quot;https://travis-ci.org/&quot;&gt;Travis CI&lt;/a&gt;
running tests against all configurations of interest: for a lot of
code this is likely to mean running builds against the most recent
stable release, the current beta, and the current nightly, and I
forsee that some libraries may wish to compile against slightly older
versions too. And having three builds for everything is just the start.&lt;/p&gt;

&lt;p&gt;The nightly compilers offer unstable features that are fully
disallowed on the beta and stable channels, and libraries may wish to
offer or use functionality that is only enabled with unstable
compilers. At the moment, a big example is
&lt;a href=&quot;http://doc.rust-lang.org/nightly/book/benchmark-tests.html&quot;&gt;microbenchmarks with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#[bench]&lt;/code&gt;&lt;/a&gt;, running them requires
importing the feature-gated &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;test&lt;/code&gt; crate: I configure my libraries to
have an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unstable&lt;/code&gt; &lt;a href=&quot;http://doc.crates.io/manifest.html#the-[features]-section&quot;&gt;feature&lt;/a&gt; that has to be activated for
nightly-only features like benchmarks to be compiled in, so that the
library and its tests can be run with stable and beta compilers.&lt;/p&gt;

&lt;p&gt;Unfortunately, all this means it is a little tricky to configure CI
optimally so that nightly builders build with unstable features, and
stable builds don’t. That said, It’s not &lt;em&gt;that&lt;/em&gt; tricky, for example, using
&lt;a href=&quot;http://docs.travis-ci.com/user/build-configuration/#The-Build-Matrix&quot;&gt;Travis’ Build Matrix&lt;/a&gt; functionality.&lt;/p&gt;

&lt;p&gt;The final nail in the coffin is that I and others use CI to upload
rendered documentation for successful builds of the master branch:
&lt;a href=&quot;http://www.hoverbear.org/2015/03/07/rust-travis-github-pages/&quot;&gt;method I usually use&lt;/a&gt; involves a big chunk of commands,
and requires manually inserting the library name. Having a separate
script allows me to use hoverbear’s code but abstracted out in a
DRY-er way. (The script even calls &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo&lt;/code&gt; directly to extract the
true library name, straight from the horse’s mouth.)&lt;/p&gt;

&lt;h2 id=&quot;travis-cargo-by-example&quot;&gt;Travis-cargo by example&lt;/h2&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Update 2015-05-01&lt;/em&gt;: the details of the code here has now changed
but the explanation is still the same, see
&lt;a href=&quot;/blog/2015/05/travis-on-the-train-part-2/&quot;&gt;&lt;em&gt;Travis on the train, part 2&lt;/em&gt;&lt;/a&gt; for the up-to-date version of
the code.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;lib-info&quot; style=&quot;&quot;&gt;
  &lt;a class=&quot;lib-link&quot; href=&quot;http://huonw.github.io/order-stat/order_stat&quot;&gt;order-stat&lt;/a&gt;
  &lt;a href=&quot;https://crates.io/crates/order-stat&quot;&gt;&lt;img class=&quot;lib-badge inline-image&quot; src=&quot;https://img.shields.io/crates/v/order-stat.svg&quot; alt=&quot;order-stat on crates.io&quot; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;The interesting bit of the Travis configuration I’m now using for,
say,
&lt;a href=&quot;https://github.com/huonw/order-stat/blob/eb6fd83/.travis.yml&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;order-stat&lt;/code&gt;&lt;/a&gt;,
looks like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;na&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rust&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# run builds for both the nightly and beta branch&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;rust&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;nightly&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;beta&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# load travis-cargo&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;before_script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;git clone --depth 1 https://github.com/huonw/travis-cargo&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# make a short alias (`alias` itself doesn&apos;t work)&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ln -s ./travis-cargo/travis-cargo.py tc&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# the main build&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;|&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;./tc cargo build &amp;amp;&amp;amp;&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;./tc cargo test &amp;amp;&amp;amp;&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;./tc cargo bench &amp;amp;&amp;amp;&lt;/span&gt;
      &lt;span class=&quot;s&quot;&gt;./tc cargo doc&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;after_success&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# upload the documentation from the build with beta (automatically only actually&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# runs on the master branch)&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;./tc --only beta doc-upload&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# ...&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;which makes builds look like (look at the two jobs!):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;travis.png&quot;&gt;&lt;img src=&quot;travis.png&quot; alt=&quot;&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;And, it’s exactly the same configuration that I’m using for my other
libraries, other than the chunk of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;secure&lt;/code&gt; nonsense at the end (the
encrypted Github token).&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tc cargo ...&lt;/code&gt; just runs cargo, but implicitly adds &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--feature
unstable&lt;/code&gt; when running the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rust: nightly&lt;/code&gt; configuration (and
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--verbose&lt;/code&gt; by default for all configurations). The command &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tc
doc-upload&lt;/code&gt; pushes the docs rendered by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo doc&lt;/code&gt; to the main repo,
but with multiple configuration this may result in “races”/displaying
documentation for an undesired or inconsistent configuration: the
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--only beta&lt;/code&gt; argument ensures that it only runs in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;beta&lt;/code&gt;
configuration.&lt;/p&gt;

&lt;p&gt;On the point of uploading docs: I imagine/hope there will be some sort
of crates.io-based doc hosting in future which makes manually hosting
docs less imperative. However, that day isn’t here yet, and that host
will presumably only have docs for released crates, being able to
easily host documentation for the cutting-edge master branch still
seems handy.&lt;/p&gt;

&lt;p&gt;Once we have a stable release, I intend to add &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;- stable&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rust:&lt;/code&gt;,
and switch &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;doc-upload&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--only stable&lt;/code&gt;; I believe these should be
the only changes necessary to get reliable testing against all three
channels.&lt;/p&gt;

&lt;p&gt;Also, the manual passing of an unstable flag may become moot in
future, if the
&lt;a href=&quot;https://internals.rust-lang.org/t/setting-cfg-nightly-on-nightly-by-default/1893&quot;&gt;compiler itself supports a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nightly&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cfg&lt;/code&gt; setting&lt;/a&gt;,
further reducing the necessity for this script.&lt;/p&gt;

&lt;p&gt;The &lt;a href=&quot;https://github.com/huonw/travis-cargo&quot;&gt;travis-cargo repo&lt;/a&gt;
contains a README with more details, and the script itself.&lt;/p&gt;

&lt;p&gt;(Thanks to hoverbear for their original code, and bluss for
&lt;a href=&quot;https://users.rust-lang.org/t/psa-1-0-0-beta-2-is-out/1019/13&quot;&gt;their similar shell script&lt;/a&gt;
for inspiration.)&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://users.rust-lang.org/t/helping-travis-catch-the-rustc-train/1167&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/344o0e/helping_travis_catch_the_rustc_train/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Helping%20Travis%20catch%20the%20rustc%20train%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/04/helping-travis-catch-the-rustc-train/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/04/helping-travis-catch-the-rustc-train/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/04/helping-travis-catch-the-rustc-train/&amp;amp;title=Helping%20Travis%20catch%20the%20rustc%20train&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

</description>
        </item>
        
        
        
        <item>
            <title>Little libraries</title>
            <link>https://huonw.github.io/blog/2015/04/little-libraries/</link>
            <pubDate>Mon, 27 Apr 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/04/little-libraries</guid>
            <description>&lt;p&gt;I’ve been having a lot of fun recently solving “little” problems in
Rust. I have a long term project to make something for displaying my
(GPS-tagged) photos nicely and, along the way, I’ve discovered and
filled in a few gaps by creating focused crates for small tasks.&lt;/p&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;whole-world.jpg&quot;&gt;
      &lt;img src=&quot;whole-world.jpg&quot; alt=&quot;A screenshot of a world map, with dots and coloured lines joined into a time series&quot; title=&quot;Lots of places to go yet.&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;My travels over the last few years, as displayed by the current web interface (served to the browser via Rust, of course).&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;Once an idea is formed, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo&lt;/code&gt; means it only takes an hour or two to go
from zero to a focused crate with a chunk of code &amp;amp;
&lt;a href=&quot;http://doc.rust-lang.org/book/documentation.html&quot;&gt;documentation&lt;/a&gt;, published on &lt;a href=&quot;http://crates.io&quot;&gt;crates.io&lt;/a&gt;
and a nice feeling of completion.&lt;/p&gt;

&lt;p&gt;The best part is that it makes sense to do this: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo&lt;/code&gt; makes it so
easy to reuse code in a reliable way that publishing such little
crates is worth the effort: it takes a single line in the package
manifest to use them, and package versions only change when you
ask&lt;sup id=&quot;fnref:lock&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:lock&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;, so your code won’t implicitly break if upstream changes.
Rust&lt;sup id=&quot;fnref:unique&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:unique&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; is improving on many traditional systems languages in
this respect by encouraging a good package ecosystem from the
beginning, whereas languages like C or C++ don’t have a canonical
process and so it can take non-trivial effort to integrate third party
code.&lt;/p&gt;

&lt;p&gt;Of course, not everything can be a small library: for the GPS photo
project, I needed to be able to read EXIF data (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rexiv2&lt;/code&gt;), interact
with a database (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rusqlite&lt;/code&gt;) and display a web interface (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;iron&lt;/code&gt;,
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;nickel&lt;/code&gt;). Nonetheless, the ease with which &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo&lt;/code&gt; manages
dependencies is still massively useful for “big” libraries like those,
for both the developers and the users.&lt;/p&gt;

&lt;div class=&quot;centered-libs&quot;&gt;
&lt;div class=&quot;lib-info&quot; style=&quot;display: inline-block&quot;&gt;
  &lt;a class=&quot;lib-link&quot; href=&quot;https://felixcrux.com/files/doc/rexiv2/&quot;&gt;rexiv2&lt;/a&gt;
  &lt;a href=&quot;https://crates.io/crates/rexiv2&quot;&gt;&lt;img class=&quot;lib-badge inline-image&quot; src=&quot;https://img.shields.io/crates/v/rexiv2.svg&quot; alt=&quot;rexiv2 on crates.io&quot; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;div class=&quot;lib-info&quot; style=&quot;display: inline-block&quot;&gt;
  &lt;a class=&quot;lib-link&quot; href=&quot;http://www.rust-ci.org/jgallagher/rusqlite/doc/rusqlite/&quot;&gt;rusqlite&lt;/a&gt;
  &lt;a href=&quot;https://crates.io/crates/rusqlite&quot;&gt;&lt;img class=&quot;lib-badge inline-image&quot; src=&quot;https://img.shields.io/crates/v/rusqlite.svg&quot; alt=&quot;rusqlite on crates.io&quot; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;div class=&quot;lib-info&quot; style=&quot;display: inline-block&quot;&gt;
  &lt;a class=&quot;lib-link&quot; href=&quot;http://ironframework.io/doc/iron/&quot;&gt;iron&lt;/a&gt;
  &lt;a href=&quot;https://crates.io/crates/iron&quot;&gt;&lt;img class=&quot;lib-badge inline-image&quot; src=&quot;https://img.shields.io/crates/v/iron.svg&quot; alt=&quot;iron on crates.io&quot; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;div class=&quot;lib-info&quot; style=&quot;display: inline-block&quot;&gt;
  &lt;a class=&quot;lib-link&quot; href=&quot;http://docs.nickel.rs/nickel/&quot;&gt;nickel&lt;/a&gt;
  &lt;a href=&quot;https://crates.io/crates/nickel&quot;&gt;&lt;img class=&quot;lib-badge inline-image&quot; src=&quot;https://img.shields.io/crates/v/nickel.svg&quot; alt=&quot;nickel on crates.io&quot; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;h2 id=&quot;the-process&quot;&gt;The process&lt;/h2&gt;

&lt;p&gt;I have a “process” with three parts:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;write the code&lt;/li&gt;
  &lt;li&gt;infrastructure: register &lt;a href=&quot;https://travis-ci.org&quot;&gt;travis CI&lt;/a&gt; to
upload documentation to be visible at &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$user.github.io/$repo&lt;/code&gt; (I
also add some &lt;a href=&quot;/blog/2015/03/rust-infrastructure-can-be-your-infrastructure/&quot;&gt;project management tools&lt;/a&gt;),&lt;/li&gt;
  &lt;li&gt;crates.io: add
&lt;a href=&quot;http://doc.crates.io/manifest.html#package-metadata&quot;&gt;metadata&lt;/a&gt;
and
&lt;a href=&quot;http://doc.crates.io/crates-io.html#publishing-crates&quot;&gt;publish the crate&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;It’s pretty simple, especially with some automation for the
infrastructure step. Other than writing the code itself, the most
complicated part of the whole process is uploading the documentation
to be readable online: everything else is essentially a single &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo
...&lt;/code&gt; invocation. My usual configuration for Travis looks something
like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-yaml&quot; data-lang=&quot;yaml&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;na&quot;&gt;language&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;rust&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;sudo&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;cargo build --verbose &amp;amp;&amp;amp; cargo test --verbose &amp;amp;&amp;amp; cargo doc --verbose&lt;/span&gt;
&lt;span class=&quot;na&quot;&gt;after_success&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;|&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;[ $TRAVIS_BRANCH = master ] &amp;amp;&amp;amp;&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;[ $TRAVIS_PULL_REQUEST = false ] &amp;amp;&amp;amp;&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;echo &apos;&amp;lt;meta http-equiv=refresh content=0;url=[CRATE NAME]/index.html&amp;gt;&apos; &amp;gt; target/doc/index.html &amp;amp;&amp;amp;&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;git clone https://github.com/davisp/ghp-import &amp;amp;&amp;amp;&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;./ghp-import/ghp-import -n target/doc &amp;amp;&amp;amp;&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;git push -fq https://${GH_TOKEN}@github.com/${TRAVIS_REPO_SLUG}.git gh-pages&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;global&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;secure&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;Khw6CgS[...]jlPRac=&quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Update 2015-04-28&lt;/em&gt;: see
&lt;a href=&quot;/blog/2015/04/helping-travis-catch-the-rustc-train/&quot;&gt;&lt;em&gt;Helping Travis catch the rustc train&lt;/em&gt;&lt;/a&gt; for a neater
way to do this and more.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;after_success&lt;/code&gt; section manages publishing the documentation that
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo doc&lt;/code&gt; renders, via
&lt;a href=&quot;https://github.com/davisp/ghp-import&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ghp-import&lt;/code&gt;&lt;/a&gt;. It is inspired
by
&lt;a href=&quot;http://www.hoverbear.org/2015/03/07/rust-travis-github-pages/&quot;&gt;Andrew Hobden’s instructions&lt;/a&gt;,
modified to avoid needing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sudo&lt;/code&gt; to be able to get the faster/more
responsive Travis builds. Hopefully this will get even easier in
future, with some sort of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustdoc&lt;/code&gt; as a service. (See also Keegan
McAllister’s
&lt;a href=&quot;https://github.com/kmcallister/travis-doc-upload&quot;&gt;more secure variant&lt;/a&gt;.)&lt;/p&gt;

&lt;p&gt;(I believe one can have a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.travis.yml&lt;/code&gt; that compiles on both nightly
and beta/stable by adding something like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rust:
[&quot;nightly&quot;, &quot;1.0.0-beta3&quot;]&lt;/code&gt;, but I’ve not yet investigated.)&lt;/p&gt;

&lt;h2 id=&quot;cogset&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cogset&lt;/code&gt;&lt;/h2&gt;

&lt;div class=&quot;lib-info&quot; style=&quot;&quot;&gt;
  &lt;a class=&quot;lib-link&quot; href=&quot;http://huonw.github.io/cogset/cogset&quot;&gt;cogset&lt;/a&gt;
  &lt;a href=&quot;https://crates.io/crates/cogset&quot;&gt;&lt;img class=&quot;lib-badge inline-image&quot; src=&quot;https://img.shields.io/crates/v/cogset.svg&quot; alt=&quot;cogset on crates.io&quot; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;The first problem that I encountered was wanting to group clusters of
photos that are close in space-time, so that I could highlight the
segments where I’m actually walking around some interesting place and
skip the boring bits of travelling in between.&lt;/p&gt;

&lt;figure class=&quot;image has-caption&quot;&gt;
  &lt;div class=&quot;image-positioner&quot;&gt;
    
    &lt;a href=&quot;scotland-circles.jpg&quot;&gt;
      &lt;img src=&quot;scotland-circles.jpg&quot; alt=&quot;A screenshot of a map of a part of Scotland, with coloured dots and lines joined into a time-series, and circles around clusters of those&quot; title=&quot;Climbing Arthur&apos;s Seat was great.&quot; /&gt;
    &lt;/a&gt;
    
  &lt;/div&gt;
  &lt;figcaption&gt;&lt;p&gt;A few days in Scotland: Linlithgow (small circle, in the middle), Falkirk, back to Linlithgow (large) and ending in Edinburgh.&lt;/p&gt;
&lt;/figcaption&gt;
&lt;/figure&gt;

&lt;p&gt;This is exactly what
&lt;a href=&quot;https://en.wikipedia.org/wiki/Cluster_analysis&quot;&gt;clustering&lt;/a&gt; is
designed to do… but unfortunately I couldn’t find any
pre-implemented algorithms for doing this in Rust.&lt;/p&gt;

&lt;p&gt;A bit of research indicated that I probably wanted a density-based
clustering algorithm, such as
&lt;a href=&quot;https://en.wikipedia.org/wiki/DBSCAN&quot;&gt;DBSCAN&lt;/a&gt; or
&lt;a href=&quot;https://en.wikipedia.org/wiki/OPTICS_algorithm&quot;&gt;OPTICS&lt;/a&gt;. These are
quite simple to use: feed in a collection of points with the ability
to find all the points that are less than ε units away from a given
point and DBSCAN efficiently iterates over those points finding
“dense” clusters, like the circles in the image above.&lt;/p&gt;

&lt;p&gt;A few hours of working through the Wikipedia pseudocode, testing
and documenting gave me the
&lt;a href=&quot;http://huonw.github.io/cogset/cogset/&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cogset&lt;/code&gt;&lt;/a&gt; crate, with its
generic
&lt;a href=&quot;http://huonw.github.io/cogset/cogset/struct.Dbscan.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dbscan&lt;/code&gt;&lt;/a&gt;
type. This slotted straight into my project by just adding &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cogset =
&quot;0.1&quot;&lt;/code&gt; to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[dependencies]&lt;/code&gt; section.&lt;/p&gt;

&lt;p&gt;I particularly like how &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dbscan&lt;/code&gt; is generic over the index/database of
points, letting someone calling &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Dbscan&lt;/code&gt; use a
&lt;a href=&quot;http://huonw.github.io/cogset/cogset/struct.BruteScan.html&quot;&gt;naive index&lt;/a&gt;
if performance of the DBSCAN computation isn’t a problem, or an
efficient
&lt;a href=&quot;https://en.wikipedia.org/wiki/Spatial_database#Spatial_index&quot;&gt;spatial index&lt;/a&gt;
if it is.&lt;/p&gt;

&lt;h2 id=&quot;tz-search&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tz-search&lt;/code&gt;&lt;/h2&gt;

&lt;div class=&quot;lib-info&quot; style=&quot;&quot;&gt;
  &lt;a class=&quot;lib-link&quot; href=&quot;http://huonw.github.io/tz-search/tz_search&quot;&gt;tz-search&lt;/a&gt;
  &lt;a href=&quot;https://crates.io/crates/tz-search&quot;&gt;&lt;img class=&quot;lib-badge inline-image&quot; src=&quot;https://img.shields.io/crates/v/tz-search.svg&quot; alt=&quot;tz-search on crates.io&quot; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;I discovered that my Nexus 5 records some timestamps incorrectly:
panoramas use the local time as the GPS time, resulting in some
confusing artifacts on the map. Fortunately both the local time and
the GPS location are recorded correctly, so it is possible to compute
the true GPS time by deducing the UTC offset of the local time and
hence computing the true GPS time from the local time.&lt;/p&gt;

&lt;p&gt;This requires knowing the timezone of a point on the Earth’s surface,
again something for which I couldn’t find a good Rust library. Looking
into this problem turned up
&lt;a href=&quot;https://github.com/bradfitz/latlong&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;latlong&lt;/code&gt;&lt;/a&gt;, a very neat little
Go library for doing exactly this task: mapping a latitude/longitude
pair to the name of the timezone it is in.&lt;/p&gt;

&lt;p&gt;Porting it directly&lt;sup id=&quot;fnref:pattern-matching&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:pattern-matching&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; was straight-forward, resulting in
&lt;a href=&quot;http://huonw.github.io/tz-search/tz_search/&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;tz-search&lt;/code&gt;&lt;/a&gt;, which offers:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timezone&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;tz_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;lookup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;33.8885&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;151.1908&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;{}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;timezone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// Australia/Sydney&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Of course, just knowing the name of the timezone isn’t good enough,
but it’s the first step of getting the UTC offset (I haven’t
investigated the remaining ones yet…).&lt;/p&gt;

&lt;h2 id=&quot;order-stat&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;order-stat&lt;/code&gt;&lt;/h2&gt;

&lt;div class=&quot;lib-info&quot; style=&quot;&quot;&gt;
  &lt;a class=&quot;lib-link&quot; href=&quot;http://huonw.github.io/order-stat/order_stat&quot;&gt;order-stat&lt;/a&gt;
  &lt;a href=&quot;https://crates.io/crates/order-stat&quot;&gt;&lt;img class=&quot;lib-badge inline-image&quot; src=&quot;https://img.shields.io/crates/v/order-stat.svg&quot; alt=&quot;order-stat on crates.io&quot; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;The most recent “little library” I published is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;order-stat&lt;/code&gt;, for
computing order statistics (the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;k&lt;/code&gt;th smallest/largest element of a
set). The motivation is expanding &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cogset&lt;/code&gt; slightly, with
&lt;a href=&quot;https://en.wikipedia.org/wiki/OPTICS_algorithm&quot;&gt;the OPTICS algorithm&lt;/a&gt;,
which requires the ability to do exactly that.&lt;/p&gt;

&lt;p&gt;Poking about, I found a few
&lt;a href=&quot;https://en.wikipedia.org/wiki/Selection_algorithm&quot;&gt;selection algorithms&lt;/a&gt;,
notably &lt;a href=&quot;https://en.wikipedia.org/wiki/Quickselect&quot;&gt;quickselect&lt;/a&gt; and
&lt;a href=&quot;https://en.wikipedia.org/wiki/Floyd–Rivest_algorithm&quot;&gt;Floyd–Rivest&lt;/a&gt;,
as well as the obvious one of doing a full sort and indexing to
retrieve the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;k&lt;/code&gt;th element. All offer the same interface, so decision
between them is only guided by performance.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Algorithm&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Huge (ms)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Large (µs)&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Small (ns)&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Sort&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;7.2&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;87.8&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;264&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Quickselect&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1.1&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;9.7&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;83&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Floyd–Rivest&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;strong&gt;0.48&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;strong&gt;2.4&lt;/strong&gt;&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;&lt;strong&gt;72&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Hence, Floyd–Rivest has the honour of being
&lt;a href=&quot;http://huonw.github.io/order-stat/order_stat/fn.kth.html&quot;&gt;the star&lt;/a&gt;
of this little library.&lt;/p&gt;

&lt;p&gt;Somewhat against the idea of a little library, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;order-stat&lt;/code&gt;
&lt;a href=&quot;http://huonw.github.io/order-stat/order_stat/fn.median_of_medians.html&quot;&gt;includes&lt;/a&gt;
a
&lt;a href=&quot;https://en.wikipedia.org/wiki/Median_of_medians&quot;&gt;medians-of-medians&lt;/a&gt;
implementation too (in “little”’s defense, it’s related to order
statistics and medians).&lt;/p&gt;

&lt;div class=&quot;lib-info&quot; style=&quot;&quot;&gt;
  &lt;a class=&quot;lib-link&quot; href=&quot;https://github.com/BurntSushi/quickcheck#readme&quot;&gt;quickcheck&lt;/a&gt;
  &lt;a href=&quot;https://crates.io/crates/quickcheck&quot;&gt;&lt;img class=&quot;lib-badge inline-image&quot; src=&quot;https://img.shields.io/crates/v/quickcheck.svg&quot; alt=&quot;quickcheck on crates.io&quot; /&gt;&lt;/a&gt;
&lt;/div&gt;

&lt;p&gt;I should plug the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;quickcheck&lt;/code&gt; crate: it discovered a few subtle bugs
in my Floyd–Rivest implementation, stemming from me incorrectly
translating the copy-happy original version (presumably designed for
GC’d languages where any value can be duplicated cheaply) to a Rust
version that avoids clones and respects ownership.&lt;/p&gt;

&lt;p&gt;(As a bonus, neither algorithm does any allocations!)&lt;/p&gt;

&lt;h2 id=&quot;write-your-own&quot;&gt;Write your own!&lt;/h2&gt;

&lt;p&gt;I’m sure there’s little tasks that you’ve solved in your own projects
that others might want to solve too, so unleashing them on the world
as a focused library on crates.io would be great! With 1.0 fast
approaching, the Rust ecosystem has a level of stability never seen
before, and maintaining a pile of little libraries is getting easier
and easier.&lt;/p&gt;

&lt;p&gt;(For best results, include &lt;a href=&quot;http://doc.rust-lang.org/book/documentation.html&quot;&gt;documentation&lt;/a&gt; and fill out as
much crates.io
&lt;a href=&quot;http://doc.crates.io/manifest.html#package-metadata&quot;&gt;metadata&lt;/a&gt; as you
can.)&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://users.rust-lang.org/t/little-libraries/1159&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/340dtb/little_libraries/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Little%20libraries%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/04/little-libraries/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/04/little-libraries/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/04/little-libraries/&amp;amp;title=Little%20libraries&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:lock&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;This locking even holds true when using git dependencies:
     once you compile once with Cargo versions of dependencies are
     locked until you explicitly opt-in to a version upgrade with
     &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo update&lt;/code&gt;. See
     &lt;a href=&quot;http://doc.crates.io/guide.html#cargo.toml-vs-cargo.lock&quot;&gt;“Cargo.toml vs Cargo.lock”&lt;/a&gt;
     for more details. &lt;a href=&quot;#fnref:lock&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:unique&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;This post isn’t meant to imply that Rust is the only
       language (or even systems language) with this property. I
       just think it’s cool that Rust has it. &lt;a href=&quot;#fnref:unique&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:pattern-matching&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;It wasn’t quite a one-to-one port: I opted to use
                 &lt;a href=&quot;https://github.com/huonw/tz-search/blob/229617cd23dc413957c5b02d027c7ce4bb2be3d0/src/lib.rs#L120-L124&quot;&gt;an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;enum&lt;/code&gt;&lt;/a&gt; and &lt;a href=&quot;https://github.com/huonw/tz-search/blob/229617cd23dc413957c5b02d027c7ce4bb2be3d0/src/lib.rs#L260-L284&quot;&gt;pattern matching&lt;/a&gt;
                 to model the different internal encodings,
                 instead of a trait object which would be the true
                 translation of the &lt;a href=&quot;https://github.com/bradfitz/latlong/blob/7d3ff04aa2b06b9db6947f7d99a4bb3cc66570bc/latlong.go#L157-L159&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;interface&lt;/code&gt;&lt;/a&gt; used
                 in the original library. &lt;a href=&quot;#fnref:pattern-matching&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Rust infrastructure can be your infrastructure</title>
            <link>https://huonw.github.io/blog/2015/03/rust-infrastructure-can-be-your-infrastructure/</link>
            <pubDate>Tue, 17 Mar 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/03/rust-infrastructure-can-be-your-infrastructure</guid>
            <description>&lt;p&gt;&lt;a href=&quot;http://rust-lang.org&quot;&gt;Rust&lt;/a&gt; is a reasonably large project:
&lt;a href=&quot;https://github.com/rust-lang/rust&quot;&gt;the compiler and standard libraries&lt;/a&gt;
are over 350kloc, built across nearly 40000 commits by the hands of
around 900 contributors. Not only that: there are more than 30 other
repositories in
&lt;a href=&quot;https://github.com/rust-lang&quot;&gt;the rust-lang GitHub organisation&lt;/a&gt; that
shouldn’t fall by the wayside, and, for rust-lang/rust alone, there
are often more than 100 pull requests landing and a dozen new
contributors in a single week.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Update 2015-06-16&lt;/em&gt;: Homu is now available online: &lt;a href=&quot;http://homu.io/&quot;&gt;homu.io&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;It is sometimes chaotic… &lt;em&gt;often&lt;/em&gt; chaotic… with
&lt;a href=&quot;http://blog.rust-lang.org/2015/02/13/Final-1.0-timeline.html&quot;&gt;1.0 quickly approaching&lt;/a&gt;,
and there are definitely places where the core team (and the rest of
the community) sometimes can’t keep up, but getting code into
rust-lang/rust is rarely one&lt;sup id=&quot;fnref:rollups&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:rollups&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt;, due to two critical robots:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;an integration bot/pull request manager, &lt;a href=&quot;https://github.com/barosl/homu&quot;&gt;Barosl Lee’s Homu&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;a review assigner,
&lt;a href=&quot;https://github.com/nrc/highfive&quot;&gt;Josh Matthews and Nick Cameron’s Highfive&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The former ensures the master tree is essentially always passing
tests, on all first-class platforms: it won’t let a patch land until
it does. The latter makes sure that pull requests don’t slip through
the cracks, there’s someone with power watching out for each one.&lt;/p&gt;

&lt;p&gt;I’ve been wanting to experiment with using the bots for my own code,
and yesterday I finally got around to it, and (with a small bit of
assistance from the tool authors) got it all setup in a short time. I
can say from experience that it isn’t too hard to configure these
tools to run on your own repos on GitHub, and
they’re not Rust-specific: they work with any repository. All you need
is a public-facing server!&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Update 2015-03-19&lt;/em&gt;: Homu and Highfive have been
 &lt;a href=&quot;http://huon.me:54857/queue/all&quot;&gt;deployed&lt;/a&gt; to the
 &lt;a href=&quot;https://github.com/contain-rs&quot;&gt;contain-rs&lt;/a&gt; organisation, as
 &lt;a href=&quot;https://github.com/FlashCat&quot;&gt;@FlashCat&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Also, Manish
&lt;a href=&quot;http://www.reddit.com/r/rust/comments/2zf8ur/rust_infrastructure_can_be_your_infrastructure/cpitcam&quot;&gt;points out&lt;/a&gt;
that there is actually an open
&lt;a href=&quot;https://careers.mozilla.org/en-US/position/oymA0fwe&quot;&gt;Operations Engineer&lt;/a&gt;
position for Mozilla Research, to manage the infrastructure of Rust
and Servo.&lt;/p&gt;

&lt;h2 id=&quot;homu-not-rocket-science&quot;&gt;Homu: “Not rocket science”&lt;/h2&gt;

&lt;p&gt;Homu is a reimplementation/extension of the original
&lt;a href=&quot;https://github.com/graydon/bors&quot;&gt;bors&lt;/a&gt; bot. Bors was implemented by
&lt;a href=&quot;http://graydon.livejournal.com/186550.html&quot;&gt;Graydon Hoare (Rust’s original designer) in 2013 (or so)&lt;/a&gt;
to apply Ben Elliston’s “not rocket science” rule to Rust:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The Not Rocket Science Rule Of Software Engineering:&lt;/p&gt;

  &lt;p&gt;automatically maintain a repository of code that always passes all the tests&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The &lt;a href=&quot;http://buildbot.rust-lang.org/homu/&quot;&gt;core idea&lt;/a&gt; is simple: the
correct way for anyone (including core developers) to land code into
rust-lang/rust is to submit a pull request to that repo.  Someone on
the reviewers whitelist will review the code and, once it looks good,
write a “review approved” comment:
&lt;a href=&quot;https://github.com/rust-lang/rust/pull/23415#issuecomment-81877665&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@bors r+&lt;/code&gt;&lt;/a&gt;&lt;sup id=&quot;fnref:bors&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:bors&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;. Homu
will take the pull request, merge it with master into a new branch,
and submit that branch to a testing backend. If the tests pass, Homu
fast-forwards to the merge commit and starts on the next patch in
&lt;a href=&quot;http://buildbot.rust-lang.org/homu/queue/rust&quot;&gt;its queue&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The process of code review and landing gated on testing works wonders
for Rust: only really subtly—or transiently—broken patches get
into master, other forms of brokenness are eliminated before touching
mainline at all and backing out/reverting of patches once landed is
rarely needed.&lt;sup id=&quot;fnref:no-free-lunch&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:no-free-lunch&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;Having tests always passing sounds great, right? It’s even better
because it’s not hard to use Homu with your own repos: just follow the
&lt;a href=&quot;https://github.com/barosl/homu#usage&quot;&gt;usage instructions&lt;/a&gt; (I could
only get the git version to work). It supports two testing backends at
the moment, &lt;a href=&quot;http://buildbot.net/&quot;&gt;Buildbot&lt;/a&gt; and
&lt;a href=&quot;https://travis-ci.org/&quot;&gt;Travis CI&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Barosl tells me that he &lt;s&gt;is planning&lt;/s&gt; has released
&lt;a href=&quot;http://homu.io&quot;&gt;Homu-as-a-service&lt;/a&gt;, so &lt;s&gt;it is likely to get even
simpler in future&lt;/s&gt; adding it to your project is easy and we live in
the future.&lt;/p&gt;

&lt;p&gt;Even if you don’t need the test handling, Homu is still useful: the
queue pages are nice pull request summary panels, especially since
they can be combined to display pull requests across multiple repos,
e.g. the
&lt;a href=&quot;http://buildbot.rust-lang.org/homu/&quot;&gt;rust-lang Homu instance&lt;/a&gt; manages
two repositories, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cargo&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rust&lt;/code&gt;, and there’s a variety of ways to
digest that:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://buildbot.rust-lang.org/homu/queue/cargo&quot;&gt;…/queue/cargo&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://buildbot.rust-lang.org/homu/queue/cargo+rust&quot;&gt;…/queue/cargo+rust&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://buildbot.rust-lang.org/homu/queue/all&quot;&gt;…/queue/all&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I easily lose track of pull requests against my own repos, so I’ve
registered a lot of my repos with my Homu instance, and the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;/all&lt;/code&gt;
endpoint shows me everything I want to know.&lt;/p&gt;

&lt;p&gt;Which brings me on to highfive:&lt;/p&gt;

&lt;h2 id=&quot;highfive-welcome-you-should-hear-from-huonw-soon&quot;&gt;Highfive: “welcome! You should hear from @huonw soon.”&lt;/h2&gt;

&lt;p&gt;As I said, I easily lose track of pull requests against my own
repos. My GitHub news feed and emails is very busy with all
development and discussion in rust-lang/rust, so small pull requests
in other repositories can get drowned out and lost. Fortunately, Rust
(and Servo) itself had this problem and has made progress on it
already: &lt;a href=&quot;https://github.com/nrc/highfive&quot;&gt;Nick Cameron&lt;/a&gt; built on
&lt;a href=&quot;https://github.com/jdm/highfive&quot;&gt;Josh Matthew’s script&lt;/a&gt; for greeting
new contributors to create
&lt;a href=&quot;https://github.com/rust-highfive&quot;&gt;@rust-highfive&lt;/a&gt;, a bot that still
&lt;a href=&quot;https://github.com/rust-lang/rust/pull/23364#issuecomment-80426067&quot;&gt;says hi&lt;/a&gt;,
but also manages
&lt;a href=&quot;https://github.com/rust-lang/rust/pull/23430#event-256365835&quot;&gt;assigning potential reviewers to PRs&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The bot randomly chooses a person (out of a small per-repo whitelist)
and uses GitHub’s assignment feature to make the pull request their
responsibility. The theory is that, for people who don’t know who
should review the code, the randomly chosen reviewer will either do
the review themselves or will know someone more appropriate, so things
rarely get left in limbo for weeks or months, especially not small
patches like edits to documentation.&lt;/p&gt;

&lt;p&gt;Of course, in single-person projects like my own, finding other
reviewers doesn’t make so much sense, the goal is to be friendly, and
have pull requests automatically assigned to me, so that they show up
in the list that GitHub can show.&lt;/p&gt;

&lt;h3 id=&quot;setting-it-up&quot;&gt;Setting it up&lt;/h3&gt;

&lt;p&gt;Highfive is currently mainly designed for use as an internal rust-lang
tool, and so isn’t as well documented as Homu which was written to be
more generic from the start. I’ll write down a bit of docs here, but
they’re just an overview, so don’t be afraid to look at/edit the
source if you do wish to deploy it: it is easy to customize. Of
course, as an internal tool, it is designed to cater just for the
needs of rust-lang and support/patches not needed for that use case
may not be accepted upstream.&lt;/p&gt;

&lt;p&gt;Highfive lives as CGI script &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;newpr.py&lt;/code&gt;, using a basic configuration
file to authenticate with GitHub and JSON files to control the
possible reviewers on a per repo basis. The script selects a person
out of a set of eligible reviewers it determines by looking at the
JSON files, and the directory that has the most code changes in the
pull request.&lt;/p&gt;

&lt;p&gt;Highfive also supports pinging reviewers on IRC to… encourage them
to make progress on the PR: the upstream repo is currently
&lt;a href=&quot;https://github.com/nrc/highfive/blob/7c5b73babfd0881d1c676b8f0f7dbbeed5a392ba/highfive/newpr.py#L109-L114&quot;&gt;hard-coded&lt;/a&gt;
to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#rust-bots&lt;/code&gt; on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;irc.mozilla.org&lt;/code&gt;. (It’s an internal tool!) &lt;strong&gt;Any deployment should
disable/change this.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;It interacts with GitHub via
&lt;a href=&quot;https://help.github.com/articles/about-webhooks/&quot;&gt;webhooks&lt;/a&gt;: to add
Highfive to a repository, create a webhook under the repo’s
settings pointing to whereever &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;newpr.py&lt;/code&gt; is exposed to the internet,
with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;application/x-www-form-urlencoded&lt;/code&gt; content type.&lt;/p&gt;

&lt;h4 id=&quot;configuration-files&quot;&gt;Configuration files&lt;/h4&gt;

&lt;p&gt;The GitHub file should just be called &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;config&lt;/code&gt;, and looks like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ini&quot; data-lang=&quot;ini&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nn&quot;&gt;[github]&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;lt;user name of the account to use for the bot&amp;gt;&lt;/span&gt;
&lt;span class=&quot;py&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;lt;api token generated for that account&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The API token must be protected, i.e. be careful to ensure that file
it isn’t accessible over the internet, and keep it out of git
(&lt;a href=&quot;https://help.github.com/articles/remove-sensitive-data/&quot;&gt;just deleting it after committing it isn’t enough&lt;/a&gt;:
it will still appear in the history). I’m not sure of the exact
permissions the token should have, the instance for rust-lang uses
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;notifications&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;read:org&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;repo&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;user&lt;/code&gt; but I suspect just
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;repo&lt;/code&gt; is enough.&lt;/p&gt;

&lt;p&gt;There are two sorts of JSON repo configuration files: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;name&amp;gt;.json&lt;/code&gt;
defines the set of reviewers chosen in the repo specifically called
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;name&amp;gt;&lt;/code&gt;, while &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_global.json&lt;/code&gt; defines groups of reviewers in scope in
all other config files. E.g. For rust-lang,
&lt;a href=&quot;https://github.com/nrc/highfive/blob/7c5b73babfd0881d1c676b8f0f7dbbeed5a392ba/highfive/configs/_global.json&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;_global.json&lt;/code&gt;&lt;/a&gt;
looks like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;groups&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;core&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@brson&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@pcwalton&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@nikomatsakis&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@alexcrichton&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@huonw&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;crates&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@huonw&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@alexcrichton&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;doc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@steveklabnik&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;And
&lt;a href=&quot;https://github.com/nrc/highfive/blob/7c5b73babfd0881d1c676b8f0f7dbbeed5a392ba/highfive/configs/rust.json&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rust.json&lt;/code&gt;&lt;/a&gt;
looks like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;groups&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;all&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;core&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;compiler&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@pnkfelix&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@nick29581&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@eddyb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@Aatch&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;syntax&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@pnkfelix&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@nick29581&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@sfackler&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@kmc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;libs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@aturon&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;dirs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;doc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;              &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;doc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;liballoc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;         &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;libs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;libarena&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;         &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;libs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;libbacktrace&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;     &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;libcollections&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;   &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;libs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;@Gankro&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;librustc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;         &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;compiler&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;As one might guess, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;groups&lt;/code&gt; defines groups of reviewers, in terms of
GitHub handles and other groups. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dirs&lt;/code&gt; dictionary lists
directories under &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;src&lt;/code&gt; in the repo, Highfive will determine which
directory contains the most changed files in the patch, and select
those groups/users, so that people with particular areas of expertise
get to review those patches (heuristically).&lt;/p&gt;

&lt;p&gt;The people in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;all&lt;/code&gt; group are considered eligible for any review,
and so are added to the pool no matter what. As such the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dirs&lt;/code&gt; field
is completely optional, if it is missing (or any directories are
missing) Highfive will select from only the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;all&lt;/code&gt; group.  I’ve
used this to
&lt;a href=&quot;https://github.com/huonw/highfive/tree/8bf65450821629fd5815fe7bbc3aab3ae69a449a/highfive/configs&quot;&gt;configure my Highfive&lt;/a&gt;
to assign me for everything (makes sense…).&lt;/p&gt;

&lt;h2 id=&quot;batch-configuration&quot;&gt;Batch configuration&lt;/h2&gt;

&lt;p&gt;It’s pretty annoying to use GitHub’s web interface to manually add to
each repo your robot collaborator, and then add the webhooks necessary
for Homu and Highfive, so I wrote
&lt;a href=&quot;https://github.com/huonw/repo-admin&quot;&gt;a few Python scripts&lt;/a&gt; to
help. The code has some examples of using them to set-up these two pieces of
infrastructure.&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://users.rust-lang.org/t/rust-infrastructure-can-be-your-infrastructure/688&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/2zf8ur/rust_infrastructure_can_be_your_infrastructure/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Rust%20infrastructure%20can%20be%20your%20infrastructure%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/03/rust-infrastructure-can-be-your-infrastructure/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/03/rust-infrastructure-can-be-your-infrastructure/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/03/rust-infrastructure-can-be-your-infrastructure/&amp;amp;title=Rust%20infrastructure%20can%20be%20your%20infrastructure&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:rollups&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;I’m being… optimistic. There’s so many patches submitted
        that we only keep up via regular “rollups”: landing
        several pull requests in a single batch (usually created
        by the hard-working
        &lt;a href=&quot;https://github.com/Manishearth&quot;&gt;Manish Goregaokar&lt;/a&gt;). This
        is a curse and a blessing of the design of the testing
        infrastructure: serialized testing means things take a
        while to land, but testing everything (including rollups)
        before landing ensures that the master branch still passes
        tests. &lt;a href=&quot;#fnref:rollups&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:bors&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Why &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@bors&lt;/code&gt; if its now Homu? The Homu back-end listens for
     mentions of the account it is registered to use, and
     rust-lang still uses &lt;a href=&quot;https://github.com/bors&quot;&gt;@bors&lt;/a&gt;. &lt;a href=&quot;#fnref:bors&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:no-free-lunch&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Unfortunately, there’s no free lunch, and the test
              guarantees come at a cost of scalability, as landing
              patches to master is serialised
              (&lt;a href=&quot;#fn:rollups&quot;&gt;see above too&lt;/a&gt;). &lt;a href=&quot;#fnref:no-free-lunch&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Some notes on Send and Sync</title>
            <link>https://huonw.github.io/blog/2015/02/some-notes-on-send-and-sync/</link>
            <pubDate>Fri, 20 Feb 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/02/some-notes-on-send-and-sync</guid>
            <description>&lt;p&gt;If you’ve been in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#rust-internals&lt;/code&gt; IRC channel recently, you
may’ve caught a madman raving about how much they like Rust:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-irc&quot; data-lang=&quot;irc&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;...
[15:50:03] &amp;lt;huon&amp;gt; I love this language
...
[20:02:07] &amp;lt;huon&amp;gt; did you know: Rust is awesome.
...
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;I was (and still am) losing my mind over how well &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;
interact with everything, especially now that
&lt;a href=&quot;https://github.com/rust-lang/rust/pull/22319&quot;&gt;the implementation&lt;/a&gt; for
&lt;a href=&quot;https://github.com/rust-lang/rfcs/pull/458&quot;&gt;RFC 458&lt;/a&gt; has landed.&lt;/p&gt;

&lt;p&gt;I’m aiming to write down a few edge cases and slight subtleties here
that Aaron Turon, Niko Matsakis and I have realised; so that we (and
others) don’t have to keep rediscovering them. So, unfortunately, this
short(ish) article isn’t aiming to describe entirely why I’m so keen
on them, but…&lt;/p&gt;

&lt;h2 id=&quot;the-traits&quot;&gt;The traits&lt;/h2&gt;

&lt;p&gt;… I’m sure I can write something.&lt;/p&gt;

&lt;p&gt;Rust aims to be a language with really good support for concurrency;
and there’s two parts to it: ownership &amp;amp; lifetimes, and the traits
&lt;a href=&quot;http://doc.rust-lang.org/nightly/std/marker/trait.Send.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;&lt;/a&gt; &amp;amp; &lt;a href=&quot;http://doc.rust-lang.org/nightly/std/marker/trait.Sync.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt;&lt;/a&gt; (the docs for these aren’t great at
the moment, especially since the latest set of improvements landed so
recently).&lt;/p&gt;

&lt;p&gt;These traits capture and control the two most common ways a piece of
data be accessed and thrown around by threads, dictating whether it is
safe to transfer ownership or pass a reference into another
thread.&lt;/p&gt;

&lt;p&gt;The traits are “marker traits”, meaning they have no methods and don’t
inherently provide any functionality. They serve as markers of certain
invariants that types implementing them are expected to fulfill
(they’re &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; to implement manually for this reason: the
programmer has to ensure the invariants are upheld). Specifically, the
working definitions we have from them now are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T: Send&lt;/code&gt;, then passing by-value a value of type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; into
another thread will not lead to data races (or other unsafety)&lt;/li&gt;
  &lt;li&gt;If &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T: Sync&lt;/code&gt;, then passing a reference &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T&lt;/code&gt; to a value of type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;
into another thread will not lead to data races (or other unsafety)
(aka, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T: Sync&lt;/code&gt; implies &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T: Send&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;That is, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt; is related to how a type works when shared across
multiple threads at once, and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; talks about how a type behaves as
it crosses a task boundary. (These definitions are pretty vague, but
the core team is definitely very interested in firming up and
formalising them to be able to prove useful concrete things.)&lt;/p&gt;

&lt;p&gt;These two traits enable a lot of useful concurrency and parallel
patterns to be expressed while guaranteeing memory safety. Basic
examples include message passing and shared memory, both immutable &amp;amp;
mutable (e.g. with enforced atomic instructions, or protected by
locks). But more advanced things are easily possible too, with safety
falling automatically out of the type system and the design of the
standard library, e.g. manipulating (reading and writing) data stored
directly on another thread’s stack and mutating disjoint pieces of a
vector in parallel with no locking necessary.&lt;/p&gt;

&lt;p&gt;(It’s worth mentioning that Rust only guarantees memory safety and,
particularly, freedom from data races, it doesn’t guarantee freedom
from other concurrence/parallelism issues, such as dead locks, and
non-data-race race conditions.)&lt;/p&gt;

&lt;p&gt;I have a very basic little library, &lt;a href=&quot;http://huonw.github.io/simple_parallel/simple_parallel/&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;simple_parallel&lt;/code&gt;&lt;/a&gt;
(&lt;a href=&quot;https://github.com/huonw/simple_parallel&quot;&gt;source&lt;/a&gt;), that is trying to experiment with these
ideas. The examples there show off a few of the things mentioned
above, and compile today. I think its pretty cool what Rust can do.&lt;/p&gt;

&lt;p&gt;Anyway, there’ll probably be lots more said about this later by me and
by others. Now, I’ll stop distracting myself and get on to the actual
notes I wanted to write down.&lt;/p&gt;

&lt;h2 id=&quot;sync--copy--send&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync + Copy&lt;/code&gt; ⇒ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;That is, if a type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; implements both &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Copy&lt;/code&gt;, then it can
also implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; (conversely, a type is only allowed to be both
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Copy&lt;/code&gt; if it is also &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Proof:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;// we start with some `T` on the main thread&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;nn&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;scoped&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(||&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// and transfer a reference to a subthread (safe, since T: Sync)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// now use `T: Copy` to duplicate the data out, meaning we&apos;ve&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// transferred `x` by-value into this new thread&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The transfer happened only using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync + Copy&lt;/code&gt; and so must be safe (if
it wasn’t safe &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; isn’t allowed to implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt;), hence it is
legal for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; to implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;This might not seem so interesting, since it &lt;em&gt;is&lt;/em&gt; just a specific case
of the definition of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt; (“can copy out of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt;” is a fundamental
property of our &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T: Copy&lt;/code&gt; type, and so has to be considered when
considering the thread safety of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T&lt;/code&gt;), but it is a little
subtle.&lt;/p&gt;

&lt;p&gt;Also, needing to consider this case at all probably won’t come up for
many types; one is most likely to encounter types that are not &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;
when storing pointers to shared memory—such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rc&lt;/code&gt;—and
most such types are not &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Copy&lt;/code&gt; since they have to manage their
memory—such as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rc&lt;/code&gt; again. The two most prominent examples are
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt; (which has safety ensured by &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt; and static analysis in the
compiler: lifetimes) and a hypothetical &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gc&amp;lt;T&amp;gt;&lt;/code&gt; pointer. I guess we’ll
just have to take care for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gc&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;mut-t-send-when-t-send&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut T: Send&lt;/code&gt; when &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T: Send&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;We want to work out when it is safe to transfer a mutable reference
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut T&lt;/code&gt; between threads. For the shared reference &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T&lt;/code&gt; it is easy:
replacing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T&lt;/code&gt; with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;U&lt;/code&gt; in the definition of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt; gives the
definition of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; (up to alpha renaming), so &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T: Send&lt;/code&gt; when &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T:
Sync&lt;/code&gt;, which can be
&lt;a href=&quot;https://github.com/rust-lang/rust/blob/522d09dfecbeca1595f25ac58c6d0178bbd21d7d/src/libcore/marker.rs#L388&quot;&gt;expressed in code&lt;/a&gt;
as&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;unsafe&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sync&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Send&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;For &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut&lt;/code&gt;, you might suspect that thread-safety might depend on
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt; in some way since that trait is so important for the other
reference type, but, you’d be wrong. It is another example of the
dramatic semantic difference between &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt; despite the
syntactic similarities.&lt;/p&gt;

&lt;p&gt;The mutable reference type has the guarantee that it is globally
unaliased, so if a thread has access to a piece of data via a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut&lt;/code&gt;,
then it is the only thread in the whole program that can legally read
from/write to that data. In particular, there’s no sharing and there
cannot be several threads concurrently accessing that memory at the
same time, hence the sharing-related guarantees of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sync&lt;/code&gt; don’t
guarantee thread-safety for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut&lt;/code&gt;. (RFC 458 describes this as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut&lt;/code&gt;
linearizing access to its contents.)&lt;/p&gt;

&lt;p&gt;Thinking about this, it seems like transferring a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut T&lt;/code&gt; between
threads might &lt;em&gt;almost&lt;/em&gt; be safe for any &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;. The thinking might be that
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt; describes “passing by-value” between threads, and this passing
changes fundamental properties of the program, such as where/when
destructors are run; on the other hand, passing a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut T&lt;/code&gt; is passing
by reference so doesn’t change such things, and a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut&lt;/code&gt; has unique
access, so the whole set-up is basically the same as running on the
original thread. For example, passing a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut T&lt;/code&gt; around doesn’t change
where/when the destructor of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; is run: it is still run when it
goes out of scope, on the main thread.&lt;/p&gt;

&lt;p&gt;Unfortunately…&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;// we start with some `T` on the main thread&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// wrap it up&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;packet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Some&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;nn&quot;&gt;thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;scoped&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(||&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// and transfer just a mutable reference to the other thread&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;packet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// and then steal the `T` out!&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.take&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;That code transfers the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; between two threads by just transferring a
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut Option&amp;lt;T&amp;gt;&lt;/code&gt;. Hence, if it is illegal to transfer a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; between
threads, by-value, it must also be illegal to transfer &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut
Option&amp;lt;T&amp;gt;&lt;/code&gt; because we can use that to construct a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; transfer. In
pseudo-code, if &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T: !Send&lt;/code&gt;, then &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut Option&amp;lt;T&amp;gt;: !Send&lt;/code&gt; (using
“negative bounds”, meaning &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; does not implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Send&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Of course, this isn’t a failing of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Option&lt;/code&gt; itself, its just a type
that makes for a direct example. One could also create one &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; in each
thread, and use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;std::mem::swap&lt;/code&gt; to exchange their places, causing
both &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;s to transfer by-value between threads (double the
unsafety!!).&lt;/p&gt;

&lt;p&gt;The general rule is that transferring a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut T&lt;/code&gt; between threads is
guaranteed to be safe if &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T: Send&lt;/code&gt;, so &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut T&lt;/code&gt; behaves &lt;em&gt;very&lt;/em&gt; much
like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; with relation to concurrency. (It is &lt;em&gt;theoretically&lt;/em&gt; possible
to have types for which sending a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut T&lt;/code&gt; is safe, but sending a
plain &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; is not, meaning &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut T: Send&lt;/code&gt; but not &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T: Send&lt;/code&gt;, so the
relationship is not “if and only if”, as wrongerontheinternet pointed
out on /r/rust.)&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://users.rust-lang.org/t/some-notes-on-send-and-sync/400&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/2wjwcl/some_notes_on_send_and_sync/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Some%20notes%20on%20Send%20and%20Sync%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/02/some-notes-on-send-and-sync/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/02/some-notes-on-send-and-sync/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/02/some-notes-on-send-and-sync/&amp;amp;title=Some%20notes%20on%20Send%20and%20Sync&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

</description>
        </item>
        
        
        
        <item>
            <title>Rust Sydney's first meetup: trip report</title>
            <link>https://huonw.github.io/blog/2015/02/rust-sydney-1/</link>
            <pubDate>Sat, 14 Feb 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/02/rust-sydney-1</guid>
            <description>&lt;p&gt;&lt;a href=&quot;http://meetup.com/Rust-Sydney&quot;&gt;Rust Sydney&lt;/a&gt; had its first event last
Monday!  The first Rust gathering I know of in Sydney, in Australia,
or in the whole southern hemisphere.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;logo.png&quot; alt=&quot;Logo&quot; title=&quot;The logo; with apologies to the Rust logo and the Sydney Harbour Bridge&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I had fun meeting all sorts of people interested in Rust: some who’d
dived in deep already, some who’d only recently started playing with
it, and some who’d been following for a while but had unfortunately
not got time to actually use it (hopefully soon!).&lt;/p&gt;

&lt;p&gt;Thanks to everyone who came and, to
&lt;a href=&quot;http://envoyat.com&quot;&gt;Envoy Advanced Technologies&lt;/a&gt; for providing the
space and drinks, free of charge.&lt;/p&gt;

&lt;p&gt;I started off with a brief talk, covering where Rust is now (and
&lt;a href=&quot;https://github.com/rust-lang/rust/pull/22319&quot;&gt;will be soon&lt;/a&gt;), built
around the classic haiku:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;a systems language&lt;br /&gt;
pursuing the trifecta&lt;br /&gt;
safe, concurrent, fast&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;http://huonw.github.io/rust-sydney-feb15/&quot;&gt;My slides are online&lt;/a&gt;,
although there’s no recording so they may not be so interesting. But
you &lt;em&gt;can&lt;/em&gt; get the human part of the experience by imagining this
picture of me is moving.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;awkward-me.jpg&quot; alt=&quot;Me in front of my slides&quot; title=&quot;Me, standing awkwardly as I begin&quot; /&gt;&lt;/p&gt;

&lt;p&gt;(I was fortunate enough to schedule the meetup when Servo developer
&lt;a href=&quot;https://twitter.com/SimonSapin&quot;&gt;Simon Sapin&lt;/a&gt; happened to be in
Sydney; he took all three photos in this article.)&lt;/p&gt;

&lt;p&gt;I wrapped up and handed over to Steve Klabnik: he was in town for a
conference and was the reason I was prompted into organising
something, so Rust Sydney could start with a bang. We got a reprisal
of his FOSDEM talk
&lt;a href=&quot;https://fosdem.org/2015/schedule/event/the_story_of_rust/&quot;&gt;“The story of Rust”&lt;/a&gt;
which was a really interesting overview of Rust since beginning as
Graydon Hoare’s personal project around 2007, up until the
&lt;a href=&quot;http://blog.rust-lang.org/2015/02/13/Final-1.0-timeline.html&quot;&gt;impending 1.0&lt;/a&gt;
release. &lt;a href=&quot;http://www.steveklabnik.com/fosdem2015/&quot;&gt;His slides&lt;/a&gt; (use
left/right arrow keys to navigate) are also online, and hopefully the
recording from FOSDEM will appear in the near future.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;steve.jpg&quot; alt=&quot;Steve Klabnik in front of his slides&quot; title=&quot;Steve, starting off&quot; /&gt;&lt;/p&gt;

&lt;p&gt;It was pleasantly surprising to see how many people were interested
enough in Rust to come to a meetup, at least 30. More than I had
expected and I didn’t even do much advertising. It was awesome!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;crowd-small.jpg&quot; alt=&quot;The crowd&quot; title=&quot;Intent listeners&quot; /&gt;&lt;/p&gt;

&lt;p&gt;I’ll be trying to organise more events, so be sure sign up to
&lt;a href=&quot;http://meetup.com/Rust-Sydney&quot;&gt;Rust Sydney&lt;/a&gt; to keep track (although I
will post to &lt;a href=&quot;http://users.rust-lang.org&quot;&gt;users.r-l.o&lt;/a&gt; and
&lt;a href=&quot;http://reddit.com/r/rust&quot;&gt;/r/rust&lt;/a&gt; too). I hope to see you there.&lt;/p&gt;

&lt;p&gt;(I have a &lt;a href=&quot;https://github.com/huonw/rust-sydney/&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rust-sydney&lt;/code&gt;&lt;/a&gt;
repository for collecting related things.)&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://users.rust-lang.org/t/rust-sydneys-first-meetup-trip-report/341&quot;&gt;users&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/2vvat9/rust_sydneys_first_meetup_trip_report/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Rust%20Sydney&apos;s%20first%20meetup:%20trip%20report%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/02/rust-sydney-1/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/02/rust-sydney-1/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/02/rust-sydney-1/&amp;amp;title=Rust%20Sydney&apos;s%20first%20meetup:%20trip%20report&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

</description>
        </item>
        
        
        
        <item>
            <title>Object Safety</title>
            <link>https://huonw.github.io/blog/2015/01/object-safety/</link>
            <pubDate>Tue, 13 Jan 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/01/object-safety</guid>
            <description>&lt;p&gt;A trait object in &lt;a href=&quot;http://rust-lang.org&quot;&gt;Rust&lt;/a&gt;&lt;sup id=&quot;fnref:version&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:version&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; can only be
constructed out of traits that satisfy certain restrictions, which are
collectively called “object safety”. This object safety can appear to
be a needless restriction at first, I’ll try to give a deeper
understanding into why it exists and related compiler behaviour.&lt;/p&gt;

&lt;p&gt;This is the second (and a half) in a short series of articles on trait
objects. The first
one—&lt;a href=&quot;/blog/2015/01/peeking-inside-trait-objects/&quot;&gt;Peeking inside Trait Objects&lt;/a&gt;—set the scene by
looking into the low-level implementation details of trait objects,
and the
first-and-a-half-th—&lt;a href=&quot;/blog/2015/01/the-sized-trait/&quot;&gt;an interlude about &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sized&lt;/code&gt;&lt;/a&gt;—looked
at the special &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sized&lt;/code&gt; trait. I strongly recommended at least glancing
over it to be familiar with trait objects, vtables and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sized&lt;/code&gt;,
since this post builds on those concepts.&lt;/p&gt;

&lt;details class=&quot;post-series&quot;&gt;
  &lt;summary class=&quot;post-series-title&quot;&gt;Other posts in this series on trait objects&lt;/summary&gt;
  &lt;ol class=&quot;post-series-list&quot;&gt;
    &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/blog/2015/01/peeking-inside-trait-objects/&quot;&gt;Peeking inside Trait Objects&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/blog/2015/01/the-sized-trait/&quot;&gt;The Sized Trait&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;current&quot;&gt;&lt;a href=&quot;/blog/2015/01/object-safety/&quot;&gt;Object Safety&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/blog/2015/05/where-self-meets-sized-revisiting-object-safety/&quot;&gt;Where Self Meets Sized: Revisting Object Safety&lt;/a&gt;&lt;/li&gt;
  &lt;/ol&gt;
&lt;/details&gt;

&lt;h2 id=&quot;motivation&quot;&gt;Motivation&lt;/h2&gt;

&lt;p&gt;The notion of object safety was introduced in &lt;a href=&quot;https://github.com/rust-lang/rfcs/blob/master/text/0255-object-safety.md&quot;&gt;RFC 255&lt;/a&gt;, with
the motivation that one should be able to use the dynamic trait object
types &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt; (as a type) in more places where a “static” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt; (as a
trait) generic is expected. In a sense, it is bringing the two uses of
traits—static dispatch and dynamic dispatch—closer together,
reducing special handling in the language.&lt;/p&gt;

&lt;p&gt;The high-level behaviour/restriction imposed by that RFC is: a trait
object—&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;Foo&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut Foo&lt;/code&gt;, etc.—can only be made out of a trait
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt; if &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt; is object safe. This section will focus on borrowed &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt;
trait objects, but what is said applies to any.&lt;/p&gt;

&lt;p&gt;Let’s look at an example of the things object safety enables: if we
have a trait &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt; and a function like&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sized&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;It would be nice to be able to call it like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;func(object)&lt;/code&gt; where
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;object: &amp;amp;Foo&lt;/code&gt;; that is, take &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; to be the dynamically sized type
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt;. As you might guess from the context, it is not possible to
do this without some notion of object safety: the arbitrary piece of
code &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;...&lt;/code&gt; can do bad (uncontrolled) things.&lt;/p&gt;

&lt;p&gt;Take it on faith (for a few paragraphs) that calling a generic method
is one example of something that can’t be done on a trait object. So,
let’s define a trait and a function like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Bad&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;generic_method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Bad&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sized&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.generic_method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// A = &amp;amp;str&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.generic_method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1_u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// A = u8&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The function &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;func&lt;/code&gt; &lt;em&gt;can’t&lt;/em&gt; be called like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;foo(obj)&lt;/code&gt; where &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;obj&lt;/code&gt; is a
trait object &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;Bad&lt;/code&gt; because the generic method calls are
illegal. There’s a possible approaches here, like&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;have signatures like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;T: Foo + ?Sized&amp;gt;(x: &amp;amp;T)&lt;/code&gt; not work with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T =
  Foo&lt;/code&gt; by default, for any trait &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt;,&lt;/li&gt;
  &lt;li&gt;check the body of the function to see if it is legal to have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T =
Bad&lt;/code&gt; when we ask for that, or&lt;/li&gt;
  &lt;li&gt;ensure that we can never pass a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;Bad&lt;/code&gt; into &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;func&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Approach 1 is what existed before object safety, and is what object
safety was designed to solve. Approach 2 violates Rust’s goal of
needing to know only the signatures of any function/method called to
type-check a program. That is, if one satisfies the signature one can
call it, unlike C++, there’s no need to type-check internal code of
each the actual instantiation of a generic because the signatures
guarantee that the internals will be legal.&lt;/p&gt;

&lt;p&gt;Approach 3 is the one that Rust takes via object safety, by ensuring
that it is impossible to ever encounter a scenario in which a function
with signature &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fn func&amp;lt;T: Foo + ?Sized&amp;gt;(x: &amp;amp;T)&lt;/code&gt; that does bad things,
could have &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T == Foo&lt;/code&gt;. That is, make it so that the only way that a
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;Foo&lt;/code&gt; can be created is if there’s no way that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;func&lt;/code&gt; can misbehave.&lt;/p&gt;

&lt;p&gt;Object safety and those sort of function signatures apply particularly
to UFCS (uniform function call syntax), which allows one to call
methods as normal, generic function scoped under the type/trait in
which they are defined, for example, the UFCS function
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Bad::generic_method&lt;/code&gt; from the trait above effectively has signature:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Bad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;generic_method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Bad&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sized&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;If &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fn method(&amp;amp;self)&lt;/code&gt; comes from a trait &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;x.method()&lt;/code&gt; can
always be rewritten to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo::method(x)&lt;/code&gt; (modulo auto-deref and
auto-ref, which possibly add an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt; and/or some number of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*&lt;/code&gt;s),
however, without object safety, it may not be possible to write
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;trait_object.method()&lt;/code&gt; as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo::method(trait_object)&lt;/code&gt;. Object safety
guarantees this transformation is always valid—making UFCS and
method calls essentially equivalent—by outlawing creating a trait
object in situations where it would be invalid.&lt;/p&gt;

&lt;h2 id=&quot;how-it-works&quot;&gt;How it works&lt;/h2&gt;

&lt;p&gt;After &lt;a href=&quot;https://github.com/rust-lang/rfcs/blob/master/text/0546-Self-not-sized-by-default.md&quot;&gt;RFC 546&lt;/a&gt; and &lt;a href=&quot;https://github.com/rust-lang/rust/pull/20341&quot;&gt;PR 20341&lt;/a&gt;, making trait objects
automatically work with those sort of generic functions is achieved by
effectively having the compiler implicitly create an implementation of
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt; (as a trait) for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt; (as a type). Each method of the trait is
implemented to call into the corresponding method in the vtable. In
the explicit notation of &lt;a href=&quot;/blog/2015/01/peeking-inside-trait-objects/&quot;&gt;my previous post&lt;/a&gt;, the
situation might look something like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// autogenerated impl&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// `self` is an `&amp;amp;Foo` trait object.&lt;/span&gt;

        &lt;span class=&quot;c&quot;&gt;// load the right function pointer and call it with the opaque data pointer&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.vtable.method1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;usize&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// `self` is an `&amp;amp;mut Foo` trait object&lt;/span&gt;

        &lt;span class=&quot;c&quot;&gt;// as above, passing along the other arguments&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.vtable.method2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;To be clear: the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.vtable&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.data&lt;/code&gt; notation doesn’t work directly
on trait objects, so that code has no hope of compiling, I am just
being explicit about actual behaviour.&lt;/p&gt;

&lt;h2 id=&quot;object-safety&quot;&gt;Object safety&lt;/h2&gt;

&lt;p&gt;The rules for object safety were set-out in that initial
&lt;a href=&quot;https://github.com/rust-lang/rfcs/blob/master/text/0255-object-safety.md&quot;&gt;RFC 255&lt;/a&gt;, with two missed cases identified and resolved in
&lt;a href=&quot;https://github.com/rust-lang/rfcs/issues/428&quot;&gt;RFC 428&lt;/a&gt; and &lt;a href=&quot;https://github.com/rust-lang/rfcs/blob/master/text/0546-Self-not-sized-by-default.md&quot;&gt;RFC 546&lt;/a&gt;. At the time of writing, the
possible ways to be object-unsafe are described
&lt;a href=&quot;https://github.com/rust-lang/rust/blob/2127e0d56d85ff48aafce90ab762650e46370b63/src/librustc/middle/traits/object_safety.rs#L30-L52&quot;&gt;by two enums&lt;/a&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ObjectSafetyViolation&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;tcx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// Self : Sized declared on the trait&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;SizedSelf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;/// Method has someting illegal&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Rc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;ty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;tcx&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MethodViolationCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;/// Reasons a method might not be object-safe.&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;#[derive(Copy,Clone,Show)]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MethodViolationCode&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;/// e.g., `fn(self)`&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ByValueSelf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;/// e.g., `fn foo()`&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;StaticMethod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;/// e.g., `fn foo(&amp;amp;self, x: Self)` or `fn foo(&amp;amp;self) -&amp;gt; Self`&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ReferencesSelf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;/// e.g., `fn foo&amp;lt;A&amp;gt;()`&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;Generic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Let’s go through each case.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Update 2015-05-06&lt;/em&gt;: &lt;a href=&quot;https://github.com/rust-lang/rfcs/pull/817&quot;&gt;RFC 817&lt;/a&gt; added more precise control
  over object safety via &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;where&lt;/code&gt; clauses, see
  &lt;a href=&quot;/blog/2015/05/where-self-meets-sized-revisiting-object-safety/&quot;&gt;&lt;em&gt;Where Self Meets Sized: Revisiting Object Safety&lt;/em&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;h3 id=&quot;sized-self&quot;&gt;Sized &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Self&lt;/code&gt;&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sized&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The trait &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt; inherits from &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sized&lt;/code&gt;, requiring the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Self&lt;/code&gt; type to be
sized, and hence writing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;impl Foo for Foo&lt;/code&gt; is illegal: the type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt;
is not sized and doesn’t implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sized&lt;/code&gt;. Traits default to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Self&lt;/code&gt;
being possibly-unsized—effectively a bound &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Self: ?Sized&lt;/code&gt;—to make
more traits object safe by default.&lt;/p&gt;

&lt;h3 id=&quot;by-value-self&quot;&gt;By-value &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;Update 2015-05-06&lt;/em&gt;: this is no longer object unsafe, but it is
  impossible to call such methods on possibly-unsized types, including
  trait objects. That is, one can define traits with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt; methods,
  but one is statically disallowed from call those methods on trait
  objects (and on generics that could be trait objects).&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;At the moment&lt;sup id=&quot;fnref:change-is-in-the-air&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:change-is-in-the-air&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;, it’s not possible to use trait
objects by-value anywhere, due to the lack of sizedness. If one were
to write an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;impl Foo for Foo&lt;/code&gt;, the signature of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;method&lt;/code&gt; would mean
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt; has type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt;: a by-value unsized type, illegal!&lt;/p&gt;

&lt;h3 id=&quot;static-method&quot;&gt;Static method&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;There’s no way to provide a sensible implementation of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;func&lt;/code&gt; as a
static method on the type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i32&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// what goes here??&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The compiler can’t just conjure up some &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;i32&lt;/code&gt;—the chosen value may
make no sense in context—and it can’t call some other type’s
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo::func&lt;/code&gt; method—which type would it choose? The whole scenario
makes no sense.&lt;/p&gt;

&lt;h3 id=&quot;references-self&quot;&gt;References &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Self&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;There’s two fundamental ways in which this can happen, as an argument
or as a return value, in either case a reference to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Self&lt;/code&gt; type
means that it must match the type of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt; value, the true type
of which is unknown at compile time. For example:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The types of the two arguments have to match, but this can’t be
guaranteed with a trait object: the erased types of two separate
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;Foo&lt;/code&gt; values may not match:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;other&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.vtable.method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* what goes here? */&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;(Using the explicit-but-invalid notation as above.)&lt;/p&gt;

&lt;p&gt;One can’t use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;other.data&lt;/code&gt; because the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;method&lt;/code&gt; entry of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.vtable&lt;/code&gt;
is assuming that both pointers point to the same, specific type
(whatever type the vtable is specialised for), but there’s absolutely
no guarantee &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;other.data&lt;/code&gt; points to matching data. There’s also not
necessarily a (reliable) way to detect a mismatch, and no way the
compiler can know a correct way to handle a mismatch even if it can be
detected.&lt;/p&gt;

&lt;h3 id=&quot;generic-method&quot;&gt;Generic method&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;As discussed briefly in &lt;a href=&quot;/blog/2015/01/peeking-inside-trait-objects/&quot;&gt;the first post&lt;/a&gt;, generic
functions in Rust are monomorphised, that is, a copy of the function
is created for each type used as a generic parameter. An attempted
implementation might look like&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.vtable&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;cm&quot;&gt;/* ... huh ???*/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The vtable is a static struct of function pointers, somehow we have to
select a function pointer from it that will work with the arbitrary
type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt;. To have any hope of doing this, one would have&lt;sup id=&quot;fnref:alternative&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:alternative&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;
to pregenerate code for every type that could possibly be used for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt;
and then fill in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;huh&lt;/code&gt; above to select the right one. This would
be effectively implicitly adding a whole series of methods to the
trait:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method_u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;     &lt;span class=&quot;c&quot;&gt;// A = u8&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method_i8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;     &lt;span class=&quot;c&quot;&gt;// A = i8&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method_String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// A = String&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method_unit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;   &lt;span class=&quot;c&quot;&gt;// A = ()&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// ...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;and each one would need an entry in the vtable struct. If it is even
possible, this would be some serious bloat, especially as I imagine
most possibilities wouldn’t be used.&lt;/p&gt;

&lt;p&gt;For the more fundamental question of “is it possible”, the answer is
rarely: it only works if the number of possible types that can be used
with the generic parameters is finite and completely known, so that a
complete list can be written. I think the only circumstance in which
this occurs is if all the parameters have to be bounded by some
private trait (the example above fails, since &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; is unbounded and so
can be used with every type ever, including ones that aren’t even
defined in scope).&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      

      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/2s2okp/object_safety/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Object%20Safety%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/01/object-safety/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/01/object-safety/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/01/object-safety/&amp;amp;title=Object%20Safety&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:version&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;/blog/2015/01/peeking-inside-trait-objects/&quot;&gt;As usual&lt;/a&gt;, this post is designed to reflect
        the state of Rust at version &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc 1.0.0-nightly
        (44a287e6e 2015-01-08 17:03:40 -0800)&lt;/code&gt;. &lt;a href=&quot;#fnref:version&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:change-is-in-the-air&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;There is desire to remove/relax this
                     restriction for function parameters, and
                     especially &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self&lt;/code&gt;, to allow them to be
                     unsized types. Niko’s &lt;a href=&quot;http://smallcultfollowing.com/babysteps/blog/2014/11/26/purging-proc/&quot;&gt;“Purging proc”&lt;/a&gt;
                     describes the problem and the necessity for
                     &lt;a href=&quot;http://doc.rust-lang.org/nightly/std/thunk/trait.Invoke.html&quot;&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Invoke&lt;/code&gt; trait&lt;/a&gt; as a work-around
                     for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;FnOnce&lt;/code&gt; trait. &lt;a href=&quot;#fnref:change-is-in-the-air&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:alternative&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Strictly speaking I suppose one could do some type of
            runtime codegen/JITing, but that’s not really
            something Rust wants to build into the language, as it
            would require Rust programs to essentially carry
            around a compiler. &lt;a href=&quot;#fnref:alternative&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>The Sized Trait</title>
            <link>https://huonw.github.io/blog/2015/01/the-sized-trait/</link>
            <pubDate>Mon, 12 Jan 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/01/the-sized-trait</guid>
            <description>&lt;p&gt;An important piece in my story about trait objects in
&lt;a href=&quot;http://rust-lang.org&quot;&gt;Rust&lt;/a&gt;&lt;sup id=&quot;fnref:version&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:version&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; is &lt;a href=&quot;https://doc.rust-lang.org/nightly/std/marker/trait.Sized.html&quot;&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sized&lt;/code&gt; trait&lt;/a&gt;,
so I’m slotting in this short post between
&lt;a href=&quot;/blog/2015/01/peeking-inside-trait-objects/&quot;&gt;my discussion of low-level details&lt;/a&gt; and
&lt;a href=&quot;/blog/2015/01/object-safety/&quot;&gt;the post on “object safety”&lt;/a&gt;.&lt;/p&gt;

&lt;details class=&quot;post-series&quot;&gt;
  &lt;summary class=&quot;post-series-title&quot;&gt;Other posts in this series on trait objects&lt;/summary&gt;
  &lt;ol class=&quot;post-series-list&quot;&gt;
    &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/blog/2015/01/peeking-inside-trait-objects/&quot;&gt;Peeking inside Trait Objects&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;current&quot;&gt;&lt;a href=&quot;/blog/2015/01/the-sized-trait/&quot;&gt;The Sized Trait&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/blog/2015/01/object-safety/&quot;&gt;Object Safety&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/blog/2015/05/where-self-meets-sized-revisiting-object-safety/&quot;&gt;Where Self Meets Sized: Revisting Object Safety&lt;/a&gt;&lt;/li&gt;
  &lt;/ol&gt;
&lt;/details&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sized&lt;/code&gt; is a (very) special compiler built-in trait that is
automatically implemented or not based on the sizedness of a type. A
type is considered sized if the precise size of a value of type is
known and fixed at compile time once the real types of the type
parameters are known (i.e. after completing monomorphisation). For
example,&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;u8&lt;/code&gt; is one byte,&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec&amp;lt;T&amp;gt;&lt;/code&gt; is either 12 or 24 bytes (platforms with 32 and 64 bit
pointers respectively), independent of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;,&lt;/li&gt;
  &lt;li&gt;pointers like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T&lt;/code&gt; are sized too, on 64-bit platforms &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T&lt;/code&gt; is either
8 or 16 bytes, for sized &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; and unsized &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; respectively. This may
seems like the size isn’t known, but the sizedness of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; is always
known at compile time, so the precise one of those options is also
known.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Types for which the size is not known are called
&lt;a href=&quot;http://smallcultfollowing.com/babysteps/blog/2014/01/05/dst-take-5/&quot;&gt;dynamically sized types (DSTs)&lt;/a&gt;, and there’s two classes of
examples in current Rust&lt;sup id=&quot;fnref:virtual&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:virtual&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[T]&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trait&lt;/code&gt;. A slice&lt;sup id=&quot;fnref:str&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:str&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[T]&lt;/code&gt; is unsized because it represents an unknown-at-compile-time
number of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;s contiguous in memory. A &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trait&lt;/code&gt; is unsized because it
represents a value of any type that implements &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trait&lt;/code&gt; and these have
wildly different sizes; I discussed this
&lt;a href=&quot;/blog/2015/01/peeking-inside-trait-objects/#why-pointers&quot;&gt;in the previous post too&lt;/a&gt;. Unsized values must always
appear behind a pointer at runtime, like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;[T]&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&amp;lt;Trait&amp;gt;&lt;/code&gt;, and
have the information required to compute their size and other relevant
properties (the length for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[T]&lt;/code&gt;, the vtable for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Trait&lt;/code&gt;) stored next
to that pointer.&lt;/p&gt;

&lt;p&gt;Sized types are more flexible, since the compiler knows how to
manipulate them directly: passing them directly into functions, moving
them about in memory. Putting an unsized type behind a pointer
effectively makes it sized. A &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&lt;/code&gt; trait object, like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&amp;lt;Trait&amp;gt;&lt;/code&gt;,
is the closest one can get to handling a trait object as a normal
value; the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&lt;/code&gt; ensures sizedness (at the expense of an allocation)
without fundamentally changing the ownership semantics of a normal
value.&lt;/p&gt;

&lt;h2 id=&quot;sized&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;?Sized&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sized&lt;/code&gt; trait gets some special syntax for use in bounds, at the
moment: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;?Sized&lt;/code&gt;. Such a bound is necessary because &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sized&lt;/code&gt; is
special: it is a default bound for type parameters in most positions,
and so one needs some way to opt-in to a parameter not necessarily
being sized.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// can only be used with sized T&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Sized&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;// can be used with both sized and unsized T&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This bound is particularly special because adding the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;?Sized&lt;/code&gt; bound
to a parameter &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; increases the number of types that can be used for
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;, whereas every other trait bound reduces it.&lt;/p&gt;

&lt;p&gt;This unusual decision was chosen because of the increased flexibility
of sized types, and some data (which I now can’t find in the issue
tracker) which indicated that most type parameters needed to be
sized. That is, not having these defaults would result in many
instances of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T: Sized&lt;/code&gt; bounds in the standard library and elsewhere.&lt;/p&gt;

&lt;p&gt;However, I believe this data did not consider using some form of
inference (like lifetime elision) to try to guess when sizedness was
likely to be needed, and some data Niko has been collecting apparently
implies that such inference may make removing this special case
significantly more palatable. (It may or may not be so palatable so as
to be worth the breaking change…)&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      

      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/2s2gee/the_sized_trait/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=The%20Sized%20Trait%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/01/the-sized-trait/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/01/the-sized-trait/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/01/the-sized-trait/&amp;amp;title=The%20Sized%20Trait&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:version&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Per the &lt;a href=&quot;/blog/2015/01/peeking-inside-trait-objects/&quot;&gt;previous post&lt;/a&gt;, this post is
        designed to reflect the state of Rust at version: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc
        1.0.0-nightly (44a287e6e 2015-01-08 17:03:40 -0800)&lt;/code&gt;. &lt;a href=&quot;#fnref:version&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:virtual&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;There is the possibility that Rust will gain some form of
        &lt;a href=&quot;http://discuss.rust-lang.org/t/summary-of-efficient-inheritance-rfcs/494&quot;&gt;“inheritance”&lt;/a&gt;, and Niko points out to me that
        &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sized&lt;/code&gt; may play an important role there too: certain
        types (e.g. “base classes” in an conventional inheritance
        scheme)  make sense to be unsized. &lt;a href=&quot;#fnref:virtual&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:str&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The unsized string type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;str&lt;/code&gt; is usually considered a slice,
    since it is just a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;[u8]&lt;/code&gt; with the guarantee that the bytes
    are valid UTF-8. &lt;a href=&quot;#fnref:str&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Peeking inside Trait Objects</title>
            <link>https://huonw.github.io/blog/2015/01/peeking-inside-trait-objects/</link>
            <pubDate>Sat, 10 Jan 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/01/peeking-inside-trait-objects</guid>
            <description>&lt;p&gt;One of the most powerful parts of
&lt;a href=&quot;http://rust-lang.org&quot;&gt;the Rust programming language&lt;/a&gt;&lt;sup id=&quot;fnref:version&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:version&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; is the
&lt;a href=&quot;http://doc.rust-lang.org/nightly/book/traits.html&quot;&gt;trait system&lt;/a&gt;. They form the basis of the generic system and
polymorphic functions and types. There’s an interesting use of traits,
as so-called “trait objects”, that allows for dynamic polymorphism and
heterogeneous uses of types, which I’m going to look at in more detail
over a short series of posts.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Update 2015-02-19&lt;/em&gt;: A lot of this document has been copied into
&lt;a href=&quot;http://doc.rust-lang.org/nightly/book/trait-objects.html&quot;&gt;the main book&lt;/a&gt;, with improvements and updates.&lt;/p&gt;

&lt;p&gt;This post will set the scene, with an introduction to the internals of
a trait object; the remaining posts will look at the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Sized&lt;/code&gt; trait and
“object safety” in detail (a lot of people have encountered trouble
with somewhat abstruse compiler errors about this recently).&lt;/p&gt;

&lt;details class=&quot;post-series&quot;&gt;
  &lt;summary class=&quot;post-series-title&quot;&gt;Other posts in this series on trait objects&lt;/summary&gt;
  &lt;ol class=&quot;post-series-list&quot;&gt;
    &lt;li class=&quot;current&quot;&gt;&lt;a href=&quot;/blog/2015/01/peeking-inside-trait-objects/&quot;&gt;Peeking inside Trait Objects&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/blog/2015/01/the-sized-trait/&quot;&gt;The Sized Trait&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/blog/2015/01/object-safety/&quot;&gt;Object Safety&lt;/a&gt;&lt;/li&gt;
    &lt;li class=&quot;&quot;&gt;&lt;a href=&quot;/blog/2015/05/where-self-meets-sized-revisiting-object-safety/&quot;&gt;Where Self Meets Sized: Revisting Object Safety&lt;/a&gt;&lt;/li&gt;
  &lt;/ol&gt;
&lt;/details&gt;

&lt;h2 id=&quot;traits&quot;&gt;Traits&lt;/h2&gt;

&lt;p&gt;A simple example of a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;trait&lt;/code&gt; is this &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt;. It has one method that is
expected to return a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt;, and, in the real world, there would be
some expectation about what the string would mean, but this is just a
blog, so you’re free to make up your own favourite meaning.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;trait&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This can then be implemented for certain types, stating that these
types satisfy whatever behaviours the trait is trying to summarise and
allow polymorphism over. For example, bytes and strings are &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt;,
apparently:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;format!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;u8: {}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;impl&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;format!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;string: {}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;There’s two basic ways to use traits to be polymorphic:&lt;/p&gt;

&lt;p&gt;The first and most common are generic functions like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fn func&amp;lt;T:
Foo&amp;gt;(x: &amp;amp;T)&lt;/code&gt;. These are implemented via monomorphisation, the compiler
creates a specialised version of the generic function for every type
used with it. This has some upsides—static dispatching of any
method calls&lt;sup id=&quot;fnref:upsides&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:upsides&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;, allowing for inlining and hence usually higher
performance—and some downsides—causing code bloat due to
many copies of the same function existing in the binary, one for each
type&lt;sup id=&quot;fnref:one-per-type&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:one-per-type&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;

&lt;p&gt;Fortunately, there’s second option if that trade-off is inappropriate,
or if being required to know every type everywhere is impossible or
undesirable.&lt;/p&gt;

&lt;h2 id=&quot;trait-objects&quot;&gt;Trait objects&lt;/h2&gt;

&lt;p&gt;Trait objects, like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;Foo&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&amp;lt;Foo&amp;gt;&lt;/code&gt;, are normal values that store
a value of &lt;em&gt;any&lt;/em&gt; type that implements the given trait, where the
precise type can only be known at runtime. The methods of the trait
can be called on a trait object via a special record of function
pointers (created and managed by the compiler).&lt;/p&gt;

&lt;p&gt;A function that takes a trait object—say &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fn func(x: &amp;amp;Foo)&lt;/code&gt;—is not
specialised to each of the types that implements &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt;: only one copy
is generated, often (but not always) resulting in less code
bloat. However, this comes at the cost of requiring slower virtual
function calls, and effectively inhibiting any chance of inlining and
related optimisations from occurring.&lt;/p&gt;

&lt;p&gt;Trait objects are both simple and complicated: their core
representation and layout is quite straight-forward, but there are
some curly error messages and surprising behaviours to discover.&lt;/p&gt;

&lt;h2 id=&quot;obtaining-a-trait-object&quot;&gt;Obtaining a trait object&lt;/h2&gt;

&lt;p&gt;There’s two similar ways to get a trait object value: casts and
coercions. If &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; is a type that implements a trait &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt; (e.g. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;u8&lt;/code&gt;
for the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt; above), then the two ways to get a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt; trait object
out of a pointer to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; look like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ref_to_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// `as` keyword for casting&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cast&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ref_to_t&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// using a `&amp;amp;T` in a place that has a known type of `&amp;amp;Foo` will implicitly coerce:&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;coerce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ref_to_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;also_coerce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;_u&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nused&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;
&lt;span class=&quot;nf&quot;&gt;also_coerce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ref_to_t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;These trait object coercions and casts also work for pointers like
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut T&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;mut Foo&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&amp;lt;T&amp;gt;&lt;/code&gt; to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&amp;lt;Foo&amp;gt;&lt;/code&gt;, but that’s all at
the moment. Other than some bugs, coercions and casts are identical.&lt;/p&gt;

&lt;p&gt;This operation can be seen as “erasing” the compiler’s knowledge about
the specific type of the pointer, and hence trait objects are
sometimes referred to “type erasure”.&lt;/p&gt;

&lt;h2 id=&quot;representation&quot;&gt;Representation&lt;/h2&gt;

&lt;p&gt;Let’s start simple, with the runtime representation of a trait
object. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;std::raw&lt;/code&gt; module contains structs with layouts that are
the same as the complicated build-in types,
&lt;a href=&quot;http://doc.rust-lang.org/nightly/std/raw/struct.TraitObject.html&quot;&gt;including trait objects&lt;/a&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TraitObject&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vtable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;That is, a trait object like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;Foo&lt;/code&gt; consists of a “data” pointer and a
“vtable” pointer.&lt;/p&gt;

&lt;p&gt;The data pointer addresses the data (of some unknown type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;) that
the trait object is storing, and the vtable pointer points to the
&lt;a href=&quot;https://en.wikipedia.org/wiki/Virtual_method_table&quot;&gt;vtable&lt;/a&gt; (“virtual method table”) corresponding to the implementation
of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt; for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;A vtable is essentially a struct of function pointers, pointing to the
concrete piece of machine code for each method in the
implementation. A method call like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;trait_object.method()&lt;/code&gt; will
retrieve the correct pointer out of the vtable and then do a dynamic
call of it. For example:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FooVtable&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;destructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()),&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;align&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;usize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;c&quot;&gt;// u8:&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;call_method_on_u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// the compiler guarantees that this function is only called&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// with `x` pointing to a u8&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unsafe&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;byte&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo_for_u8_vtable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FooVtable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FooVtable&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;destructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* compiler magic */&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;align&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// cast to a function pointer&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;call_method_on_u8&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;


&lt;span class=&quot;c&quot;&gt;// String:&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;call_method_on_String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// the compiler guarantees that this function is only called&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// with `x` pointing to a String&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unsafe&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Foo_for_String_vtable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FooVtable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FooVtable&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;destructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/* compiler magic */&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// values for a 64-bit computer, halve them for 32-bit ones&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;align&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;call_method_on_String&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;(The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;call_method_on_...&lt;/code&gt; functions could also be UFCS: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;lt;... as
Foo&amp;gt;::method&lt;/code&gt;, but that’s somewhat less clear.)&lt;/p&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;destructor&lt;/code&gt; field in each vtable points to a function that will
clean up any resources of the vtable’s type, for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;u8&lt;/code&gt; it is trivial,
but for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt; it will free the memory. This is necessary for owning
trait objects like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&amp;lt;Foo&amp;gt;&lt;/code&gt;, which need to clean-up both the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&lt;/code&gt;
allocation and as well as the internal type when they go out of
scope. The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;size&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;align&lt;/code&gt; fields store the size of the erased
type, and its alignment requirements; these are essentially unused at
the moment since the information is embedded in the destructor, but
will be used in future, as trait objects are progressively made more
flexible.&lt;/p&gt;

&lt;p&gt;Suppose we’ve got some values that implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt;, the explicit form
of construction and use of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt; trait objects might look a bit like
(ignoring the type mismatches: they’re all just pointers anyway):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.to_string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;u8&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// let b: &amp;amp;Foo = &amp;amp;a;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TraitObject&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// store the data&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// store the methods&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;vtable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Foo_for_String_vtable&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// let y: &amp;amp;Foo = x;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TraitObject&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// store the data&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// store the methods&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;vtable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Foo_for_u8_vtable&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// b.method();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.vtable.method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// y.method();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.vtable.method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;If &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;b&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y&lt;/code&gt; were owning trait objects (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Box&amp;lt;Foo&amp;gt;&lt;/code&gt;), there would be a
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;(b.vtable.destructor)(b.data)&lt;/code&gt; (respectively &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;y&lt;/code&gt;) call when they went
out of scope.&lt;/p&gt;

&lt;h3 id=&quot;why-pointers&quot;&gt;Why pointers?&lt;/h3&gt;

&lt;p&gt;The use of language like “fat pointer” implies that a trait object is
always a pointer of some form, but why? I wrote above that&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;[Trait objects] are normal values and can store a value of &lt;em&gt;any&lt;/em&gt; type
that implements the given trait, where the precise type can only
be known at runtime.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Rust does not put things behind a pointer by default, unlike many
managed languages, so types can have different sizes. Knowing the size
of the value at compile time is important for things like passing it
as an argument to a function, moving it about on the stack and
allocating (and deallocating) space on the heap to store it.&lt;/p&gt;

&lt;p&gt;For &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt;, we would need to have a value that could be at least either
a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;String&lt;/code&gt; (24 bytes) or a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;u8&lt;/code&gt; (1 byte), as well as any other type
for which dependent crates may implement &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Foo&lt;/code&gt; (any number of bytes at
all). There’s no way to guarantee that this last point can work if the
values are stored without a pointer, because those other types can be
arbitrarily large.&lt;/p&gt;

&lt;p&gt;Putting the value behind a pointer means the size of the value is not
relevant when we are tossing a trait object around, only the size of
the pointer itself.&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      

      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/2rutqb/peeking_inside_trait_objects/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Peeking%20inside%20Trait%20Objects%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/01/peeking-inside-trait-objects/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/01/peeking-inside-trait-objects/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/01/peeking-inside-trait-objects/&amp;amp;title=Peeking%20inside%20Trait%20Objects&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:version&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;It’s generally good practice for Rust posts to mention
        their version due to language instability, but this post
        and the series won’t have much real runnable code and the
        concepts described are pretty stable… but habits die
        hard: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc 1.0.0-nightly (44a287e6e 2015-01-08 17:03:40 -0800)&lt;/code&gt;.&lt;/p&gt;

      &lt;p&gt;This should also be the 1.0.0-alpha release (speaking of which,
the language instability should be starting to settle down now). &lt;a href=&quot;#fnref:version&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:upsides&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Static dispatching isn’t &lt;em&gt;guaranteed&lt;/em&gt; to be an upside:
        compilers aren’t perfect and may “optimise” code to become
        slower. For example, functions inlined too eagerly will
        bloating the instruction cache (cache rules everything
        around us). This is part of the reason that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#[inline]&lt;/code&gt;
        and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#[inline(always)]&lt;/code&gt; that should be used carefully, and
        one reason why using a trait object—with its dynamic
        dispatch—is sometimes more efficient.&lt;/p&gt;

      &lt;p&gt;However, the common case is that it is more efficient to use
static dispatch, and one can always have a thin
statically-dispatched wrapper function that does a dynamic, but
not vice versa, meaning static calls are more flexible. The
standard library tries to be statically dispatched where possible
for this reason. &lt;a href=&quot;#fnref:upsides&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:one-per-type&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;There’s no guarantee that there will actually be a
             copy of the function for each type that implements
             the trait, or even for each type that is used with
             the function, since the compiler is free to combine
             copies if it can tell that sharing the code would not
             change semantics. But, in general, this optimisation
             doesn’t trigger. &lt;a href=&quot;#fnref:one-per-type&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>crates.io crate graph</title>
            <link>https://huonw.github.io/blog/2015/01/crates.io-crate-graph/</link>
            <pubDate>Sun, 04 Jan 2015 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2015/01/crates.io-crate-graph</guid>
            <description>&lt;p&gt;&lt;a href=&quot;http://rust-lang.org/&quot;&gt;Rust&lt;/a&gt; is a systems programming language that
comes with an awesome package manager &lt;a href=&quot;http://doc.crates.io&quot;&gt;Cargo&lt;/a&gt;,
which hooks into the &lt;a href=&quot;https://crates.io&quot;&gt;crates.io&lt;/a&gt; registry as one of
its possible sources of packages. The packages can have dependency
relationships between each other, making the database into a natural
directed graph.&lt;/p&gt;

&lt;p&gt;Rust as we have it today is still relatively new, Cargo is even newer,
and crates.io is newer still, so
&lt;a href=&quot;http://www.modulecounts.com&quot;&gt;the package ecosystem is small&lt;/a&gt;: at the
time of writing, only 681 crates exist on crates.io (compared to 115
thousand for node.js’ &lt;a href=&quot;https://npmjs.org&quot;&gt;npm&lt;/a&gt;). I’m sure this will
quickly pick up with as Rust
&lt;a href=&quot;http://blog.rust-lang.org/2014/12/12/1.0-Timeline.html&quot;&gt;moves to 1.0&lt;/a&gt;
and beyond, but at the moment the network of crates and their
dependencies is still easily small enough to be handled globally with
simple means like the graphviz suite of tools and naive Rust
programs. Which is exactly what I did.&lt;/p&gt;

&lt;h2 id=&quot;the-graphs&quot;&gt;The graphs&lt;/h2&gt;

&lt;p&gt;The “full” graph of the ecosystem, as rendered by graphviz’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fdp&lt;/code&gt;, is
busy, very busy:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;most-packages.svg&quot;&gt;&lt;img src=&quot;most-packages-preview.png&quot; alt=&quot;Most packages&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Click for the rest of the much larger graph as an SVG with clickable
package names, sized according to the number of dependent
packages. You may wish to zoom out to get your bearings.&lt;/p&gt;

&lt;p&gt;That’s not even the complete package graph: development dependencies
are completely ignored (they can cause cycles), and any crates with no
dependencies and no dependent crates are not shown, since they’re not
yet interacting with the ecosystem at all; but even so, the graph is
fairly useless.&lt;/p&gt;

&lt;p&gt;The suck is mainly due to the most popular crates like
&lt;a href=&quot;https://crates.io/crates/time/reverse_dependencies&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;time&lt;/code&gt;&lt;/a&gt; and
&lt;a href=&quot;https://crates.io/crates/rustc-serialize/reverse_dependencies&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc-serialize&lt;/code&gt;&lt;/a&gt;, which
pull most clusters into the very center of the graph. Eliminating them
(specifically, crates with 15 or more dependent crates) gives a more
reasonable graph.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;fewer-packages.svg&quot;&gt;&lt;img src=&quot;fewer-packages-preview.png&quot; alt=&quot;Fewer packages&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(Click for bigger.)&lt;/p&gt;

&lt;p&gt;That graph makes it clearer that there’s a few distinct clusters. The
left has a lot of web-development functionality, clustered around
&lt;a href=&quot;https://crates.io/crates/hyper&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;hyper&lt;/code&gt;&lt;/a&gt;,
&lt;a href=&quot;https://crates.io/crates/conduit&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conduit&lt;/code&gt;&lt;/a&gt; and
&lt;a href=&quot;https://crates.io/crates/openssl&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;openssl&lt;/code&gt;&lt;/a&gt;. The right has a lot of
game-development and computer graphics libraries, with
&lt;a href=&quot;https://crates.io/keywords/piston&quot;&gt;many components&lt;/a&gt; (that’s not all
of them) from &lt;a href=&quot;http://piston.rs&quot;&gt;Piston&lt;/a&gt; and many from
&lt;a href=&quot;https://github.com/SiegeLord/RustAllegro&quot;&gt;RustAllegro&lt;/a&gt;. Spread around
are smaller clusters, like
&lt;a href=&quot;https://crates.io/crates/epsilonz&quot;&gt;epsilonz&lt;/a&gt;, and a variety of
numerical projects (of which some
&lt;a href=&quot;https://crates.io/crates/num/reverse_dependencies&quot;&gt;use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;num&lt;/code&gt;&lt;/a&gt;,
and &lt;a href=&quot;https://crates.io/crates/matrix&quot;&gt;others&lt;/a&gt; do not).&lt;/p&gt;

&lt;p&gt;It’s not a cluster so much, but there are a lot of examples of some
crate &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$foo&lt;/code&gt; depending on &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$foo-sys&lt;/code&gt;: people following
&lt;a href=&quot;http://doc.crates.io/build-script.html#*-sys-packages&quot;&gt;the convention for publishing FFI bindings&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;collecting-the-data&quot;&gt;Collecting the data&lt;/h2&gt;

&lt;p&gt;crates.io uses
&lt;a href=&quot;https://github.com/rust-lang/crates.io-index&quot;&gt;a git repo&lt;/a&gt; for
distributing information about the registered crates. Each one gets a
file containing a series of JSON objects (one per line) looking a lot
like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot; data-lang=&quot;json&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;cksum&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;665e3764d2f654d77382ec6ed40a2faf5a114a6e41e2d1c307ff97916924ec64&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;deps&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;default_features&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;kind&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;normal&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;num&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;optional&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;target&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;req&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;~0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;features&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
            &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
         &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;vers&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;0.1.5&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;yanked&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;slow_primes&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
   &lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;&quot;features&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;That’s the info for version 0.1.5 of
&lt;a href=&quot;https://crates.io/crates/slow_primes&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;slow_primes&lt;/code&gt;&lt;/a&gt;; it contains the
key piece of information&lt;sup id=&quot;fnref:index-works&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:index-works&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; that we need: the dependencies, in the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;deps&lt;/code&gt;
field. The simplistic analysis I’m doing here means that the only
facts of interest are the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;name&lt;/code&gt; of the dependency and whether it is a
dev-dependency (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;kind == &quot;dev&quot;&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;The fixed format of the JSON makes it ameniable to
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;#[derive(RustcDecodable)]&lt;/code&gt;, an attribute that will automatically
create deserialization code that does the right thing:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nd&quot;&gt;#[derive(RustcDecodable)]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CrateInfo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;vers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;deps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DepInfo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cksum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;features&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HashMap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;yanked&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nd&quot;&gt;#[derive(RustcDecodable)]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DepInfo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;features&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;optional&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;default_features&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;bool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;kind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Option&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The graph is based on the most recent version of each package, so I
just take the last line in each crate’s file, run it through
&lt;a href=&quot;http://doc.rust-lang.org/rustc-serialize/rustc-serialize/json/fn.decode.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;json::decode&lt;/code&gt;&lt;/a&gt;
and get back a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;CrateInfo&lt;/code&gt;. A few tens of lines later, the code knows
about every crate and about every dependency link and can print it all
out to a graphviz DOT file. (Unfortunately the neat
&lt;a href=&quot;http://doc.rust-lang.org/nightly/graphviz&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;graphviz&lt;/code&gt;&lt;/a&gt; library
doesn’t offer the flexibility I wanted for setting arbitrary
attributes, so I had to resort to manual printing.)&lt;/p&gt;

&lt;p&gt;There is one trip-up: a crate can depend on another crate multiple
times, with different configurations (most commonly, differing
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;target&lt;/code&gt;s), so some deduplication is required to avoid double counting
and cluttering the graph with multiple lines. Other than that, the
details of the implementation aren’t very interesting, but the code is
publicly available at
&lt;a href=&quot;http://github.com/huonw/crates.io-graph&quot;&gt;github.com/huonw/crates.io-graph&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Thanks to cmr, acrichto, FreeFall and tomaka in #cargo for
help/suggestions/copy-editing/catching bugs.&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      

      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/2rawmg/cratesio_crate_graph/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      

      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=crates.io%20crate%20graph%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2015/01/crates.io-crate-graph/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2015/01/crates.io-crate-graph/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2015/01/crates.io-crate-graph/&amp;amp;title=crates.io%20crate%20graph&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:index-works&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;Before FreeFall pointed this out, I was considering
            downloading everything on crates.io to construct the
            graph, which would’ve been pretty fun too! &lt;a href=&quot;#fnref:index-works&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>What does Rust's “unsafe” mean?</title>
            <link>https://huonw.github.io/blog/2014/07/what-does-rusts-unsafe-mean/</link>
            <pubDate>Thu, 24 Jul 2014 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2014/07/what-does-rusts-unsafe-mean</guid>
            <description>&lt;p&gt;&lt;a href=&quot;http://rust-lang.org/&quot;&gt;Rust&lt;/a&gt; is an in-development&lt;sup id=&quot;fnref:version&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:version&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;0&lt;/a&gt;&lt;/sup&gt; systems
programming language with a strong focus on no-overhead memory
safety. This is achieved through a powerful type system (with
similarities to Haskell), and careful tracking of ownership and
pointers, guaranteeing safety. However, this is too restrictive for a
low-level systems language, an escape hatch is occasionally
required. Enter the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; keyword.&lt;/p&gt;

&lt;h2 id=&quot;poking-holes-in-memory-safety&quot;&gt;Poking holes in memory safety&lt;/h2&gt;

&lt;p&gt;Rust aims to be memory safe, so that, by default, code cannot crash
(or be exploited) due to dangling pointers or iterator
invalidation. However, there are things that cannot fit into the type
system, for example, it is not possible to get the raw interactions
with the operating system and system libraries (like memory allocators
and thread spawning) to be truly safe. Detailed human knowledge about
how to use them safely is required to be encoded at some point, and
this is not easily checkable by a compiler: mistakes can be made.&lt;/p&gt;

&lt;p&gt;Other memory safe languages (e.g. managed ones like Python or Haskell)
have all this knowledge encoded in the implementations of their
underlying virtual machines/runtime systems, usually written in
C. Rust doesn’t have a heavy-weight VM or runtime, but still needs to
provide (preferably safe) interfaces in some manner.&lt;/p&gt;

&lt;p&gt;Rust fills these holes with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; keyword, which opts in to
possibly dangerous behaviour; like calling into the operating system
and external libraries via
&lt;a href=&quot;http://doc.rust-lang.org/master/guide-ffi.html&quot;&gt;the foreign function interface (FFI)&lt;/a&gt;,
or handling possibly-invalid machine pointers directly.&lt;/p&gt;

&lt;p&gt;Rust uses &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; to build all the abstractions seen in the standard
library: the vast majority of it is written in Rust, including
fundamental types like
&lt;a href=&quot;http://doc.rust-lang.org/master/std/rc/struct.Rc.html&quot;&gt;the reference counted &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rc&lt;/code&gt;&lt;/a&gt;,
&lt;a href=&quot;http://doc.rust-lang.org/master/std/vec/struct.Vec.html&quot;&gt;the dynamic vector &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec&lt;/code&gt;&lt;/a&gt;,
and
&lt;a href=&quot;http://doc.rust-lang.org/master/std/collections/hashmap/struct.HashMap.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;HashMap&lt;/code&gt;&lt;/a&gt;,
with only
&lt;a href=&quot;https://github.com/rust-lang/rust/tree/82ec1aef293ddc5c6373bd7f5ec323fafbdf7901/src/rt&quot;&gt;a few small C shims&lt;/a&gt;
and some external non-Rust libraries like jemalloc and libuv.&lt;/p&gt;

&lt;h2 id=&quot;unsafe&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;There are two ways in which one can opt-in to these possibly dangerous
behaviours: with an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; block, or with an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; function.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;// calling some C functions imported via FFI:&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;unsafe&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;some_c_function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;unsafe&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;another_c_function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;baz&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// illegal, not inside an `unsafe` context&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// yet_another_c_function();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Being inside an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; context allows one to (not necessarily
complete):&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;call functions marked &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; (this includes FFI functions)&lt;/li&gt;
  &lt;li&gt;dereference raw pointers (the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*const&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*mut&lt;/code&gt; types), which can
  possibly be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NULL&lt;/code&gt;, or otherwise invalid&lt;/li&gt;
  &lt;li&gt;access a mutable global variable&lt;/li&gt;
  &lt;li&gt;use inline assembly&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;All of these can easily cause large problems. For example, a shared
reference &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T&lt;/code&gt; is a machine pointer, but it &lt;em&gt;must&lt;/em&gt; always point to a
valid value of type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;; all four of the above can cause this to be
violated:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;There is an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; function
  &lt;a href=&quot;http://doc.rust-lang.org/master/std/mem/fn.transmute.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;std::mem::transmute&lt;/code&gt;&lt;/a&gt;
  which takes the bytes of its argument and pretends they are of any
  type one wants, thus, one can create an invalid &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt; pointer by
  reinterpreting an integer: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;transmute::&amp;lt;uint, &amp;amp;Vec&amp;lt;int&amp;gt;&amp;gt;(0)&lt;/code&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;A raw pointer &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;p: *const T&lt;/code&gt; can legally be &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NULL&lt;/code&gt;. The
  “rereferencing” operation &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;*p&lt;/code&gt; creates a reference &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T&lt;/code&gt; pointing to
  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;p&lt;/code&gt;s data, a no-op at runtime, since &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*const T&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T&lt;/code&gt; are both
  just a single pointer under the hood. If &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;p&lt;/code&gt; is &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NULL&lt;/code&gt; this allows
  one to create a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NULL&lt;/code&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T&lt;/code&gt;: invalid!&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;If one has &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;static mut X: Option&amp;lt;i64&amp;gt; = Some(1234);&lt;/code&gt;, one can use
  pattern matching to get a reference &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;r: &amp;amp;i64&lt;/code&gt; pointing to the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;1234&lt;/code&gt;
  integer, but another thread can overwrite &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;X&lt;/code&gt; with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;None&lt;/code&gt;, leaving
  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;r&lt;/code&gt; dangling.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Inline assembly can set arbitrary registers to arbitrary values,
including setting a register meant to be holding a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;T&lt;/code&gt; to zero.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;what-does-unsafe-really-mean&quot;&gt;What does &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; really mean?&lt;/h2&gt;

&lt;p&gt;An &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; context is the programmer telling the compiler that the
code is guaranteed to be safe due to invariants impossible to express
in the type system, and that it satisfies
&lt;a href=&quot;http://doc.rust-lang.org/nightly/reference.html#behavior-considered-undefined&quot;&gt;the invariants that Rust itself imposes&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;These invariants are assumed to never be broken, even inside &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt;
code blocks, and the compiler compiles and optimises with this
assumption. Thus, breaking any of those invariants is
&lt;a href=&quot;https://en.wikipedia.org/wiki/Undefined_behaviour&quot;&gt;undefined behaviour&lt;/a&gt;&lt;sup id=&quot;fnref:ub-llvm&quot; role=&quot;doc-noteref&quot;&gt;&lt;a href=&quot;#fn:ub-llvm&quot; class=&quot;footnote&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;
and can leave a program doing “anything”, even making
&lt;a href=&quot;http://www.catb.org/jargon/html/N/nasal-demons.html&quot;&gt;demons fly out your nose&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;That is, an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; context is not a free pass to mutate anything and
everything, nor is it a free pass to mangle pointers and alias
references: all the normal rules of Rust still apply, the compiler is
just giving the programmer more power, at the expense of leaving it up
to the programmer to ensure everything is safe.&lt;/p&gt;

&lt;p&gt;A non-&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; function using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; internally &lt;em&gt;should&lt;/em&gt; be
implemented to be safe to call; that is, there is no circumstance or
set of arguments that can make the function violate
&lt;a href=&quot;http://doc.rust-lang.org/nightly/reference.html#behavior-considered-undefined&quot;&gt;any invariants&lt;/a&gt;. If
there are such circumstances, it should be marked &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;This rule is most important for public, exported functions; private
functions are guaranteed to only be called in a limited set of
configurations (since all calls are in the crate/module in which it is
defined), so the author has more flexibility about what sort of safety
guarantees they give. However, marking possibly-dangerous things
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; helps the compiler help the programmer do the right thing, so
is encouraged even for private items.&lt;/p&gt;

&lt;h3 id=&quot;case-study-vec&quot;&gt;Case study: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec&amp;lt;T&amp;gt;&lt;/code&gt; type is
&lt;a href=&quot;https://github.com/rust-lang/rust/blob/82ec1aef293ddc5c6373bd7f5ec323fafbdf7901/src/libcollections/vec.rs#L55-L59&quot;&gt;defined&lt;/a&gt;
as:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;pub&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;uint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;uint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;There are (at least) two invariants here:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ptr&lt;/code&gt; holds an allocation with enough space for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cap&lt;/code&gt; values of type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;That allocation holds &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;len&lt;/code&gt; valid values of type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt; (i.e. the
first &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;len&lt;/code&gt; out of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;cap&lt;/code&gt; of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;s are valid, implying &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;len &amp;lt;=
cap&lt;/code&gt;)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;It’s not feasible to express these in Rust’s type system, so they are
guaranteed by a careful implementation. The implementation is then
forced to use &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; to assuage the compiler’s doubts about certain
operations. The compiler does not and cannot understand the invariants
stated above, and so cannot be sure that
&lt;a href=&quot;https://github.com/rust-lang/rust/blob/82ec1aef293ddc5c6373bd7f5ec323fafbdf7901/src/libcollections/vec.rs#L1430&quot;&gt;creating a slice view into the vector&lt;/a&gt;
is safe. It is implemented like so:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as_slice&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;&apos;a&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;unsafe&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;mem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;transmute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Slice&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.as_ptr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.len&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;And you can see that it could easily be unsafe e.g. if one
accidentally wrote &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.cap&lt;/code&gt; instead of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.len&lt;/code&gt;, the resulting
slice would be too long and the last elements of it would be
uninitialised data. The compiler can’t verify that this is correct,
and so assumes the worst, disallowing it without the explicit opt-in.&lt;/p&gt;

&lt;p&gt;Another thing to note is these &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec&lt;/code&gt; invariants are required to always
hold or else &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec&lt;/code&gt; will be allowing incorrect behaviour to happen via
the safe methods it exposes (e.g. if someone could increase &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;len&lt;/code&gt;
without initialising the elements appropriately, the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;as_slice&lt;/code&gt; method
above would be broken).&lt;/p&gt;

&lt;p&gt;Unfortunately, it’s not possible to get the Rust compiler to directly
enforce them, so the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Vec&lt;/code&gt; API has to be careful to guarantee that
they can’t be violated; part of this is keeping the fields private, so
they cannot be directly changed, another part is being careful to mark
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; parts of the API as &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt;, e.g.
&lt;a href=&quot;http://doc.rust-lang.org/master/collections/vec/struct.Vec.html#method.set_len&quot;&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;set_len&lt;/code&gt; method&lt;/a&gt;
can directly change the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;len&lt;/code&gt; field.&lt;/p&gt;

&lt;h3 id=&quot;case-study-malloc&quot;&gt;Case study: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;malloc&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;The C function &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;malloc&lt;/code&gt; is described by my man page as the following:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;malloc()&lt;/code&gt; function allocates size bytes and returns a pointer to the
allocated memory.  The memory is not initialized.  If size is  0,  then
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;malloc()&lt;/code&gt;  returns either &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NULL&lt;/code&gt;, or a unique pointer value that can later
be successfully passed to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;free()&lt;/code&gt;.&lt;/p&gt;

  &lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;malloc()&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;calloc()&lt;/code&gt; functions return a pointer to  the  allocated
memory,  which  is  suitably  aligned for any built-in type.  On error,
these functions return &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;NULL&lt;/code&gt;.  […].&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libc&lt;/code&gt; crate predefines most of the common symbols from the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libc&lt;/code&gt;
on various platforms, including &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;libc::malloc&lt;/code&gt;. Let’s write a safe
program that creates memory for, stores and prints an 8-byte &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;i64&lt;/code&gt;
integer, carefully justifying why we know more than the compiler, and
thus why each &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; is safe (in a perfect world all &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; blocks
would be justified/proved correct).&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;extern&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;crate&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;libc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pointer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unsafe&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// rustc doesn&apos;t know what `malloc` does, and so doesn&apos;t know&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// that calling it with argument 8 is always safe; but we do,&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// so we override the compiler&apos;s concern with&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// `unsafe`. (`malloc` returns a `*mut libc::c_void` so we&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// need to cast it to the type we want.)&lt;/span&gt;
        &lt;span class=&quot;nn&quot;&gt;libc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;malloc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;i64&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// we know that the only failure condition is the pointer being&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// NULL, in any other circumstance the pointer points to a valid&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// memory allocation of at least 8 bytes.&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pointer&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.is_null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;could not allocate&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// here, the only thing missing is initialisation, the memory&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// is valid but uninitialised, so lets fix that. Since it is&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// not initialised, we have to be careful to avoid running&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// destructors on the old memory; via `std::ptr::write`.&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;unsafe&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c&quot;&gt;// allocation is valid, and the memory is uninitialised,&lt;/span&gt;
            &lt;span class=&quot;c&quot;&gt;// so this is safe and correct.&lt;/span&gt;
            &lt;span class=&quot;nn&quot;&gt;ptr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pointer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1234i64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

        &lt;span class=&quot;c&quot;&gt;// now `pointer` is looking at initialised, valid memory, so&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// it is valid to read from it, and to obtain a reference to&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// it.&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;i64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unsafe&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pointer&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
        &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;The data is {}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// prints: The data is 1234&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// (leaking memory is not `unsafe`.)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;(Keen eyes will note that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;i64&lt;/code&gt; doesn’t have a destructor and so the
&lt;a href=&quot;http://doc.rust-lang.org/master/std/ptr/fn.write.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ptr::write&lt;/code&gt;&lt;/a&gt;
call isn’t strictly required, but it’s good practice.)&lt;/p&gt;

&lt;h2 id=&quot;faq-why-isnt-unsafe-viral&quot;&gt;FAQ: Why isn’t &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; viral?&lt;/h2&gt;

&lt;p&gt;One &lt;em&gt;might&lt;/em&gt; expect a function containing an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; block to be
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; to call, that is, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt;ty infects everything it touches,
similar to how Haskell forces one to mark all impure calculations with
the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IO&lt;/code&gt; type.&lt;/p&gt;

&lt;p&gt;However, this is not the case, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; is just an implementation
detail; if a safe function uses &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; internally, it just means the
author has been forced to step around the type system, but still
exposes a safe interface.&lt;/p&gt;

&lt;p&gt;More pragmatically, if &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; were viral, every Rust program ever
would be entirely &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt;, since the whole standard library is
written in Rust, built on top of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; internals.&lt;/p&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; marker is a way to step around Rust’s type system; by
telling &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc&lt;/code&gt; that there are external conditions/invariants that
guarantee correctness: the compiler steps back and locally leaves the
programmer to verify that
&lt;a href=&quot;http://doc.rust-lang.org/reference.html#behavior-considered-undefined&quot;&gt;various properties&lt;/a&gt;
hold. This allows Rust to write very low-level code like C, but still
be memory safe by default, by forcing programmers to opt-in to the
risky behaviour.&lt;/p&gt;

&lt;p&gt;The
&lt;a href=&quot;http://doc.rust-lang.org/master/guide-unsafe.html&quot;&gt;“Writing Safe Unsafe and Low-Level Code”&lt;/a&gt;
provides guidance and tips about using &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unsafe&lt;/code&gt; correctly.&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      

      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/2bhwgc/what_does_rusts_unsafe_mean/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/programming/comments/2bhwhl/what_does_rusts_unsafe_mean/&quot;&gt;/r/programming&lt;/a&gt;&lt;/li&gt;


      

      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=What%20does%20Rust&apos;s%20%E2%80%9Cunsafe%E2%80%9D%20mean?%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2014/07/what-does-rusts-unsafe-mean/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2014/07/what-does-rusts-unsafe-mean/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2014/07/what-does-rusts-unsafe-mean/&amp;amp;title=What%20does%20Rust&apos;s%20%E2%80%9Cunsafe%E2%80%9D%20mean?&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

&lt;div class=&quot;footnotes&quot; role=&quot;doc-endnotes&quot;&gt;
  &lt;ol start=&quot;0&quot;&gt;
    &lt;li id=&quot;fn:version&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;The code in this post compiles with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc 0.12.0-pre-nightly (aa0e35bc6 2014-07-22 00:26:21 +0000)&lt;/code&gt;. &lt;a href=&quot;#fnref:version&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
    &lt;li id=&quot;fn:ub-llvm&quot; role=&quot;doc-endnote&quot;&gt;
      &lt;p&gt;&lt;a href=&quot;http://blog.llvm.org/2011/05/what-every-c-programmer-should-know.html&quot;&gt;“What Every C Programmer Should Know About Undefined Behaviour”&lt;/a&gt;
        is a series of articles highlighting how insidious undefined behaviour
        can be, leading to subtly (or not so subtly) broken programs. &lt;a href=&quot;#fnref:ub-llvm&quot; class=&quot;reversefootnote&quot; role=&quot;doc-backlink&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
    &lt;/li&gt;
  &lt;/ol&gt;
&lt;/div&gt;
</description>
        </item>
        
        
        
        <item>
            <title>Error handling in Rust: a k-NN case study</title>
            <link>https://huonw.github.io/blog/2014/06/error-handling-in-rust-knn-case-study/</link>
            <pubDate>Wed, 11 Jun 2014 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2014/06/error-handling-in-rust-knn-case-study</guid>
            <description>&lt;p&gt;After posting
&lt;a href=&quot;/blog/2014/06/comparing-knn-in-rust/&quot;&gt;a Rust translation of some &lt;em&gt;k&lt;/em&gt;-nearest neighbour code&lt;/a&gt;,
I got a &lt;a href=&quot;https://news.ycombinator.com/item?id=7875378&quot;&gt;few&lt;/a&gt;
&lt;a href=&quot;https://news.ycombinator.com/item?id=7872878&quot;&gt;comments&lt;/a&gt; asking “how
would you handle errors if you wanted to?”. This is the perfect chance
to briefly demonstrate a few idioms.&lt;/p&gt;

&lt;p&gt;See my &lt;a href=&quot;/blog/2014/06/comparing-knn-in-rust/&quot;&gt;previous post&lt;/a&gt; for context and the original
code; like with the code in that post, this code compiles with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc
0.11.0-pre-nightly (e55f64f 2014-06-09 01:11:58 -0700)&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;what-type-of-error-handling-to-use&quot;&gt;What type of error handling to use?&lt;/h2&gt;

&lt;p&gt;The “canonical” way is to use type system, with types like
&lt;a href=&quot;http://doc.rust-lang.org/master/std/result/type.Result.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Result&amp;lt;A, B&amp;gt;&lt;/code&gt;&lt;/a&gt;, which can either be an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Ok&lt;/code&gt; containing a
value of type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;A&lt;/code&gt; or an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Err&lt;/code&gt; containing a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;B&lt;/code&gt; (isomorphic to
Haskell’s &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Either&lt;/code&gt;), and &lt;a href=&quot;http://doc.rust-lang.org/master/std/option/type.Option.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Option&amp;lt;T&amp;gt;&lt;/code&gt;&lt;/a&gt;, which is either a
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Some&lt;/code&gt; containing a &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;T&lt;/code&gt;, or just &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;None&lt;/code&gt; containing no data.&lt;/p&gt;

&lt;p&gt;The standard library uses &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Result&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Option&lt;/code&gt; pervasively, meaning
you can essentially be guaranteed to handle all errors (and
theoretically never crash) as long as you avoid calling
&lt;a href=&quot;http://doc.rust-lang.org/master/core/result/type.Result.html#method.unwrap&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;unwrap&lt;/code&gt;&lt;/a&gt; and the small number of similar methods. For
example, &lt;a href=&quot;http://doc.rust-lang.org/master/std/io/index.html#error-handling&quot;&gt;almost all IO actions&lt;/a&gt; return an
&lt;a href=&quot;http://doc.rust-lang.org/master/std/io/type.IoResult.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IoResult&amp;lt;...&amp;gt;&lt;/code&gt;&lt;/a&gt;, which defines the possible errors via the
&lt;a href=&quot;http://doc.rust-lang.org/master/std/io/struct.IoError.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IoError&lt;/code&gt;&lt;/a&gt; type and its contained &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IoErrorKind&lt;/code&gt; enum.&lt;/p&gt;

&lt;p&gt;An approximation of monadic short-circuiting is provided for &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Result&lt;/code&gt;
by
&lt;a href=&quot;http://doc.rust-lang.org/master/std/result/#the-try!-macro&quot;&gt;the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;try!&lt;/code&gt; macro&lt;/a&gt;,
which just returns immediately if an error occurs (that is, if
variable with type &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Result&lt;/code&gt; is an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Err&lt;/code&gt;), propagating it upwards for
the caller to handle. However, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;try!&lt;/code&gt; isn’t the only strategy, and
it’s easy to define custom handlers, as I do below.&lt;/p&gt;

&lt;p&gt;Before you ask: Rust lacks conventional exceptions (since these are
hard to make memory safe without a garbage collector, as I understand
it); in safe code/by default, unwinding can only be stopped at task
boundaries.&lt;/p&gt;

&lt;h2 id=&quot;the-bullet-proof-code&quot;&gt;The bullet-proof code&lt;/h2&gt;

&lt;p&gt;The &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;try!&lt;/code&gt; macro and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;IoError&lt;/code&gt; form my inspiration for the code to
handle errors in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;slurp_file&lt;/code&gt;: define an enum with the various failure
conditions, and &lt;a href=&quot;http://doc.rust-lang.org/master/guide-macros.html&quot;&gt;define a short custom macro&lt;/a&gt; that either
“unwrap”s or short-circuits to return the appropriate error marker.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;nd&quot;&gt;#![feature(macro_rules)]&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// the possible things that can go wrong&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SlurpError&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// The input was malformed (could have line/column number info too)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;InvalidInput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// Some piece of IO failed (e.g. couldn&apos;t open a file)&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;FailedIo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IoError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;// short-circuiting macro: &quot;unwrap&quot; the value, an error will return&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// from the surrounding function propagating that error upwards.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;//&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// macro_rules! macros take a sequence of tokens/AST non-terminals and&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// attempt to pattern match on them, taking the first branch that&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// fits, and then effectively replace the macro invocation with the&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// right-hand side of that branch.&lt;/span&gt;
&lt;span class=&quot;nd&quot;&gt;macro_rules!&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;try_slurp&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// `$...` is a special variable, a &quot;macro argument&quot;, this `value`&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// is an expression, e.g. `1 + 2`, `foo()`, `if ... { ... } else {&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// ... }`. Hence, to match, this arm needs to be passed an&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// expression, a comma, then a literal `FailedIo`.&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// e.g. `try_slurp!(foo(), FailedIo)`&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FailedIo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// The macro expands to this code if the pattern matches. The&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// `$value` expression is `match`d as a `Result&amp;lt;..., IoError&amp;gt;`&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// (passing in something else will be a type error, after the&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// macro expands). Success is unwrapped, and a failure is&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// returned from the function/closure in which the macro is&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// called.&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;FailedIo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// similarly here, this branch takes an arbitrary expression and&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// then has to match exactly `InvalidInput`&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;expr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;InvalidInput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// as above, except handling `$value` as an `Option&amp;lt;...&amp;gt;`.&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;Some&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nb&quot;&gt;None&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;InvalidInput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;slurp_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LabelPixel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SlurpError&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;option&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;BufferedReader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nd&quot;&gt;try_slurp!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FailedIo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.lines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;.skip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;.map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;try_slurp!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FailedIo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;splits&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.as_slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.trim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&apos;,&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;from_str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

            &lt;span class=&quot;c&quot;&gt;// .and_then is flattening Option&amp;lt;Option&amp;lt;int&amp;gt;&amp;gt; to Option&amp;lt;int&amp;gt;.&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;try_slurp!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;splits&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.and_then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;InvalidInput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

            &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pixels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;try_slurp!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;option&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;collect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;splits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;InvalidInput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

            &lt;span class=&quot;nf&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LabelPixel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;pixels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pixels&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

    &lt;span class=&quot;nn&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;collect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;blockquote&gt;
  &lt;p&gt;vbhit provides &lt;a href=&quot;http://www.reddit.com/r/rust/comments/27tuu5/error_handling_in_rust_a_knn_case_study/ci4nvpi.&quot;&gt;a nice alternative implementation&lt;/a&gt; that
avoids defining the macro.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The return value can then be pattern-matched where-ever &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;slurp_file&lt;/code&gt;
is called, and the error propagated upwards there, or handled
appropriately e.g. the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;slurp_file&lt;/code&gt; calls in &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;main&lt;/code&gt; could be changed
to something like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;training_set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;slurp_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;trainingsample.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Ok&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nf&quot;&gt;Err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;FailedIo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Couldn&apos;t read file: {}&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;InvalidInput&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Invalid file format&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;set_exit_status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;collect&quot;&gt;“collect”?&lt;/h2&gt;

&lt;p&gt;The two &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;collect&lt;/code&gt; functions
(&lt;a href=&quot;http://doc.rust-lang.org/master/std/result/fn.collect.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;result&lt;/code&gt;&lt;/a&gt;
and
&lt;a href=&quot;http://doc.rust-lang.org/master/std/option/fn.collect.html&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;option&lt;/code&gt;&lt;/a&gt;)
are useful helpers, which take an &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator&amp;lt;Result&amp;lt;T, X&amp;gt;&amp;gt;&lt;/code&gt; and return
something like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Result&amp;lt;Vec&amp;lt;T&amp;gt;, X&amp;gt;&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Result&amp;lt;HashSet&amp;lt;T&amp;gt;, X&amp;gt;&lt;/code&gt;
(respectively &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Option&lt;/code&gt;). It’s not a coincidence that these functions
share the same name as the
&lt;a href=&quot;http://doc.rust-lang.org/master/std/iter/trait.Iterator.html#tymethod.collect&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Iterator.collect&lt;/code&gt;&lt;/a&gt;
I used last time: all of them allow collecting to the same set of
generic container types.&lt;/p&gt;

&lt;p&gt;A Haskeller might notice that they are actually just special cases of
&lt;a href=&quot;http://hackage.haskell.org/package/base-4.7.0.0/docs/Prelude.html#v:sequence&quot;&gt;the monadic &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sequence&lt;/code&gt;&lt;/a&gt;; there is a possibility that this
could be handled generically in future (with higher kinded types),
but, unfortunately, there is no guarantee that a Monad trait will work
nicely due to Rust’s affine types and various low-level details.&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      

      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/27tuu5/error_handling_in_rust_a_knn_case_study/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/programming/comments/27tuw8/error_handling_in_rust_a_knn_case_study/&quot;&gt;/r/programming&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=7875793&quot;&gt;Hacker News&lt;/a&gt;&lt;/li&gt;


      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Error%20handling%20in%20Rust:%20a%20k-NN%20case%20study%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2014/06/error-handling-in-rust-knn-case-study/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2014/06/error-handling-in-rust-knn-case-study/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2014/06/error-handling-in-rust-knn-case-study/&amp;amp;title=Error%20handling%20in%20Rust:%20a%20k-NN%20case%20study&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

</description>
        </item>
        
        
        
        <item>
            <title>Comparing k-NN in Rust</title>
            <link>https://huonw.github.io/blog/2014/06/comparing-knn-in-rust/</link>
            <pubDate>Tue, 10 Jun 2014 00:00:00 +0000</pubDate>
            <author>Huon Wilson</author>
            <guid>https://huonw.github.io/blog/2014/06/comparing-knn-in-rust</guid>
            <description>&lt;p&gt;In my voyages around the internet, I came across &lt;a href=&quot;http://philtomson.github.io/blog/2014/05/29/comparing-a-machine-learning-algorithm-implemented-in-f-number-and-ocaml/&quot;&gt;a pair&lt;/a&gt; of
&lt;a href=&quot;http://philtomson.github.io/blog/2014/05/30/stop-the-presses-ocaml-wins/&quot;&gt;blog posts&lt;/a&gt; which compare the implementation of a
&lt;em&gt;k&lt;/em&gt;-nearest neighbour (&lt;em&gt;k&lt;/em&gt;-NN) classifier in F# and OCaml. I couldn’t
resist writing the code into &lt;a href=&quot;http://rust-lang.org/&quot;&gt;Rust&lt;/a&gt; to see how it fared.&lt;/p&gt;

&lt;p&gt;Rust is a memory-safe systems language under heavy development; this
code compiles with &lt;a href=&quot;http://www.rust-lang.org/install.html&quot;&gt;the latest nightly&lt;/a&gt; (as of 2014-06-10 12:00 UTC),
specifically &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc 0.11.0-pre-nightly (e55f64f 2014-06-09 01:11:58
-0700)&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;code&quot;&gt;Code&lt;/h2&gt;

&lt;p&gt;The Rust code is a nearly-direct translation of the original F# code,
the only change was changing &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;distance&lt;/code&gt; to compute the squared
distance, that is, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;a*a + b*b + ...&lt;/code&gt; (square root is strictly
increasing, yo).&lt;/p&gt;

&lt;p&gt;For clarity, all errors are ignored (that’s the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.unwrap()&lt;/code&gt; calls):
the input is assumed to be valid and IO is assumed to succeed. I wrote
&lt;a href=&quot;/blog/2014/06/error-handling-in-rust-knn-case-study/&quot;&gt;a follow-up post describing how one would handle errors&lt;/a&gt;. Also,
I made no effort to remove/reduce/streamline allocations.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BufferedReader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;LabelPixel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;pixels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;slurp_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LabelPixel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nn&quot;&gt;BufferedReader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;.lines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;.skip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;.map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.as_slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.trim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;nf&quot;&gt;.split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sc&quot;&gt;&apos;,&apos;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;nf&quot;&gt;.map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;from_str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;

            &lt;span class=&quot;n&quot;&gt;LabelPixel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;pixels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.collect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;.collect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;distance_sqr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// run through the two vectors, summing up the squares of the differences&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.iter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;.zip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.iter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;.fold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;classify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;training&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;LabelPixel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pixels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;training&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;.iter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// find element of `training` with the smallest distance_sqr to `pixel`&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;.min_by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;distance_sqr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.pixels&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.as_slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pixels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.unwrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;py&quot;&gt;.label&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;training_set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;slurp_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;trainingsample.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validation_sample&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;slurp_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;validationsample.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num_correct&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validation_sample&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.iter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;.filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nf&quot;&gt;classify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;training_set&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.as_slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.pixels&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.as_slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.label&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
        &lt;span class=&quot;nf&quot;&gt;.count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Percentage correct: {}%&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
             &lt;span class=&quot;n&quot;&gt;num_correct&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;f64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validation_sample&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;f64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;100.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;(Prints &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Percentage correct: 94.4%&lt;/code&gt;, matching the OCaml.)&lt;/p&gt;

&lt;h2 id=&quot;hows-it-compare&quot;&gt;How’s it compare?&lt;/h2&gt;

&lt;p&gt;I don’t have an F# compiler, so I’ll only compare against the fastest
OCaml solution (from &lt;a href=&quot;http://philtomson.github.io/blog/2014/05/30/stop-the-presses-ocaml-wins/&quot;&gt;the follow-up post&lt;/a&gt;), after making the
same modification to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;distance&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The Rust was compiled with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rustc -O&lt;/code&gt;, and the OCaml with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ocamlopt
str.cmxa&lt;/code&gt; (as recommended), using version 4.01.0. I ran each 3 times
(times in seconds) on &lt;a href=&quot;https://github.com/c4fsharp/Dojo-Digits-Recognizer/tree/1eb4297a49dbd82a952c1523f5413519b8f1d62a/Dojo&quot;&gt;these CSV files&lt;/a&gt;.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;Lang&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;1&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;2&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;3&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;Rust&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;3.56&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;3.46&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;3.86&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;OCaml&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;13.9&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;14.7&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;14.1&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;So the Rust code is about 3.5–4× faster than the
OCaml.&lt;/p&gt;

&lt;p&gt;It’s worth noting that the Rust code is entirely safe and built
directly (and mostly minimally) using the abstractions provided by the
standard library. The speed is mainly due to the magic of
&lt;a href=&quot;http://doc.rust-lang.org/master/std/iter/&quot;&gt;Rust’s (lazy) iterators&lt;/a&gt;
which provide very efficient sequential access to elements of
vectors/slices, as well as a variety of efficient
&lt;a href=&quot;http://doc.rust-lang.org/master/guide-container.html#iterator-adaptors&quot;&gt;adaptors&lt;/a&gt;
implementing various useful algorithms. These may look high-level and
hard to optimise, but they are very transparent to the compiler,
resulting in fast machine code.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Updated 2014-06-11&lt;/em&gt;: the Rust code is not as fast as it could be,
due to bugs like
&lt;a href=&quot;https://github.com/mozilla/rust/issues/11751&quot;&gt;#11751&lt;/a&gt;, caused by
LLVM being unable to understand that &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt; pointers are never
null. benh wrote a &lt;a href=&quot;https://gist.github.com/huonw/7b7473ac3981fead07ab&quot;&gt;short slice-zip iterator&lt;/a&gt; that may
make its way into the standard library: he even
&lt;a href=&quot;https://news.ycombinator.com/item?id=7875969&quot;&gt;used it&lt;/a&gt; to make the
code 3 times faster.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;In comparison, the OCaml code has had to manually write a few
functions (for folding and for reading lines from a file), and
contains two possibly-concerning pieces of code:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ocaml&quot; data-lang=&quot;ocaml&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unsafe_get&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unsafe_get&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a2&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;It might be interesting to compare against
&lt;a href=&quot;http://leonardo-m.livejournal.com/111598.html&quot;&gt;this D code&lt;/a&gt;, but I
can’t get it to compile right.&lt;/p&gt;

&lt;h2 id=&quot;what-about-parallelism&quot;&gt;What about parallelism?&lt;/h2&gt;

&lt;p&gt;I’m glad you asked! Rust is designed to be good for concurrency, using
&lt;a href=&quot;http://doc.rust-lang.org/master/std/kinds/trait.Share.html&quot;&gt;the type system&lt;/a&gt;
to guarantee that code is threadsafe. As I said before, Rust is under
heavy development, and currently lacks a data parallelism library (so
there’s no parallel-map to just call directly yet), but it’s easy
enough to use
&lt;a href=&quot;http://doc.rust-lang.org/master/sync/struct.Future.html&quot;&gt;the built-in futures&lt;/a&gt;
for this.&lt;/p&gt;

&lt;p&gt;The code can be made parallel simply by replacing the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;main&lt;/code&gt; function
with the following.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot; data-lang=&quot;rust&quot;&gt;&lt;table class=&quot;rouge-table&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c&quot;&gt;// how many chunks should the validation sample be divided into? (==&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;// how many futures to create.)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NUM_CHUNKS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;uint&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sync&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Arc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Future&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;std&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// &quot;atomic reference counted&quot;: guaranteed thread-safe shared&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// memory. The type signature and API of `Arc` guarantees that&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// concurrent access to the contents will be safe, due to the `Share`&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;// trait.&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;training_set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Arc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;slurp_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;trainingsample.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validation_sample&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;Arc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;slurp_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;nn&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;validationsample.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chunk_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;validation_sample&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NUM_CHUNKS&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NUM_CHUNKS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;futures&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NUM_CHUNKS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// create new &quot;copies&quot; (just incrementing the reference&lt;/span&gt;
        &lt;span class=&quot;c&quot;&gt;// counts) for our new future to handle.&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;training_set&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.clone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validation_sample&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.clone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

        &lt;span class=&quot;nn&quot;&gt;Future&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;proc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c&quot;&gt;// compute the region of the vector we are handling...&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chunk_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;cmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chunk_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vs&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;

            &lt;span class=&quot;c&quot;&gt;// ... and then handle that region.&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;vs&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;nf&quot;&gt;.iter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
                &lt;span class=&quot;nf&quot;&gt;.filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
                    &lt;span class=&quot;nf&quot;&gt;classify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ts&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.as_slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.pixels&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.as_slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.label&lt;/span&gt;
                &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
                &lt;span class=&quot;nf&quot;&gt;.count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;span class=&quot;py&quot;&gt;.collect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Future&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;uint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;c&quot;&gt;// run through the futures (waiting for each to complete) and sum the results&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num_correct&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;futures&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.mut_iter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.fold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;nd&quot;&gt;println!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Percentage correct: {}%&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
             &lt;span class=&quot;n&quot;&gt;num_correct&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;f64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;validation_sample&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;.len&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;f64&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;100.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;(Also prints &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Percentage correct: 94.4%&lt;/code&gt;.)&lt;/p&gt;

&lt;p&gt;This gives a nice speed up, approximately halving the time required:
the real time is now stable around 1.81 seconds (6.25 s of user time)
on my machine.&lt;/p&gt;

&lt;section id=&quot;external-links&quot; class=&quot;no-print&quot;&gt;
  
  &lt;div id=&quot;comments&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Comments:&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      

      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/rust/comments/27s7ei/comparing_knn_in_rust/&quot;&gt;/r/rust&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;http://www.reddit.com/r/programming/comments/27s7g6/comparing_knn_in_rust/&quot;&gt;/r/programming&lt;/a&gt;&lt;/li&gt;


      
&lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://news.ycombinator.com/item?id=7872398&quot;&gt;Hacker News&lt;/a&gt;&lt;/li&gt;


      

      
    &lt;/ul&gt;
  &lt;/div&gt;
  
  &lt;div id=&quot;external-page&quot;&gt;
    &lt;span class=&quot;external-label&quot;&gt;Share this on&lt;/span&gt;
    &lt;ul class=&quot;external-list&quot;&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://twitter.com/intent/tweet?text=Comparing%20k-NN%20in%20Rust%20%23rustlang&amp;amp;url=https://huonw.github.io/blog/2014/06/comparing-knn-in-rust/&amp;amp;via=huon_w&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot; title=&quot;Share on Twitter&quot;&gt;Twitter&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://facebook.com/sharer.php?u=https://huonw.github.io/blog/2014/06/comparing-knn-in-rust/&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Facebook&quot;&gt;Facebook&lt;/a&gt;&lt;/li&gt;
      &lt;li class=&quot;external-link&quot;&gt;&lt;a href=&quot;https://www.reddit.com/submit?url=https://huonw.github.io/blog/2014/06/comparing-knn-in-rust/&amp;amp;title=Comparing%20k-NN%20in%20Rust&quot; rel=&quot;nofollow noopener&quot; target=&quot;_blank&quot; title=&quot;Share on Reddit&quot;&gt;Reddit&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/div&gt;
&lt;/section&gt;

</description>
        </item>
        
        
    </channel>
</rss>
